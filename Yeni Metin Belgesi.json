Docs » OPEN-API v6.11.1 documentation
Sangfor Cloud Platform Open-API Specification
Documents
1. Read Me
1.1. Overview
Sangfor Cloud Platform (SCP) manages compute, network, storage and other resources. This document
mainly introduces the functions and calling methods of the APIs provided by this platform, so that thirdparty
users can use these APIs to manage SCP.
1.2. About API Calls
The APIs introduced in this document conform to REST (Representational State Transfer) style. You can call
them via HTTPS requests.
 Note
Turn off SSL certificate verification if you need to call APIs via HTTPS requests.
1.3. Precautions
1. The APIs mentioned in this document are only supported by HCI resource pools of version 5.8.8R6 or
above.
2. Applicable roles: administrator, tenant, and tenant co-admin with corresponding permissions.
3. Ensure that relevant resources are sufficient before creating resources for tenants or by tenants
themselves.
2. How to Call APIs
2.1. Request Method
Table 2.1.1 Request Method¶
Request Method Description
POST Request for creation.
PUT Request for update.
DELETE Request for deletion.
GET Request for query.
2.2. Interface Flow Control Strategy
The flow control policy restricts the maximum number of times the API can be accessed within a certain
period (usually 1 minute). The flow control policy of the API is as follows:
 OPEN-API
Table 2.2.1 Interface Flow Control Strategy¶
Request Method Times/Minute
GET 600
POST 100
PUT 100
DELETE 100
DEFAULT 100
 Note
When the number of API requests from a client exceeds the above limit, the client’s IP
address will be prohibited from calling the API for a certain period (about 1 minute).
2.3. Request headers
Request header parameters
Table 2.3.1 Request header parameters¶
Parameter Type Required Remarks
Content-
Type string Yes Requested message type. Default: application/json
Cookie string Yes
Authentication information required for calling APIs
described in this document, where the value of
aCMPAuthToken must be specified (format:
aCMPAuthToken={any string}). It is recommended to use
UUID as the string. Example:
aCMPAuthToken=56debefee2c54355a49fc73dfaaa9466.
Note: For SCP 6.3.70 and above, there is no need to pass in
Cookie.
Authorization string No
Authentication parameter. Currently, AWS4-HMACSHA256
is supported. Token-based authentication method
is used. Format: {Authentication Method} + Space +
{Authentication Parameters}
X-Amz-Date string No
Request for the current time, which can be used to verify
the signature. ISO 8601 time format is used, such as
“2020-12-01T03:17:42Z”.
Authorization field example:
AWS4-HMAC-SHA256 authentication example:
AWS4-HMAC-SHA256 Credential=be763c9968a143a99e1998ccce7594c7/20210104/cn-east-
1/dsp-api/aws4_request, SignedHeaders=path;x-amz-date,
Signature=b8701b453ea3c8faaf566fee220c11f2fd9cc4bbdc74b4cc927b9c31b89e8708
Token authentication example:
Token f6a5bfca121a401f877af196dde17ed5
2.4. Request Body
The content format of API request and response is application/json.
2.4.1. Common Request Parameter Format
2.4.2. Common Path Parameter Format
Table 2.4.1 Common Path Parameter Format¶
Parameter Type Required Description
sort string N Sort field. Format: sort=field1[,field2]. Example:
sort=cup_ratio,mem_ratio
order_by string N Sort field. Format: ASC (default), DESC. Example: ASC,
DESC
fields string N Expected fields. Format: fields=field1[,field2]. Example:
fields=server_id,status
page_num int N Number of requested pages. Default: 0
page_size int N Page size. Default: 100. Maximum: 100
 Note
By default, the list query conforms to this parameter format. Otherwise, it will be specially
noted in the corresponding API document.
2.5. Response Format
The content format of API request and response is application/json.
2.5.1. Response Code
Table 2.5.1 Response Code¶
Response
Code Description Remarks
200 OK Request for query has succeeded.
201 Created Request for creation of a resource has succeeded.
204 No Content Request for deletion or update of a resource has
succeeded.
400 Bad Request Incorrect parameters or resource dependencies.
401 Unauthorized Not authenticated.
403 Forbbiden Insufficient permissions
404 Not Found Resource not found.
409 Conflict Resource created repeatedly.
429 Too Many Requests The number of requests for the same interface reaches
the upper limit or the idempotence check fails.
500 Internal Server Error Internal error. Please contact technical support for
troubleshooting.
2.5.2. Common Response Format (Before Version 20240725)
Table 2.5.2 Common Response Format¶
Parameter Type Required Description
message string Yes Error description displayed when a call fails.
code int Yes Operation status code. The return value 0
indicates a successful operation.
data object Yes Actual data returned
Example:
{
"message": "",
"code": 0,
"data": {}
}
2.5.3. Common Response Format (Version 20240725 and Later)
Table 2.5.3 Common Response Format¶
Parameter Type Required Description
message string Yes Error description displayed when a call fails.
errcode string Yes Operation status code. The return value “”
indicates a successful operation.
data object Yes Actual data returned
Example:
{
"message": "",
"errcode": "",
"data": {}
}
{
"message": "",
"errcode": "0x120090010063",
"data": {}
}
2.5.4. Common Response Parameter Format
Table 2.5.4 Common Response Parameter Format¶
Parameter Type Description
total_size int Total number of resources found.
page_num int Number of the currently requested pages.
page_size int Currently requested page size.
next_page_num string Next page number. Integer string. “” means that the current
page is the last page.
data list(dict) Specific resource list.
 Note
1. By default, the common response parameter format is included in the “data” parameter of
the common response parameters.
2. By default, the list query conforms to this parameter format. Otherwise, it will be specially
noted in the corresponding API document.
Example:
{
"message": "",
"code": 0,
"data": {
"total_size": 0,
"page_num": 0,
"page_size": 100,
"next_page_num": "",
"data": []
}
}
2.6. Authentication Methods
Open APIs support EC2 authentication and token-based authentication. We recommend using EC2
authentication.
2.6.1. EC2 Authentication
2.6.1.1. Preparation Before Authentication
2.6.1.1.1. AK/SK Request
Currently, there is no GUI for requesting and managing EC2 certificates, so you need to contact SCP
technical support to manually generate the certificates in the backend. This can be completed on the GUI in
future versions. The following is an example of the generated AK/SK:
AK (access_key): 750e97ada0ac4683a13e709ab57e7f72
SK (secret_key): e841cfc0de79410ebdd9feabfad77f9e
2.6.1.1.2. Signature Tools
A signature tool class is needed to generate signature information for each request. We have provided
signature tools written in Python and Java. The tool script is in “API Document Attachment.zip”.
2.6.1.2. Request Signature Example (Python 2.7)
After completing the above preparations, sign your request. The code of the signature is as follows, taking
Python as an example. View “API Document Attachment.zip” for details.
# -*- coding: utf-8 -*-
import datetime
import hashlib
from requests import auth
from urlparse import urlparse
from utils import Ec2Signer
class EC2RequestAuth(auth.AuthBase):
u"""EC2 Signature"""
def __init__(self, access_key, secret_key, region, service):
self.access_key = access_key
self.secret_key = secret_key
self.region = region
self.service = service
def __call__(self, r, *args, **kwargs):
ec2_headers = self.get_ec2_request_headers_handler(r)
r.headers.update(ec2_headers)
return r
def get_ec2_request_headers_handler(self, r):
u"""Get handle of EC2 request header
If get_ec2_request_headers could not satisfy the demand, EC2 signature can be inheri
ted, and the function can be
rewritten.
"""
return self.get_ec2_request_headers(r=r,
return self.get_ec2_request_headers(r=r,
access_key=self.access_key,
secret_key=self.secret_key)
def get_ec2_request_headers(self, r, access_key, secret_key):
u"""Get EC2 request header
:param r: request Request instance
:param access_key: AK
:param secret_key: SK
:return: EC2 signature header, e.g
{
'Authorization': 'AWS4-HMAC-SHA256 Credential={AK}/20210105/cn-south-1/sdk/a
ws4_request, '
'SignedHeaders=path;x-amz-date, '
'Signature=fff5b016763f84b5feb10d84296da4251b919c2e10e703a7
9dfea2a1fe1f151d',
'x-amz-date': '20210105T112300Z'
}
"""
signer = Ec2Signer(secret_key)
algorithm = 'AWS4-HMAC-SHA256'
t = datetime.datetime.utcnow()
amzdate = t.strftime('%Y%m%dT%H%M%SZ')
datestamp = t.strftime('%Y%m%d')
headers = r.headers.copy()
# Note: host is not currently supported as the signature header. Any other fields i
ncluded in the request header can be used as the signature header.
signed_headers = 'cookie;x-amz-date'
credential_scope = '/'.join([
datestamp, self.region, self.service, 'aws4_request'
])
authorization_header = '{} Credential={}/{}, SignedHeaders={}'.format(
algorithm, access_key, credential_scope, signed_headers)
headers.update({
'Authorization': authorization_header,
'X-Amz-Date': amzdate
})
_, host, path, _, _, _ = urlparse(r.url)
body = r.body or ''
body_hash = hashlib.sha256(body).hexdigest()
credentials = {
'params': {},
'verb': r.method,
'host': host,
'path': path,
'headers': headers,
'body_hash': body_hash
}
signature = signer.generate(credentials)
authorization_header += ', Signature=%s' % signature
headers.update({
'Authorization': authorization_header
})
return headers
if __name__ == '__main__':
import requests
import uuid
url = 'https://{SCP_IP}/janus/20180725/vpcs'
auth = EC2RequestAuth(
access_key='3d6f221410da409b9c72e7abc9c913c9',
secret_key='30c23bde9afe439588e7af63a0b6920b',
region='cn-south-1',
service='sdk-api'
)
# In SCP 6.3.0, all requests must contain the aCMPAuthToken parameter, which is not requ
ired in SCP 6.3.70 and later versions.
headers = {'Cookie': 'aCMPAuthToken=%s' % uuid.uuid4().hex}
with requests.Session() as session:
resp = session.request('GET', url,
auth=auth, headers=headers, verify=False)
print(resp.json())
2.6.2. Token-Based Authentication
2.6.2.1. Token-Based Authentication
In addition to EC2 authentication, SDK-API also supports token-based authentication. The specific process is
as follows:
Get the public key modulus. View: Get public key modulus for details.
Use the public key modulus to encrypt the token, and request the token-based authentication API to
get the token;
Add the obtained token to the authentication header of each request to call the API.
 Note
The token will expire, in 24 hours currently. If it expires, you need to request it again.
You can also use the tenant authentication method described in the OpenStack-API
document to obtain tokens. If you use this method, you can skip the subsequent
authentication steps.
2.6.2.1.1. Encryption Method
The method of encrypting password using the public key modulus is as follows (Python 2 and Python 3
supported).
#!-*- coding:utf8 -*-
from binascii import a2b_hex, b2a_hex
from Crypto.PublicKey import RSA
from Crypto.Cipher import PKCS1_v1_5
from Crypto.Util.number import bytes_to_long
def encrypt_with_modulus(content, modulus=None):
u"""Use the modulus to encrypt the text
:param content: Content to be encrypted, such as a password
:param modulus: Call the get-public—key interface to obtain the public key modulus
:return: Encrypted content
"""
content = content.encode('utf-8')
e = int(0x10001)
n = bytes_to_long(a2b_hex(modulus))
rsa_key = RSA.construct((n, e))
# generate/export public key
public_key = rsa_key.publickey()
cipher = PKCS1_v1_5.new(public_key)
content = cipher.encrypt(content)
content = b2a_hex(content)
return str(content.decode('utf-8'))
2.6.2.1.2. Request Signature Example
SCP versions supported: 6.3.0 and above
Address Requested
https://{SCP_IP}/janus/authenticate
Request Method
POST
Request Header
Content-Type:application/json
Cookie:aCMPAuthToken=56debefee2c54355a49fc73dfaaa9466
Request Parameters
{
"auth": {
"passwordCredentials": {
"username": "admin",
"password": "encrypted_password"
}
}
}
Response Content
{
"message": "",
"code": 0,
"data": {
"access": {
"token": {
"issued_at": "2021-01-04T06:31:41.000000Z",
"expires": "2021-01-05T06:31:41.000000Z",
"id": "f6a5bfca121a401f877af196dde17ed5",
"tenant": {
"id": "cf92f8d651c24ed6938b186e252ee0bc",
"enabled": true,
"description": "Bootstrap project for initializing the c
loud.",
"name": "admin"
},
"audit_ids": [
"JVwi5-PWRd-wRDd3kS3FIQ"
]
},
"user": {
"username": "admin",
"roles_links": [],
"name": "admin",
"roles": [
{
"name": "admin"
}
],
"id": "349c19d7653349e1a8918326aacb4430"
}
}
}
}
 Note
The token ID in the response content is the token required for authentication.
2.7. Idempotence
At present, the POST and PUT interfaces of SDK-API starting with janus provide idempotent verification,
which is valid within 15 minutes.
2.7.1. About Idempotence
Idempotence is the property of certain operations in mathematics and computer science whereby they can
be applied multiple times without changing the result beyond the initial application.
In the context of REST APIs, when making multiple identical requests has the same effect as making a single
request, then that REST API is called idempotent. Notes: the idempotence here refers to the effect on
resources.
For example, the GET method in the RESTFul API is to query resource information and will not affect
resources, so it is idempotent. But the result returned by each call of the GET method may be different,
maybe because a certain attribute of the resource has been modified by other methods before the GET
method is called.
In fact, the idempotence of APIs in a distributed architecture is not only for the RESTFul APIs, but applies to
all types of interfaces. The purpose is to ensure that the impact on resources is the same when the interface
is called 1 or N times.
In addition, this can be used together with 15-minute request timeout of EC2 authentication, so that it can
prevent the replay attack, a type of man-in-the-middle attack, and further enhance API security.
2.7.2. Idempotence
2.7.2.1. Scenario 1
After the client has sent the request to create a VM, and the server has successfully created the VM, if the
request was interrupted due to network problems, and the client did not receive a response, the request will
be identified as failed and a new request with the same parameters will be sent again. In this case, another
VM will be created, and there will be 2 VMs in the system, which is not expected by the client.
To solve this problem, the system provides an idempotent verification mechanism. In this way, you only need
to add the “X-Client-Token” field to the request header, and the value is a random number which is advised
to be generated with UUID4. Then, if the client uses the same request parameters, the server will return an
error, indicating “429 Too Many Requests”.
Example of the successful initial request:
Example of the second request triggering idempotency verification:
3. API Request Examples
3.1. Create a Virtual Machine
 Note
Here we will introduce how to use Postman to create a VM. Using postman needs to disable
SSL certificate verification.
Scenario: Call APIs as a tenant
Version: SCP6.3.0
3.1.1. Preparations
To use SCP functionalities by APIs, perform the following operations as an admin or platform administrator:
1. Create a tenant on SCP and get its tenant name, login name and password.
2. Associate resource pools for the tenant so that the tenant will be able to create resources in the
associated resource pools.
3. Configure the quota for CPU, memory, and storage resources in the specified resource pool for the
tenant.
4. Create a VPC network that VMs can access.
5. Upload ISO images or built-in images, and associate them with the resource pools of the tenant,
ensuring that the VM image is available when the tenant creates a VM.
3.1.2. Authentication
There are two authentication methods: EC2 and token.
EC2 authentication:
For SCP 6.3.0, AK/SK key pairs for tenants must be generated in the backend by a technical support
representative.
For SCP 6.3.70, tenants can apply for their own AK/SK key pairs on the SCP platform. To create an
AK/SK key pair for an administrator or co-administrator, contact a technical support representative
to generate one in the backend.
For SCP 6.3.80 and above, the administrators and tenants can apply for AK/SK key pairs on the SCP
platform. To create an AK/SK key pair for a co-administrator, contact a technical support
representative to generate one in the backend.
Take the following AK/SK as an example:
AK: e96a96326f2841ba8bdf2242f6cb832e
SK: 68176b3ec9d64394bdfcbe124b3e6078
Request signature definitions:
Service: open-api
Region: cn-south-1
EC2_ALGORITHM: AWS4-HMAC-SHA256
Request structure
Fill in the following content in the Pre-request Script part of the Postman request:
//Configure AK/SK for the corresponding account
var ACCESS_KEY = 'e96a96326f2841ba8bdf2242f6cb832e';
var SECRET_KEY = '68176b3ec9d64394bdfcbe124b3e6078';
var REGION = 'cn-south-1';
var SERVICE = 'open-api';
var ALGORITHM = 'AWS4-HMAC-SHA256';
var date = new Date().toISOString();
var amzdate = date.replace(/[:\-]|\.\d{3}/g, "");
var dateStamp = amzdate.slice(0, -8);
pm.environment.set('authorization', getAuthHeader(request.method, request.url, request.d
ata));
pm.environment.set('xAmzDate', amzdate);
function getPath(url) {
var pathRegex = /.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/;
var result = url.match(pathRegex);
return result && result.length > 1 ? result[1] : '/';
}
function getQueryString(url) {
var arrSplit = url.split('?');
return arrSplit.length > 1 ? url.substring(url.indexOf('?') + 1) : '';
}
function getSignatureKey(secretKey, dateStamp, regionName, serviceName) {
var kDate = sign("AWS4" + secretKey, dateStamp);
var kRegion = sign(kDate, regionName);
var kService = sign(kRegion, serviceName);
var kSigning = sign(kService, "aws4_request");
return kSigning;
}
function sign(key, message) {
return CryptoJS.HmacSHA256(message, key);
}
function getAuthHeader(httpMethod, requestUrl, requestBody) {
var canonicalUri = getPath(requestUrl);
var canonicalQueryString = ''
if (httpMethod == 'GET' || !requestBody || Object.keys(requestBody).length === 0) {
requestBody = '';
}
var hashedPayload = CryptoJS.enc.Hex.stringify(CryptoJS.SHA256(requestBody));
// For date and time only
var canonicalHeaders = 'x-amz-date:' + amzdate + '\n';
// Signature field
var signedHeaders = 'path;x-amz-date';
var canonicalRequestData = [httpMethod, canonicalUri, canonicalQueryString, canonica
lHeaders, signedHeaders, hashedPayload].join("\n");
var hashedRequestData = CryptoJS.enc.Hex.stringify(CryptoJS.SHA256(canonicalRequestD
ata));
var credentialScope = dateStamp + '/' + REGION + '/' + SERVICE + '/' + 'aws4_request
';
var stringToSign = ALGORITHM + '\n' + amzdate + '\n' + credentialScope + '\n' + hash
edRequestData;
var signingKey = getSignatureKey(SECRET_KEY, dateStamp, REGION, SERVICE);
var signature = CryptoJS.HmacSHA256(stringToSign, signingKey).toString(CryptoJS.enc.
Hex);
var authHeader = ALGORITHM + ' ' + 'Credential=' + ACCESS_KEY + '/' + credentialScop
e + ', ' + 'SignedHeaders=' + signedHeaders + ', ' + 'Signature=' + signature;
return authHeader;
}
Fill in the following content in the Headers part:
Cookie:aCMPAuthToken=1d3747c7af6f40f29e70788e2d1fbe2a
Authorization:{{authorization}}
X-Amz-Date:{{xAmzDate}}
 Note
For SCP 6.3.70 and above, there is no need to pass in Cookie.
Then, you can access each API.
To facilitate demonstration and testing, here we use the token authentication method described in the API
document to perform operations.
Perform operations according to the API document to get the token which will be used as the request
header.
3.1.3. Get Resource Pool IDs Associated with Tenants
API for querying resource pools associated with a tenant is not available in SCP6.3.0. You can call the API for
querying tenants as an admin, or log in to SCP as the tenant to capture packets and view the related data.
For SCP 6.3.70 and above, an API for querying the list of resource pools associated with tenants has been
provided. (View Get Tenants or Query Tenant for details.) Therefore, there is no need to refer to the
following method.
Current Methods Provided by SCP6.3.0:
Call an API as an admin to query the tenant list.
After being authenticated with the admin account, call the tenant list API to get tenant information, including
the associated resource pools.
A tenant logs in to SCP to capture packets and get the associated resource pools.
Get the resource pool ID with the above method: 7775c7ea-a536-4c41-a47c-f2f5f4095b72
3.1.4. Get Storage Tags (in Resource Pools) Available to Tenants
Tenants can only create VMs on datastores with storage tags and corresponding quotas. Therefore, before
creating a VM, you need to get a list of storage tags.
According to the returned data in the figure, the storage tag available to the current tenant is performancesensitive
storage with the storage tag ID (storage_tag_id) 11111111-1111-1111-1111-111111111111.
3.1.5. Get Tenants’ Network Information in Resource Pool (Optional)
First, get the tenant’s VPC network information in the resource pool.
Get the ID of the VPC network (vpc_id): 58b94718-aa22-41e5-9cdf-f25e61d9ac41
Then, get the tenant’s subnet information in VPC.
Get the subnet ID (subnet_id): b1be3a41-24a7-4689-a772-2bece80399d2
3.1.6. Get VM Images
Related APIs: Query Images
There are two types of VM images according to disk_format: ISO and aCloud.
The ISO image is mounted from the optical drive, and the user needs to install the operating system
manually.
The aCloud image refers to the built-in image on the SCP platform and its system disk is preconfigured,
so that the VM already has its operating system when it is created.
Below describes how to query images of different types.
Use the tenant authentication information to call an API to get the current ISO image list.
Use disk_format=aCloud to filter built-in images, as shown below:
3.1.7. Use Built-in Images to Create VMs
Related APIs: Create a VM
Use a built-in image to create a VM with the following parameters:
{
"az_id": "a5b9e0a9-f809-4d02-89fd-444110197cdc",
"location": {
"id": "cluster",
},
"storage_tag_id": "11111111-1111-1111-1111-111111111111",
"image_id": "5dc95d56-2c19-4ccd-b94b-eafa5088dab1",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "8761ac63-3dfc-4c8b-a000-d815f6c5088b",
"subnet_id": "5b154c54-472e-4260-a3bd-af042cac5d13"
}
],
"power_on": 0
}
 Note
During VM creation, the parameters of Disk ide0 (the system disk) are different between a
built-in image and an ISO image.
For the VM created with a built-in image, its system disk type must be derive_disk, and its
size_mb and preallocate must be consistent with those in the built-in image.
For the VM created with an ISO image, its system disk type is new_disk, but its other
parameters can be specified as required.
If an API is called successfully, server_id and task_id will be returned. Task_id can be used to query the task
progress and confirm the operation result.
3.1.8. Query VM Creation Status
Related APIs: Query Task Information
Task status values are provided: status=finish indicates that the task is successful and the VM has been
created successfully.
3.1.9. Other Operations
After a VM is successfully created, you can perform more operations on it. Examples:
Bind elastic IP addresses (the admin needs to configure the elastic IP pool)
Add disks
Power on/off the VM
4. API
4.1. Banner Alerts
4.1.1. Common Banner Alert Parameters
4.1.1.1. Banner Alert Type
Table 4.1.1 Banner Alert Type¶
Value Description
alarm alarm
4.1.1.2. Banner Alert Category
Table 4.1.2 Banner Alert Category¶
Value Description
external external
4.1.2. Create banner alert
4.1.2.1. Scenario
Scenario: Create a banner alert
Roles supported: Super administrator, system administrator, and other administrators with the system
configuration permission
Versions supported: SCP 6.8.0 and later
4.1.2.2. URI
Table 4.1.3 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/banners Create banner alert
Parameter Description:
None
4.1.2.3. Request
Request Parameter
Table 4.1.4 Body Parameter¶
Parameter Location Type Description Required
content body string Banner alert content Yes
type body string View Banner Alert Type for banner alert
types. Yes
category body string View Banner Alert Category for banner
alert categories. Yes
Request Example
https://{SCP_IP}/janus/20180725/banners
{
"content": "Test banner alert",
"type": "alarm",
"category": "external"
}
4.1.2.4. Response
Response Parameter
Table 4.1.5 Response Parameter¶
Parameter Type Description Value Returned
banner_id string Banner alert ID Yes
Response Example:
{
"banner_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.1.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.1.3. Delete banner alert
4.1.3.1. Scenario
Scenario: Delete a banner alert
Roles supported: Super administrator, system administrator, and other administrators with the system
configuration permission
Versions supported: SCP 6.8.0 and later
4.1.3.2. URI
Table 4.1.6 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/banners Delete banner alert
Parameter Description:
Table 4.1.7 Path Parameters¶
Parameter Location Type Description Required
banner_id path string Banner alert ID Yes
4.1.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/banners/bca21dfb-be78-464e-be34-bd12c4a92c76
4.1.3.4. Response
Response Parameter
None
Response Example:
None
4.1.3.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.2. System
4.2.1. Common System Parameters
4.2.1.1. Task Status
Table 4.2.1 Task Status¶
Value Description
waiting Queuing, the corresponding progress is -2
failure Failed, the corresponding progress is -1
doing Executing, the corresponding progress can be 0-99
finish Completed, the corresponding progress is 100
canceling Canceling
canceled Canceled
4.2.2. Batch send emails
4.2.2.1. Scenario
Scenario: Batch send Emails
Roles supported: Super admin, System admin, and administrator with the Email Sending permission
Versions supported: SCP 6.8.0 and later
4.2.2.2. URI
Table 4.2.2 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/system/send-emails Batch send emails
Parameter Description:
None
4.2.2.3. Request
Request Parameter
Table 4.2.3 Body Parameter¶
Parameter Location Type Description Required
tomail_list body list View Parameter Description - addressee
for the recipient list. Yes
title body string Email subject Yes
content body string Email content Yes
is_html body int Whether the Email content is in HTML
format Yes
Parameter Description - addressee
Table 4.2.4 Parameter Description - addressee¶
Parameter Type Note Required
user_id string User ID No
email_address string Email address No
Request Example
https://{SCP_IP}/janus/20180725/system/send-emails
{
"tomail_list": [
{
"user_id": "a9147f234ce44a3b8e75f81899b280b8",
"email_address": "test@sangfor.com"
},
{
"user_id": "acaa89f88a404df985fb0abe2b496f6c",
"email_address": "test1@sangfor.com"
}
],
"title": "test send email",
"content": "hello world, please notice.",
"is_html": 0
}
4.2.2.4. Response
Response Parameter
None
Response Example:
None
4.2.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.2.3. Obtain Public Key Modulus - v2
4.2.3.1. Scenario
Scenario: Obtain the public key modulus - v2
Roles supported: Any
Versions supported: SCP 6.8.0 and later
 Note
1. Do not add request headers, such as Cookie: aCMPTokenAuth=XX and X-Forwarded-For,
to the interface before requesting login. Otherwise, a 401 error may be reported.
2. It shares the same ACL with the previous interface for querying public key.
3. Considering the NAT scenario that multiple users/platforms use the same IP address, one
IP address can request at most 60 times per minute.
4. The global threshold of interface for public key query is 1,000 requests per minute, which
is set for all requests. In other words, if the number of requests reaches 1,000 in one
minute, the interface will be automatically blocked for one minute, and the 403 error will
be reported for each request during the block period.
4.2.3.2. URI
Table 4.2.5 API Path and Request Method¶
REST VERB PATH Description
GET /janus/v2/public-key Obtain Public Key Modulus - v2
Parameter Description:
None
4.2.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/v2/public-key
4.2.3.4. Response
Response Parameter
Table 4.2.6 Response Parameter¶
Parameter Type Description Required
public_key string Encryption key No
Response Example:
{
"public_key": "30522DE5E8D3ECF0A08E96DC4F41F60A0CEEBC4432BED2FC3A857FC40
20439009181847A464A45A51448E1675AE74674E8F0053ADE93E4B782C43E6FEAAB9D79BB011
739DD3244F64B731F5BA5D2F7F6ADAE74802CF037D67378B13C2AA4BE90801C3E1857A5E5F04
FE2FB4B346EC2253C105B48C147D6E206C20D9B076524C24B6067351030AF769910C810AC7A6
0E94E76C4FE4B7A3B20F23DF8437CC323EEFE4F996591D7A621E0CB71459C608E33B73A88325
AA16940B5E0D3156E8706BBCED5033A210172651A83A02C64B22FB3030C72861F1AFCB09D14B
958D33FE23DC74200915727BE4BDC7ACB56BAD73419A12233D20AF3934DF55A3E5FA99FCFF"
}
4.2.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.2.4. Get public key modulus
 Note
The public key modulus is used for password data transmission such as user password
encryption during authentication, VM password encryption during VM creation.
4.2.4.1. Scenario
The public key modulus is a password-free interface, and the request header only needs to carry the
matching cookie information to obtain the corresponding data, view: Request headers for details.
SCP versions supported: 6.3.0 and later.
4.2.4.2. URI
Table 4.2.7 API Path and Request Method¶
REST VERB PATH Description
GET /janus/public-key Get public key modulus
Parameter Description:
None
4.2.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/public-key
4.2.4.4. Response
Response Parameter
Table 4.2.8 Response Parameter¶
Parameter Type Description Value Returned
public_key string Public key
modulus Yes
 Note
1. The returned string of public key modulus contains \n at the end, which needs to be
removed when using the public key modulus.
2. For common response parameters, view Response Format for details
Response Example:
{
"public_key": "BDEC925242D4C028EAD2E457B519BE1A0D542C9993A7B46423D214BC0
3A8F179BF00928777EE9DBCCD6F1925650F6D783B1946A91BE9AB678E41D660741EF0C9D4AA7
E959A734004AD47F2FF7F39FD3248ED83036C6918477ED13DCD50099D1ED04C026905C65357D
FB52C937D41E4C6A739709207026D918BBAC057697B01CE66D8060B6B0321655A47225E031EB
C57C2301230BEF98CBBE02BD401657BD94D23ED71F95E791B8BCFEDE4D79AE6937FB67B41993
6CECA359817CEC15E8D9A829161F2459122AB6287E4A2B9A11BE8EEC5D86B87E48C097D6CD7B
20D23687090CDCF10E2CA747D0EBCAFF7BF57141162C01FC3AE14A373C8F482BDF39B0DAE99\
n"
}
4.2.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.2.5. Query SCP Maintenance Mode
4.2.5.1. Scenario
Scenario: Query platform Maintenance Mode
Roles supported: Platform administrator, MSP administrator, tenant, user, and co-administrator with
permission to query the Maintenance Mode of the platform
Versions supported: SCP 6.9.0R1 and later
4.2.5.2. URI
Table 4.2.9 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/system/maintenance Query Platform
Maintenance Mode
Parameter Description:
None
4.2.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/system/maintenance
4.2.5.4. Response
Response Parameter
Table 4.2.10 Response Parameter¶
Parameter Type Description Value Returned
maintain_mode int(0, 1) Whether it is in
Maintenance Mode Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"maintain_mode": 0
}
4.2.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.2.6. Query SCP Version Details
4.2.6.1. Scenario
Scenario: Query SCP version details
Roles supported: Super admin, System admin, and administrator with the PERM_SETTING_READ
permission
Versions supported: SCP 6.7.35 and later
4.2.6.2. URI
Table 4.2.11 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/system/version Query SCP Version
Details
Parameter Description:
None
4.2.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/system/version
4.2.6.4. Response
Response Parameter
Table 4.2.12 Response Parameter¶
Parameter Type Description Value Returned
build_version string Official version
information Yes
custom_version list(string) Custom version
information Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"build_version": "SCP6.7.33_B-2022-06-07_19:45:13",
"custom_version": ["SP-SCP_empty_sp_for_SCP6.7.33B"]
}
4.2.6.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.2.7. Query Task Information
4.2.7.1. Scenario
Scenario: Monitor the asynchronous task progress after the task ID is returned.
Applicable roles: Super administrator and tenant
SCP versions supported: 6.3.0 and later
4.2.7.2. URI
Table 4.2.13 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/tasks/{task_id} Query Task
Information
Parameter Description:
Table 4.2.14 Path Parameters¶
Parameter Location Type Description Required
task_id path string Task ID Yes
4.2.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/tasks/3e82b989-5c9c-45a9-91a2-c673da42e65f
4.2.7.4. Response
Response Parameter
Table 4.2.15 Response Parameter¶
Parameter Type Description
Value
Returned
task_id string Task ID Yes
description string Description of Tasks Yes
project_id string Tenant ID Yes
user_id string User ID Yes
user_ip string IP address of operator Yes
action string Action Yes
object_type string Operation object type Yes
object_id string Operation object ID No
status string Operation log status, view: Task Status for details. Yes
cancelable int Whether the log can be canceled. It cannot be canceled
by default. Yes
progress int
-2 indicates queuing,-1 indicates failure, values range
from 0 to 100, 0 to 99 indicates executing, 100
indicates success
Yes
begin_time string Local time when the log-related task started Yes
end_time string Local time when the log-related task ended Yes
entities object
Subtaks information, view 1. Parameter Description
When the Return Value Involves a Single Asynchronous
Task； 2. Parameter Description When the Return
Value involves Multiple Asynchronous Tasks for details.
Yes
Parameter description when the return value involves a single asynchronous task:
Table 4.2.16 Parameter Description When the Return Value Involves a Single Asynchronous Task¶
Parameter Type Note
object_id string Operation resource ID
Parameter description when the return value involves multiple asynchronous tasks:
Table 4.2.17 Parameter Description When the Return Value involves Multiple Asynchronous Tasks¶
Parameter Type Note
object_id string Operation object ID
sub_tasks_total int Total number of subtasks
sub_tasks list(dict) List of subtasks, view: Parameter Description - sub_tasks for
details.
Parameter Description - sub_tasks:
Table 4.2.18 Parameter Description - sub_tasks¶
Parameter Type Note
task_id string Subtask ID
az_id string Resource pool ID
description string Description of Tasks
action string Action
object_type string Operation object type
status string Operation log status, view: Task Status for details.
cancelable int Whether the log can be canceled. It cannot be canceled by default.
progress int -2 indicates queuing,-1 indicates failure, values range from 0 to
100, 0 to 99 indicates executing, 100 indicates success
begin_time string Local time when the log-related task started
end_time string Local time when the log-related task ended
entities dict Subtask information
entities.object_id string Operation resource ID
 Note
For common response parameters, view Response Format for details
Response Example:
1. Example for the return value when a single asynchronous task is involved:
{
"status": "finish",
"cancelable": 0,
"user_id": "bed4c431f29e42fea1dd991bc218cf48",
"description": "",
"task_id": "4a88bb77-07af-4369-b72e-04897feded33",
"object_type": "VM",
"user_ip": "172.23.6.23",
"entities": {
"object_id": "9fa0beed-b169-4dde-a530-4c253fac762c"
},
"end_time": "2020-12-15T19:22:46.000000",
"begin_time": "2020-12-15T19:22:25.000000",
"action": "Create VM",
"progress": 100,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657"
}
2. Example for the return value when multiple asynchronous tasks are involved:
{
"status": "failure",
"cancelable": 0,
"user_id": "fd4394d204d241deb2cf555384620c8b",
"description": "Failed to activate shared service. Please try agai
n or contact Sangfor technical support representative.",
"task_id": "3e82b989-5c9c-45a9-91a2-c673da42e65f",
"object_type": "Shared service",
"user_ip": "172.23.13.131",
"entities": {
"sub_tasks_total": 1,
"sub_tasks": [
{
"status": "failure",
"description": "Failed to activate shared service. Ple
ase try again or contact Sangfor technical support representative.",
"task_id": "3e82b989-5c9c-45a9-91a2-c673da42e65f",
"object_type": "Shared service",
"cancelable": 0,
"entities": {
"object_id": "6a760d53-7587-4140-814f-51d7a5fef133
"
},
"end_time": "2020-12-10T10:13:08.000000",
"begin_time": "2020-12-10T10:13:07.000000",
"action": "Activate shared service",
"progress": 50,
"az_id": "62a4411d-2b3e-4d2d-95a4-feb7d2dbdb7b"
}
]
},
"end_time": "2020-12-10T10:13:08.000000",
"begin_time": "2020-12-10T10:13:07.000000",
"action": "Activate shared service",
"progress": 50,
"project_id": "78ad8e9c9c7e487186f448bc81f050a6"
}
4.2.7.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3. Platform Resource Management
4.3.1. Common Parameters of Resources
4.3.1.1. Resouce Pool Type
Table 4.3.1 Resouce Pool Type¶
Value Description
hci HCI
vmware VMware
4.3.1.2. Resource Pool Tag
Table 4.3.2 Resource Pool Tag¶
Value Description
public Shared
private Dedicated
4.3.1.3. Resource Pool Status
Table 4.3.3 Resource Pool Status¶
Value Description
normal Normal
offline Offline
unauthorized Not licensed
master_offline The cluster controller is offline, but this does not mean that the cluster is
offline because the cluster IP can still be assigned to other nodes.
password_error Password is incorrect.
4.3.1.4. Architecture Type
Table 4.3.4 Architecture Type¶
Value Description
hci_x86 HCI x86
hci_arm HCI ARM
vmware VMware
4.3.1.5. Dedicated Server Groups
Table 4.3.5 Dedicated Server Groups¶
Value Description
dedicated Dedicated server group
elastic Elastic server group
4.3.1.6. Physical Machine Status
Table 4.3.6 Physical Machine Status¶
Value Description
running Running
offline Offline
4.3.1.7. Proxy Protocol
Table 4.3.7 Proxy Protocol¶
Value Description
SOCKS5 SOCKS5
TCP TCP
4.3.1.8. SCP operation type
Table 4.3.8 SCP operation type¶
Value Description
execute execute
4.3.1.9. Operation Mode
Table 4.3.9 Operation Mode¶
Value Description
managed_cloud Managed cloud
private_cloud Private cloud
4.3.1.10. Cluster Mode
Table 4.3.10 Cluster Mode¶
Value Description
cluster Cluster
Standalone Standalone
Table 4.3.11 Service Data Center Type¶
Value Description
oss Object storage
dmp Database management platform
cssp (Removed)
Table 4.3.12 Service Data Center Status¶
Value Description
active Normal
lost Lost
stopped Stopped
offline Offline
server_error Abnormal
login_error Login exception
unauthed Not licensed or license expired
error Abnormal
building Deploying
4.3.1.11. Cluster type
Table 4.3.13 Cluster type¶
Value Description
hci HCI
vmware VMware
4.3.2. Query Resource Pools
4.3.2.1. Scenario
Scenario: Query resource pools
Roles supported: Super admin, system admin, tenant, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP 6.3.0 and later
4.3.2.2. URI
Table 4.3.14 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/azs Query Resource Pools
Parameter Description:
Table 4.3.15 Path Parameters¶
Parameter Location Type Description Required
type path string Resource pool type, view Resouce Pool
Type for details. No
tag path string Resource pool tag, view Resource Pool Tag
for details. No
 Note
For common path parameters details, see Common Path Parameter Format.
4.3.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs?type=hci
4.3.2.4. Response
Response Parameter
Table 4.3.16 Response Parameter¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
name string Resource pool name Yes
description string Resource pool description Yes
status string Resource pool status, view Resource Pool Status for
details. Yes
type string Resource pool type, view Resouce Pool Type for details. Yes
tag string Resource pool tag, view Resource Pool Tag for details. Yes
version string Resource pool version Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "normal",
"description": "",
"tag": "public",
"version": "6.2.0",
"type": "hci",
"id": "0b1695d7-8aa8-4efb-9d25-3c0312f0c5a1",
"name": "AZ8224"
},
{
"status": "normal",
"description": "",
"tag": "public",
"version": "5.8.8.R6",
"type": "hci",
"id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "AZ1612"
}
]
4.3.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.3.3. Query Resource Pool Info
4.3.3.1. Scenario
Scenario: Query resource pool’s information
Roles supported: Super admin, system admin, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP6.3.70 and later
4.3.3.2. URI
Table 4.3.17 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/azs/{az_id} Query Resource Pool
Info
Parameter Description:
Table 4.3.18 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
4.3.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs/e0403ff4-b1fc-4af4-9a4c-dac8c241eb11
4.3.3.4. Response
Response Parameter
Table 4.3.19 Response Parameter¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
name string Resource pool name Yes
description string Resource pool description Yes
status string Resource Pool Status Yes
type string Resouce Pool Type Yes
tag string Resource pool tag: Shared or dedicated Yes
virtual_resources list(dict)
Virtual resources (resource pool quota), view
Parameter Description - virtual_resources for
details.
Yes
physical_resources list(dict) Physical resources, view Parameter
Description - physical_resources for details. Yes
Parameter Description - virtual_resources:
Table 4.3.20 Parameter Description - virtual_resources¶
Parameter Type Required Note
name string Yes Resource name, including CPU, memory, storage
(resources here indicate quota items on SCP)
limit int Yes Upper limit of resources, the value -1 indicates that there
is no limit
total int or
float Yes
Total resources. This parameter is of the float type if the
resource name is cpu or memory; otherwise, it is of the
int type.
allocated int Yes Allocated resource
occupied int Yes Occupied resource
unit string Yes Unit
extra dict No Other information
Parameter Description - physical_resources:
Table 4.3.21 Parameter Description - physical_resources¶
Parameter Type Required Note
name string Yes
Resource name, including CPU, memory, storage, GPU,
GPU_mem (resources here indicate all physical resources
in the HCI clusters)
total int or
float Yes
Total resources. This parameter is of the int type if the
resource name is gpu or gpu_mem; otherwise, it is of the
float type.
used int or
float Yes
Used resources. This parameter is of the int type if the
resource name is gpu_mem; otherwise, it is of the float
type.
unit int Yes Unit
extra dict No Other information
Response Example:
{
"status": "normal",
"virtual_resources": [
{
"name": "Local storage 22222 (default)",
"limit": -1,
"allocated": 1269760,
"total": 1044480,
"occupied": 409600,
"unit": "MB"
},
{
"name": "Capacity sensitive storage (high availability)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "share1 (high availability)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "Performance sensitive storage (default)",
"limit": -1,
"allocated": 0,
"total": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "share1 (default)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "Capacity sensitive storage (default)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "cpu",
"limit": -1,
"allocated": 274,
"total": 30.0,
"occupied": 89,
"unit": "Core"
},
{
"name": "High performance storage (high availability)",
"limit": -1,
"allocated": 0,
"total": 1044480,
"occupied": 0,
"unit": "MB"
},
{
"name": "Performance sensitive storage (high availability)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "High performance storage (default)",
"limit": -1,
"allocated": 465920,
"total": 1044480,
"occupied": 368640,
"unit": "MB"
},
{
"name": "ddd (default)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "memory",
"limit": -1,
"allocated": 288768,
"total": 0.0,
"occupied": 99328,
"unit": "MB"
}
],
"description": "",
"physical_resources": [
{
"unit": "mb",
"total": 3133440.0,
"name": "storage",
"used": 173357.0
},
{
"unit": "mhz",
"total": 105355.97,
"name": "cpu",
"used": 27743.74
},
{
"unit": "mb",
"total": 98304.0,
"name": "memory",
"used": 46717.49
"used": 46717.49
},
{
"unit": "",
"total": 0,
"name": "gpu",
"used": 0.0
},
{
"unit": "mb",
"total": 0,
"name": "gpu_mem",
"used": 0
}
],
"tag": "private",
"version": "6.9.0",
"type": "hci",
"id": "cc02ec2a-bd2d-4c70-a7df-7a8b5fb5a93f",
"name": "10.134.37.79"
}
4.3.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.4. Query Resource Pool Info
4.3.4.1. Scenario
Scenario: Query resource pool’s information
Roles supported: Super administrator, system administrator, and co-administrator with permission to
obtain an overview of the resource pool
Versions supported: SCP SCP 6.9.0R1 and later
4.3.4.2. URI
Table 4.3.22 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/azs/{az_id} Query Resource Pool
Info
Parameter Description:
Table 4.3.23 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
4.3.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/azs/e0403ff4-b1fc-4af4-9a4c-dac8c241eb11
4.3.4.4. Response
Response Parameter
Table 4.3.24 Response Parameter¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
name string Resource pool name Yes
description string Resource pool description Yes
status string Resource Pool Status Yes
type string Resouce Pool Type Yes
tag string Resource pool tag: Shared or dedicated Yes
version string Resource pool version Yes
maintain_mode int(0, 1) Whether it is in Maintenance Mode Yes
safe_acl int(0, 1) Whether tenant network protection is enabled Yes
virtual_resources list(dict)
List of virtual resources (resource quotas). For
details, see Parameter Description -
virtual_resources
Yes
physical_resources list(dict) List of physical resources. For details, see
Parameter Description - physical_resources Yes
dhs list(dict) List of dedicated server groups. For details, see
Description of the parameter dhs Yes
Parameter Description - virtual_resources:
Table 4.3.25 Parameter Description - virtual_resources¶
Parameter Type Required Note
name string Yes Resource name, including CPU, memory, storage
(resources here indicate quota items on SCP)
limit int Yes Upper limit of resources, the value -1 indicates that there
is no limit
total int Yes Total amount of resource
allocated int Yes Allocated resource
occupied int Yes Occupied resource
unit string Yes Unit
extra dict No Other information
Parameter Description - physical_resources:
Table 4.3.26 Parameter Description - physical_resources¶
Parameter Type Required Note
name string Yes
Resource name, including CPU, memory, storage, GPU,
GPU_mem (resources here indicate all physical resources
in the HCI clusters)
total int Yes Total amount of resource
used int Yes Used resource
unit int Yes Unit
extra dict No Other information
Parameter Description - dhs:
Table 4.3.27 Description of the parameter dhs¶
Parameter Type Required Note
id string Yes Dedicated server group ID
name string Yes Dedicated server group name
tag string Yes Dedicated server group tag. For details, see Resource
Pool Tag
type string Yes Dedicated server group type. For details, see Dedicated
Server Groups
Response Example:
{
"status": "normal",
"virtual_resources": [
{
"name": "High Performance Storage (High Availability)",
"limit": -1,
"allocated": 1024000,
"total": 2251776,
"occupied": 0,
"unit": "MB"
},
{
"name": "Capacity Sensitive Storage (High Availability)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"provider": "hci",
"namespace": "compute",
"resource": "pool_cpu",
"name": "CPU",
"limit": -1,
"allocated": 109,
"total": 0.0,
"occupied": 12,
"unit": "Core"
},
{
"name": "Performance Sensitive Storage (High Availability)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"provider": "hci",
"namespace": "compute",
"resource": "pool_memory",
"name": "Memory",
"limit": -1,
"allocated": 119808,
"allocated": 119808,
"total": 24576.0,
"occupied": 20480,
"unit": "MB"
},
{
"name": "Capacity Sensitive Storage (Default)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "Performance Sensitive Storage (Default)",
"limit": -1,
"allocated": 0,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "High Performance Storage (Default)",
"limit": -1,
"allocated": 1843200,
"total": 2251776,
"occupied": 1064960,
"unit": "MB"
}
],
"name": "10.131.132.56",
"arch_type": "hci_x86",
"physical_resources": [
{
"unit": "mb",
"total": 2854884.0,
"name": "storage",
"used": 156326.0
},
{
"unit": "mhz",
"total": 62253.72,
"name": "cpu",
"used": 29051.74
},
{
"unit": "mb",
"total": 122880.0,
"name": "memory",
"used": 50054.02
},
{
"unit": " ",
"total": 0,
"name": "gpu",
"used": 0.0
},
{
"unit": "mb",
"total": 0,
"name": "gpu_mem",
"used": 0
}
],
"dhs": [
{
"id": "91980383-7b89-476a-ab5b-24388d602bd5",
"name": "10.134.43.8",
"type": "elastic",
"tag": "public"
},
{
"id": "ceb4f95d-a72d-4435-b681-ffcc847de9a3",
"name": "10.134.43.1",
"type": "dedicated",
"tag": "public"
}
],
"maintain_mode": 0,
"safe_acl": 0,
"tag": "public",
"version": "6.8.0",
"type": "hci",
"id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"description": ""
}
4.3.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.5. Obtain platform overview
4.3.5.1. Scenario
Scenario: Obtain platform overview
Roles supported: Super admin, system admin, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP6.3.70 and later
4.3.5.2. URI
Table 4.3.28 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/overview Obtain platform overview
Parameter Description:
Table 4.3.29 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
4.3.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/overview
4.3.5.4. Response
Response Parameter
Table 4.3.30 Response Parameter¶
Parameter Type Description
Value
Returned
virtual_resources list(dict)
View Parameter Description -
virtual_resources_list for the virtual resource
list (quota resources).
Yes
physical_resources list(dict)
View Parameter Description -
physical_resources_list for the physical
resource list.
Yes
host dict View Parameter Description - host for physical
node overview information. Yes
server dict View Parameter Description - server for VM
overview information. Yes
NFV dict View Parameter Description - nfv for network
device overview information. Yes
az dict View Parameter Description - az for resource
pool overview information. Yes
Parameter Description - virtual_resources_list:
Table 4.3.31 Parameter Description - virtual_resources_list¶
Parameter Type Description
Value
Returned
name string Resource name. Currently, the options are cpu, memory,
storage, gpu, and gpu_mem (quota resource of SCP) Yes
limit int Upper limit of resources, the value -1 indicates that
there is no limit Yes
total int or
float
Total resources. This parameter is of the float type if the
resource name is cpu or memory; otherwise, it is of the
int type.
Yes
allocated int Allocated resource Yes
occupied int Occupied resource Yes
unit string Unit Yes
Parameter Description - physical_resources_list:
Table 4.3.32 Parameter Description - physical_resources_list¶
Parameter Type Description
Value
Returned
name string Resource name Yes
total int or
float
Total resources. This parameter is of the float type if the
resource name is graphics_mem or graphics_num;
otherwise, it is of the int type.
Yes
used int or
float
Used resources. This parameter is of the int type if the
resource name is graphics_mem; otherwise, it is of the
float type.
Yes
unit string Unit Yes
Parameter Description - host:
Table 4.3.33 Parameter Description - host¶
Parameter Type Description
Value
Returned
total int Total number of physical nodes Yes
online_count int Number of online physical nodes Yes
offline_count int Number of offline physical nodes Yes
alarm_count int Number of physical nodes with alerts (not
counted in total) Yes
Parameter Description - server:
Table 4.3.34 Parameter Description - server¶
Parameter Type Description
Value
Returned
total int Total number of VMs Yes
running_count int Number of running VMs Yes
offline_count int Number of offline VMs Yes
alarm_count int Number of VMs with alerts (not counted in
total) Yes
error_count int Number of abnormal VMs Yes
Parameter Description - nfv:
Table 4.3.35 Parameter Description - nfv¶
Parameter Type Description Value Returned
total int Total number of network devices Yes
running_count int Number of running network
devices Yes
offline_count int Number of offline network
devices Yes
error_count int Number of abnormal VMs Yes
Parameter Description - az:
Table 4.3.36 Parameter Description - az¶
Parameter Type Description
Value
Returned
total int Total number of resource pools Yes
online_count int Number of online resource pools Yes
offline_count int Number of offline resource pools Yes
alarm_count int Number of resource pools with alerts (not
counted in total) Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"virtual_resources": [
{
"name": "Capacity sensitive storage",
"limit": -1,
"allocated": 18432000,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "Memory",
"limit": -1,
"allocated": 374784,
"total": 0.0,
"occupied": 13312,
"unit": "MB"
},
{
"name": "High performance storage",
"limit": -1,
"allocated": 9216000,
"total": 0,
"occupied": 0,
"unit": "MB"
},
{
"name": "Performance sensitive storage",
"limit": -1,
"allocated": 9338880,
"total": 1050624,
"occupied": 266240,
"unit": "MB"
},
{
"name": "CPU",
"limit": -1,
"allocated": 364,
"total": 0.0,
"occupied": 11,
"unit": "Core"
}
],
"physical_resources": [
{
"total": 0,
"used": 0,
"name": "graphics_mem",
"unit": "mb"
},
{
"total": 1051152.0,
"used": 5884.0,
"name": "storage",
"unit": "mb"
},
{
"total": 35199.98,
"used": 19887.99,
"name": "cpu",
"unit": "mhz"
},
{
"total": 0,
"used": 0.0,
"name": "graphics_num",
"unit": "Piece"
},
{
"total": 65536.0,
"used": 25107.21,
"name": "memory",
"unit": "mb"
}
],
"server": {
"running_count": 1,
"offline_count": 0,
"total": 1,
"alarm_count": 0,
"error_count": 0
"error_count": 0
},
"nfv": {
"offline_count": 0,
"running_count": 0,
"total": 0,
"error_count": 0
},
"host": {
"offline_count": 0,
"total": 2,
"alarm_count": 1,
"online_count": 2
},
"az": {
"offline_count": 0,
"total": 1,
"alarm_count": 0,
"online_count": 1
}
}
}
4.3.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.6. Query List of Physical Host Interfaces
4.3.6.1. Scenario
Scenario: Query the list of physical host interfaces
Roles supported: Super administrator, system administrator, and platform administrator with permission
to read resource pools
Versions supported: SCP 6.10.0 and later
4.3.6.2. URI
Table 4.3.37 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/hosts/{host_id}/interfaces Query List of Physical
Host Interfaces
Parameter Description:
Table 4.3.38 Path Parameters¶
Parameter Location Type Description Required
host_id path string Node ID Yes
name path string Interface name No
type path string Interface type No
driver_type path string Driver type No
status path int Status No
enable path int Whether the tenant is
enabled No
function path string Interface function No
description path string Description No
is_qos_config path int Whether to configure traffic
control No
 Note
1. For common path parameters, view Common Path Parameter Format for details.
2. If the value of function is mgmt, the management interface is queried; if it is vxlan, the
overlay network interface is queried; if it is business, the edge-connected interface is
queried; if it is vs, the storage network interface is queried; if it is tercom, the endpoint
communication interface is queried.
3. If is_qos_config is set to 1, the interface with traffic control configured is queried.
4.3.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/hosts/host-6c92bfde3a4c/interfaces?is_qos_config=1
4.3.6.4. Response
Response Parameter
Table 4.3.39 Response Parameter¶
Parameter Type Description
Value
Returned
id string Interface ID No
name string Interface name No
type string Interface function No
functions list(string) Function type No
status int Interface status No
enable int Whether the tenant is enabled No
driver_type string Driver type No
mode string Interface mode No
description string Interface description No
description string Interface description No
speed string Interface transfer rate (Mbps) No
support_speed string Maximum rate (Mbps) No
rate string Rate No
ip string Interface IP address No
gateway string Interface gateway No
netmask string Network port subnet mask No
mac string MAC address No
vs_used int Whether to use virtual storage No
vs_iscsi_used int Whether the interface is used by the
virtual storage iSCSI service No
fusion_enable int Whether shared mode is enabled for
the storage network interface No
mtu string mtu No
negotiation int Whether to use auto-negotiation. 0:
No, 1: Yes No
vlan_enable int Whether to enable VLAN No
vlan_id int VLAN ID, which is 0 by default if
VLAN is not enabled. No
sriov_support int Whether to support the SR-IOV
function No
duplex string Operating mode: Full (full-duplex) or
Half (half-duplex) No
link_mode string Link mode No
supported_link_modes list(string) Supported link modes No
ip_ippool string IP address allocated by the SDN IP
pool for the overlay network interface No
netmask_ippool string Netmask allocated by the SDN IP pool
for the overlay network interface No
gateway_ippool string Gateway allocated by the SDN IP pool
for the overlay network interface No
alias list(dict) Alias interface. For details, see
Parameter Description - alias. No
bond dict Aggregate interface. For details, see
Parameter Description - bond. No
vxlans list(dict) Overlay network interface. For details,
see Parameter Description - vxlans No
communication_interface list(dict)
Communication interface. For details,
see Parameter Description -
communication_interface
No
qos dict QoS traffic control. For details, see
Parameter Description - qos. No
is_qos_config int Whether to configure QoS traffic
control. 0: No, 1: Yes No
 Note
If function is set to vxlan, the value of ip is ip_ippool, and the value of netmask is
netmask_ippool.
Parameter Description - alias:
Table 4.3.40 Parameter Description - alias¶
Parameter Type Required Note
role string Yes Alias interface role
ip string Yes IP address corresponding to the alias
interface
netmask string Yes Netmask corresponding to the alias
interface
Parameter Description - bond:
Table 4.3.41 Parameter Description - bond¶
Parameter Type Required Note
members list(string) Yes Aggregate interface member
mode string Yes Aggregate interface working
mode
Parameter Description - vxlans:
Table 4.3.42 Parameter Description - vxlans¶
Parameter Type Required Note
mtu string Yes mtu
ip string Yes IP address
netmask string Yes Netmask
gateway string Yes Gateway
mac string Yes MAC address
Parameter Description - communication_interface:
Table 4.3.43 Parameter Description - communication_interface¶
Parameter Type Required Note
function string Yes Communication
interface function
ip string Yes IP address
netmask string Yes Netmask
Parameter Description - qos:
Table 4.3.44 Parameter Description - qos¶
Parameter Type Required Note
rate string Yes Rate (Mbps)
enable int Yes IP address
business_upper_mbps string Yes Upper limit of edgeconnected
interface traffic
mgmt_upper_mbps string Yes Upper limit of management
interface traffic
vs_upper_mbps string Yes Upper limit of storage
network interface traffic
vxlan_upper_mbps string Yes Upper limit of overlay
network interface traffic
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"negotiation": 1,
"driver_type": "igb",
"vxlans": [],
"sriov_support": 0,
"ip": "10.134.48.10",
"rate": "6",
"qos": {
"enable": 0,
"vs_upper_mbps": "",
"business_upper_mbps": "166",
"rate": "1000",
"vxlan_upper_mbps": "",
"mgmt_upper_mbps": "123"
},
"vs_iscsi_used": 1,
"gateway": "10.134.63.254",
"vlan_id": 0,
"functions": [
"mgmt",
"business"
],
"supported_link_modes": [
"0",
"1",
"2",
"3",
"5",
"6"
],
"duplex": "Full",
"speed": "1000",
"id": "eth0",
"link_mode": "6",
"fusion_enable": 0,
"type": "phy-if",
"status": 1,
"enable": 1,
"description": "",
"ip_ippool": "",
"netmask": "255.255.240.0",
"gateway_ippool": "",
"vlan_enable": 0,
"interface_name": "",
"name": "eth0",
"communication_interface": [
{
"function": "mgmt",
"ip": "10.134.48.10",
"netmask": "255.255.240.0"
},
{
"function": "business",
"ip": "10.134.48.10",
"netmask": "255.255.240.0"
}
],
"support_speed": "",
"mac": "6c:92:bf:de:3a:4c",
"mtu": "1500",
"alias": [],
"netmask_ippool": "",
"mode": "dpdk",
"is_qos_config": 1,
"vs_used": 0,
"bond": {
"mode": "",
"members": []
}
}
]
4.3.6.5. Response Code
OK: 200
Errors: 400, 403, 500
4.3.7. Write ANI configuration to HCI
4.3.7.1. Scenario
Scenario: Write ANI configuration to HCI
Roles supported: Super admin, system admin, and other administrators with the Resource Pool
Configuration permission
Versions supported: SCP 6.8.0 and later
4.3.7.2. URI
Table 4.3.45 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/azs/{az_id}/ani/flow Write ANI
configuration to HCI
Parameter Description:
Table 4.3.46 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
4.3.7.3. Request
Request Parameter
Table 4.3.47 Body Parameter¶
Parameter Location Type Description Required
ip body string Collector IP address Yes
port body int Collector port Yes
enabled body int Whether to enable
IPFIX Yes
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-95bde144b1b1/ani/flow
{
"ip": "127.0.0.1",
"port": 3306,
"enabled": 1
}
4.3.7.4. Response
Response Parameter
None
Response Example:
None
4.3.7.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.3.8. Register G2H proxy IP
4.3.8.1. Scenario
Scenario: Register a G2H proxy IP
Roles supported: Super admin, system admin, and other administrators with the Resource Pool
Configuration permission
Versions supported: SCP 6.8.0 and later
4.3.8.2. URI
Table 4.3.48 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/azs/{az_id}/g2hproxy Register G2H
proxy IP
Parameter Description:
Table 4.3.49 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
4.3.8.3. Request
Request Parameter
Table 4.3.50 Body Parameter¶
Parameter Location Type Description Required
protocol body string View Proxy Protocol for proxy
protocol details. Yes
description body string Description No
id body string Rule ID No
destination_ip body string Dst IP Yes
destination_port body int Dst port Yes
source_port body int Src port Yes
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-95bde144b1b1/g2hproxy
{
"destination_ip": "200.200.0.232",
"protocol": "TCP",
"description": "Test G2H proxy IP registration - 2",
"source_port": 22345,
"destination_port": 12345,
"id": "2e2a5dbf-c000-425b-84b7-6a8f3fef1ae2"
}
4.3.8.4. Response
Response Parameter
Table 4.3.51 Response Parameter¶
Parameter Type Description
Value
Returned
protocol string View Proxy Protocol for proxy protocol details. Yes
description string Description No
id string Rule ID No
destination_ip string Dst IP Yes
destination_port int Dst port Yes
source_port int Src port Yes
Response Example:
{
"destination_ip": "200.200.0.232",
"protocol": "TCP",
"description": "Test G2H proxy IP registration - 2",
"source_port": 22345,
"destination_port": 12345,
"id": "2e2a5dbf-c000-425b-84b7-6a8f3fef1ae2"
}
4.3.8.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.3.9. Obtain the G2H Proxy IP Address List
4.3.9.1. Scenario
Scenario: Obtain the G2H Proxy IP Address List
Applicable roles: Super administrator, system administrator, tenant and other roles with permission to
read the resource pool.
Versions supported: SCP 6.8.0 and later
4.3.9.2. URI
Table 4.3.52 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/azs/{az_id}/g2hproxy Obtain the G2H Proxy
IP Address List
Parameter Description:
Table 4.3.53 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
 Note
For common path parameters details, see Common Path Parameter Format.
4.3.9.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-95bde144b1b1/g2hproxy
4.3.9.4. Response
Response Parameter
Table 4.3.54 Response Parameter¶
Parameter Type Description
Value
Returned
protocol string View Proxy Protocol for proxy protocol details. No
description string Description No
destination_ip string Dst IP No
destination_port int Dst port No
source_port int Src port No
id string Rule ID No
 Note
For common response parameters, view Response Format for details
Response Example:
[{
"destination_ip": "127.0.0.1",
"protocol": "SOCKS5",
"description": "cbsp_host",
"source_port": 20188,
"destination_port": 20180,
"id": "from_vmtools_host"
},
{
"destination_ip": "127.0.0.1",
"protocol": "TCP",
"description": "cbsp_agent",
"source_port": 20182,
"destination_port": 20185,
"id": "from_vmtools_agent"
}]
4.3.9.5. Response Code
OK: 200
Errors: 400, 403, 500
4.3.10. Delete the G2H proxy IP
4.3.10.1. Scenario
Scenario: Delete the G2H proxy IP
Roles supported: Super admin, system admin, tenant, and other roles with the Resource Pool
Configuration permission
Versions supported: SCP 6.8.0 and later
4.3.10.2. URI
Table 4.3.55 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/azs/{az_id}/g2hproxy/{proxy_id} Delete the
G2H proxy IP
Parameter Description:
Table 4.3.56 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
proxy_id path string Rule ID Yes
4.3.10.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-
95bde144b1b1/g2hproxy/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.3.10.4. Response
Response Parameter
None
Response Example:
None
4.3.10.5. Response Code
Normal: 204
Errors: 400, 403, 500
4.3.11. Query G2H proxy IP details
4.3.11.1. Scenario
Scenario: Query the G2H proxy IP details
Applicable roles: Super administrator, system administrator, tenant and other roles with permission to
read the resource pool.
Versions supported: SCP 6.8.0 and later
4.3.11.2. URI
Table 4.3.57 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/azs/{az_id}/g2hproxy/{proxy_id} Query G2H proxy
IP details
Parameter Description:
Table 4.3.58 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
proxy_id path string Rule ID Yes
4.3.11.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-
95bde144b1b1/g2hproxy/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.3.11.4. Response
Response Parameter
Table 4.3.59 Response Parameter¶
Parameter Type Description Required
protocol string View Proxy Protocol for proxy protocol details. No
description string Description No
id string Rule ID No
destination_ip string Dst IP No
destination_port int Dst port No
source_port int Src port No
Response Example:
{
"destination_ip": "200.200.0.232",
"protocol": "TCP",
"description": "Test G2H proxy IP registration - 2",
"source_port": 22345,
"destination_port": 12345,
"id": "2e2a5dbf-c000-425b-84b7-6a8f3fef1ae2"
}
4.3.11.5. Response Code
OK: 200
Errors: 400, 403, 500
4.3.12. Modify G2H proxy IP
4.3.12.1. Scenario
Scenario: Modify the G2H proxy IP
Roles supported: Super admin, system admin, tenant, and other roles with the Resource Pool Write
permission
Versions supported: SCP 6.8.0 and later
4.3.12.2. URI
Table 4.3.60 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/azs/{az_id}/g2hproxy/{proxy_id} Modify G2H
proxy IP
Parameter Description:
Table 4.3.61 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
proxy_id path string Rule ID Yes
4.3.12.3. Request
Request Parameter
Table 4.3.62 Body Parameter¶
Parameter Location Type Description Required
description body string Description No
destination_ip body string Dst IP No
Request Example
https://{SCP_IP}/janus/20180725/azs/5a62a089-5be0-4c99-997f-
95bde144b1b1/g2hproxy/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
{
"destination_ip": "200.200.0.232",
"description": "Test G2H proxy IP editing - 2"
}
4.3.12.4. Response
Response Parameter
Table 4.3.63 Response Parameter¶
Parameter Type Description Required
protocol string View Proxy Protocol for proxy protocol details. No
description string Description No
id string Rule ID No
destination_ip string Dst IP No
destination_port int Dst port No
source_port int Src port No
Response Example:
{
"destination_ip": "200.200.0.232",
"protocol": "TCP",
"description": "Test G2H proxy IP registration - 2",
"source_port": 22345,
"destination_port": 12345,
"id": "2e2a5dbf-c000-425b-84b7-6a8f3fef1ae2"
}
4.3.12.5. Response Code
OK: 200
Errors: 400, 403, 500
4.3.13. Execute the orchestration task in VM
4.3.13.1. Scenario
Scenario: Execute the orchestration task in the VM
Roles supported: Super admin, system admin, and other administrators with the VM Configuration
permission
Versions supported: SCP 6.8.0 and later
4.3.13.2. URI
Table 4.3.64 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/custom/orchestration-tasks/action
Execute the
orchestration task in
VM
Parameter Description:
None
4.3.13.3. Request
Request Parameter
Table 4.3.65 Body Parameter¶
Parameter Location Type Description Required
action body string View SCP operation type for operation
type details. Yes
az_id body string Resource pool ID Yes
encoded_tasks body string Task after Base64 encoding, in YAML
format Yes
Request Example
https://{SCP_IP}/janus/20180725/custom/orchestration-tasks/action
{
"action": "execute",
"az_id": "74763587-5c67-44f2-a16f-dc4a27438313",
"encoded_tasks": "dHlwZTogb25lc2hvdApvcmNoZXN0cmF0aW9uX3ZlcnNpb246
IDEKam9iczoKICAtIG5hbWU6IGxpbnV4X2Jvb3RfY21kCiAg
ICB2bXM6CiAgICAgIC0gMzIyMDQ4NzEwOTAwNwogICAgdGFz
a3M6CiAgICAgIC0gbmFtZTogYmxvY2sxCiAgICAgICAgYmxv
Y2s6CiAgICAgICAgICAtIG5hbWU6IHN0YXQgZmxhZyBmaWxl
CiAgICAgICAgICAgIGFjdGlvbjogc3RhdAogICAgICAgICAg
ICBhcmdzOgogICAgICAgICAgICAgIHBhdGg6ICcvdG1wL2Fi
YycKICAgICAgICAgICAgcmVnaXN0ZXI6IEZsYWdTdGF0SW5m
bwogICAgICAgICAgLSBuYW1lOiBydW4gY29tbWFuZAogICAg
ICAgICAgICBhY3Rpb246IGNvbW1hbmQKICAgICAgICAgICAg
YXJnczoKICAgICAgICAgICAgICBjbWQ6IGVjaG8gMiA+PiAv
dG1wL2FiYwogICAgICAgICAgICB3aGVuOiBlcSAoaW5kZXgg
KGluZGV4IC5GbGFnU3RhdEluZm8gInN0YXQiKSAiZXhpc3Rz
IikgdHJ1ZQ=="
}
4.3.13.4. Response
Response Parameter
Table 4.3.66 Response Parameter¶
Parameter Description Value Returned Required
task_id string ULOG ID Yes
Response Example:
{
"task_id": "2e2a5dbf-c000-425b-84b7-6a8f3fef1ae2"
}
4.3.13.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.14. Obtain current version and cluster information
4.3.14.1. Scenario
Scenario: Obtain the current version and cluster information
Roles supported: Administrator, security admin, and co-administrator with the System Settings Read
permission
Versions supported: SCP 6.8.0 and later
4.3.14.2. URI
Table 4.3.67 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/platform Obtain current version and cluster
information
Parameter Description:
None
4.3.14.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/platform
4.3.14.4. Response
Response Parameter
Table 4.3.68 Response Parameter¶
Parameter Type Description
Value
Returned
version string SCP version Yes
build_time string Creation time Yes
manage_mode string View Operation Mode for operation mode details. Yes
region_info string View Parameter Description - region_info for data
center information. Yes
access_scc int Whether to connect to Sangfor Cloud Yes
dcluster_info string View Parameter Description - region_info for data
center information. Yes
Parameter Description - region_info:
Table 4.3.69 Parameter Description - region_info¶
Parameter Type Description Value Returned
region_id string Region ID Yes
Region name string Region name Yes
region_url string Region path Yes
parent_region string Parent region ID Yes
Parameter Description - dcluster_info:
Table 4.3.70 Parameter Description - dcluster_info¶
Parameter Type Description
Value
Returned
mode string View Cluster Mode for SCP cluster mode details. Yes
cluster_ip string Cluster IP Yes
cluster_port string Cluster management port No
leader_ip string Active node IP No
Response example:
{
"manage_mode": "private_cloud",
"access_scc": 0,
"build_time": "2022-04-22 09:26:13",
"region_info": {
"parent_region": "",
"region_url": "10.134.85.140:4430",
"region_name": "Local data center",
"region_id": "RegionOne"
},
"version": "SCP6.8.0_B",
"dcluster_info": {
"cluster_ip": "10.134.88.12",
"leader_ip": "10.134.85.140",
"cluster_port": 4430,
"mode": "cluster"
}
}
4.3.14.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.15. Query List of Service Data Centers
4.3.15.1. Scenario
Scenario: Query the list of service data centers
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to read services
Versions supported: SCP 6.3.86 and later
4.3.15.2. URI
Table 4.3.71 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/services Query List of Service Data
Centers
Parameter Description:
Table 4.3.72 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
enabled path string Whether to enable this service. Valid
values: 0 and 1. No
type path string View Service Data Center Type for service
data center types. No
status path string View Service Data Center Status for
service data center statuses. No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.3.15.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/services?type=oss&enabled=1
4.3.15.4. Response
Response Parameter
Table 4.3.73 Response Parameter¶
Parameter Type Description
Value
Returned
id string Data center ID No
name string Name No
description string Description No
enabled int(0,
1) Whether the tenant is enabled No
status string View Service Data Center Status for service data center
statuses. No
level string Level No
type string View Service Data Center Type for service data center
types. No
version string Version No
endpoint dict
View Parameter Description - endpoint for the access
address. This parameter is visible to the super
administrator only.
No
Parameter Description - endpoint:
Table 4.3.74 Parameter Description - endpoint¶
Parameter Type Description Required
manage_ip string Management interface
IP Yes
manage_port_id string Management interface
ID Yes
business_ip string Edge-connected
interface IP Yes
business_port_id string Edge-connected
interface ID Yes
external_endpoint string Address for external
access Yes
 Note
1. View Common Response Parameter Format for common response parameters in the API
list.
Response Example:
[
{
"status": "offline",
"endpoint": {
"business_port_id": "12002",
"business_ip": "10.134.33.160",
"manage_ip": "10.134.33.165",
"manage_port_id": "445",
"external_endpoint": ""
},
"name": "10.134.33.168",
"level": "",
"enabled": 1,
"version": "",
"type": "oss",
"id": "8ca2d058-500a-4cac-96af-4a0961892a39",
"description": ""
},
{
"status": "offline",
"endpoint": {
"business_port_id": "443",
"business_ip": "10.212.23.24",
"manage_ip": "10.212.23.30",
"manage_port_id": "443",
"external_endpoint": ""
},
"name": "eds",
"level": "",
"enabled": 1,
"version": "",
"type": "oss",
"id": "bfdbab1f-2ac7-4f91-b45e-2cd857be4117",
"description": ""
}
]
4.3.15.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.16. Query Licensing Information of the cloud platform
4.3.16.1. Scenario
Scenario: Query licensing information of the cloud platform
Roles supported: Super administrator, security administrator, tenant, and co-administrator with
permission to read licenses
Versions supported: SCP 6.3.0 and later
4.3.16.2. URI
Table 4.3.75 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/licenses/summary
Query Licensing
Information of the cloud
platform
Parameter Description:
None
4.3.16.3. Request
Request Parameter
None
Request Example
Scenario: https://{SCP_Endpoint}/janus/20180725/licenses/summary
4.3.16.4. Response
Response Parameter
Table 4.3.76 Response Parameter¶
Parameter Type Description
Value
Returned
username string Username No
server_timestamp int System timestamp No
status int Status Yes
key_id string Ukey ID No
key_timestamp int Ukey timestamp No
products list(dict)
Licensing status of products and components,
view Parameter Description - products for
details.
Yes
 Note
Among the above parameters, tenants cannot view username, server_timestamp, key_id,
key_timestamp.
Parameter Description - products:
Table 4.3.77 Parameter Description - products¶
Parameter Type Description
Value
Returned
name string Product and component name Yes
activated int(0,
1) Licensing status Yes
disable int(0,
1) Whether the license is available Yes
software_time dict
Software expiration date, view Parameter
Description - products software_time&service_time
for details.
Yes
service_time dict Service expiration date, view Parameter Description -
products software_time&service_time for details. Yes
Parameter Description - products software_time&service_time:
Table 4.3.78 Parameter Description - products software_time&service_time¶
Parameter Type Description Value Returned
name string Time name No
expire_timestamp string Expiration
date No
remain_timestamp int Time
remaining No
 Note
1. When the license of the products and components never expires, the value of
expire_timestamp and remain_timestamp is unlimited and -1 respectively.
2. For common response parameters, view Response Format for details
Response example:
{
"status": 0,
"username": "sangfor",
"server_timestamp": 1619668979,
"key_timestamp": 1619668981,
"products": [
{
"software_time": {
"expire_timestamp": "1625500799",
"name": "Software_Expiration_Date",
"remain_timestamp": 5831818
},
"service_time": {},
"activated": 0,
"name": "aHM",
"disable": 1
},
{
"software_time": {
"expire_timestamp": "1625500799",
"name": "Software_Expiration_Date",
"remain_timestamp": 5831818
},
"service_time": {
"expire_timestamp": "1625500799",
"name": "Service_Expiration_Date",
"remain_timestamp": 5831818
},
"activated": 0,
"name": "NGAF",
"disable": 1
}
],
"key_id": "FEFCFE9FC93A0000"
}
4.3.16.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.3.17. Query Physical Machines
4.3.17.1. Query Physical Machines
 Note
This interface needs to support ranking the total capacity and usage of CPU, memory and
storage of physical machines.
4.3.17.1.1. Location
Administrator portal: Resources > Clusters > Cluster Details > Node
4.3.17.1.2. Scenario
Scenario: Query physical machines
Roles supported: Super admin, system admin, tenant, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP6.3.70 and later
4.3.17.1.3. URI
Table 4.3.79 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/hosts Query Physical Machines
Parameter Description:
Table 4.3.80 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.3.17.1.4. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/hosts?az_id=e0403ff4-b1fc-4af4-9a4c-dac8c241eb11
4.3.17.1.5. Response
Response Parameter
Table 4.3.81 Response Parameter¶
Parameter Type Description
Value
Returned
id string Node ID Yes
name string Name Yes
description string Description Yes
type string Type Yes
status string Status, view Physical Machine Status for details. Yes
ip string Node IP Yes
az_id string Resource pool ID Yes
is_use_vs int Whether to use VS Yes
alarm_count int Alert count Yes
reserves dict Reserved memory, view Parameter Description -
virtual_resources for details No
cpu dict CPU information, view Parameter Description - cpu for
details Yes
memory dict Memory information, view Parameter Description -
memory for details Yes
storage dict Storage information, view Parameter Description -
storage for details. Yes
gpu dict GPU information, view Parameter Description - gpu for
details Yes
Parameter Description - reserves:
Table 4.3.82 Parameter Description - virtual_resources¶
Parameter Type Required Note
memory_mb int No Reserved memory (MB)
Parameter Description - cpu:
Table 4.3.83 Parameter Description - cpu¶
Parameter Type Required Note
allocation_max float Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mhz float Yes Totol size (MHZ)
used_mhz float Yes Used size (MHZ)
ratio float Yes CPU Usage
socket_count int Yes Socket count
cores_per_socket int Yes CPU cores per socket
core_count int Yes CPU cores
type string Yes CPU model
Table 4.3.84 Parameter Description - memory¶
Parameter Type Required Note
allocation_max float Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mb float Yes Total size (MB)
used_mb float Yes Used size (MB)
ratio float Yes Memory usage
Table 4.3.85 Parameter Description - storage¶
Parameter Type Required Note
total_mb float Yes Total size (capacity of all disks, MB)
Table 4.3.86 Parameter Description - gpu¶
Parameter Type Required Note
total int Yes Total GPUs
used float Yes Used GPUs
ratio float Yes GPU usage
memory_total_mb float Yes Graphics memory (MB)
memory_used_mb float Yes Used graphics memory (MB)
memory_ratio float Yes Graphics memory usage
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "running",
"description": "",
"ip": "10.132.16.6",
"storage": {
"total_mb": 4105435.9936523438
},
"cpu": {
"used_mhz": 11883.6,
"allocation_ratio": 2.5,
"ratio": 0.45,
"allocation_max": 0.0,
"cores_per_socket": 4,
"socket_count": 1,
"total_mhz": 26408.0,
"type": "Intel(R) Xeon(R) CPU E3-1230 v3 @ 3.30GHz",
"core_count": 4
},
"reserves": {
"memory_mb": 4096
},
"memory": {
"total_mb": 32768.0,
"allocation_ratio": 1.0,
"allocation_max": 0.0,
"used_mb": 17039.36,
"ratio": 0.52
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 0,
"is_use_vs": 1,
"type": "h",
"id": "host-a0369f033a73",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "10.132.16.6"
},
{
"status": "running",
"description": "",
"ip": "10.132.16.5",
"storage": {
"total_mb": 5059305.704589844
},
"cpu": {
"used_mhz": 12939.92,
"allocation_ratio": 2.5,
"ratio": 0.49,
"allocation_max": 0.0,
"cores_per_socket": 4,
"socket_count": 1,
"total_mhz": 26408.0,
"type": "Intel(R) Xeon(R) CPU E3-1230 V2 @ 3.30GHz",
"core_count": 4
},
"reserves": {
"memory_mb": 0
},
"memory": {
"total_mb": 32768.0,
"allocation_ratio": 1.0,
"allocation_max": 0.0,
"used_mb": 19333.12,
"ratio": 0.59
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 0,
"is_use_vs": 1,
"type": "h",
"id": "host-001b21d61e70",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "10.132.16.5"
}
]
4.3.17.1.6. Response Code
OK: 200
Errors: 400, 403, 500
4.3.17.2. Query List of Physical Hosts (20190725)
 Note
This interface needs to support ranking the total capacity and usage of CPU, memory and
storage of physical machines.
4.3.17.2.1. Location
Administrator portal: Resources > Clusters > Cluster Details > Node
4.3.17.2.2. Scenario
Scenario: Query physical machines
Roles supported: Super admin, system admin, tenant, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP 6.10.0 and later
 Note
Compared with version 20180725, the API version 20190725 adds the filtering parameters:
dh_id, cluster_id, type, status, name, and ip, and response parameters dh_id, cluster_id,
system_disk, cluster_name, cluster_type, and serial_number.
4.3.17.2.3. URI
Table 4.3.87 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/hosts Query Physical Machines
Parameter Description:
Table 4.3.88 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID No
dh_id path string Dedicated server group ID No
cluster_id path string Cluster ID No
type path string
Physical host type. Valid values: h (HCI
physical host) and others (VMware physical
host)
No
status path string Physical host status. For details, see
Physical Machine Status. No
name path string Physical host name No
ip path string Node IP No
 Note
For common path parameters details, see Common Path Parameter Format.
4.3.17.2.4. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/hosts?az_id=e0403ff4-b1fc-4af4-9a4c-dac8c241eb11
4.3.17.2.5. Response
Response Parameter
Table 4.3.89 Response Parameter¶
Parameter Type Description
Value
Returned
id string Node ID No
name string Name No
description string Description No
type string Type No
status string Status, view Physical Machine Status for details. No
ip string Node IP No
az_id string Resource pool ID No
is_use_vs int Whether to use VS No
alarm_count int Alert count No
reserves dict Reserved memory size. For details, see list-hostsresponse-
p.arams-reserves-20190725-table. No
cpu dict CPU information. For details, see list-hosts-responseparam.
s-cpu-20190725-table. No
memory dict Memory information. For details, see Parameter
Description - memory. No
storage dict Storage information. For details, see Parameter
Description - storage. No
gpu dict GPU information. For details, see Parameter
Description - gpu. No
dh_id string Dedicated server group ID No
cluster_id string Cluster ID No
system_disk dict System disk information. For details, see Parameter
Description - system_disk No
cluster_name string Cluster name No
cluster_type string Cluster type. For details, see Cluster type. No
serial_number string Serial number of the physical host No
Parameter Description - reserves:
Table 4.3.90 Parameter Description - reserves¶
Parameter Type Required Note
memory_mb int No Reserved memory (MB)
Parameter Description - cpu:
Table 4.3.91 Parameter Description - cpu¶
Parameter Type Required Note
allocation_max int Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mhz float Yes Totol size (MHZ)
used_mhz float Yes Used size (MHZ)
ratio float Yes CPU Usage
socket_count int Yes Socket count
cores_per_socket int Yes CPU cores per socket
core_count int Yes CPU cores
type string Yes CPU model
thread_per_socket int Yes CPU threads per socket
Parameter Description - memory:
Table 4.3.92 Parameter Description - memory¶
Parameter Type Required Note
allocation_max float Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mb float Yes Total size (MB)
used_mb float Yes Used size (MB)
ratio float Yes Memory usage
Parameter Description - storage:
Table 4.3.93 Parameter Description - storage¶
Parameter Type Required Note
total_mb float Yes Total size (capacity of all disks, MB)
Parameter Description - gpu
Table 4.3.94 Parameter Description - gpu¶
Parameter Type Required Note
total int Yes Total GPUs
used float Yes Used GPUs
ratio float Yes GPU usage
memory_total_mb float Yes Graphics memory (MB)
memory_used_mb float Yes Used graphics memory (MB)
memory_ratio float Yes Graphics memory usage
Parameter Description - system_disk:
Table 4.3.95 Parameter Description - system_disk¶
Parameter Type Required Note
status string Yes Disk status
type string Yes Disk type
uuid string Yes Disk tag
online_status int Yes Online status
ssd_remaining_life string Yes SSD remaining
lifetime
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "running",
"name": "10.134.37.11",
"ip": "10.134.37.11",
"storage": {
"total_mb": 3899436.564453125
},
"serial_number": "",
"cpu": {
"used_mhz": 44062.6088,
"allocation_ratio": 2.5,
"ratio": 0.46,
"allocation_max": 70,
"thread_per_socket": 20,
"cores_per_socket": 10,
"socket_count": 2,
"total_mhz": 95788.28,
"type": "Intel(R) Xeon(R) CPU E5-2630 v4 @ 2.20GHz",
"core_count": 20
},
"cluster_name": "10.134.37.12",
"dh_id": "",
"reserves": {
"memory_mb": 0
},
"system_disk": {
"status": "normal",
"type": "SSD",
"uuid": "36000c29a61dc4d4709741bd3bd782e46",
"ssd_remaining_life": "",
"online_status": 1
},
"cluster_id": "bb934ebe-a267-4cd9-805a-c9c107a8c362",
"cluster_type": "hci",
"memory": {
"used_mb": 131072.0,
"allocation_ratio": 1.0,
"total_mb": 262144.0,
"ratio": 0.5,
"allocation_max": 229376.0
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 2,
"is_use_vs": 0,
"type": "h",
"id": "host-6c92bfdbfa60",
"az_id": "ba861c57-d981-4984-88e5-866f3b445b2f",
"description": ""
},
{
"status": "running",
"status": "running",
"name": "200.201.175.212",
"ip": "200.201.175.212",
"storage": {
"total_mb": 2945566.853515625
},
"serial_number": "9E7N000002",
"cpu": {
"used_mhz": 38280.5808,
"allocation_ratio": 2.5,
"ratio": 0.33,
"allocation_max": 70,
"thread_per_socket": 20,
"cores_per_socket": 10,
"socket_count": 2,
"total_mhz": 116001.76,
"type": "Intel(R) Xeon(R) Silver 4210R CPU @ 2.40GHz",
"core_count": 20
},
"cluster_name": "200.201.175.210",
"dh_id": "",
"reserves": {
"memory_mb": 0
},
"system_disk": {
"status": "normal",
"type": "SSD",
"uuid": "49000c29a61dc4d4709741bd3bd782e20",
"ssd_remaining_life": "",
"online_status": 1
},
"cluster_id": "957d4c4b-1592-46a6-9c1f-296a49eae84b",
"cluster_type": "hci",
"memory": {
"used_mb": 73728.0,
"allocation_ratio": 1.0,
"total_mb": 98304.0,
"ratio": 0.75,
"allocation_max": 65536.0
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 0,
"is_use_vs": 1,
"type": "h",
"id": "host-a4bf016563b1",
"az_id": "",
"description": ""
},
]
4.3.17.2.6. Response Code
OK: 200
Errors: 400, 403, 500
4.3.17.3. Query List of Nodes (20240725)
 Note
This interface needs to support ranking the total capacity and usage of CPU, memory and
storage of physical machines.
4.3.17.3.1. Location
Administrator portal: Resources > Clusters > Cluster Details > Node
4.3.17.3.2. Scenario
Scenario: Query physical machines
Roles supported: Super admin, system admin, tenant, and co-administrator with the Resource Pool Read
permission
Versions supported: SCP 6.11.1
 Note
Compared with version 20190725, the API version 20240725 adds the response parameter
storage_iqn and cpu_vendor_id.
4.3.17.3.3. URI
Table 4.3.96 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/hosts Query Physical Machines
Parameter Description:
Table 4.3.97 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID No
dh_id path string Dedicated server group ID No
cluster_id path string Cluster ID No
type path string
Physical host type. Valid values: h (HCI
physical host) and others (VMware physical
host)
No
status path string Physical host status. For details, see
Physical Machine Status. No
name path string Physical host name No
ip path string Node IP No
 Note
For common path parameters details, see Common Path Parameter Format.
4.3.17.3.4. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/hosts?az_id=e0403ff4-b1fc-4af4-9a4c-dac8c241eb11
4.3.17.3.5. Response
Response Parameter
Table 4.3.98 Response Parameter¶
Parameter Type Description
Value
Returned
id string Node ID No
name string Name No
description string Description No
type string Type No
status string Status, view Physical Machine Status for details. No
ip string Node IP No
az_id string Resource pool ID No
is_use_vs int Whether to use VS No
alarm_count int Alert count No
reserves dict Reserved memory size. For details, see Parameter
Description - reserves. No
cpu dict CPU information. For details, see Parameter
Description - cpu. No
memory dict Memory information. For details, see Parameter
Description - memory. No
storage dict Storage information. For details, see Parameter
Description - storage. No
gpu dict GPU information. For details, see Parameter
Description - gpu. No
dh_id string Dedicated server group ID No
cluster_id string Cluster ID No
system_disk dict System disk information. For details, see Parameter
Description - system_disk. No
cluster_name string Cluster name No
cluster_type string Cluster type. For details, see Cluster type. No
serial_number string Serial number of the physical host No
storage_iqn string Storage adapter IQN of the node No
cpu_vendor_id string Node CPU vendor No
Parameter Description - reserves:
Table 4.3.99 Parameter Description - reserves¶
Parameter Type Required Note
memory_mb int No Reserved memory (MB)
Parameter Description - cpu:
Table 4.3.100 Parameter Description - cpu¶
Parameter Type Required Note
allocation_max int Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mhz float Yes Totol size (MHZ)
used_mhz float Yes Used size (MHZ)
ratio float Yes CPU Usage
socket_count int Yes Socket count
cores_per_socket int Yes CPU cores per socket
core_count int Yes CPU cores
type string Yes CPU model
thread_per_socket int Yes CPU threads per socket
Parameter Description - memory:
Table 4.3.101 Parameter Description - memory¶
Parameter Type Required Note
allocation_max float Yes Max available resources
allocation_ratio float Yes Overcommitment
total_mb float Yes Total size (MB)
used_mb float Yes Used size (MB)
ratio float Yes Memory usage
Parameter Description - storage:
Table 4.3.102 Parameter Description - storage¶
Parameter Type Required Note
total_mb float Yes Total size (capacity of all disks, MB)
Parameter Description - gpu
Table 4.3.103 Parameter Description - gpu¶
Parameter Type Required Note
total int Yes Total GPUs
used float Yes Used GPUs
ratio float Yes GPU usage
memory_total_mb float Yes Graphics memory (MB)
memory_used_mb float Yes Used graphics memory (MB)
memory_ratio float Yes Graphics memory usage
Parameter Description - system_disk:
Table 4.3.104 Parameter Description - system_disk¶
Parameter Type Required Note
status string Yes Disk status
type string Yes Disk type
uuid string Yes Disk tag
online_status int Yes Online status
ssd_remaining_life string Yes SSD remaining
lifetime
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "running",
"name": "10.134.37.11",
"ip": "10.134.37.11",
"storage": {
"total_mb": 3899436.564453125
},
"serial_number": "",
"cpu": {
"used_mhz": 44062.6088,
"allocation_ratio": 2.5,
"ratio": 0.46,
"allocation_max": 70,
"thread_per_socket": 20,
"cores_per_socket": 10,
"socket_count": 2,
"total_mhz": 95788.28,
"type": "Intel(R) Xeon(R) CPU E5-2630 v4 @ 2.20GHz",
"core_count": 20
},
"cluster_name": "10.134.37.12",
"dh_id": "",
"reserves": {
"memory_mb": 0
},
"system_disk": {
"status": "normal",
"type": "SSD",
"uuid": "36000c29a61dc4d4709741bd3bd782e46",
"ssd_remaining_life": "",
"online_status": 1
},
"cluster_id": "bb934ebe-a267-4cd9-805a-c9c107a8c362",
"cluster_type": "hci",
"memory": {
"used_mb": 131072.0,
"allocation_ratio": 1.0,
"total_mb": 262144.0,
"ratio": 0.5,
"allocation_max": 229376.0
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 2,
"is_use_vs": 0,
"type": "h",
"id": "host-6c92bfdbfa60",
"az_id": "ba861c57-d981-4984-88e5-866f3b445b2f",
"description": "",
"storage_iqn": "iqn.2005-03.org.open-iscsi:host-0cc47a42a1a0",
"cpu_vendor_id": "AuthenticAMD"
},
},
{
"status": "running",
"name": "200.201.175.212",
"ip": "200.201.175.212",
"storage": {
"total_mb": 2945566.853515625
},
"serial_number": "9E7N000002",
"cpu": {
"used_mhz": 38280.5808,
"allocation_ratio": 2.5,
"ratio": 0.33,
"allocation_max": 70,
"thread_per_socket": 20,
"cores_per_socket": 10,
"socket_count": 2,
"total_mhz": 116001.76,
"type": "Intel(R) Xeon(R) Silver 4210R CPU @ 2.40GHz",
"core_count": 20
},
"cluster_name": "200.201.175.210",
"dh_id": "",
"reserves": {
"memory_mb": 0
},
"system_disk": {
"status": "normal",
"type": "SSD",
"uuid": "49000c29a61dc4d4709741bd3bd782e20",
"ssd_remaining_life": "",
"online_status": 1
},
"cluster_id": "957d4c4b-1592-46a6-9c1f-296a49eae84b",
"cluster_type": "hci",
"memory": {
"used_mb": 73728.0,
"allocation_ratio": 1.0,
"total_mb": 98304.0,
"ratio": 0.75,
"allocation_max": 65536.0
},
"gpu": {
"used": 0.0,
"ratio": 0.0,
"memory_used_mb": 0.0,
"memory_ratio": 0.0,
"total": 0,
"memory_total_mb": 0.0
},
"alarm_count": 0,
"is_use_vs": 1,
"type": "h",
"id": "host-a4bf016563b1",
"az_id": "",
"description": "",
"storage_iqn": "iqn.2005-03.org.open-iscsi:host-a0369f033457",
"cpu_vendor_id": "GenuineIntel"
},
]
4.3.17.3.6. Response Code
OK: 200
Errors: 400, 403, 500
4.4. Cluster Management
4.4.1. Common Cluster Parameters
4.4.1.1. Cluster type
Table 4.4.1 Cluster type¶
Value Description
hci HCI
vmware VMware
4.4.1.2. Cluster Status
Table 4.4.2 Cluster Status¶
Value Description
normal Normal
offline Offline
unauthorized Not licensed
master_offline Cluster controller offline
password_error Password is incorrect.
4.4.1.3. Cluster Licensing Mode
Table 4.4.3 Cluster Licensing Mode¶
Value Description
cluster Standalone mode
platform Platform license
4.4.1.4. Type of Files Uploaded/Downloaded to/from Cluster
Table 4.4.4 Type of Files Uploaded/Downloaded to/from Cluster¶
Value Description
BIOS BIOS
TPM TPM
4.4.2. Obtain cluster license
4.4.2.1. Scenario
Scenario: Obtain a cluster license
Roles supported: Super administrator, system administrator, and other roles with the system read
permission
Versions supported: SCP 6.8.0 and later
4.4.2.2. URI
Table 4.4.5 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/licenses/clusters/{cluster_id}/summary
Obtain
cluster
license
Parameter Description:
Table 4.4.6 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
4.4.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/licenses/clusters/c2d7d903-8a49-4e0f-afe0-
6a3dd8b18633/summary
4.4.2.4. Response
Response Parameter
Table 4.4.7 Response Parameter¶
Parameter Type Description Required
name string Component name Yes
activated int Whether the component license is valid Yes
software_time dict View Parameter Description - software_time: for the
software expiration time. Yes
service_time dict View Parameter Description - service_time for the
service expiration time. No
Parameter Description - software_time:
Table 4.4.8 Parameter Description - software_time:¶
Parameter Type Note Required
name string Time name No
expire_timestamp string Expiration date No
remain_timestamp string Time remaining No
Parameter Description - service_time
Table 4.4.9 Parameter Description - service_time¶
Parameter Type Note Required
name string Time name No
expire_timestamp string Expiration date No
remain_timestamp string Time remaining No
Response Example:
[
{
"software_time": {
"expire_timestamp": "1653465956",
"name": "Software expiration time",
"remain_timestamp": "2352566.02126"
},
"service_time": {
"expire_timestamp": "1653465956",
"name": "Service expiration time",
"remain_timestamp": "2352566.02117"
},
"activated": 1,
"name": "aSV"
},
{
"software_time": {
"expire_timestamp": "1653465956",
"name": "Software expiration time",
"remain_timestamp": "2352567"
},
"service_time": {},
"activated": 1,
"name": "aNET"
}
]
4.4.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.3. Obtain Encrypted Cluster Password
4.4.3.1. Scenario
Scenario: Obtain the encrypted cluster password
Roles supported: Super administrator, system administrator, and other roles with permission to read
resource pools
Versions supported: SCP 6.8.0 and later
4.4.3.2. URI
Table 4.4.10 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/clusters/{cluster_id}/password Obtain Encrypted
Cluster Password
Parameter Description:
Table 4.4.11 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
4.4.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/clusters/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633/password
4.4.3.4. Response
Response Parameter
Table 4.4.12 Response Parameter¶
Parameter Type Description Required
password string Encrypted cluster password Yes
Response Example:
{
"password": "edcee8c6954269f1dabd99c27278a5b0"
}
4.4.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.4. Download File from Cluster
4.4.4.1. Scenario
Scenario: Download a file from an HCI cluster
Roles supported: Super administrator, system administrator, and other roles with permission to
download file from a cluster
Versions supported: SCP 6.10.0 and later
4.4.4.2. URI
Table 4.4.13 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/clusters/{cluster_id}/files/download
Download
File from
Cluster
Parameter Description:
Table 4.4.14 Description¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
file_type path string
Type of the file to be downloaded. For
details, see Type of Files
Uploaded/Downloaded to/from Cluster
Yes
server_id path string VM ID corresponding to the file Yes
snapshot_id path string
VM snapshot ID, which is required if
file_type is set to TPM, specifying the
version of the TPM file to be downloaded.
No
4.4.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/clusters/35d4aac9-f8ac-4519-817c-
2b5266f43c59/files/download?file_type=TPM&server_id=ee66bc83-fcd7-44d4-a0b5-
978f6e74b1bf&snapshot_id=4775bb04-6980-4335-94b3-668265b8f961
4.4.4.4. Response
Binary file
4.4.4.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.5. Upload File to Cluster
 Note
Upload will fail if it is interrupted.
4.4.5.1. Scenario
Scenario: Upload a file to an HCI cluster
Roles supported: Super administrator, system administrator, and other roles with permission to upload
file to a cluster
Versions supported: SCP 6.10.0 and later
4.4.5.1.1. URI
Table 4.4.15 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/clusters/{cluster_id}/files/upload Upload File to
Cluster
Parameter Description:
Table 4.4.16 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
file_type path string
Type of the file to be uploaded. For details,
see Type of Files Uploaded/Downloaded
to/from Cluster.
Yes
server_id path string
VM ID. If this parameter is passed in, the
file will be uploaded to the VM directory,
overwriting any file with the same name;
otherwise, the file will be uploaded to the
global directory, and an error will occur if
the file has the same name as an existing
file.
No
storage_id path string VM datastore ID Yes
file_name path string Name of the file to be uploaded Yes
4.4.5.2. Request
Request Parameter
Put the file into the request body and transfer it in binary format.
Request Example
https://{SCP_IP}/janus/20180725/clusters/35d4aac9-f8ac-4519-817c-2b5266f43c59/files/upload?
file_type=BIOS&storage_id=1fd63ecb_vs_vol_rep3&file_name=bios.vdi555.bin&server_id=6438a177-
1624-40ca-ba19-a4594f2d51e8
4.4.5.2.1. Response
Response Parameter
Table 4.4.17 Response Parameter¶
Parameter Type Description Value Returned
success boolean Upload result Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"success": true
}
4.4.5.2.2. Response Code
OK: 200
Errors: 400, 403, 500
4.4.6. Query cluster list
4.4.6.1. Query cluster list
4.4.6.1.1. Scenario
Scenario: Query the cluster list
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.3.0 and later
4.4.6.1.2. URI
Table 4.4.18 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/clusters Query cluster list
Parameter Description:
Table 4.4.19 Description¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
type path string Cluster type No
name path string Cluster name No
 Note
For common path parameters details, see Common Path Parameter Format.
4.4.6.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/clusters?az_id=c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.6.1.4. Response
Response Parameter
Table 4.4.20 Response Parameter¶
Parameter Type Description Required
id string Cluster ID No
name string Cluster name No
version string Cluster version No
type string View Cluster type for cluster types. No
description string Cluster description No
status string View Cluster type for cluster statuses. No
az_id string Resource pool ID. If no resource pool is added to the
cluster, this parameter is left blank. No
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. No
cpu string View Parameter Description - cpu for the cluster
CPU information. No
memory string View Parameter Description - memory for the
cluster memory information. No
storage string View Parameter Description - storage for the
cluster storage information. No
 Note
For common response parameters, view Response Format for details
Parameter Description - cpu
Table 4.4.21 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.22 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.23 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Response Example:
[
{
"status": "normal",
"authorize_mode": "cluster",
"name": "10.134.128.80",
"project_ids": [
"c97d7651721b40b581e03acb0953c9f2",
"e65fc313394a4b129aa8e49fa6befda0"
],
"storage": {
"total_mb": 23543766.0,
"used_mb": 1535376.0,
"ratio": 0.07
},
"cpu": {
"total_mhz": 287462.28,
"ratio": 0.1,
"used_mhz": 29710.45
},
"version": "6.8.0",
"memory": {
"total_mb": 393216.0,
"used_mb": 105635.09,
"ratio": 0.27
},
"type": "hci",
"id": "6b25f324-abb1-42f8-ad1b-2fc5a04f694a",
"az_id": "d1b77e39-c535-45f7-bccc-84a050718cc4",
"description": ""
}
]
4.4.6.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.6.2. Query List of Clusters (20190725)
4.4.6.2.1. Scenario
Scenario: Query the cluster list
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameters
controller_ip and arch_type.
4.4.6.2.2. URI
Table 4.4.24 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/clusters Query cluster list
Parameter Description:
Table 4.4.25 Description¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
type path string Cluster type No
name path string Cluster name No
 Note
For common path parameters details, see Common Path Parameter Format.
4.4.6.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/clusters?az_id=c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.6.2.4. Response
Response Parameter
Table 4.4.26 Response Parameter¶
Parameter Type Description Required
id string Cluster ID No
name string Cluster name No
version string Cluster version No
type string View Cluster type for cluster types. No
description string Cluster description No
status string View Cluster type for cluster statuses. No
az_id string Resource pool ID. If no resource pool is added to the
cluster, this parameter is left blank. No
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. No
cpu string View Parameter Description - cpu for the cluster
CPU information. No
memory string View Parameter Description - memory for the
cluster memory information. No
storage string View Parameter Description - storage for the
cluster storage information. No
controller_ip string Cluster controller IP No
arch_type string Architecture Type No
 Note
For common response parameters, view Response Format for details
Parameter Description - cpu
Table 4.4.27 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.28 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.29 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Response Example:
[
{
"status": "normal",
"authorize_mode": "cluster",
"name": "10.134.128.80",
"project_ids": [
"c97d7651721b40b581e03acb0953c9f2",
"e65fc313394a4b129aa8e49fa6befda0"
],
"storage": {
"total_mb": 23543766.0,
"used_mb": 1535376.0,
"ratio": 0.07
},
"cpu": {
"total_mhz": 287462.28,
"ratio": 0.1,
"used_mhz": 29710.45
},
"version": "6.8.0",
"memory": {
"total_mb": 393216.0,
"used_mb": 105635.09,
"ratio": 0.27
},
"controller_ip": "10.134.128.11",
"type": "hci",
"id": "6b25f324-abb1-42f8-ad1b-2fc5a04f694a",
"az_id": "d1b77e39-c535-45f7-bccc-84a050718cc4",
"description": ""
}
]
4.4.6.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.6.3. Query List of Clusters (20200725)
4.4.6.3.1. Scenario
Scenario: Query the cluster list
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.9.0 and later
 Note
Compared with version 20190725, the API version 20200725 adds the response parameter ip.
4.4.6.3.2. URI
Table 4.4.30 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/clusters Query cluster list
Parameter Description:
Table 4.4.31 Description¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
type path string Cluster type No
name path string Cluster name No
 Note
For common path parameters details, see Common Path Parameter Format.
4.4.6.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/clusters?az_id=c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.6.3.4. Response
Response Parameter
Table 4.4.32 Response Parameter¶
Parameter Type Description Required
id string Cluster ID No
name string Cluster name No
version string Cluster version No
type string View Cluster type for cluster types. No
description string Cluster description No
status string View Cluster type for cluster statuses. No
az_id string Resource pool ID. If no resource pool is added to the
cluster, this parameter is left blank. No
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. No
cpu string Cluster CPU information. For details, see Parameter
Description - cpu. No
memory string Cluster memory information. For details, see
Parameter Description - memory. No
storage string Cluster storage information. For details, see
Parameter Description - storage. No
controller_ip string Cluster controller IP No
arch_type string Architecture Type No
ip string Cluster IP No
 Note
For common response parameters, view Response Format for details
Parameter Description - cpu
Table 4.4.33 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.34 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.35 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Response Example:
[
{
"status": "normal",
"authorize_mode": "cluster",
"name": "10.134.128.80",
"project_ids": [
"c97d7651721b40b581e03acb0953c9f2",
"e65fc313394a4b129aa8e49fa6befda0"
],
"storage": {
"total_mb": 23543766.0,
"used_mb": 1535376.0,
"ratio": 0.07
},
"cpu": {
"total_mhz": 287462.28,
"ratio": 0.1,
"used_mhz": 29710.45
},
"version": "6.8.0",
"memory": {
"total_mb": 393216.0,
"used_mb": 105635.09,
"ratio": 0.27
},
"controller_ip": "10.134.128.11",
"type": "hci",
"id": "6b25f324-abb1-42f8-ad1b-2fc5a04f694a",
"az_id": "d1b77e39-c535-45f7-bccc-84a050718cc4",
"description": "",
"ip": "192.168.0.10"
}
]
4.4.6.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.6.4. Query List of Clusters (20210725)
4.4.6.4.1. Scenario
Scenario: Query the cluster list
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.10.0 and later
 Note
Compared with version 20200725, the API version 20210725 adds the response parameter
sp_list.
4.4.6.4.2. URI
Table 4.4.36 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20210725/clusters Query cluster list
Parameter Description:
Table 4.4.37 Description¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
type path string Cluster type No
name path string Cluster name No
 Note
For common path parameters details, see Common Path Parameter Format.
4.4.6.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20210725/clusters?az_id=c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.6.4.4. Response
Response Parameter
Table 4.4.38 Response Parameter¶
Parameter Type Description Required
id string Cluster ID No
name string Cluster name No
version string Cluster version No
type string View Cluster type for cluster types. No
description string Cluster description No
status string View Cluster type for cluster statuses. No
az_id string Resource pool ID. If no resource pool is added to
the cluster, this parameter is left blank. No
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. No
cpu string Cluster CPU information. For details, see
Parameter Description - cpu. No
memory string Cluster memory information. For details, see
Parameter Description - memory. No
storage string Cluster storage information. For details, see
Parameter Description - storage. No
controller_ip string Cluster controller IP No
arch_type string Architecture Type No
ip string Cluster IP No
sp_list list(dict) List of SP versions. For details, see Parameter
Description - sp_list. No
 Note
For common response parameters, view Response Format for details
Parameter Description - cpu
Table 4.4.39 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.40 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.41 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Parameter Description - sp_list
Table 4.4.42 Parameter Description - sp_list¶
Parameter Type Note Required
name string SP version Yes
Response Example:
[
{
"status": "normal",
"authorize_mode": "cluster",
"name": "10.134.128.80",
"project_ids": [
"c97d7651721b40b581e03acb0953c9f2",
"e65fc313394a4b129aa8e49fa6befda0"
],
"storage": {
"total_mb": 23543766.0,
"used_mb": 1535376.0,
"ratio": 0.07
},
"cpu": {
"total_mhz": 287462.28,
"ratio": 0.1,
"used_mhz": 29710.45
},
"version": "6.8.0",
"memory": {
"total_mb": 393216.0,
"used_mb": 105635.09,
"ratio": 0.27
},
"controller_ip": "10.134.128.11",
"type": "hci",
"id": "6b25f324-abb1-42f8-ad1b-2fc5a04f694a",
"az_id": "d1b77e39-c535-45f7-bccc-84a050718cc4",
"description": "",
"ip": "192.168.0.10",
"sp_list": [
{
"name": "sp-HCI-sccDR-20220517"
}
]
}
]
4.4.6.4.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.7. Query cluster details
4.4.7.1. Query cluster details
4.4.7.1.1. Scenario
Scenario: Query cluster details
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.8.0 and later
4.4.7.1.2. URI
Table 4.4.43 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/clusters/{cluster_id} Query cluster
details
Parameter Description:
Table 4.4.44 Description¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
4.4.7.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/clusters/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.7.1.4. Response
Response Parameter
Table 4.4.45 Response Parameter¶
Parameter Type Description Required
id string Cluster ID Yes
cluster_id string Cluster ID returned by HCI Yes
cluster_ip string Cluster IP Yes
name string Cluster name Yes
version string Cluster version Yes
type string View Cluster type for cluster types. Yes
description string Cluster description Yes
port int Port Yes
status string View Cluster type for cluster statuses. Yes
az_id string Resource pool ID. If no resource pool is added to the
cluster, this parameter is left blank. Yes
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. Yes
cpu string View Parameter Description - cpu for the cluster
CPU information. Yes
memory string View Parameter Description - memory for the
cluster memory information. Yes
storage string View Parameter Description - storage for the
cluster storage information. Yes
controller_ip string Cluster controller IP No
Parameter Description - cpu
Table 4.4.46 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.47 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.48 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Response Example:
{
"cluster_ip": "10.134.37.12",
"status": "normal",
"authorize_mode": "platform",
"name": "10.134.37.12",
"project_ids": [
"0440d26b029a4d28b3af0914a7af471f",
"4b7ef63232e74fb2baa36f0713a8d90e"
],
"storage": {
"used_mb": 2152367.0,
"total_mb": 3551232.0,
"ratio": 0.61
},
"id": "b7d4245c-e1df-42ef-8828-4a91ffb54045",
"port": 443,
"version": "6.7.0.R1",
"cluster_id": "",
"memory": {
"used_mb": 131490.8,
"total_mb": 262144.0,
"ratio": 0.5
},
"controller_ip": "10.134.37.11",
"type": "hci",
"cpu": {
"total_mhz": 95786.2,
"ratio": 0.49,
"used_mhz": 46935.24
},
"az_id": "572655ad-57c2-4ecd-91a9-87bfa12d896b",
"description": ""
}
4.4.7.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.4.7.2. Query Cluster Details (20190725)
4.4.7.2.1. Scenario
Scenario: Query cluster details
Roles supported: Super administrator, system administrator, and other roles with permission to query the
resource pool list
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameter
arch_type.
4.4.7.2.2. URI
Table 4.4.49 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/clusters/{cluster_id} Query cluster
details
Parameter Description:
Table 4.4.50 Description¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
4.4.7.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/clusters/c2d7d903-8a49-4e0f-afe0-6a3dd8b18633
4.4.7.2.4. Response
Response Parameter
Table 4.4.51 Response Parameter¶
Parameter Type Description Required
id string Cluster ID Yes
cluster_id string Cluster ID returned by HCI Yes
cluster_ip string Cluster IP Yes
name string Cluster name Yes
version string Cluster version Yes
type string View Cluster type for cluster types. Yes
description string Cluster description Yes
port int Port Yes
status string View Cluster type for cluster statuses. Yes
az_id string Resource pool ID. If no resource pool is added to the
cluster, this parameter is left blank. Yes
project_ids string IDs of tenants bound to the cluster No
authorize_mode string View Cluster Licensing Mode for cluster licensing
modes. Yes
cpu string View Parameter Description - cpu for the cluster
CPU information. Yes
memory string View Parameter Description - memory for the
cluster memory information. Yes
storage string View Parameter Description - storage for the
cluster storage information. Yes
controller_ip string Cluster controller IP No
arch_type string Architecture Type Yes
Parameter Description - cpu
Table 4.4.52 Parameter Description - cpu¶
Parameter Type Note Required
total_mhz float Total clock speed of CPU
(MHz) Yes
used_mhz float Real-time clock speed of
CPU (MHz) Yes
ratio float CPU Usage Yes
Parameter Description - memory
Table 4.4.53 Parameter Description - memory¶
Parameter Type Note Required
total_mb float Total memory size (MB) Yes
used_mb float Used memory size (MB) Yes
ratio float Memory usage Yes
Parameter Description - storage
Table 4.4.54 Parameter Description - storage¶
Parameter Type Note Required
total_mb float Total storage capacity (MB) Yes
used_mb float Used storage capacity (MB) Yes
ratio float Storage usage Yes
Response Example:
{
"cluster_ip": "10.131.196.138",
"status": "normal",
"authorize_mode": "cluster",
"name": "10.131.196.138",
"arch_type": "hci_x86",
"project_ids": [
"311b0b6d1eed4d24aafe222390a2ce0b",
"60ce87e49f674723bb5b87a670580bb6",
"4c9c7570d60840aebf3c7ffe7ca427c6",
"e0c85c76607b40d8b2643161cf8d594d"
],
"storage": {
"used_mb": 318748.0,
"total_mb": 2884744.0,
"ratio": 0.11
},
"id": "4d56a340-4212-4724-b0b6-704b97bd63ec",
"port": 443,
"version": "6.9.0",
"cluster_id": "authkey@693a53a2ce09e46fec0336babf17479f",
"memory": {
"used_mb": 37566.85,
"total_mb": 81920.0,
"ratio": 0.46
},
"controller_ip": "10.131.202.41",
"type": "hci",
"cpu": {
"total_mhz": 46399.98,
"ratio": 0.37,
"used_mhz": 16935.99
},
"az_id": "0e4b59e3-0022-483a-a943-653938fcd012",
"description": "10.131.196.138"
}
4.4.7.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.5. Consistency Groups
4.5.1. Common Consistency Group Parameters
4.5.1.1. Consistency Group Snapshot Types
Table 4.5.1 Consistency Group Snapshot Types¶
Value Description
vs vs
4.5.1.2. VM Clone Types
Table 4.5.2 VM Clone Types¶
Value Description
full Full clone
fast Instant full clone
link Linked clone
4.5.2. Create consistency group snapshot
4.5.2.1. Scenario
Scenario: Create a consistency group snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.2.2. URI
Table 4.5.3 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/consistency-groups/{cg_id}/snapshots
Create
consistency
group snapshot
Parameter Description:
Table 4.5.4 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group
ID Yes
4.5.2.3. Request
Request Parameter
Table 4.5.5 Body Parameter¶
Parameter Location Type Description Required
name body string Name Yes
description body string Description Yes
snapshot_type body string View Consistency Group Snapshot
Types for snapshot types. No
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-
a05b9b01e7cd/snapshots
{
"name": "cg_snapshot_test",
"description": "this is desc",
"snapshot_type": "vs"
}
4.5.2.4. Response
Response Parameter
Table 4.5.6 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.5.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.5.3. Edit consistency group snapshot
4.5.3.1. Scenario
Scenario: Edit a consistency group snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.3.2. URI
Table 4.5.7 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/consistencygroups/{
cg_id}/snapshots/{snap_id}
Edit
consistency
group
snapshot
Parameter Description:
Table 4.5.8 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
snap_id path string Consistency group
snapshot ID Yes
4.5.3.3. Request
Request Parameter
Table 4.5.9 Body Parameter¶
Parameter Location Type Description Required
snapshot body dict
View Parameter Description - cg_snapshot
for the information about consistency
group snapshots to be updated.
Yes
Parameter Description - cg_snapshot
Table 4.5.10 Parameter Description - cg_snapshot¶
Parameter Type Note Required
name string Name Yes
description string Description No
is_protected int Whether the snapshot is
protected No
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-
a05b9b01e7cd/snapshots/eebde075-32d9-41fc-aa39-4edf776abe7e
{
"name": "cg_snapshot_test",
"description": "this is desc",
"snapshot_type": "vs"
}
4.5.3.4. Response
Response Parameter
Table 4.5.11 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.5.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.5.4. Delete consistency group
4.5.4.1. Scenario
Scenario: Delete a consistency group
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.4.2. URI
Table 4.5.12 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/consistency-groups/{cg_id}
Delete
consistency
group
Parameter Description:
Table 4.5.13 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
4.5.4.3. Request
Request Parameter
Table 4.5.14 Body Parameter¶
Parameter Location Type Description Required
delete_server body string Whether to delete the VM. 0: No,
1: Yes No
delete_share_disk body string Whether to delete the shared disk.
0: No, 1: Yes No
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-a05b9b01e7cd
{
"delete_server": "0",
"delete_share_disk": "1"
}
4.5.4.4. Response
Response Parameter
Table 4.5.15 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.5.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.5.5. Delete consistency group snapshot
4.5.5.1. Scenario
Scenario: Delete a consistency group snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.5.2. URI
Table 4.5.16 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/consistencygroups/{
cg_id}/snapshots/{snap_id}
Delete
consistency
group
snapshot
Parameter Description:
Table 4.5.17 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
snap_id path string Consistency group
snapshot ID Yes
4.5.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-a05b9b01e7cd
4.5.5.4. Response
Response Parameter
Table 4.5.18 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.5.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.5.6. Recover from Consistency Group Snapshot
4.5.6.1. Scenario
Scenario: Recover from a consistency group snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.6.2. URI
Table 4.5.19 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/consistencygroups/{
cg_id}/snapshots/{snap_id}/recovery
Recover from a
consistency
group snapshot
Parameter Description:
Table 4.5.20 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
snap_id path string Consistency group
snapshot ID Yes
4.5.6.3. Request
Request Parameter
Table 4.5.21 Body Parameter¶
Parameter Location Type Description Required
snapshot body dict
View Parameter Description - snapshot for
parameters related to consistency group
snapshot rollback.
No
Parameter Description - snapshot
Table 4.5.22 Parameter Description - snapshot¶
Parameter Type Note Required
power_on int Whether to power on the VM automatically after
recovery is completed. Valid values: 0 and 1. No
snapshot int Whether to create a snapshot automatically
before recovery. Valid values: 0 and 1. No
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-
a05b9b01e7cd/snapshots/eebde075-32d9-41fc-aa39-4edf776abe7e/recovery
{
"snapshot": {
"power_on": 0,
"snapshot": 0
}
}
4.5.6.4. Response
Response Parameter
Table 4.5.23 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.5.6.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.5.7. Obtain Consistency Group Summary
4.5.7.1. Scenario
Scenario: Obtain the consistency group summary
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.7.2. URI
Table 4.5.24 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/consistency-groups/summary Obtain the consistency
group summary list
Parameter Description:
Table 4.5.25 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID Yes
cg_ids path string SCP consistency group IDs
separated by commas (,) No
server_ids path string VM IDs separated by commas (,) No
4.5.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/summary?az_id=bf024843-f292-4cea-9744-
29d23ad24b6c&cg_ids=baee778b-c61f-4bfc-90a8-86ec6d585cca,64ee7a9b-e4bd-419e-8d78-
b4711388e371&server_ids=b66b8b42-c5ec-4b87-bf4c-5c72569aa318,c58d6324-2a5a-46ea-bf85-
baec89ae1139
4.5.7.4. Response
Response Parameter
Table 4.5.26 Response Parameter¶
Parameter Type Description
Value
Returned
servers list IDs of consistency group VMs and HCI VMs Yes
description string Consistency group description Yes
name string Consistency group name Yes
cluster_cg_id string HCI consistency group ID Yes
id string SCP consistency group ID Yes
cluster_id string Cluster ID Yes
az_id string Resource pool ID Yes
user_id string User ID Yes
project_id string Tenant ID Yes
Response Example:
{
"servers": [
"add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"cad7869e-a0fa-4f0b-a6a4-f53d248f27a4"
],
"description": "desc",
"name": "cg_name",
"cluster_cg_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a0",
"id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a1",
"cluster_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a2",
"az_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a3",
"user_id": "a1d29a3fd94048c08758ab12d34a908a",
"project_id": "b1d29a3fd94048c08758ab12d34a908f"
}
4.5.7.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.5.8. Clone consistency group from snapshot
4.5.8.1. Clone consistency group from snapshot
4.5.8.1.1. Scenario
Scenario: Clone a consistency group from a snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.5.8.1.2. URI
Table 4.5.27 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/consistencygroups/{
cg_id}/snapshots/{snap_id}/clone
Clone
consistency
group from
snapshot
Parameter Description:
Table 4.5.28 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
snap_id path string Consistency group
snapshot ID Yes
4.5.8.1.3. Request
Request Parameter
Table 4.5.29 Body Parameter¶
Parameter Location Type Description Required
name body string Name Yes
description body string Description Yes
group_id body string ID of the destination group No
clone_type body string View VM Clone Types for clone
types. No
retain_type body int Whether to retain the VM type No
power_on body int
Whether to power on the VM
automatically when clone is
completed
No
disable_network body int Whether to enable the NIC for the
VM after cloning No
servers body list
View Parameter Description -
servers for the clone configuration of
VMs in the consistency group.
Yes
Parameter Description - servers
Table 4.5.30 Parameter Description - servers¶
Parameter Type Note Required
id string ID of the parent VM Yes
name string Name of the cloned VM Yes
compute_location string Running location No
Request Example
https://{SCP_IP}/janus/20180725/consistency-groups/5487c8b6-6965-44c1-8fd9-
a05b9b01e7cd/snapshots/eebde075-32d9-41fc-aa39-4edf776abe7e/clone
{
"name": "cg_name",
"description": "desc",
"group_id": "920b1daa-b612-4683-b7ac-d48de741e4f0",
"clone_type": "full",
"retain_type": 1,
"power_on": 1,
"disable_network": 1,
"servers": [
"add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"cad7869e-a0fa-4f0b-a6a4-f53d248f27a4"
],
}
4.5.8.1.4. Response
Response Parameter
Table 4.5.31 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
server_ids list IDs of cloned VMs Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"server_ids": [
"add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"cad7869e-a0fa-4f0b-a6a4-f53d248f27a4"
]
}
4.5.8.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.5.8.2. Clone Consistency Group from Snapshot (20190725)
4.5.8.2.1. Scenario
Scenario: Clone a consistency group from a snapshot
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20180725, the API version 20190725 replaces the response
parameter server_ids with servers.
4.5.8.2.2. URI
Table 4.5.32 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/consistencygroups/{
cg_id}/snapshots/{snap_id}/clone
Clone
consistency
group from
snapshot
Parameter Description:
Table 4.5.33 Path Parameters¶
Parameter Location Type Description Required
cg_id path string Consistency group ID Yes
snap_id path string Consistency group
snapshot ID Yes
4.5.8.2.3. Request
Request Parameter
Table 4.5.34 Body Parameter¶
Parameter Location Type Description Required
name body string Name No
description body string Description No
group_id body string ID of the destination group No
clone_type body string View VM Clone Types for clone
types. No
retain_type body int Whether to retain the VM type No
power_on body int
Whether to power on the VM
automatically when clone is
completed
No
disable_network body int Whether to enable the NIC for the
VM after cloning No
servers body list
View Parameter Description -
servers for the clone configuration of
VMs in the consistency group.
No
Parameter Description - servers
Table 4.5.35 Parameter Description - servers¶
Parameter Type Note Required
id string ID of the parent VM Yes
name string Name of the cloned VM No
compute_location string Running location No
Request Example
https://{SCP_IP}/janus/20190725/consistency-groups/5487c8b6-6965-44c1-8fd9-
a05b9b01e7cd/snapshots/eebde075-32d9-41fc-aa39-4edf776abe7e/clone
{
"name": "cg_name",
"description": "desc",
"group_id": "920b1daa-b612-4683-b7ac-d48de741e4f0",
"clone_type": "full",
"retain_type": 1,
"power_on": 1,
"disable_network": 1,
"servers": [
"add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"cad7869e-a0fa-4f0b-a6a4-f53d248f27a4"
],
}
4.5.8.2.4. Response
Response Parameter
Table 4.5.36 Response Parameter¶
Parameter Type Description
Value
Returned
task_id string ULOG task ID Yes
servers list
View Parameter Description - clone_servers_map for the
list of mappings between IDs of parent VMs and cloned
VMs.
Yes
Parameter Description - clone_servers_map
Table 4.5.37 Parameter Description - clone_servers_map¶
Parameter Type Note Required
id string ID of the parent VM Yes
clone_id string ID of the cloned VM Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"servers": [
{
"id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"clone_id": "03bbdf03-9f4c-4d7c-b2bf-4b6af9563de0"
}
]
}
4.5.8.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.6. Tenants
4.6.1. Common Parameters of Tenants
4.6.1.1. Resouce Pool Type
Table 4.6.1 Resouce Pool Type¶
Value Description
hci HCI resource pool
vmware VMware resource pool
4.6.1.2. Resource Pool Tag
Table 4.6.2 Resource Pool Tag¶
Value Description
private Dedicated resource pool
public Shared resource pool
4.6.1.3. Dedicated Server Group Tag
Table 4.6.3 Dedicated Server Group Tag¶
Value Description
private Allocated to a single tenant
public Shared by multiple tenants
4.6.1.4. Roles
Table 4.6.4 Roles¶
Value Description
admin Super administrator
tenant Tenant administrator
member Tenant user
custom_admin Platform administrator
custom_tenant Tenant co-administrator
msp MSP administrator
4.6.2. Query Tenant
4.6.2.1. Scenario
Scenario: Get tenant’s detailed information
Roles supported: Super admin, system admin, tenant, and co-administrator with the User Read
permission
Versions supported: SCP6.3.70 and later
 Note
Tenants can only obtain their own information.
4.6.2.2. URI
Table 4.6.5 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/projects/{project_id} Query Tenant
Parameter Description:
Table 4.6.6 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID Yes
4.6.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/projects/8e9fbbc04d7b40f6bc3bbe549fd1655a
4.6.2.4. Response
Response Parameter
Table 4.6.7 Response Parameter¶
Parameter Type Description
Value
Returned
id string Tenant ID No
name string Tenant name No
enabled int Whether the tenant is enabled No
role_type string Role type, view Roles for details. No
parent_id string
Parent user ID (MSP administrator for current
version). This parameter is an empty string by default,
meaning that the tenant belongs to administrator
Yes
project_admin dict Tenant administrator, view Parameter Description -
project_admin for details. Yes
azs list Resource pools, view Parameter Description - azs for
details No
dhs list Dedicated server groups, view Description of the
parameter dhs for details. No
description string Description Yes
 Note
If the parameter parent_id is empty, the parent user is administrator. If not, its parent user is
MSP administrator.
 Note
For common response parameters, view Response Format for details
Parameter Description - project_admin
Table 4.6.8 Parameter Description - project_admin¶
Parameter Type Description Value Returned
user_name string Username of tenant Yes
user_id string User ID Yes
mail string Email address Yes
phone string Mobile phone number Yes
auth_driver string Authentication type, Enum[‘local’,’ldap’] No
Parameter Description - azs
Table 4.6.9 Parameter Description - azs¶
Parameter Type Description
Value
Returned
az_id string Resource pool ID Yes
type string Resource pool type, view Resouce Pool Type for
details. Yes
az_name string Resource pool name Yes
az_tag string Resource pool tag, view Resource Pool Tag for
details. Yes
dh_ids list Dedicated server group IDs Yes
arch_type string Architecture Type No
Description of the parameter dhs
Table 4.6.10 Description of the parameter dhs¶
Parameter Type Description
Value
Returned
az_id string Resource pool ID Yes
dh_id string Dedicated server ID Yes
dh_name string Dedicated server name Yes
tag string Dedicated server tag, view Dedicated Server Group Tag
for details. Yes
Response Example:
{
"parent_id": "3b3cefbc02d543868d4e68f3d8137fde",
"enabled": 1,
"role_type": "tenant",
"id": "8e9fbbc04d7b40f6bc3bbe549fd1655a",
"name": "aaa",
"description": "new",
"auth_driver": "local",
"project_admin": {
"user_name": "tenant_admin",
"user_id": "dea0d2db3e9e4a5ca4f64d35813ab173",
"mail": "aaa@123.com",
"phone": "13412345678",
"auth_driver": "local"
},
"azs": [
{
"dh_ids": [],
"az_tag": "public",
"type": "hci",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"az_name": "1.75"
}
],
"dhs": [
{
"dh_id": "5ec0ddb0-d651-4aab-aaef-e2a178652e02",
"dh_name": "DH01",
"tag": "public",
"az_id": "611f1b34-c727-4925-854e-07bc8607f681"
}
]
}
4.6.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.6.3. Create a Tenant
4.6.3.1. Scenario
Scenario: Create a tenant
Roles supported: Super admin, system admin, MSP admin, and co-administrator with the User
Configuration permission
Versions supported: SCP6.3.70 and later
4.6.3.2. URI
Table 4.6.11 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/projects Create a Tenant
Parameter Description:
None
4.6.3.3. Request
Request Parameter
Table 4.6.12 Body Parameter¶
Parameter Location Type Description Required
project body dict Tenant’s information, view Parameter
Description - project for details. Yes
Parameter Description - project
Table 4.6.13 Parameter Description - project¶
Parameter Location Type Description Required
id body string Tenant ID No
name body string Tenant name Yes
description body string Description No
parent_id body string MSP administrator ID, only available in
MSP mode No
project_admin body dict
User information, view Parameter
Description - project-project_admin for
details.
Yes
Parameter Description - project-project_admin
Table 4.6.14 Parameter Description - project-project_admin¶
Parameter Location Type Description Required
user_id body string User ID No
user_name body string Username of tenant Yes
mail body string Email address Yes
phone body string Mobile phone number Yes
password body string
Encrypted password, view encryption
method in Token-Based Authentication for
details.
Yes
Request Example
https://{SCP_IP}/janus/20180725/projects
{
"project": {
"id": "8e9fbbc04d7b40f6bc3bbe549fd1655a",
"name": "tenant",
"parent_id": "3b3cefbc02d543868d4e68f3d8137fde",
"description": "",
"project_admin": {
"user_name": "tenant_admin",
"mail": "aaa@123.com",
"phone": "13412345678",
"password": "xxxxxx"
}
}
}
4.6.3.4. Response
Response Parameter
Table 4.6.15 Response Parameter¶
Parameter Type Description
Value
Returned
project dict Tenant information, view Parameter Description - project
for details. Yes
 Note
For common response parameters, view Response Format for details
Parameter Description - project
Table 4.6.16 Parameter Description - project¶
Parameter Type Description
Value
Returned
id string Tenant’s project ID Yes
name string Tenant name Yes
description string Description Yes
enabled int Check whether the tenant is available Yes
parent_id string Tenant’s parent_id Yes
created_at string ISO 8601, for example: “2020-12-01T03:17:42Z” Yes
updated_at string ISO 8601, for example: “2020-12-01T03:17:42Z” Yes
project_admin dict User information, view Parameter Description -
project_admin for details. Yes
Parameter Description - project_admin
Table 4.6.17 Parameter Description - project_admin¶
Parameter Type Description Value Returned
user_name string Username of tenant Yes
user_id string User ID Yes
mail string Email address Yes
phone string Mobile phone number Yes
Response Example:
{
"project": {
"name": "tenant",
"id": "8e9fbbc04d7b40f6bc3bbe549fd1655a",
"parent_id": "",
"enabled": 1,
"description": "",
"project_admin": {
"user_name": "tenant_admin",
"user_id": "dea0d2db3e9e4a5ca4f64d35813ab173",
"mail": "aaa@123.com",
"phone": "13412345678"
},
"created_at": "2020-12-21T03:07:40Z",
"updated_at": ""
}
}
4.6.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.6.4. Edit tenant
4.6.4.1. Scenario
Scenario: Edit tenant information
Roles supported: Super admin, system admin, MSP admin, and co-administrator with the User
Configuration permission
Versions supported: SCP6.3.70 and later
4.6.4.2. URI
Table 4.6.18 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/projects/{project_id} Edit tenant
Parameter Description:
Table 4.6.19 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID Yes
4.6.4.3. Request
Request Parameter
Table 4.6.20 Body Parameter¶
Parameter Location Type Description Required
name body string Tenant name No
phone body string Tenant’s phone number No
mail body string Tenant’s email address No
description body string Description No
parent_id body string The parent tenant ID to be changed,
available in MSP mode. No
Request Example
https://{SCP_IP}/janus/20180725/projects/e3c6b8e870c84a90be87eddfbf7ae12f
{
"project": {
"name": "aaa",
"mail": "aaa@123.com",
"phone": "13412345678",
"description": "desc",
"parent_id": "3b3cefbc02d543868d4e68f3d8137fde",
}
}
4.6.4.4. Response
Response Parameter
Table 4.6.21 Response Parameter¶
Parameter Type Description
Value
Returned
project dict Tenant information, view Parameter Description - project
for details. Yes
Parameter Description - project
Table 4.6.22 Parameter Description - project¶
Parameter Type Description
Value
Returned
id string Tenant’s project ID Yes
name string Tenant name Yes
description string Description Yes
enabled int Check whether the tenant is available Yes
parent_id string Tenant’s parent_id Yes
created_at string ISO 8601, for example: “2020-12-01T03:17:42Z” Yes
updated_at string ISO 8601, for example: “2020-12-01T03:17:42Z” Yes
project_admin dict User information, view Parameter Description -
project_admin for details. Yes
Parameter Description - project_admin
Table 4.6.23 Parameter Description - project_admin¶
Parameter Type Description Value Returned
user_name string Username of tenant Yes
user_id string User ID Yes
mail string Email address Yes
phone string Mobile phone number Yes
Response Example:
{
"project": {
"name": "tenant",
"id": "8e9fbbc04d7b40f6bc3bbe549fd1655a",
"parent_id": "",
"enabled": 1,
"description": "",
"project_admin": {
"user_name": "tenant_admin",
"user_id": "dea0d2db3e9e4a5ca4f64d35813ab173",
"mail": "aaa@123.com",
"phone": "13412345678"
},
"created_at": "2020-12-21T03:07:40Z",
"updated_at": ""
}
}
4.6.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.6.5. Delete tenant
4.6.5.1. Scenario
Scenario: Delete the specified tenant
Roles supported: Super admin, system admin, MSP admin, and co-administrator with the User
Configuration permission
Versions supported: SCP6.3.70 and later
 Note
1. The admin and the platform administrator with permission to configure users can delete
tenants on the platform.
2. MSP administrators can only delete their own tenants.
3. Before deleting a tenant, you need to clean up all the resources of the tenant, including
VMs, network devices, elastic IPs, etc., otherwise the deletion will fail.
4.6.5.2. URI
Table 4.6.24 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/projects/{project_id} Delete
tenant
Parameter Description:
Table 4.6.25 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID Yes
4.6.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/projects/8e9fbbc04d7b40f6bc3bbe549fd1655a
4.6.5.4. Response
Response Parameter
None, no return value for successful request.
Response Example:
None
4.6.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.6.6. Associate resource pool for tenants
4.6.6.1. Scenario
Scenario: Associate resource pools or dedicated server groups for tenants
Roles supported: Super admin, system admin, MSP admin, and co-administrator with the User
Configuration and Resource Pool Configuration permissions
Versions supported: SCP6.3.70 and later
4.6.6.2. URI
Table 4.6.26 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/projects/{project_id}/azs
Associate
resource pool for
tenants
Parameter Description:
Table 4.6.27 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID Yes
4.6.6.3. Request
Request Parameter
Table 4.6.28 Body Parameter¶
Parameter Location Type Description Required
azs body list Resource pool list, view Parameter
Description - azs for details. Yes
Parameter Description - azs
Table 4.6.29 Parameter Description - azs¶
Parameter Location Type Description Required
az_id body string Resource pool ID No
dh_id body string Dedicated host group
ID No
Request Example
https://{SCP_IP}/janus/20180725/projects/8e9fbbc04d7b40f6bc3bbe549fd1655a/azs
{
"azs": [
{
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"dh_id": "027ab8a7-07eb-4819-94db-40ea593b6695"
}
]
}
4.6.6.4. Response
Response Parameter
Table 4.6.30 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.6.6.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.6.7. Disassociate resource pool from tenant
4.6.7.1. Scenario
Scenario: Disassociate resource pools from the tenant
Roles supported: Super admin, system admin, MSP admin, and co-administrator with the User
Configuration and Resource Pool Configuration permissions
Versions supported: SCP6.3.70 and later
 Note
It is required to check whether all tenant’s resources in the resource pool are cleaned up.
4.6.7.2. URI
Table 4.6.31 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/projects/{project_id}/azs/{az_id}
Disassociate
resource pool from
tenant
Parameter Description:
Table 4.6.32 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID Yes
az_id path string Resource pool
ID Yes
4.6.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/projects/8e9fbbc04d7b40f6bc3bbe549fd1655a/azs/1c13ef3ea049-
4fc8-bc01-a2b5b279d46b
4.6.7.4. Response
Response Parameter
None
Response Example:
None
4.6.7.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.6.8. Get Tenants
4.6.8.1. Get Tenants
4.6.8.1.1. Scenario
Scenario:
Administrator queries tenant list.
MSP administrator queries tenant list.
Tenants query tenant list (only return their own tenants).
Applicable roles: Super administrator, system administrator, tenant and other administrators with
permission to read users.
Versions supported: SCP 6.3.0 and later
4.6.8.1.2. URI
Table 4.6.33 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/projects Get Tenants
Parameter Description:
Table 4.6.34 Path Parameters¶
Parameter Location Type Description Required
keywords path string Search tenant by name No
az_id path string Resource pool ID No
az_type path string Resource pool type, view Resouce Pool
Type for details. No
dh_id path string Dedicated server group ID No
enabled path int Whether the tenant is enabled [0, 1] No
4.6.8.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/projects?keywords=tjc
4.6.8.1.4. Response
Response Parameter
Table 4.6.35 Response Parameter¶
Parameter Type Description
Value
Returned
id string Tenant ID No
name string Tenant name No
user_name string Username No
role_type string User role No
azs list Associated resource pools, view Parameter Description -
azs for details. No
dhs list Associated dedicated servers, view Description of the
parameter dhs for details. No
 Note
For common response parameters, view Response Format for details
Parameter Description - azs
Table 4.6.36 Parameter Description - azs¶
Parameter Type Description
Value
Returned
az_id string Resource pool ID Yes
type string Resource pool type, view Resouce Pool Type for
details. Yes
az_name string Resource pool name Yes
az_tag string Resource pool tag, view Resource Pool Tag for
details. Yes
dh_ids list Dedicated server group IDs Yes
arch_type string Architecture Type No
Description of the parameter dhs
Table 4.6.37 Description of the parameter dhs¶
Parameter Type Description
Value
Returned
az_id string Resource pool ID Yes
dh_id string Dedicated server ID Yes
dh_name string Dedicated server name Yes
tag string Dedicated server tag, view Dedicated Server Group Tag
for details. Yes
Response Example:
[
{
"name": "lxm",
"user_name": "lxm",
"enabled": 1,
"azs": [
{
"dh_ids": [],
"az_tag": "public",
"type": "hci",
"az_name": "1.75",
"az_id": "611f1b34-c727-4925-854e-07bc8607f681"
}
],
"dhs": [],
"id": "513a35b3b2274a24bac71083909a4eec",
"role_type": "tenant"
}
]
4.6.8.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.6.8.2. Obtain List of Tenants (July 25, 2019)
4.6.8.2.1. Scenario
Scenario:
Administrator queries tenant list.
MSP administrator queries tenant list.
Tenants query tenant list (only return their own tenants).
Applicable roles: Super administrator, system administrator, tenant and other administrators with
permission to read users.
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 2018, version 2019 adds the filtering parameters role_type and
exclude_role_type and the optional response parameter msp_id.
4.6.8.2.2. URI
Table 4.6.38 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/projects Get Tenants
Parameter Description:
Table 4.6.39 Parameter Description of Request Path - 20190725¶
Parameter Location Type Description Required
keywords path string Search tenant by name No
az_id path string Resource pool ID No
az_type path string Resource pool type, view Resouce
Pool Type for details. No
dh_id path string Dedicated server group ID No
enabled path int Whether the tenant is enabled [0,
1] No
role_type path string Role type. For details, see Roles. No
exclude_role_type path string Role types to be excluded. For
details, see Roles. No
4.6.8.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/projects?keywords=tjc&page_num=2&page_size=50
4.6.8.2.4. Response
Response Parameter
Table 4.6.40 Response Parameter¶
Parameter Type Description
Value
Returned
id string Tenant ID No
name string Tenant name No
user_name string Username No
role_type string User role No
azs list View Parameter Description - azs for the list of
associated resource pools. No
dhs list View Description of the parameter dhs for the list of
associated dedicated server groups. No
msp_id string ID of the MSP admin, which can be empty No
 Note
For common response parameters, view Response Format for details
Parameter Description - azs
Table 4.6.41 Parameter Description - azs¶
Parameter Type Note
id string Resource pool ID
type string Resource pool type, view Resouce Pool Type for details.
az_name string Resource pool name
az_tag string Resource pool tag, view Resource Pool Tag for details.
dh_ids list Dedicated server group IDs
Description of the parameter dhs
Table 4.6.42 Description of the parameter dhs¶
Parameter Type Note
az_id string Resource pool ID
dh_id string Dedicated server ID
dh_name string Dedicated server name
tag string Dedicated server tag, view Dedicated Server Group Tag for details.
Response Example:
[
{
"name": "lxm",
"user_name": "lxm",
"enabled": 1,
"azs": [
{
"dh_ids": [],
"az_tag": "public",
"type": "hci",
"az_name": "1.75",
"az_id": "611f1b34-c727-4925-854e-07bc8607f681"
}
],
"dhs": [],
"id": "513a35b3b2274a24bac71083909a4eec",
"role_type": "tenant",
"msp_id": "b1d29a3fd94048c08758ab12d34a908f"
}
]
4.6.8.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.7. User Management
4.7.1. Obtain user details
4.7.1.1. Scenario
Scenario:
Query the user details as a super administrator
Query the user details as a tenant (Only user information of the tenant is returned.)
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to obtain user details
Versions supported: SCP 6.8.80 and later
4.7.1.2. URI
Table 4.7.1 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/users/{user_id} Obtain user details
Parameter Description:
Table 4.7.2 Path Parameters¶
Parameter Location Type Description Required
user_id path string User ID Yes
4.7.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/users/29b989f69fb54f16aef1fe52a60965f0
4.7.1.4. Response
Response Parameter
Table 4.7.3 Response Parameter¶
Parameter Type Description Value Returned
id string User ID Yes
name string Username Yes
real_name string Name Yes
project_id string Tenant ID Yes
role_id string Role ID Yes
mail string Email address Yes
phone string Mobile phone
number Yes
created_at string Time created Yes
Response Example:
{
"name": "psw",
"created_at": "2022-11-04T03:04:09.000000",
"real_name": "psw",
"role_id": "4423b106ae724f7c8a6d0975a40210ec",
"phone": "18974454561",
"mail": "2419544@qq.com",
"project_id": "bdf01fec0ec64cd79ca0169567ad7ec8",
"id": "29b989f69fb54f16aef1fe52a60965f0"
}
4.7.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.7.2. Query List of Users
4.7.2.1. Obtain list of users
4.7.2.1.1. Scenario
Scenario:
Query the user list as a super administrator
Query the user list as a tenant (Only user information of the tenant is returned.)
Applicable roles: Super administrator, system administrator, tenant and other administrators with
permission to read users.
Versions supported: SCP 6.3.0 and later
4.7.2.1.2. URI
Table 4.7.4 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/users Obtain list of users
Parameter Description:
Table 4.7.5 Path Parameters¶
Parameter Location Type Description Required
role_id path string Role ID No
real_name path string Username No
name path string Name No
enabled path int Whether the user is enabled.
Valid values: 0 and 1. No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.7.2.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/users?az_id=2c3646d7-f8a4-402f-9aad-604e00c7f303
4.7.2.1.4. Response
Response Parameter
Table 4.7.6 Response Parameter¶
Parameter Type Description Value Returned
id string Tenant ID Yes
name string Tenant name Yes
real_name string Username Yes
project_id string Tenant ID Yes
role_id string Role ID Yes
enabled boolean Whether the user is enabled. Valid
values: true and false Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "g2h",
"real_name": "g2h",
"enabled": true,
"role_id": "90fe7c51d9b642aba7ce21c186ea9c9c",
"project_id": "b1d29a3fd94048c08758ab12d34a908f",
"id": "05a00b27b172433fb93fcd383aba4cce"
}
]
4.7.2.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.7.2.2. Obtain List of Users (20190725)
4.7.2.2.1. Scenario
Scenario:
Query the user list as a super administrator
Query the user list as a tenant (Only user information of the tenant is returned.)
Applicable roles: Super administrator, system administrator, tenant and other administrators with
permission to read users.
Versions supported: SCP 6.8.0 and later
 Note
1. Compared with version 20180725, the API version 20190725 adds the filtering parameter
hide_other_user for SCP 6.10.0 and later.
4.7.2.2.2. URI
Table 4.7.7 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/users Obtain list of users
Parameter Description:
Table 4.7.8 Path Parameters¶
Parameter Location Type Description Required
role_id path string Role ID No
real_name path string Username No
name path string Name No
enabled path int Whether the user is enabled.
Valid values: 0 and 1. No
hide_other_user path int Whether to hide other users.
Valid values: 0, 1 No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.7.2.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/users?az_id=2c3646d7-f8a4-402f-9aad-604e00c7f303
4.7.2.2.4. Response
Response Parameter
Table 4.7.9 Response Parameter¶
Parameter Type Description Value Returned
id string Tenant ID Yes
name string Tenant name Yes
real_name string Username Yes
project_id string Tenant ID Yes
role_id string Role ID Yes
enabled boolean Whether the user is enabled. Valid
values: true, false Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "g2h",
"real_name": "g2h",
"enabled": true,
"role_id": "90fe7c51d9b642aba7ce21c186ea9c9c",
"project_id": "b1d29a3fd94048c08758ab12d34a908f",
"id": "05a00b27b172433fb93fcd383aba4cce"
}
]
4.7.2.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.8. Tasks
4.8.1. Common Task Parameters
4.8.1.1. User Types in Task
Table 4.8.1 User Types in Task¶
Value Description
sys_manager System administrator
secrecy_manager Security administrator
audit_manager Audit administrator
admin Super administrator
other Other
4.8.1.2. Severity Levels
Table 4.8.2 Severity Levels¶
Value Description
emergency Critical
alter Change
critical Major
error Error
warning Alert
notice Notice
informational Informational
4.8.1.3. Action Categories
Table 4.8.3 Action Categories¶
Value Description
normal Normal
abnormal Abnormal
illegal Unauthorized
other Change
4.8.1.4. Resource type
Table 4.8.4 Resource type¶
Value Description
vm Virtual machine
storage Storage
net Network
hardware Hardware
disaster Failure
backup Backup
system System
other Other
4.8.1.5. Task Statuses
Table 4.8.5 Task Statuses¶
Value Description
waiting Queuing up (corresponding to the progress value of -2)
failure Failed (corresponding to the progress value of -1)
doing Ongoing (corresponding to the progress values of 0-99)
finish Completed (corresponding to the progress value of 100)
canceling Canceling
canceled Canceled
4.8.1.6. Sorting Modes
Table 4.8.6 Task status¶
Value Description
ASC Ascending
DESC Descending
4.8.2. Create task
4.8.2.1. Scenario
Scenario: Create a task
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure tasks
Versions supported: SCP 6.8.0 and later
4.8.2.2. URI
Table 4.8.7 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/tasks Create task
Parameter Description:
None
4.8.2.3. Request
Request Parameter
Table 4.8.8 Body Parameter¶
Parameter Location Type Description Required
task body string View Parameter Description - task for the
task information. Yes
Parameter Description - task
Table 4.8.9 Parameter Description - task¶
Parameter Type Note Required
begin_time string Local time when the log-related task started No
end_time string Local time when the log-related task ended No
action string Action Yes
object_type string Operation object type No
object_id string Operation object ID No
object_name string Task object name No
progress int Progress. -2: Queuing up, -1: Failed, 0-99: Ongoing,
100: Completed No
weight int Weight of the task in the parent task. Value range: 0-
100 No
user_id string User ID No
user_ip string User IP address No
project_id string Tenant ID No
root_logid string UUID of the root task No
parent_logid string UUID of the parent task No
visible int Whether to display this root task No
az_id dict Resource pool ID No
cluster_id string Cluster ID No
description string Description No
cancelable int Whether the log can be canceled. It cannot be
canceled by default. No
user_type string View User Types in Task for user types. No
severity_level string View Severity Levels for severity levels. No
action_audit string View Action Categories for action categories. No
event_type string Event type No
event_code int Event code No
module string View Resource type for resource types. No
delivered int Whether the log is sent by syslog server to syslogd No
is_delegated int Whether the operation is performed by the delegated
operations personnel No
Request Example
https://{SCP_IP}/janus/20180725/tasks
{
"task":{
"action": "View VM details",
"object_type": "VM",
"object_name": "VM zh-test",
"visible": 1,
"weight": 100,
"progress": 100,
"user_id": "722b8ed776b54a9e8b8e2523206256e2",
"az_id": "224049b1-3178-4f36-8753-3bbca8630654"
}
}
4.8.2.4. Response
Response Parameter
Table 4.8.10 Response Parameter¶
Parameter Type Description Value Returned Required
task_id body string Task ID Yes
description body string Description of Tasks Yes
project_id body string Tenant ID Yes
user_id body string User ID Yes
user_ip body string User IP address Yes
action body string Action in the task Yes
object_type body string Operation object type Yes
object_id body string Operation object ID No
object_name body string Task object name No
status body string View Task Statuses for task statuses. Yes
cancelable body int Whether the log can be canceled. It
cannot be canceled by default. Yes
progress body int Progress Yes
begin_time body string Local time when the log-related task
started Yes
end_time body string Local time when the log-related task
ended Yes
entities body dict View Parameter Description - entities
for the subtask information. Yes
Parameter Description - entities
Table 4.8.11 Parameter Description - entities¶
Parameter Type Note Required
sub_tasks_total int Total number of subtasks No
sub_tasks string View Parameter Description - sub_ulog_info for the
subtask list. No
object_id string Operation object ID No
Parameter Description - sub_ulog_info
Table 4.8.12 Parameter Description - sub_ulog_info¶
Parameter Type Note Required
task_id string Subtask ID Yes
az_id string Resource pool ID Yes
description string Description of Tasks Yes
action string Action Yes
object_type string Operation object type Yes
status string View Task Statuses for task statuses. Yes
cancelable string Whether the log can be canceled. It cannot be canceled
by default. Yes
progress string Progress. -2: Queuing up, -1: Failed, 0-99: Ongoing,
100: Completed Yes
begin_time string Local time when the log-related task started Yes
end_time string Local time when the log-related task ended Yes
entities string View Parameter Description - sub_entities for the
subtask information. Yes
Parameter Description - sub_entities
Table 4.8.13 Parameter Description - sub_entities¶
Parameter Type Note Required
object_id string Operation object ID No
Response Example:
{
"status": "finish",
"user_ip": "127.0.0.1",
"user_id": "722b8ed776b54a9e8b8e2523206256e2",
"description": null,
"task_id": "33c9e73a-672f-40e7-b150-ff0797265ded",
"object_type": "VM",
"cancelable": 0,
"entities": {
"object_id": null
},
"object_name": "VM zh-test",
"end_time": "2022-04-26T07:35:12.845272",
"begin_time": "2022-04-26T07:35:12.845214",
"action": "View VM details",
"progress": 100,
"project_id": "26f0e4d7a73e48ed9061fb592b0bba27"
}
4.8.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.8.3. Query task details
4.8.3.1. Scenario
Scenario: Query task details
Roles supported: Super administrator, system administrator, and other administrators with permission to
read tasks
Versions supported: SCP 6.8.0 and later
4.8.3.2. URI
Table 4.8.14 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/tasks/{task_id} Query task details
Parameter Description:
Table 4.8.15 Path Parameters¶
Parameter Location Type Description Required
task_id path string ULOG ID Yes
4.8.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/tasks/fb28fb1e-537e-44b7-84e0-4dba27dc7938
4.8.3.4. Response
Response Parameter
Table 4.8.16 Response Parameter¶
Parameter Type Description Value Returned
Value
Returned
task_id body string Task ID Yes
description body string Description of Tasks Yes
project_id body string Tenant ID Yes
creator_id body string Creator ID Yes
user_id body string User ID Yes
user_ip body string User IP address Yes
action body string Action in the task Yes
object_type body string Operation object type Yes
object_id body string Operation object ID No
object_name body string Task object name No
status body string View Task Statuses for task statuses. Yes
cancelable body int Whether the log can be canceled. It
cannot be canceled by default. Yes
progress body int Progress Yes
begin_time body string Local time when the log-related task
started Yes
end_time body string Local time when the log-related task
ended Yes
entities body dict View Parameter Description - entities
for the subtask information. Yes
Parameter Description - entities
Table 4.8.17 Parameter Description - entities¶
Parameter Type Note
Value
Returned
sub_tasks_total int Total number of subtasks No
sub_tasks string View Parameter Description - sub_ulog_info for the
subtask list. No
object_id string Operation object ID No
Parameter Description - sub_ulog_info
Table 4.8.18 Parameter Description - sub_ulog_info¶
Parameter Type Note
Value
Returned
task_id string Subtask ID Yes
az_id string Resource pool ID Yes
description string Description of Tasks Yes
action string Action Yes
object_type string Operation object type Yes
status string View Task Statuses for task statuses. Yes
cancelable string Whether the log can be canceled. It cannot be canceled
by default. Yes
progress string Progress. -2: Queuing up, -1: Failed, 0-99: Ongoing,
100: Completed Yes
begin_time string Local time when the log-related task started Yes
end_time string Local time when the log-related task ended Yes
entities string View Parameter Description - sub_entities for the
subtask information. Yes
Parameter Description - sub_entities
Table 4.8.19 Parameter Description - sub_entities¶
Parameter Type Note Value Returned
object_id string Operation object ID No
Response Example:
{
"status": "finish",
"user_ip": "172.23.2.31",
"user_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"description": "Enabled",
"task_id": "04421ddf-2a8e-4b56-8b69-8849598cbccc",
"object_type": "System configuration",
"creator_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"cancelable": 0,
"entities": {
"object_id": "b94d83c62d4e41f58b81d56ee8ef25f3"
},
"object_name": "admin",
"end_time": "2023-10-09T11:32:17.000000",
"begin_time": "2023-10-09T11:32:15.000000",
"action": "Set the SSH port",
"progress": 100,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc"
}
4.8.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.8.4. Edit task
4.8.4.1. Scenario
Scenario: Edit a task
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure tasks
Versions supported: SCP 6.8.0 and later
4.8.4.2. URI
Table 4.8.20 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/tasks/{task_id} Edit task
Parameter Description:
Table 4.8.21 Path Parameters¶
Parameter Location Type Description Required
task_id path string ULOG ID Yes
4.8.4.3. Request
Request Parameter
Table 4.8.22 Body Parameter¶
Parameter Location Type Description Required
task body string View Parameter Description - task for the
task information. Yes
Parameter Description - task
Table 4.8.23 Parameter Description - task¶
Parameter Type Note Required
object_type string Operation object type No
object_id string Operation object ID No
object_name string Task object name No
progress int Progress. -2: Queuing up, -1: Failed, 0-99:
Ongoing, 100: Completed No
visible int Whether to display this root task No
az_id dict Resource pool ID No
description string Description No
status string View Task Statuses for task statuses. No
Request Example
https://{SCP_IP}/janus/20180725/tasks/fb28fb1e-537e-44b7-84e0-4dba27dc7938
{
"task":{
"action": "View VM details",
"object_type": "VM",
"object_name": "VM zh-test",
"visible": 1,
"progress": 100,
"user_id": "722b8ed776b54a9e8b8e2523206256e2",
"az_id": "224049b1-3178-4f36-8753-3bbca8630654"
}
}
4.8.4.4. Response
Response Parameter
Table 4.8.24 Response Parameter¶
Parameter Type Description Value Returned Required
task_id body string Task ID Yes
description body string Description of Tasks Yes
project_id body string Tenant ID Yes
user_id body string User ID Yes
user_ip body string User IP address Yes
action body string Action in the task Yes
object_type body string Operation object type Yes
object_id body string Operation object ID No
object_name body string Task object name No
status body string View Task Statuses for task statuses. Yes
cancelable body int Whether the log can be canceled. It
cannot be canceled by default. Yes
progress body int Progress Yes
begin_time body string Local time when the log-related task
started Yes
end_time body string Local time when the log-related task
ended Yes
entities body dict View Parameter Description - entities
for the subtask information. Yes
Parameter Description - entities
Table 4.8.25 Parameter Description - entities¶
Parameter Type Note Required
sub_tasks_total int Total number of subtasks No
sub_tasks string View Parameter Description - sub_ulog_info for the
subtask list. No
object_id string Operation object ID No
Parameter Description - sub_ulog_info
Table 4.8.26 Parameter Description - sub_ulog_info¶
Parameter Type Note Required
task_id string Subtask ID Yes
az_id string Resource pool ID Yes
description string Description of Tasks Yes
action string Action Yes
object_type string Operation object type Yes
status string View Task Statuses for task statuses. Yes
cancelable int Whether the log can be canceled. It cannot be canceled
by default. Yes
progress int Progress. -2: Queuing up, -1: Failed, 0-99: Ongoing,
100: Completed Yes
begin_time string Local time when the log-related task started Yes
end_time string Local time when the log-related task ended Yes
entities string View Parameter Description - sub_entities for the
subtask information. Yes
Parameter Description - sub_entities
Table 4.8.27 Parameter Description - sub_entities¶
Parameter Type Note Required
object_id string Operation object ID No
Response Example:
{
"status": "finish",
"user_ip": "127.0.0.1",
"user_id": "722b8ed776b54a9e8b8e2523206256e2",
"description": null,
"task_id": "33c9e73a-672f-40e7-b150-ff0797265ded",
"object_type": "VM",
"cancelable": 0,
"entities": {
"object_id": null
},
"object_name": "VM zh-test",
"end_time": "2022-04-26T07:35:12.845272",
"begin_time": "2022-04-26T07:35:12.845214",
"action": "View VM details",
"progress": 100,
"project_id": "26f0e4d7a73e48ed9061fb592b0bba27"
}
4.8.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.8.5. Query list of tasks
Scenario: Query the list of tasks
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to read tasks
Versions supported: SCP 6.3.83 and later
4.8.5.1. URI
Table 4.8.28 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/tasks Query list of tasks
Parameter Description:
Parameter Location Type Description Required
object_id path string Operation object ID No
object_type path string Object No
status path string
Task status. For details, see Task
Statuses
No
az_id path string Resource pool ID No
project_id path string Tenant ID No
user_id path string User ID No
user_ip path string Operator IP address No
begin_time path string
Start time for task query.
Example: 2021-05-25 01:27:32
No
end_time path string
End time for task query. Example:
2021-05-25 01:27:32
No
order_by path string
View Task status for sorting
modes.
No
sort path string Sorting field No
page_num path string Page number No
page_size path string Number of entries per page No
fields path string Fields to be returned No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.8.5.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/tasks?user_id=c149d7d90ede471391522e7a652e2d5a
4.8.5.3. Response
Response Parameter
Table 4.8.29 Response Parameter¶
Parameter Type Description
Value
Returned
id string Task ID No
status string Task status. For details, see Task Statuses No
object_id string Operation object ID No
object_type string Operation object type No
action string Action No
description string Description of Tasks No
progress int(-2, 100) Progress, corresponding to the status
parameter No
project_id string Tenant ID No
creator_id string Creator ID No
user_id string User ID No
user_ip string Operator IP address No
az_id string Resource pool ID No
begin_time string Local time when the log-related task started No
end_time string Local time when the log-related task ended No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"status": "finish",
"user_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"description": "Enabled",
"object_type": "System configuration",
"object_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"user_ip": "172.23.2.31",
"creator_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"end_time": "2023-10-09T11:32:17.000000",
"begin_time": "2023-10-09T11:32:15.000000",
"action": "Set the SSH port",
"progress": 100,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"id": "04421ddf-2a8e-4b56-8b69-8849598cbccc",
"az_id": ""
},
{
"status": "finish",
"user_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"description": "",
"object_type": "Virtual network device",
"object_id": "d76c8a53-6cef-4a81-82ed-4f5e0569b8ac",
"user_ip": "10.131.112.205",
"creator_id": "b94d83c62d4e41f58b81d56ee8ef25f3",
"end_time": "2023-10-09T09:38:51.000000",
"begin_time": "2023-10-09T09:38:40.000000",
"action": "Edit connection",
"progress": 100,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"id": "0c567f10-1046-486a-b3bb-595fa9dbe1d2",
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9"
},
]
4.8.5.4. Response Code
OK: 200
Errors: 400, 403, 500
4.9. Roles
4.9.1. Obtain list of roles
4.9.1.1. Scenario
Scenario:
Query the role list as a super administrator
Roles supported: Super administrator and other administrators with the user list read permission
Versions supported: SCP 6.8.0 and later
4.9.1.2. URI
Table 4.9.1 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/roles Obtain list of roles
Parameter Description:
Table 4.9.2 Path Parameters¶
Parameter Location Type Description Required
project_id path string Tenant ID No
sort path string Sorting field: sort=filed1[,filed2] No
order_by path string Sorting method: ASC (default) and
DESC No
fields path string Expected field No
page_num path int Number of requested pages No
page_size path int Page size No
type path string Roles No
keywords path string Keyword for querying roles No
in_use path int Whether the role is in use No
4.9.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/roles?project_id=acaa89f88a404df985fb0abe2b496f6c
4.9.1.4. Response
Response Parameter
Table 4.9.3 Response Parameter¶
Parameter Type Description Value Returned
id string Role ID No
name string Role name No
type string Roles No
description string Role description No
project_id string Tenant ID No
project_name string Tenant name No
in_use int Whether the role is
in use No
permission list(string) Permission list No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "cbsp_inner_admin",
"in_use": 0,
"description": "",
"type_name": "Platform administrator",
"project_id": "acaa89f88a404df985fb0abe2b496f6c",
"type": "custom_admin",
"id": "012cc4c82b064871b0cfe7f463e2b670",
"permissions": [
"PERM_CBSP"
]
}
]
4.9.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.10. Quota
4.10.1. Common Quota Parameters
4.10.1.1. Types of Quota Items
Table 4.10.1 Types of Quota Items¶
Value Description
global Global resource types, such as VM image size, bandwidth and number of elastic IPs,
number of VMs for DR
pool Types of resource pool, such as computing and storage
NFV NFV types such as ADC, NGAF, IAG
cssp_nfv Third party NFV devices such as OSM, BVT, EDR, LAS
dmp DMP resources, such as MySQL database and Oracle database.
appcenter Application Center resources, such as Redis, Kafka, Mongo, RabbitMQ
4.10.1.2. Quota Provider Types
Table 4.10.2 Quota Provider Types¶
Value Description
hci Sangfor HCI resource
vmware VMware resource
appcenter appcenter resource
cssp cssp resource
4.10.1.3. Resource Quota Specifications
Table 4.10.3 Resource Quota Specifications¶
resource
Chinese
Name Unit namespace provider
ac_branch Branches - viam hci
ac_branch Branches - vac hci
ac_lines Lines - vac hci
ac_lines Lines - viam hci
ac_users Mobile users - viam hci
ac_users Mobile users - vac hci
ad_100Mbps_performance
2 CPU Cores,
4 GB
Memory, 100
Mbps
- vad hci
ad_10Gbps_performance
16 CPU
Cores, 32 GB
Memory, 10
Gbps
- vad hci
ad_10Mbps_performance
2 CPU Cores,
4 GB
Memory, 100
Mbps
- vad hci
ad_1Gbps_performance
2 CPU Cores,
4 GB
Memory, 1
Gbps
- vad hci
ad_200Mbps_performance
2 CPU Cores,
4 GB
Memory, 200
Mbps
- vad hci
ad_3Gbps_performance
4 CPU Cores,
8 GB
Memory, 3
Gbps
- vad hci
ad_500Mbps_performance
2 CPU Cores,
4 GB
Memory, 500
Mbps
- vad hci
ad_50Mbps_performance
2 CPU Cores,
4 GB
Memory, 50
Mbps
- vad hci
ad_5Gbps_performance
8 CPU Cores,
16 GB
Memory, 5
Gbps
- vad hci
Gbps
ad_basic_module WAN links - vad hci
ad_DNS_module Intelligent
DNS - vad hci
ad_http_cache_module HTTP Caching - vad hci
ad_SSL_module SSL
Offloading - vad hci
af_bandwidth_1.6G
8 CPU Cores,
16 GB
Memory, 1.6
Gbps
- vaf hci
af_bandwidth_100M
2 CPU Cores,
4 GB
Memory, 100
Mbps
- vaf hci
af_bandwidth_200M
2 CPU Cores,
4 GB
Memory, 200
Mbps
- vaf hci
af_bandwidth_400M
4 CPU Cores,
8 GB
Memory, 400
Mbps
- vaf hci
af_bandwidth_800M
8 CPU Cores,
16 GB
Memory, 800
Mbps
- vaf hci
af_branch Branches - vaf hci
af_ssl_vpn SSL VPN
Users - vaf hci
af_tamper
Anti Web
Defacement
Licenses
- vaf hci
af_users Mobile users - vaf hci
backup_usage Backup
Repository Bytes storage hci
container_cloud_service Containers - compute hci
cores CPU Core compute hci
cores CPU Core compute vmware
dblb_1Gbps_performance
Database
Load Balancer
Components
- vdblb hci
dr_vm_count VM for DR - protection hci
eip_bandwidth::{linetype_id}, obtain
linetype_id from Query line types Bandwidth Kbps network hci
eip_count::{linetype_id}, obtain
linetype_id from Query line types Elastic IP - network hci
gpu_slice_count vGPU - gpu hci
image_usage Private Image
Repository Bytes storage hci
kafka_cluster_2c_4g
Cluster
Version - 2
CPU Cores, 4
GB Memory
- kafka appcenter
Cluster
Version - 4
kafka_cluster_4c_8g Version - 4
CPU Cores, 8
GB Memory
- kafka appcenter
kafka_cluster_8c_16g
Cluster
Version - 8
CPU Cores,
16 GB
Memory
- kafka appcenter
kafka_single_2c_4g
Standalone
Version - 2
CPU Cores, 4
GB Memory
- kafka appcenter
kafka_single_4c_8g
Standalone
Version - 4
CPU Cores, 8
GB Memory
- kafka appcenter
kafka_single_8c_16g
Standalone
Version - 8
CPU Cores,
16 GB
Memory
- kafka appcenter
mongo_single_2c_4g
Standalone
Version - 2
CPU Cores, 4
GB Memory
- mongo appcenter
mongo_single_4c_8g
Standalone
Version - 4
CPU Cores, 8
GB Memory
- mongo appcenter
mongo_single_8c_16g
Standalone
Version - 8
CPU Cores,
16 GB
Memory
- mongo appcenter
mongo_single_8c_32g
Standalone
Version - 8
CPU Cores,
32 GB
Memory
- mongo appcenter
nfv_cores NFV Core compute hci
nfv_ram NFV memory MB compute hci
nvidia_m10_ram Graphics Card
Tesla M10 MB gpu hci
nvidia_m60_ram Graphics Card
Tesla M60 MB gpu hci
nvidia_p100_ram Graphics Card
Tesla P100 MB gpu hci
nvidia_p40_ram Graphics Card
Tesla P40 MB gpu hci
nvidia_rtx2080tia_ram
Graphics Card
GeForce RTX
2080 TiA
MB gpu hci
nvidia_rtx2080ti_ram
Graphics Card
GeForce RTX
2080Ti
MB gpu hci
nvidia_rtx6000_ram
Graphics Card
Quadro RTX
6000
MB gpu hci
nvidia_t4_ram Graphics Card
Tesla T4 MB gpu hci
nvidia_v100dx_ram
Graphics Card
Tesla MB gpu hci
V100DX
nvidia_v100d_ram Graphics Card
Tesla V100D MB gpu hci
nvidia_v100s_ram Graphics Card
Tesla V100S MB gpu hci
nvidia_v100_ram Graphics Card
Tesla V100 MB gpu hci
rabbitmq_single_16c_32g
Standalone
Version - 16
CPU Cores,
32 GB
Memory
- rabbitmq appcenter
rabbitmq_single_2c_4g
Standalone
Version - 2
CPU Cores, 4
GB Memory
- rabbitmq appcenter
rabbitmq_single_4c_8g
Standalone
Version - 4
CPU Cores, 8
GB Memory
- rabbitmq appcenter
rabbitmq_single_8c_16g
Standalone
Version - 8
CPU Cores,
16 GB
Memory
- rabbitmq appcenter
ram Memory MB compute hci
ram Memory MB compute vmware
redis_cluster_2c_16g
Cluster
Version - 2
CPU Cores,
16 GB
Memory
- redis appcenter
redis_cluster_2c_4g
Cluster
Version - 2
CPU Cores, 4
GB Memory
- redis appcenter
redis_cluster_2c_8g
Cluster
Version - 2
CPU Cores, 8
GB Memory
- redis appcenter
redis_sentinel_2c_16g
Sentinel
Version - 2
CPU Cores,
16 GB
Memory
- redis appcenter
redis_sentinel_2c_4g
Sentinel
Version - 2
CPU Cores, 4
GB Memory
- redis appcenter
redis_sentinel_2c_8g
Sentinel
Version - 2
CPU Cores, 8
GB Memory
- redis appcenter
redis_single_2c_16g
Standalone
Version - 2
CPU Cores,
16 GB
Memory
- redis appcenter
redis_single_2c_4g
Standalone
Version - 2
CPU Cores, 4
GB Memory
- redis appcenter
Standalone
redis_single_2c_8g
Standalone
Version - 2
CPU Cores, 8
GB Memory
- redis appcenter
ssl_branch Branches - vssl hci
ssl_emmbasicuser EMM Basic
Licenses - vssl hci
ssl_emmordinaryuser
EMM
Standard
Licenses
- vssl hci
ssl_line Lines - vssl hci
ssl_remoteappuser Remote App
Users - vssl hci
ssl_ssl_vpn Mobile Users - vssl hci
storage_tag::00000000-0000-
0000-0000-000000000000
High
Performance
Storage
MB storage hci
storage_tag::00000000-0000-
0000-0000-000000000000
High
Performance
Storage
MB storage vmware
storage_tag::11111111-1111-
1111-1111-111111111111
Performance
Sensitive
Storage
MB storage hci
storage_tag::11111111-1111-
1111-1111-111111111111
Performance
Sensitive
Storage
MB storage vmware
storage_tag::22222222-2222-
2222-2222-222222222222
Capacity
Sensitive
Storage
MB storage hci
storage_tag::22222222-2222-
2222-2222-222222222222
Capacity
Sensitive
Storage
MB storage vmware
vAC-100
1 CPU Core,
2 GB
Memory, 100
Mbps
- vac hci
vAC-1000
8 CPU Cores,
16 GB
Memory, 1
Gbps
- vac hci
vAC-10000
8 CPU Cores,
16 GB
Memory, 10
Gbps
- vac hci
vAC-200
2 CPU Cores,
4 GB
Memory, 200
Mbps
- vac hci
vAC-2000
8 CPU Cores,
16 GB
Memory, 2
Gbps
- vac hci
vAC-300
4 CPU Cores,
8 GB
Memory, 300
Mbps
- vac hci
vAC-3000
8 CPU Cores,
16 GB
Memory, 3
Gbps
- vac hci
1 CPU Core,
2 GB
vAC-50 2 GB
Memory, 50
Mbps
- vac hci
vAC-500
4 CPU Cores,
8 GB
Memory, 500
Mbps
- vac hci
vAC-5000
8 CPU Cores,
16 GB
Memory, 5
Gbps
- vac hci
vAC-700
4 CPU Cores,
8 GB
Memory, 700
Mbps
- vac hci
vBVT-100
4 CPU Cores,
8 GB
Memory, 300
GB Disk
Space, 100
Assets
- vbvt cssp
vBVT-200
8 CPU Cores,
16 GB
Memory, 300
GB Disk
Space, 200
Assets
- vbvt cssp
vBVT-300
8 CPU Cores,
32 GB
Memory, 00
GB Disk
Space, 200
Assets
- vbvt cssp
vBVT-50
4 CPU Cores,
8 GB
Memory, 300
GB Disk
Space, 50
Assets
- vbvt cssp
vBVT-500
16 CPU
Cores, 64 GB
Memory, 300
GB Disk
Space, 500
Assets
- vbvt cssp
vBVT-test-10
4 CPU Cores,
8 GB
Memory, 300
GB Disk
Space, 10
Assets (trial)
- vbvt cssp
vDAS-100
4 CPU Cores,
8 GB
Memory, 100
GB Data Disk,
300 Mbps
- vdas hci
vDAS-200
8 CPU Cores,
16 GB
Memory, 300
GB Data Disk,
500 Mbps
- vdas hci
vEDR-100
2 CPU Cores,
4 GB
Memory, 330
GB Disk
Space, 100
Endpoints
- vedr cssp
4 CPU Cores,
8 GB
vEDR-1000
8 GB
Memory, 330
GB Disk
Space, 1000
Endpoints
- vedr cssp
vEDR-200
2 CPU Cores,
4 GB
Memory, 330
GB Disk
Space, 200
Endpoints
- vedr cssp
vEDR-2000
8 CPU Cores,
16 GB
Memory, 330
GB Disk
Space, 2000
Endpoints
- vedr cssp
vEDR-50
2 CPU Cores,
4 GB
Memory, 330
GB Disk
Space, 50
Endpoints
- vedr cssp
vEDR-test-50
2 CPU Cores,
4 GB
Memory, 300
GB Disk
Space, 50
Endpoints
(trial)
- vedr cssp
vIAG-100
1 CPU Core,
2 GB
Memory, 100
Mbps
- viam hci
vIAG-1000
8 CPU Cores,
16 GB
Memory, 1
Gbps
- viam hci
vIAG-10000
8 CPU Cores,
16 GB
Memory, 10
Gbps
- viam hci
vIAG-200
2 CPU Cores,
4 GB
Memory, 200
Mbps
- viam hci
vIAG-2000
8 CPU Cores,
16 GB
Memory, 2
Gbps
- viam hci
vIAG-300
4 CPU Cores,
8 GB
Memory, 300
Mbps
- viam hci
vIAG-3000
8 CPU Cores,
16 GB
Memory, 3
Gbps
- viam hci
vIAG-50
1 CPU Core,
2 GB
Memory, 50
Mbps
- viam hci
vIAG-500
4 CPU Cores,
8 GB
Memory, 500
Mbps
- viam hci
8 CPU Cores,
vIAG-5000
8 CPU Cores,
16 GB
Memory, 5
Gbps
- viam hci
vIAG-700
4 CPU Cores,
8 GB
Memory, 700
Mbps
- viam hci
vLAS-100
8 CPU Cores,
16 GB
Memory, 100
Assets
- vlas cssp
vLAS-20
4 CPU Cores,
8 GB
Memory, 20
Assets
- vlas cssp
vLAS-200
8 CPU Cores,
16 GB
Memory, 200
Assets
- vlas cssp
vLAS-300
12 CPU
Cores, 16 GB
Memory, 300
Assets
- vlas cssp
vLAS-50
4 CPU Cores,
8 GB
Memory, 50
Assets
- vlas cssp
vLAS-500
20 CPU
Cores, 32 GB
Memory, 500
Assets
- vlas cssp
vLAS-test-10
4 CPU Cores,
8 GB
Memory, 10
Assets (trial)
- vlas cssp
vMySQL MySQL RDS - vmysql hci
vMySQL_16c32g_performance
16 CPU
Cores, 32 GB
Memory
- vmysql hci
vMySQL_16c64g_performance
16 CPU
Cores, 64 GB
Memory
- vmysql hci
vMySQL_2c4g_performance 2 CPU Cores,
4 GB Memory - vmysql hci
vMySQL_32c128g_performance
32 CPU
Cores, 128
GB Memory
- vmysql hci
vMySQL_4c16g_performance
4 CPU Cores,
16 GB
Memory
- vmysql hci
vMySQL_4c8g_performance 4 CPU Cores,
8 GB Memory - vmysql hci
vMySQL_8c16g_performance
8 CPU Cores,
16 GB
Memory
- vmysql hci
vMySQL_8c32g_performance
8 CPU Cores,
32 GB
Memory
- vmysql hci
vMySQL_8c64g_performance
8 CPU Cores,
64 GB
Memory
- vmysql hci
Virtual
vm_count Virtual
machine - compute vmware
vm_count Virtual
machine - compute hci
vOracle Oracle RDS - voracle hci
vOracle_16c32g_performance
16 CPU
Cores, 32 GB
Memory
- voracle hci
vOracle_16c64g_performance
16 CPU
Cores, 64 GB
Memory
- voracle hci
vOracle_2c4g_performance 2 CPU Cores,
4 GB Memory - voracle hci
vOracle_32c128g_performance
32 CPU
Cores, 128
GB Memory
- voracle hci
vOracle_4c16g_performance
4 CPU Cores,
16 GB
Memory
- voracle hci
vOracle_4c8g_performance 4 CPU Cores,
8 GB Memory - voracle hci
vOracle_8c16g_performance
8 CPU Cores,
16 GB
Memory
- voracle hci
vOracle_8c32g_performance
8 CPU Cores,
32 GB
Memory
- voracle hci
vOracle_8c64g_performance
8 CPU Cores,
64 GB
Memory
- voracle hci
vOSM-10
2 CPU Cores,
4 GB
Memory, 10
Assets
- vosm cssp
vOSM-100
2 CPU Cores,
4 GB
Memory, 100
Assets
- vosm cssp
vOSM-20
2 CPU Cores,
4 GB
Memory, 20
Assets
- vosm cssp
vOSM-200
2 CPU Cores,
4 GB
Memory, 20
Assets
- vosm cssp
vOSM-300
2 CPU Cores,
8 GB
Memory, 300
Assets
- vosm cssp
vOSM-50
2 CPU Cores,
4 GB
Memory, 50
Assets
- vosm cssp
vOSM-500
2 CPU Cores,
16 GB
Memory, 500
Assets
- vosm cssp
vOSM-test-50
2 CPU Cores,
4 GB
Memory, 50
Assets (trial)
- vosm cssp
vSSL-100
2 CPU Cores,
2 GB
Memory, 100
Mbps
- vssl hci
vSSL-1000
8 CPU Cores,
8 GB
Memory, 600
Mbps
- vssl hci
vSSL-1200
8 CPU Cores,
16 GB
Memory, 900
Mbps
- vssl hci
vSSL-200
2 CPU Cores,
4 GB
Memory, 200
Mbps
- vssl hci
vSSL-400
4 CPU Cores,
4 GB
Memory, 300
Mbps
- vssl hci
vSSL-800
4 CPU Cores,
8 GB
Memory, 400
Mbps
- vssl hci
woc_ipsec_vpn Third Party
IPsec Devices - vwoc hci
woc_standard_set
1 CPU Core,
2 GB
Memory, 25
Mbps
- vwoc hci
woc_standard_set_200
2 CPU Cores,
4 GB
Memory, 50
Mbps
- vwoc hci
woc_standard_set_400
4 CPU Cores,
8 GB
Memory, 200
Mbps
- vwoc hci
woc_vpn_line Lines - vwoc hci
4.10.1.4. Reserved Quota Provider Type (20180725)
Table 4.10.4 Reserved Quota Provider Type¶
Value Description
hci Sangfor HCI resource
4.10.1.5. Reserved Quota Provider Type (20190725)
Table 4.10.5 Reserved Quota Provider Type¶
Value Description
hci Sangfor HCI resource
vmware VMware resource
appcenter appcenter resource
cssp cssp resource
oss OSS resource
4.10.2. Query quota items
4.10.2.1. Scenario
Scenario: Obtain the allocation and usage of tenant quotas, which can be used to check available quotas
for corresponding resources.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Quota Read
permission
Versions supported: SCP 6.3.0 and later
4.10.2.2. URI
Table 4.10.6 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/quotas Query quota items
Parameter Description:
Table 4.10.7 Path Parameters¶
Parameter Location Type Description Required
category path string Types of quota items, view Types of
Quota Items for details. No
provider path string Types of quota provider, view Quota
Provider Types for details. No
namespace path string Types of quota, view Resource Quota
Specifications for details. No
resource path string Quota name, view Resource Quota
Specifications No
az_id path string Resource pool ID No
project_id path string Tenant ID No
hard_limit_gt path int Quota items with maximum value
greater than this No
hard_limit path int Quota items with this maximum value No
hard_limit_lt path int Quota items with maximum value lower
than this No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.10.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/quotas?resource=vMySQL
4.10.2.4. Response
Response Parameter
Table 4.10.8 Response Parameter¶
Parameter Type Description
Value
Returned
id string Quota item ID No
category string Types of quota items, view Types of Quota Items
for details. No
provider string Types of quota provider, view Quota Provider
Types for details. No
namespace string Types of quota, view Resource Quota
Specifications for details. No
resource string Quota name, view Resource Quota Specifications No
name string Quota Chinese name, view Resource Quota
Specifications for details. No
project_id string Tenant ID No
unit string Quota unit, view Resource Quota Specifications
for details. No
separated_quotas list Maximum quota for different resource pools, view
Parameter Description - az_quotas for details. No
az_quotas list Maximum quota for different resource pools, view
Parameter Description - az_quotas for details. No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Parameter Description - separated_quotas
Table 4.10.9 Parameter Description - separated_quotas¶
Parameter Type Required Note
az_id string Yes Resource pool ID
in_use int Yes Quota usage
reserved int Yes Quota reserved
allocation int Yes Allocated quota
Parameter Description - az_quotas
Table 4.10.10 Parameter Description - az_quotas¶
Parameter Type Required Note
az_id string Yes Resource pool ID
hard_limit int Yes Maximum quota, -1 indicates no limit
Response Example:
[
"category": "dmp",
"resource": "vMySQL_instance",
"name": "New instance",
"separated_quotas": [
{
"allocation": 0,
"reserved": 0,
"az_id": "5dc5dea5-075c-4dab-888f-26e7f5cf7c7a",
"in_use": 0
}
],
"namespace": "vmysql",
"az_quotas": [
{
"hard_limit": 1,
"az_id": "5dc5dea5-075c-4dab-888f-26e7f5cf7c7a"
}
],
"provider": "hci",
"project_id": "0440d26b029a4d28b3af0914a7af471f",
"id": "0769fe7d9697bf7b365fdc06117abbcbd7437dfeae85d5d318a84f7df395bf06"
,
"unit": " "
]
4.10.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.3. Set quota
4.10.3.1. Scenario
Scenario:
Admin sets quotas for MSP or tenants.
MSP sets quota for tenants.
Roles supported: Super admin, MSP admin, and co-administrator with the Quota Configuration
permission
Versions supported: SCP6.3.70 and later
4.10.3.2. URI
Table 4.10.11 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/quotas Set quota
Parameter Description:
None
4.10.3.3. Request
Request Parameter
Table 4.10.12 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or tenant ID Yes
quota_sets body list Quota specifications, view Description of
parameter quota-sets for details. Yes
Description of parameter quota-sets
Table 4.10.13 Description of parameter quota-sets¶
Parameter Type Required Note
provider string Yes View Quota Provider Types for the quota provider type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
value int Yes Specified quota value
az_id string Yes Resource pool ID, the global ID is 10000000-0000-
0000-0000-000000000000
 Note
The resource pool ID of global resources is 10000000-0000-0000-0000-000000000000, and
the global resources include: container_cloud_service, eip_bandwidth, eip_count, dr_vm_count
and image_usage.
Request Example
https://{SCP_IP}/janus/20180725/quotas
{
"project_id": "8e9fbbc04d7b40f6bc3bbe549fd1655a",
"quota_sets": [
{
"provider": "hci",
"namespace": "storage",
"resource": "image_usage",
"value": 51,
"az_id": "10000000-0000-0000-0000-000000000000"
},
{
"provider": "hci",
"namespace": "vmysql",
"resource": "vMySQL_2c4g_performance",
"value": 2,
"az_id": "d4a1bfa5-01aa-489a-8655-4427ca6e7e11"
}
]
}
4.10.3.4. Response
Response Parameter
None
Response Example:
None
4.10.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.10.4. Reserve quota
4.10.4.1. Reserve quota
4.10.4.1.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.3.0 and later
4.10.4.1.2. URI
Table 4.10.14 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/quotas/reserving Reserve
quota
Parameter Description:
None
4.10.4.1.3. Request
Request Parameter
Table 4.10.15 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or tenant ID Yes
az_id body string Resource pool ID Yes
quota_deltas body list(dict)
Configured quota. For details, see
Parameter Description -
quota_deltas.
Yes
quota_refresh body list(dict)
Refreshed quota. For details, see
Parameter Description -
quota_refresh.
No
expire body int Expiration time (seconds) No
Parameter Description - quota_deltas
Table 4.10.16 Parameter Description - quota_deltas¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
value int Yes Specified quota value
Parameter Description - quota_refresh
Table 4.10.17 Parameter Description - quota_refresh¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
az_id int Yes Resource pool ID
value int Yes Specified quota value
 Note
Namespace can only be vgeneralsql, vmysql, voracle, vsqlserver, vsqlserver_licensed,
vpostgresql, vopengauss, dmp_database_dr, storage, adr_protection, or asec.
Request Example
https://{SCP_IP}/janus/20180725/quotas/reserving
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"quota_deltas": [
{
"provider": "hci",
"namespace": "storage",
"resource": "storage_tag::00000000-0000-0000-0000-000000000000",
"value": 6
}
],
"expire": 10
}
4.10.4.1.4. Response
Response Parameter
Table 4.10.18 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.4.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.4.2. Reserve Quota (20190725)
4.10.4.2.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.8.90 and later
Difference from other versions: Supports more types of the provider and namespace parameters.
4.10.4.2.2. URI
Table 4.10.19 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20190725/quotas/reserving Reserve
quota
Parameter Description:
None
4.10.4.2.3. Request
Request Parameter
Table 4.10.20 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or tenant ID Yes
az_id body string Resource pool ID Yes
quota_deltas body list(dict)
Configured quota. For details, see
Parameter Description -
quota_deltas.
Yes
quota_refresh body list(dict)
Refreshed quota. For details, see
Parameter Description -
quota_refresh.
No
expire body int Expiration time (seconds) No
Parameter Description - quota_deltas
Table 4.10.21 Parameter Description - quota_deltas¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
value int Yes Specified quota value
Parameter Description - quota_refresh
Table 4.10.22 Parameter Description - quota_refresh¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
az_id int Yes Resource pool ID
value int Yes Specified quota value
 Note
Namespace can only be compute, network, storage, vad, vdblb, vaf, vssl, vwoc, vac, vdas,
viam, vosm, vedr, vbvt, vlas, gpu, protection, adr_protection, vgeneralsql, vmysql, voracle,
vsqlserver, vsqlserver_licensed, vpostgresql, vopengauss, dmp_database_dr, vdi, asec, redis,
kafka, mongo, rabbitmq, loadbalance, xhd, studio, xsearch, clickhouse, dipper, doris, or
rocketmq.
Request Example
https://{SCP_IP}/janus/20190725/quotas/reserving
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"quota_deltas": [
{
"provider": "hci",
"namespace": "storage",
"resource": "storage_tag::00000000-0000-0000-0000-000000000000",
"value": 6
}
],
"expire": 10
}
4.10.4.2.4. Response
Response Parameter
Table 4.10.23 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.4.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.4.3. Reserve Quota (20200725)
4.10.4.3.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.9.10 and later
Difference from other versions: Supports reserving quota for a specified server group.
4.10.4.3.2. URI
Table 4.10.24 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20200725/quotas/reserving Reserve
quota
Parameter Description:
None
4.10.4.3.3. Request
Request Parameter
Table 4.10.25 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or tenant ID Yes
az_id body string Resource pool ID Yes
quota_deltas body list(dict)
Configured quota. For details, see
Parameter Description -
quota_deltas.
Yes
quota_refresh body list(dict)
Refreshed quota. For details, see
Parameter Description -
quota_refresh.
No
expire body int Expiration time (seconds) No
dh_id body string Server group ID corresponding to the
reserved quota No
Parameter Description - quota_deltas
Table 4.10.26 Parameter Description - quota_deltas¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
value int Yes Specified quota value
Parameter Description - quota_refresh
Table 4.10.27 Parameter Description - quota_refresh¶
Parameter Type Required Note
provider string Yes Quota provider type. For details, see Reserved Quota
Provider Type.
namespace string Yes Types of quota, view Resource Quota Specifications for
details.
resource string Yes Quota name, view Resource Quota Specifications for
details.
az_id int Yes Resource pool ID
value int Yes Specified quota value
dh_id string No Server group ID corresponding to the reserved quota
 Note
Namespace can only be compute, network, storage, vad, vdblb, vaf, vssl, vwoc, vac, vdas,
viam, vosm, vedr, vbvt, vlas, gpu, protection, adr_protection, vgeneralsql, vmysql, voracle,
vsqlserver, vsqlserver_licensed, vpostgresql, vopengauss, dmp_database_dr, vdi, asec, redis,
kafka, mongo, rabbitmq, loadbalance, xhd, studio, xsearch, clickhouse, dipper, doris, or
rocketmq.
Request Example
https://{SCP_IP}/janus/20200725/quotas/reserving
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"quota_deltas": [
{
"provider": "hci",
"namespace": "storage",
"resource": "storage_tag::00000000-0000-0000-0000-000000000000",
"value": 6
}
],
"expire": 10,
"dh_id": "fc1a25a9-0efb-4cf3-9966-99bd8e4b4b87"
}
4.10.4.3.4. Response
Response Parameter
Table 4.10.28 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["9260ea9e-27dc-472a-90d8-d9ddff6752d1"]
}
4.10.4.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.5. Submit Reserved Quota
4.10.5.1. Submit Reserved Quota
4.10.5.1.1. Scenario
Scenario: Submit reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.3.0 and later
4.10.5.1.2. URI
Table 4.10.29 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/quotas/committing Submit Reserved
Quota
Parameter Description:
None
4.10.5.1.3. Request
Request Parameter
Table 4.10.30 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
Request Example
https://{SCP_IP}/janus/20180725/quotas/committing
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.5.1.4. Response
Response Parameter
Table 4.10.31 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.5.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.5.2. Submit Reserved Quota (20190725)
4.10.5.2.1. Scenario
Scenario: Submit reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.8.90 and later
4.10.5.2.2. URI
Table 4.10.32 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20190725/quotas/committing Submit Reserved
Quota
Parameter Description:
None
4.10.5.2.3. Request
Request Parameter
Table 4.10.33 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
Request Example
https://{SCP_IP}/janus/20190725/quotas/committing
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.5.2.4. Response
Response Parameter
Table 4.10.34 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.5.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.5.3. Submit Reserved Quota (20200725)
4.10.5.3.1. Scenario
Scenario: Submit reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.9.10 and later
Difference from other versions: Supports submitting reserved quota for a specified server group.
4.10.5.3.2. URI
Table 4.10.35 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20200725/quotas/committing Submit Reserved
Quota
Parameter Description:
None
4.10.5.3.3. Request
Request Parameter
Table 4.10.36 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
dh_id body string
Server group ID
corresponding to the
reserved quota
No
Request Example
https://{SCP_IP}/janus/20200725/quotas/committing
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"],
"dh_id": "fc1a25a9-0efb-4cf3-9966-99bd8e4b4b87"
}
4.10.5.3.4. Response
Response Parameter
Table 4.10.37 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.5.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.6. Roll Back Reserved Quota
4.10.6.1. Roll Back Reserved Quota
4.10.6.1.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.3.0 and later
4.10.6.1.2. URI
Table 4.10.38 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/quotas/rollback Roll Back Reserved
Quota
Parameter Description:
None
4.10.6.1.3. Request
Request Parameter
Table 4.10.39 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
Request Example
https://{SCP_IP}/janus/20180725/quotas/rollback
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.6.1.4. Response
Response Parameter
Table 4.10.40 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.6.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.6.2. Roll Back Reserved Quota (20190725)
4.10.6.2.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.8.90 and later
4.10.6.2.2. URI
Table 4.10.41 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20190725/quotas/rollback Roll Back Reserved
Quota
Parameter Description:
None
4.10.6.2.3. Request
Request Parameter
Table 4.10.42 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
Request Example
https://{SCP_IP}/janus/20190725/quotas/rollback
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.6.2.4. Response
Response Parameter
Table 4.10.43 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.6.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.10.6.3. Roll Back Reserved Quota (20200725)
4.10.6.3.1. Scenario
Scenario: Roll back reserved quota for MSPs or tenants
Roles supported: Super administrator
Versions supported: SCP 6.9.10 and later
Difference from other versions: Supports rolling back reserved quota for a specified server group.
4.10.6.3.2. URI
Table 4.10.44 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20200725/quotas/rollback Roll Back Reserved
Quota
Parameter Description:
None
4.10.6.3.3. Request
Request Parameter
Table 4.10.45 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string MSP administrator or
tenant ID Yes
az_id body string Resource pool ID Yes
reservations body list(string) List of reserved quota
IDs Yes
dh_id body string
Server group ID
corresponding to the
reserved quota
No
Request Example
https://{SCP_IP}/janus/20200725/quotas/rollback
{
"project_id": "d037390f0d2245808ab28f83d7221d09",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"],
"dh_id": "fc1a25a9-0efb-4cf3-9966-99bd8e4b4b87"
}
4.10.6.3.4. Response
Response Parameter
Table 4.10.46 Response Parameter¶
Parameter Type Description Value Returned
reservations list(string) List of reserved quota IDs Yes
Response Example:
{
"reservations": ["42337720-5c82-4478-8dcf-375da0a3c21d"]
}
4.10.6.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11. Virtual Machines
4.11.1. Common VM Parameters
4.11.1.1. Disk Provisioning Method
Table 4.11.1 Disk Provisioning Method¶
Value Description
off Thin provisioning
full Pre-allocating
metadata Dynamic provisioning
4.11.1.2. vGPU Type
Table 4.11.2 vGPU Type¶
Value Description
PASS_THROUGH Passthrough
vGPU vGPU
4.11.1.3. Scheduling Method
Table 4.11.3 Scheduling Method¶
Value Description
best_effort Best effort
equal_share Equal share
fixed_share Fixed share
4.11.1.4. Graphics card scheduling policy
Table 4.11.4 Graphics card scheduling policy¶
Value Description
performance High performance
density High density
4.11.1.5. VM Type
Table 4.11.5 VM Type¶
Value Description
vm Ordinary VM
placeholder Placeholder VM
dmp_mysql Database VM
service Service VM
app VM created in Application Center
4.11.1.6. VM Disk Type
Table 4.11.6 VM Disk Type¶
Value Description
new_disk New disk, except for the disk types listed below, other disks for VM creation are
usually of new_disk type.
derive_disk System disk. When a VM is created using a VMA image, the disk type is system
disk.
physical_disk Physical disk, such as iSCSI, FC datastores. To use physical disks, the storage_id
parameter is required, which can be obtained from Get Physical Disks
exist_disk Existing disk, which cannot be passed in.
share_disk
Shared disk. To use shared disks, the storage_id parameter is required, which can
be obtained from Query Datastore List. This disk type is not supported for VM
creation.
rdm_disk RDM disk
4.11.1.7. VM Disk Cache Mode
Table 4.11.7 VM Disk Cache Mode¶
Value Description
none Ordinary
writethrough Write through
writeback Write back
unsafe Unsafe
directsync Directsync
4.11.1.8. VM NIC Type
Table 4.11.8 VM NIC Type¶
Value Description
e1000 e1000
rtl8139 rtl8139
virtio virtio
e1000e e1000e
vmxnet vmxnet(vmware)
vmxnet2 vmxnet2(vmware)
vmxnet3 vmxnet3(vmware)
flexible flexible
4.11.1.9. VM Disk Encryption Granularity
Table 4.11.9 VM Disk Encryption Granularity¶
Value Description
vm Encrypt the VM
disk Encrypt a single disk
4.11.1.10. VM Disk Encryption Algorithm
Table 4.11.10 VM Disk Encryption Algorithm¶
Value Description
aes_256 aes_256
sm4_128 sm4_128
4.11.1.11. VM CPU Type
Table 4.11.11 VM CPU Type¶
Value Description
core2duo core2duo
host host
phenom phenom
4.11.1.12. VM Working Location Type (VMware)
Table 4.11.12 VM Working Location Type (VMware)¶
Value Description
vim.ClusterComputeResource -
vim.HostSystem -
vim.ResourcePool -
vim.VirtualApp -
4.11.1.13. VM Network Type
Table 4.11.13 VM Network Type¶
Value Description
classic Classic Network
vpc VPC
4.11.1.14. VM Platform Type
Table 4.11.14 VM Platform Type¶
Value Description
hci hci
vmware vmware
XYclouds XYclouds
Aliyun Aliyun
AWS AWS
Qcloud Qcloud
4.11.1.15. VM Power Status
Table 4.11.15 VM Power Status¶
Value Description
off Powered-off
on Powered-on
4.11.1.16. VM snapshot type
Table 4.11.16 VM snapshot type¶
Value Description
vs Storage-based snapshot
qcow2 Internal snapshot
external_qcow2 Disk-based snapshot, which is supported in SCP 6.10.0 and later.
4.11.1.17. VM group type
Table 4.11.17 VM group type¶
Value Description
app APP
4.11.1.18. VM clone type
Table 4.11.18 Clone type¶
Value Description
full Full clone
fast Instant full clone, which requires that both the original and new VMs are stored in virtual
storage.
link Linked clone, which requires that both the original and new VMs are stored in virtual
storage.
4.11.1.19. Power-on automation level
Table 4.11.19 Power-on automation level¶
Value Description
density High density
performance High performance
4.11.1.20. Encryption Card Type
Table 4.11.20 Encryption Card Type¶
Value Description
passthrough Passthrough
vf Virtual
pf Physical
4.11.1.21. PCIe device type
Table 4.11.21 PCIe device type¶
Value Description
encryption Encryption device
iface Interface device
4.11.1.22. VM Application Scenario Type
Table 4.11.22 VM Application Scenario Type¶
Value Description
COMPUTE_SCENARIO Cloud computing
DESK_SCENARIO Cloud desktop
COMPUTE_AND_DESK Cloud computing and cloud desktop
4.11.1.23. VM Creation Source Type
Table 4.11.23 VM Creation Source Type¶
Value Description
NORMAL HCI
CREATE_BY_VDC VDC
CREATE_BY_SCP Managed Cloud
CREATE_BY_OTHER Third-party platform
4.11.1.24. VM PCI Type
Table 4.11.24 VM PCI Type¶
Value Description
PCIE_ROOT_PORT PCIe root port
PCI_BRIDGE PCI bridge (default)
4.11.1.25. VM BIOS Type
Table 4.11.25 VM BIOS Type¶
Value Description
SEABIOS SeaBIOS
UEFI UEFI
CUSTOM Custom, which allows starting a VM using a specified BIOS file.
4.11.1.26. VM Boot Order
Table 4.11.26 VM Boot Order¶
Value Description
cd Disk, CD/DVD
dc CD/DVD, disk
c Disk
d CD/DVD
4.11.1.27. VM Disk Type
Table 4.11.27 VM Disk Type¶
Value
HARD_DISK
VIRTUAL_DISK
ASAN_DISK
4.11.1.28. VM CPU Type
Table 4.11.28 VM CPU Type¶
Value
HOST
PHENOM
CORE2DUO
HASWELL_NOTSX
4.11.1.29. VM CPU Vendor
Table 4.11.29 VM CPU Vendor¶
Value
AMD
HYGON
4.11.1.30. Storage Space Allocation Mode for VM Virtual Disks
Table 4.11.30 Storage Space Allocation Mode for VM Virtual Disks¶
Value Description
OFF
Thin provisioning: Storage space is allocated to a virtual disk on demand during its
use rather than when it is created. This method maximizes space-saving during
virtual disk creation but compromises write performance during the use of the
virtual disk. When all required storage space is allocated to the virtual disk, this
method works the same as pre-allocating.
FULL
Pre-allocating: All required storage space is allocated to a virtual disk when it is
created, without allocation during its use. This method improves write
performance during the use of the virtual disk but occupies large storage space
during creation, even if the created virtual disk does not contain files.
METADATA
Dynamic provisioning: Storage space is partially allocated to a virtual disk when it
is created and on demand during its use. This method is a compromise between
thin provisioning and pre-allocating. Because some storage space is pre-allocated,
this method ensures the same write performance as pre-allocating before the
pre-allocated space is used up. When the storage space is used up, this method
performs dynamic allocation and requires the same write performance as thin
provisioning. This method saves storage space during creation and ensures write
performance during its initial use to some extent, but cannot guarantee write
performance when the pre-allocated space is used up.
4.11.1.31. VM Disk Controller Type
Table 4.11.31 VM Disk Controller Type¶
Value Description
IDE IDE controller
VIRTIO Virtio virtual controller
4.11.1.32. VM NIC Type
Table 4.11.32 VM NIC Type¶
Value Description
E1000 E1000 NIC
RTL8139 RTL8139 NIC
VIRTIO
Virtio NIC, which is a virtual NIC with the best performance. Windows does not have
drivers supporting this NIC type by default, and a driver needs to be installed using
vmTools, which is unavailable on Windows 2000. This NIC type is predefined only on
Linux later than 2.6.18.
4.11.1.33. VM USB Controller Type
Table 4.11.33 VM USB Controller Type¶
Value Description
USB_2 usb2.0
USB_3 usb3.0
4.11.1.34. VM Graphics Card Type
Table 4.11.34 VM Graphics Card Type¶
Value Description
STD Standard VGA graphics card for Windows VMs, which is recommended if UEFI is
selected for BIOS.
VMWARE VMware-compatible graphics card for VMware VMs, which is recommended for
Ubuntu.
CIRRUS Cirrus-compatible graphics card, which is the default type and recommended for Red
Hat Enterprise Linux (RHEL).
QXL QXL high-performance graphics card for non-RHEL VMs, which is recommended if
UEFI is selected for BIOS.
4.11.1.35. Frame Rate Limit for 3D-Supported Graphics Cards
Table 4.11.35 Frame Rate Limit for 3D-Supported Graphics Cards¶
Value Description
FPS_45 45 FPS
FPS_60 60 FPS
UNLIMITED Unlimited
4.11.1.36. Power-On Automation Level for 3D-Supported Graphics Cards
Table 4.11.36 Power-On Automation Level for 3D-Supported Graphics Cards¶
Value Description
DENSITY High density
PERFORMANCE High performance
4.11.1.37. VM Mouse Type
Table 4.11.37 VM Mouse Type¶
Value Description
USB USB
PS2 PS2
4.11.1.38. VM USB Type
Table 4.11.38 VM USB Type¶
Value Description
HCI HCI
VDI VDI
4.11.1.39. VM Display Resolution
Table 4.11.39 VM Display Resolution¶
Value Description
DISPLAY_1K 1K/2K
DISPLAY_4K 4K
DISPLAY_8K 8K
4.11.1.40. VM Restored Mode
Table 4.11.40 VM Restored Mode¶
Value Description
DISABLED Disabled
TEMPLATE From a template
SNAPSHOT From a snapshot
4.11.1.41. vmTools Installation Status for VMs
Table 4.11.41 vmTools Installation Status for VMs¶
Value Description
INSTALLED Installed
NOT_INSTALLED Not installed
4.11.1.42. Parameter Description - os_option
Table 4.11.42 Parameter Description - os_option¶
Parameter Type Description Required
arch string CPU architecture
system Yes
distribution_name string Release version Yes
kernel_name string Kernel version Yes
4.11.1.43. Parameter Description - hardware_option - bios
Table 4.11.43 Parameter Description - hardware_option - bios¶
Parameter Type Description Required
bios_type string BIOS type. For details, see VM BIOS Type. No
boot_order string
Boot order. Valid values: cd, dc, c, and d. For this
parameter, d indicates CD-ROM, and c indicates
disk. For details, see VM Boot Order.
No
boot_disk string Boot disk ID No
boot_delay_seconds int BIOS post delay time No
path string Path of a specified BIOS file for VM start No
version string BIOS version No
4.11.1.44. Parameter Description - hardware_option - cpu
Table 4.11.44 Parameter Description - hardware_option - cpu¶
Parameter Type Description Required
cores int Number of cores per socket Yes
sockets int Number of sockets Yes
exclusive_enabled int(0, 1) Whether to enable the CPU Exclusive
Mode option No
invtsc_enabled int(0, 1) Whether to enable the Para-virtualized
Clock option No
frequency int(100,
1000000) CPU clock speed limit (MHz) No
type string CPU type. For details, see VM CPU
Type. No
hotplug_enabled int(0, 1) Whether to enable CPU hot swapping No
vendor string CPU vendor. For details, see VM CPU
Vendor. No
numa_enabled int(0, 1) Whether to enable the NUMA
Scheduler option No
cpu_reserve_enabled int(0, 1)
Whether to enable the CPU Reservation
option, which can be enabled only when
the Mark as high-priority VM option is
enabled.
No
4.11.1.45. Parameter Description - hardware_option - memory
Table 4.11.45 Parameter Description - hardware_option - memory¶
Parameter Type Description Required
size_gb int Memory size (GB) Yes
balloon_enabled int(0, 1) Whether to enable memory
reclaiming No
huge_page_enabled int(0, 1) Whether to enable hugepage
memory No
hotplug_enabled int(0, 1) Whether to enable memory
hot swapping No
4.11.1.46. Parameter Description - hardware_option - disks.io_config
Table 4.11.46 Parameter Description - hardware_option - disks.io_config¶
Parameter Type Description Required
read_iops int(16, 2147483647) Maximum
number of reads No
read_kbps int(128, 104857600) Maximum read
speed No
write_iops int(16, 2147483647) Maximum
number of writes No
write_kbps int(128, 104857600) Maximum write
speed No
4.11.1.47. Parameter Description - hardware_option - disks.advanced_config
Table 4.11.47 Parameter Description - hardware_option - disks.advanced_config¶
Parameter Type Description Required
policy_id string Storage policy ID No
serial_number string Disk serial number No
4.11.1.48. Parameter Description - hardware_option - cdroms
Table 4.11.48 Parameter Description - hardware_option - cdroms¶
Parameter Type Description Required
id string Disk ID. Example: ide1 Yes
drive dict Image parameter. For details, see Parameter Description
- hardware_option - cdroms.drive. No
4.11.1.49. Parameter Description - hardware_option - cdroms.drive
Table 4.11.49 Parameter Description - hardware_option - cdroms.drive¶
Parameter Type Description Required
datastore_id string Datastore ID Yes
path string Storage path of the image file Yes
4.11.1.50. Parameter Description - hardware_option - network_adapters
Table 4.11.50 Parameter Description - hardware_option - network_adapters¶
Parameter Type Description Required
vif_id string VM NIC ID. Example: net0 Yes
connected int(0, 1) Whether the network cable is plugged in No
device_id string Classic network device ID No
port_id string Port ID No
type string NIC type. For details, see VM NIC Type. No
mac_address string MAC address No
ipv4 dict
IPv4 address information. For details, see
Parameter Description - hardware_option -
network_adapters.ipv4/ipv6.
No
ipv6 dict
IPv6 address information. For details, see
Parameter Description - hardware_option -
network_adapters.ipv4/ipv6.
No
ingress_kbps int(1000,
20000000) or 0
Outbound bandwidth (Kbps). (Minimum:
1000, Maximum: 20000000) 0 indicates
unlimited bandwidth.
No
egress_kbps int(1000,
20000000) or 0
Inbound bandwidth (Kbps). (Minimum: 1000,
Maximum: 20000000) 0 indicates unlimited
bandwidth.
No
4.11.1.51. Parameter Description - hardware_option - network_adapters.ipv4/ipv6
Table 4.11.51 Parameter Description - hardware_option - network_adapters.ipv4/ipv6¶
Parameter Type Description Required
address string IP address Yes
prefix_length int(1, 128) Prefix length Yes
gateway string Gateway No
dns list(string) List of DNS servers. Up to
two servers are supported. No
4.11.1.52. Parameter Description - hardware_option - udisks
Table 4.11.52 Parameter Description - hardware_option - udisks¶
Parameter Type Description Required
id string USB disk ID. Example: udisk0 Yes
usb_disk dict USB disk. For details, see Parameter Description -
hardware_option - udisks.udisk. No
4.11.1.53. Parameter Description - hardware_option - udisks.udisk
Table 4.11.53 Parameter Description - hardware_option - udisks.udisk¶
Parameter Type Description Required
device_id string Device ID Yes
controller_type string Controller type. For details, see VM USB Controller
Type. Yes
4.11.1.54. Parameter Description - hardware_option - graphics
Table 4.11.54 Parameter Description - hardware_option - graphics¶
Parameter Type Description Required
graphics_type string Graphics card type. For details, see VM Graphics
Card Type. Yes
4.11.1.55. Parameter Description - hardware_option - graphics_3d
Table 4.11.55 Parameter Description - hardware_option - graphics_3d¶
Parameter Type Description Required
graphics_model string vGPU type Yes
graphics_3d_type string 3D-supported graphics card type Yes
frame_rate_hz string Frame rate. For details, see Frame Rate Limit for
3D-Supported Graphics Cards. No
schedule string
Power-on automation level. For details, see
Power-On Automation Level for 3D-Supported
Graphics Cards.
No
vendor string
GPU vendor. For details, see Parameter
Description - hardware_option - graphics_3d
(Vendor Information).
Yes
4.11.1.56. Parameter Description - hardware_option - graphics_3d (Vendor Information)
Table 4.11.56 Parameter Description - hardware_option - graphics_3d (Vendor Information)¶
Value Description
NVIDIA NVIDIA
CAMBRICON Cambricon
HUAWEI Huawei
MTT MTT
4.11.1.57. Parameter Description - compatibility_version
Table 4.11.57 Parameter Description - compatibility_version¶
Parameter Type Description Required
vmx_version string Compatibility version number Yes
src_hci_version string HCI version No
4.11.1.58. Parameter Description - advanced_option - uuid
Table 4.11.58 Parameter Description - advanced_option - uuid¶
Parameter Type Description Required
enable int(0,
1) Whether UUID generator is enabled Yes
uuid string UUID. The original UUID is not reused. A new UUID
will be generated if none is available. No
only_2_qemu int(0,
1) Whether to pass to QEMU only No
4.11.1.59. Parameter Description - advanced_option - guest
Table 4.11.59 Parameter Description - advanced_option - guest¶
Parameter Type Description Required
hostname string Custom guest OS hostname No
os_installed int(0,
1) Whether the guest OS is installed No
processor_id string Unique processor ID customized by the user No
grub_prompt int
If the OS type is Debian or Ubuntu, the user will be
prompted to check whether the recordfail option is
available in the GRUB configuration.
No
4.11.1.60. Parameter Description - advanced_option - virtio
Table 4.11.60 Parameter Description - advanced_option - virtio¶
Parameter Type Description Required
vblk_enabled int(0, 1) Whether Virtio disks are used Yes
vnet_enabled int(0, 1) Whether Virtio NIC is enabled Yes
4.11.1.61. Parameter Description - advanced_option - resource_reserve_policies.period_type
Table 4.11.61 Parameter Description - advanced_option - resource_reserve_policies.period_type¶
Value Description
DAILY Reservation policy that reserves resources until the specified
time every day
WEEKLY Reservation policy that reserves resources until the specified
time every week
MONTHLY Reservation policy that reserves resources until the specified
time every month
DATE Reservation policy that reserves resources until the specified
time on a specific day
4.11.1.62. Parameter Description - advanced_option - advance_param.graphic_type
Table 4.11.62 Parameter Description - advanced_option - advance_param.graphic_type¶
Value Description
std Standard VGA graphics card for Windows VMs, which is recommended if UEFI is
selected for BIOS.
vmware VMware-compatible graphics card for VMware VMs, which is recommended for
Ubuntu.
cirrus Cirrus-compatible graphics card, which is the default type and recommended for Red
Hat Enterprise Linux (RHEL).
qxl QXL high-performance graphics card for non-RHEL VMs, which is recommended if
UEFI is selected for BIOS.
ramfb RAMFB graphics card, which is only supported by Arm-based Ubuntu systems.
vga Standard VGA graphics card, which is only supported by Arm-based operating systems.
4.11.1.63. Parameter Description - advanced_option - advance_param.bios
Table 4.11.63 Parameter Description - advanced_option - advance_param.bios¶
Parameter Type Required Note
bios_type string No BIOS type. For details, see VM BIOS Type.
boot_delay_seconds int No BIOS post delay time (0-60 seconds)
path string No Path of a specified BIOS file for VM start
4.11.1.64. Parameter Description - advanced_option - advance_param.mouse_type
Table 4.11.64 VM Mouse Type¶
Value Description
usb USB
ps2 PS2
4.11.1.65. VM Types
Table 4.11.65 VM Types¶
Value Description
desk aDesk VDI VM
compute Ordinary VM
4.11.1.66. Parameter Description - disks.io_usage_limit
Table 4.11.66 Parameter Description - disks.io_usage_limit¶
Parameter Type Required Note
kbps_rd int No Bandwidth limit on disk read
kbps_wr int No Bandwidth limit on disk write
iops_rd int No Disk IO reads
iops_wr int No Disk IO writes
Table 4.11.67 Return Value Description - disks.io_usage_limit¶
Parameter Type Description Value Returned
kbps_rd int Bandwidth limit on disk read No
kbps_wr int Bandwidth limit on disk write No
iops_rd int Disk IO reads No
iops_wr int Disk IO writes No
4.11.2. VM Lifecycle Management
4.11.2.1. Delete VM
4.11.2.1.1. Scenario
Scenario:
Move VM to Recycle Bin.
Delete VM directly without moving it to Recycle Bin.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Deletion
permission
Versions supported: SCP 6.3.0 and later
4.11.2.1.2. URI
Table 4.11.68 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/servers/{server_id} Delete VM
Parameter Description:
Table 4.11.69 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.1.3. Request
Request Parameter
Table 4.11.70 Description of Body Parameter¶
Parameter Location Type Description Required
force body int
Whether to delete VM permanently. 1
indicates permanent delete, 0 indicates
soft delete.
No
 Note
Soft delete indicates moving VM to Recycle Bin, and permanent delete indicates deleting VM
without moving it to Recycle Bin. Soft delete is performed by default.
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"force": 1
}
4.11.2.1.4. Response
Response Parameter
Table 4.11.71 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.2.1.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.2.2. List of VMs
4.11.2.2.1. Get VM list information
4.11.2.2.1.1. Scenario¶
Scenario: Query VM list
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Read permission
Versions supported: SCP 6.3.0 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
4.11.2.2.1.2. URI¶
Table 4.11.72 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/servers Get VM list information
Parameter Description:
Table 4.11.73 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM Platform
Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path int VM tag. The options are 0 and 1 No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected by a
DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM Power
Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled VM No
gpu_type path string Graphic Card Type No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.11.2.2.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.1.4. Response¶
Response Parameter
Table 4.11.74 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where VM is
located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM belongs No
user_name string Name of the tenant user where the VM belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM belongs No
group_id_path string Use ID to indicate node path, separated by / No
group_name_path string Use NAME to indicate node path, separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb float Memory size No
disks list Disk information, view Parameter Description -
disks for details No
networks list Network information, view Parameter
Description - networks for details. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is running No
host_name string Physical host name No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk resides No
Name of the storage where VM system disk is
storage_name string Name of the storage where VM system disk is
located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict CPU status information, view Parameter
Description - cpu_status for details. No
memory_status dict Memory status information, view Parameter
Description - memory_status for details. No
storage_status dict Storage status information, view Parameter
Description - storage_status for details. No
io_status dict IO status information, view Parameter
Description - io_status for details. No
network_status dict Network status information, view Parameter
Description - cpu_status for details. No
advance_param dict HCI-specific information, view Parameter
Description - advance_param for details. No
os_installed int Whether an operating system is installed, 0
indicates not installed, 1 indicates installed No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1 indicates
installation failed, -2 indicates installation is not
supported.
No
tags list VM tag information, view Parameter Description
- tags for details No
alarm dict VM alert information, view Parameter
Description - alarm for details. No
warning dict Alert summary information, view Paramter
Description - warning for details. No
in_protection int Whether added to a DR task. 1 indicates yes, 0
indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Whether to enable disaster recovery No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list IOlog information, view Paramter Description -
iolog for details No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0 indicates
others No
schedule_policies list
VM scheduling policy information, view
Paramter Description - schedule_policies for
details.
No
location int Whether run location of VM is fixed, 1 indicates
fixed, 0 indicates unfixed No
floatingip dict Elastic IP information, view Paramter
Description - floatingip for details. No
instant_vm int Whether the VM is being rapidly recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict GPU configuration information, view Parameter
Description - gpu_conf for details. No
gpu_status dict GPU status information, view Parameter
Description - gpu_status for details. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict Key pair information, view Parameter
Description - keypair for details. No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Parameter Description - disks
Table 4.11.75 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb <
66060288 (63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
physical_disk_type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
Parameter Description - networks
Table 4.11.76 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port
name string No Name of the connected port
vpc_id string No VPC ID of the connected tenant
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - cpu_status
Table 4.11.77 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.78 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.79 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.80 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps float No IO read speed (byte/s)
write_speed_byteps float No IO write speed (byte/s)
read_iops float No IO reads (times/s)
write_iops float No I/O writes (times/s)
Parameter Description - cpu_status
Table 4.11.81 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.82 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1 indicates
enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates no,
1 indicates yes.
vga string No Types of built-in graphic card in VM
Parameter Description - tags
Table 4.11.83 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.84 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No Alert details, view Parameter Description - alarmalarm_
info
Parameter Description - alarm-alarm_info
Table 4.11.85 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.86 Paramter Description - warning¶
Parameter Type Value Returned Note
warning int No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.87 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.88 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.89 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Elastic IP address
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.90 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.91 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count int No Number of GPUs
graphics_ratio int No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.92 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Response Example:
[
"network_status": {
"write_speed_bitps": 0.0,
"read_speed_bitps": 0.0
},
},
"disks": [
{
"storage_tag_id": null,
"preallocate": "off",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"physical_disk_type": ""
},
{
"storage_tag_id": null,
"preallocate": "full",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"physical_disk_type": ""
}
],
"cpu_status": {
"total_mhz": 2201.0,
"ratio": 0.01,
"used_mhz": 22.01
},
"storage_mb": 2048.0,
"group_name": "acmp_2022-07-04-15-34-57",
"vmtype": "vm",
"keypair": null,
"warning": {
"warning_info": "vmTools is not installed on the VM",
"warning": 1,
"warning_type": "vtool_uninstalled"
},
"encrypted": 1,
"gpu_conf": null,
"shutdown_duration": 0,
"az_name": "10.134.48.24",
"instant_vm": "",
"networks": [
{
"ipv6_address": "",
"image": null,
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": null,
"cidr": "",
"subnet_gateway_ip": "",
"ip_address": "",
"subnet_name": "",
"connect": 0,
"mac_address": "FE:FC:FE:34:89:D9",
"vpc_id": "",
"model": "e1000",
"port_id": "",
"network_type": "",
"device_id": null
}
],
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9",
"storage_tag_id": null,
"vtool_installed": 0,
"uptime": 5797965,
"user_id": null,
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"memory_status": {
"used_mb": 40.78,
"total_mb": 2048.0,
"ratio": 0.02
},
"gpu_status": {
"graphics_mem_total": 0,
"graphics_mem_total": 0,
"graphics_count": 0,
"graphics_mem_used": 0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"dh_id": "",
"id": "ef2ec1d6-3710-4afe-880a-981c1aad3444",
"is_stopped": 0,
"advance_param": {
"schedopt": 0,
"vga": "qxl",
"balloon_memory": 0,
"onboot": 1,
"abnormal_recovery": 0
},
"location": 0,
"power_state": "on",
"storage_id": "e396b491_vs_vol_rep2",
"mhz": 2201.0,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"user_name": "",
"schedule_policies": [],
"io_status": {
"read_speed_byteps": 0.0,
"read_iops": 0.0,
"write_speed_byteps": 0.0,
"write_iops": 0.0
},
"project_name": "admin",
"sockets": 1,
"description": "",
"group_id_path": "9a573a59-783c-4e47-9721-fd1bb9dd7d91/4ef87678-ee3a
-4208-9654-f7d4aa944bdc",
"tags": [],
"ips": [],
"group_name_path": "10.134.48.24/acmp_2022-07-04-15-34-57",
"image_name": "",
"has_gpu": 0,
"image_id": "",
"protection_name": "",
"protection_type": "",
"protection_id": "",
"expire_time": "unlimited",
"host_id": "host-6c92bfde3a4c",
"status": "running",
"dh_name": "",
"name": "Tiny-lxm0001",
"backup_file_count": 0,
"os_installed": 1,
"type": "hci",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"storage_name": "Virtual datastore 1",
"cores_per_socket": 1,
"memory_mb": 2048.0,
"storage_status": {
"used_mb": 1280.31,
"total_mb": 2048.0,
"storage_file_size_mb": 1408.0,
"ratio": 0.63
},
"cipher": "aes_256",
"in_protection": 0,
"host_name": "10.134.48.10",
"cores": 1,
"os_type": "l2664",
"group_id": "4ef87678-ee3a-4208-9654-f7d4aa944bdc",
"network_type": [],
"os_name": "",
"iolog": []
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.2.2. Obtain List of VMs (20210725)
4.11.2.2.2.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.9.0 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
4.11.2.2.2.2. URI¶
Table 4.11.93 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20210725/servers Get VM list information
Parameter Description:
Table 4.11.94 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM Platform
Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected by a
DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM Power
Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This parameter
was added in the API version
20210725 for VM query.)
No
storage_ids path string
List of datastore IDs (This
parameter was added in the API
version 20210725 for VM query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added in the API
version 20210725 for VM query.)
No
4.11.2.2.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20210725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.2.4. Response¶
Response Parameter
Table 4.11.95 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where VM is
located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM belongs No
user_name string Name of the tenant user where the VM belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM belongs No
group_id_path string Use ID to indicate node path, separated by / No
group_name_path string Use NAME to indicate node path, separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb int Memory size No
disks list Disk information. For details, see Parameter
Description - disks. No
networks list Network information. For details, see Parameter
Description - networks. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is running No
host_name string Physical host name No
image_id string Image ID No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk resides No
storage_name string Name of the storage where VM system disk is
located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict CPU status. For details, see Parameter
Description - cpu_status. No
memory_status dict Memory status. For details, see Parameter
Description - memory_status. No
storage_status dict Storage status. For details, see Parameter
Description - storage_status. No
io_status dict I/O status. For details, see Parameter
Description - io_status. No
network_status dict Network status. For details, see Parameter
Description - cpu_status. No
advance_param dict HCI-specific parameters. For details, see
Parameter Description - advance_param. No
os_installed int Whether an operating system is installed, 0
indicates not installed, 1 indicates installed No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1 indicates
installation failed, -2 indicates installation is not
supported.
No
tags list VM tag information. For details, see Parameter
Description - tags. No
alarm dict VM alert information. For details, see Parameter
Description - alarm. No
warning dict Alert summary information. For details, see
Paramter Description - warning. No
in_protection int Whether added to a DR task. 1 indicates yes, 0
indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Number of VM backup files No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list I/O log information. For details, see Paramter
Description - iolog. No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0 indicates
others No
schedule_policies list VM scheduling policy information. For details,
see Paramter Description - schedule_policies. No
location int Whether run location of VM is fixed, 1 indicates
fixed, 0 indicates unfixed No
floatingip dict Elastic IP address information. For details, see No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip. No
instant_vm int Whether the VM is being rapidly recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict GPU configuration. For details, see Parameter
Description - gpu_conf. No
gpu_status dict GPU status. For details, see Parameter
Description - gpu_status. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict Key pair information. For details, see Parameter
Description - keypair. No
os_option string Operating system information. For details, see
Parameter Description - os_option. No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list Quota list. For details, see Parameter
Description - quota_info. No
real_ips list IP address used by the VM No
pcis list PCIe devices bound to VMs. For details, see
Parameter Description - pcis. No
 Note
For common response parameters, view Response Format for details
Parameter Description - disks
Table 4.11.96 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
Parameter Description - networks
Table 4.11.97 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
real_ip string No IPv4 address used by the VM
real_ipv6 string No IPv6 address used by the VM
Parameter Description - cpu_status
Table 4.11.98 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.99 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.100 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.101 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps int No IO read speed (byte/s)
write_speed_byteps int No IO write speed (byte/s)
read_iops int No IO reads (times/s)
write_iops int No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.102 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.103 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1 indicates
enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates no,
1 indicates yes.
vga string No Types of built-in graphic card in VM
Parameter Description - tags
Table 4.11.104 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.105 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No Alert details. For details, see Parameter Description -
alarm-alarm_info.
Parameter Description - alarm-alarm_info
Table 4.11.106 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.107 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.108 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.109 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.110 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.111 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.112 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count float No Number of GPUs
graphics_ratio float No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.113 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.114 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.115 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Parameter Description - pcis
Table 4.11.116 Parameter Description - pcis¶
Parameter Type
Value
Returned Note
secret_key_status int No
Whether the encryption card has synchronized
encryption key (0: not synchronized, 1:
synchronized)
device_type string No PCIe device type
device_id string No PCIe device ID
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0,
"read_speed_bitps": 0
},
"os_installed": 1,
"storage_policy_id": "99129faa",
"cpu_status": {
"total_mhz": 2201.0,
"ratio": 0.01,
"used_mhz": 22.01
},
"storage_mb": 2048.0,
"group_name": "acmp_2022-07-04-15-34-57",
"ips": [],
"keypair": null,
"project_name": "admin",
"gpu_conf": null,
"shutdown_duration": 0,
"az_name": "10.134.48.24",
"instant_vm": "",
"id": "ef2ec1d6-3710-4afe-880a-981c1aad3444",
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9",
"storage_tag_id": "",
"is_stopped": 0,
"uptime": 5799766,
"os_abbr": "",
"user_id": "",
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"warning": {
"warning_info": "vmTools is not installed on the VM",
"warning": 1,
"warning_type": "vtool_uninstalled"
},
"tags": [],
"storage_name": "Virtual datastore 1",
"quotas": [],
"dh_id": "",
"networks": [
{
"real_ipv6": "",
"ipv6_address": "",
"name": "",
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": "",
"cidr": "",
"network_type": "",
"real_ip": "",
"subnet_name": "",
"connect": 0,
"port_id": "",
"mac_address": "FE:FC:FE:34:89:D9",
"vpc_id": "",
"model": "e1000",
"ip_address": "",
"subnet_gateway_ip": "",
"device_id": ""
}
],
"vtool_installed": 0,
"advance_param": {
"schedopt": 0,
"vga": "qxl",
"abnormal_recovery": 0,
"onboot": 1,
"balloon_memory": 0
},
"schedule_policies": [],
"power_state": "on",
"encrypted": 1,
"in_protection": 0,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"type": "hci",
"location": 0,
"io_status": {
"read_speed_byteps": 0,
"read_iops": 0,
"write_speed_byteps": 0,
"write_iops": 0
},
"os_name": "",
"sockets": 1,
"description": "",
"group_id_path": "9a573a59-783c-4e47-9721-fd1bb9dd7d91/4ef87678-ee3a
-4208-9654-f7d4aa944bdc",
"memory_status": {
"used_mb": 40.78,
"total_mb": 2048.0,
"ratio": 0.02
},
"storage_id": "e396b491_vs_vol_rep2",
"group_name_path": "10.134.48.24/acmp_2022-07-04-15-34-57",
"image_name": "",
"has_gpu": 0,
"image_id": "",
"protection_name": "",
"cipher": {
"alg": "aes_256",
"type": "",
"mode": "",
"cmkid": ""
},
"protection_id": "",
"expire_time": "unlimited",
"host_id": "host-6c92bfde3a4c",
"vm_id": "6910714092336",
"name": "Tiny-lxm0001",
"status": "running",
"dh_name": "",
"real_ips": [],
"pcis": [],
"pcis": [],
"gpu_status": {
"graphics_mem_total": 0.0,
"graphics_count": 0.0,
"graphics_mem_used": 0.0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"backup_file_count": 0,
"vmtype": "vm",
"user_name": "",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"disks": [
{
"storage_tag_id": "",
"preallocate": "off",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"physical_disk_type": ""
},
{
"storage_tag_id": "",
"preallocate": "full",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"physical_disk_type": ""
}
],
"cores_per_socket": 1,
"template_id": "",
"memory_mb": 2048,
"storage_status": {
"used_mb": 1280.31,
"total_mb": 2048.0,
"storage_file_size_mb": 1408.0,
"ratio": 0.63
},
"protection_type": "",
"mhz": 2201.0,
"host_name": "10.134.48.10",
"os_option": {
"arch": "amd64",
"kernel_name": "linux",
"distribution_name": "kernel-2.6"
},
"cores": 1,
"os_type": "l2664",
"group_id": "4ef87678-ee3a-4208-9654-f7d4aa944bdc",
"os_distribution": "",
"network_type": [],
"iolog": []
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.2.3. Obtain List of VMs (20220725)
4.11.2.2.3.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.9.0 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
4.11.2.2.3.2. URI¶
Table 4.11.117 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20220725/servers Get VM list information
Parameter Description:
Table 4.11.118 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM Platform
Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected by a
DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM Power
Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This parameter
was added in the API version
20220725 for VM query.)
No
storage_ids path string
List of datastore IDs (This
parameter was added in the API
version 20220725 for VM query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added in the API
version 20220725 for VM query.)
No
4.11.2.2.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20220725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.3.4. Response¶
Response Parameter
Table 4.11.119 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where
VM is located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM
belongs No
user_name string Name of the tenant user where the VM
belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM
belongs No
group_id_path string Use ID to indicate node path, separated
by / No
group_name_path string Use NAME to indicate node path,
separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb int Memory size No
disks list Disk information. For details, see
Parameter Description - disks. No
networks list Network information. For details, see
Parameter Description - networks. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is
running No
host_name string Physical host name No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk
resides No
storage_name string Name of the storage where VM system
disk is located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict CPU status. For details, see Parameter
Description - cpu_status. No
memory_status dict Memory status. For details, see
Parameter Description - memory_status. No
storage_status dict Storage status. For details, see Parameter
Description - storage_status. No
io_status dict I/O status. For details, see Parameter
Description - io_status. No
network_status dict Network status. For details, see
Parameter Description - cpu_status. No
advance_param dict HCI-specific parameters. For details, see
Parameter Description - advance_param. No
os_installed int
Whether an operating system is installed,
0 indicates not installed, 1 indicates
installed
No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1
indicates installation failed, -2 indicates
installation is not supported.
No
tags list VM tag information. For details, see
Parameter Description - tags. No
alarm dict VM alert information. For details, see
Parameter Description - alarm. No
warning dict Alert summary information. For details,
see Paramter Description - warning. No
in_protection int Whether added to a DR task. 1 indicates
yes, 0 indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Number of VM backup files No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list I/O log information. For details, see
Paramter Description - iolog. No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0
indicates others No
schedule_policies list
VM scheduling policy information. For
details, see Paramter Description -
schedule_policies.
No
location int Whether run location of VM is fixed, 1
indicates fixed, 0 indicates unfixed No
floatingip dict Elastic IP address information. For details,
see Paramter Description - floatingip. No
instant_vm int Whether the VM is being rapidly
recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict GPU configuration. For details, see
Parameter Description - gpu_conf. No
gpu_status dict GPU status. For details, see Parameter
Description - gpu_status. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict Key pair information. For details, see
Parameter Description - keypair. No
os_option string
Operating system information. For
details, see Parameter Description -
os_option.
No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list Quota list. For details, see Parameter
Description - quota_info. No
real_ips list IP address used by the VM No
pcis list PCIe devices bound to VMs. For details,
see Parameter Description - pcis. No
cpu_reserve int
Whether the CPU Reservation option is
enabled, which is supported in HCI 6.10.0
and later. Valid values: -1, 1
No
resource_reserve_policies list
List of CPU resource reservation policies.
For details, see Parameter Description -
resource_reserve_policies.
No
serials list
Serial port information, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
serials.
No
 Note
For common response parameters, view Response Format for details
Parameter Description - serials
Table 4.11.120 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - resource_reserve_policies
Table 4.11.121 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - disks
Table 4.11.122 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
baseimage string No Datastore ID: Base image ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.123 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
real_ip string No IPv4 address used by the VM
real_ipv6 string No IPv6 address used by the VM
Parameter Description - cpu_status
Table 4.11.124 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.125 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.126 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.127 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps int No IO read speed (byte/s)
write_speed_byteps int No IO write speed (byte/s)
read_iops int No IO reads (times/s)
write_iops int No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.128 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.129 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1 indicates
enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates no,
1 indicates yes.
vga string No Types of built-in graphic card in VM
tpm int No
Whether TPM 2.0 is enabled, which is supported
in non-Arm-based HCI 6.10.0 and later. Valid
values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is
enabled, which is supported in HCI 6.0.0 and
later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values: 0,
1
Parameter Description - tags
Table 4.11.130 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.131 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No Alert details. For details, see Parameter Description -
alarm-alarm_info.
Parameter Description - alarm-alarm_info
Table 4.11.132 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.133 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.134 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.135 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.136 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.137 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.138 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count float No Number of GPUs
graphics_ratio float No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.139 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.140 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.141 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Parameter Description - pcis
Table 4.11.142 Parameter Description - pcis¶
Parameter Type
Value
Returned Note
secret_key_status int No
Whether the encryption card has synchronized
encryption key (0: not synchronized, 1:
synchronized)
device_type string No PCIe device type
device_id string No PCIe device ID
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0,
"read_speed_bitps": 0
},
"os_installed": 1,
"storage_policy_id": "99129faa",
"cpu_status": {
"total_mhz": 2201.0,
"ratio": 0.01,
"used_mhz": 22.01
},
"storage_mb": 2048.0,
"group_name": "acmp_2022-07-04-15-34-57",
"ips": [],
"keypair": null,
"project_name": "admin",
"gpu_conf": null,
"shutdown_duration": 0,
"az_name": "10.134.48.24",
"instant_vm": "",
"id": "ef2ec1d6-3710-4afe-880a-981c1aad3444",
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9",
"storage_tag_id": "",
"is_stopped": 0,
"uptime": 5799766,
"os_abbr": "",
"user_id": "",
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"warning": {
"warning_info": "vmTools is not installed on the VM",
"warning": 1,
"warning_type": "vtool_uninstalled"
},
"tags": [],
"storage_name": "Virtual datastore 1",
"quotas": [],
"dh_id": "",
"networks": [
{
"real_ipv6": "",
"ipv6_address": "",
"name": "",
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": "",
"cidr": "",
"network_type": "",
"real_ip": "",
"subnet_name": "",
"connect": 0,
"port_id": "",
"mac_address": "FE:FC:FE:34:89:D9",
"vpc_id": "",
"model": "e1000",
"ip_address": "",
"subnet_gateway_ip": "",
"device_id": ""
}
],
"vtool_installed": 0,
"advance_param": {
"schedopt": 0,
"vga": "qxl",
"abnormal_recovery": 0,
"onboot": 1,
"cpu_exclusive": 0,
"numa": 1,
"ha": 1,
"tpm": 1,
"balloon_memory": 0
},
"cpu_reserve": 0,
"resource_reserve_policies": [],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"schedule_policies": [],
"power_state": "on",
"encrypted": 1,
"in_protection": 0,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"type": "hci",
"location": 0,
"io_status": {
"read_speed_byteps": 0,
"read_iops": 0,
"write_speed_byteps": 0,
"write_iops": 0
},
"os_name": "",
"sockets": 1,
"description": "",
"group_id_path": "9a573a59-783c-4e47-9721-fd1bb9dd7d91/4ef87678-ee3a
-4208-9654-f7d4aa944bdc",
"memory_status": {
"used_mb": 40.78,
"total_mb": 2048.0,
"ratio": 0.02
},
"storage_id": "e396b491_vs_vol_rep2",
"group_name_path": "10.134.48.24/acmp_2022-07-04-15-34-57",
"image_name": "",
"has_gpu": 0,
"image_id": "",
"protection_name": "",
"cipher": {
"alg": "aes_256",
"alg": "aes_256",
"type": "",
"mode": "",
"cmkid": ""
},
"protection_id": "",
"expire_time": "unlimited",
"host_id": "host-6c92bfde3a4c",
"vm_id": "6910714092336",
"name": "Tiny-lxm0001",
"status": "running",
"dh_name": "",
"real_ips": [],
"pcis": [],
"gpu_status": {
"graphics_mem_total": 0.0,
"graphics_count": 0.0,
"graphics_mem_used": 0.0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"backup_file_count": 0,
"vmtype": "vm",
"user_name": "",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"disks": [
{
"storage_tag_id": "",
"preallocate": "off",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"baseimage": "",
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"read_cache_size": 200,
"physical_disk_type": ""
},
{
"storage_tag_id": "",
"preallocate": "full",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"baseimage": "",
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"read_cache_size": 200,
"physical_disk_type": ""
}
],
"cores_per_socket": 1,
"template_id": "",
"memory_mb": 2048,
"storage_status": {
"used_mb": 1280.31,
"total_mb": 2048.0,
"storage_file_size_mb": 1408.0,
"ratio": 0.63
},
"protection_type": "",
"mhz": 2201.0,
"host_name": "10.134.48.10",
"os_option": {
"arch": "amd64",
"kernel_name": "linux",
"distribution_name": "kernel-2.6"
},
"cores": 1,
"os_type": "l2664",
"group_id": "4ef87678-ee3a-4208-9654-f7d4aa944bdc",
"os_distribution": "",
"network_type": [],
"iolog": []
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.2.4. Obtain List of VMs (20221230)
4.11.2.2.4.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.10.0 R1 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
4.11.2.2.4.2. URI¶
Table 4.11.143 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20221230/servers Get VM list information
Parameter Description:
Table 4.11.144 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM
Platform Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected by
a DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM
Power Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled
VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This parameter
was added in the API version
20220725 for VM query.)
No
storage_ids path string
List of datastore IDs (This
parameter was added in the API
version 20220725 for VM
query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added in the API
version 20220725 for VM
query.)
No
turbo_mode_enabled path int
Whether Turbo mode is enabled.
Valid values: 0, 1 (This
parameter was added in the API
version 20221230 for VM
query.)
No
4.11.2.2.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20221230/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.4.4. Response¶
Response Parameter
Table 4.11.145 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where
VM is located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM
belongs No
user_name string Name of the tenant user where the VM
belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM
belongs No
group_id_path string Use ID to indicate node path, separated
by / No
group_name_path string Use NAME to indicate node path,
separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb int Memory size No
disks list Disk information. For details, see
Parameter Description - disks. No
networks list Network information. For details, see
Parameter Description - networks. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is
running No
host_name string Physical host name No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk
resides No
storage_name string Name of the storage where VM system
disk is located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict CPU status. For details, see Parameter
Description - cpu_status. No
memory_status dict Memory status. For details, see
Parameter Description - memory_status. No
storage_status dict Storage status. For details, see Parameter
Description - storage_status. No
io_status dict I/O status. For details, see Parameter
Description - io_status. No
network_status dict Network status. For details, see
Parameter Description - cpu_status. No
advance_param dict HCI-specific parameters. For details, see
Parameter Description - advance_param. No
os_installed int
Whether an operating system is installed,
0 indicates not installed, 1 indicates
installed
No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1
indicates installation failed, -2 indicates
installation is not supported.
No
tags list VM tag information. For details, see
Parameter Description - tags. No
alarm dict VM alert information. For details, see
Parameter Description - alarm. No
warning dict Alert summary information. For details,
see Paramter Description - warning. No
in_protection int Whether added to a DR task. 1 indicates
yes, 0 indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Number of VM backup files No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list I/O log information. For details, see
Paramter Description - iolog. No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0
indicates others No
schedule_policies list
VM scheduling policy information. For
details, see Paramter Description -
schedule_policies.
No
location int Whether run location of VM is fixed, 1
indicates fixed, 0 indicates unfixed No
floatingip dict Elastic IP address information. For details,
see Paramter Description - floatingip. No
instant_vm int Whether the VM is being rapidly
recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict GPU configuration. For details, see
Parameter Description - gpu_conf. No
gpu_status dict GPU status. For details, see Parameter
Description - gpu_status. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict Key pair information. For details, see
Parameter Description - keypair. No
os_option string
Operating system information. For
details, see Parameter Description -
os_option.
No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list Quota list. For details, see Parameter
Description - quota_info. No
real_ips list IP address used by the VM No
pcis list PCIe devices bound to VMs. For details,
see Parameter Description - pcis. No
cpu_reserve int
Whether the CPU Reservation option is
enabled, which is supported in HCI 6.10.0
and later. Valid values: -1, 1
No
resource_reserve_policies list
List of CPU resource reservation policies.
For details, see Parameter Description -
resource_reserve_policies.
No
serials list
Serial port information, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
serials.
No
 Note
For common response parameters, view Response Format for details
Parameter Description - serials
Table 4.11.146 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - resource_reserve_policies
Table 4.11.147 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - disks
Table 4.11.148 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
baseimage string No Datastore ID: Base image ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.149 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
real_ip string No IPv4 address used by the VM
real_ipv6 string No IPv6 address used by the VM
Parameter Description - cpu_status
Table 4.11.150 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.151 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.152 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.153 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps int No IO read speed (byte/s)
write_speed_byteps int No IO write speed (byte/s)
read_iops int No IO reads (times/s)
write_iops int No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.154 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.155 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1
indicates enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates
no, 1 indicates yes.
vga string No Types of built-in graphic card in VM
tpm int No
Whether TPM 2.0 is enabled, which is
supported in non-Arm-based HCI 6.10.0 and
later. Valid values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is
enabled, which is supported in HCI 6.0.0 and
later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values:
0, 1
turbo_mode_enabled int No
Whether Turbo mode is enabled, which is
supported in HCI 6.10.0 and later. Valid values:
0, 1
Parameter Description - tags
Table 4.11.156 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.157 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No Alert details. For details, see Parameter Description -
alarm-alarm_info.
Parameter Description - alarm-alarm_info
Table 4.11.158 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.159 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.160 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.161 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.162 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.163 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.164 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count float No Number of GPUs
graphics_ratio float No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.165 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.166 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.167 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Parameter Description - pcis
Table 4.11.168 Parameter Description - pcis¶
Parameter Type
Value
Returned Note
secret_key_status int No
Whether the encryption card has synchronized
encryption key (0: not synchronized, 1:
synchronized)
device_type string No PCIe device type
device_id string No PCIe device ID
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0,
"read_speed_bitps": 0
},
"os_installed": 1,
"storage_policy_id": "99129faa",
"cpu_status": {
"total_mhz": 2201.0,
"ratio": 0.01,
"used_mhz": 22.01
},
"storage_mb": 2048.0,
"group_name": "acmp_2022-07-04-15-34-57",
"ips": [],
"keypair": null,
"project_name": "admin",
"gpu_conf": null,
"shutdown_duration": 0,
"az_name": "10.134.48.24",
"instant_vm": "",
"id": "ef2ec1d6-3710-4afe-880a-981c1aad3444",
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9",
"storage_tag_id": "",
"is_stopped": 0,
"uptime": 5799766,
"os_abbr": "",
"user_id": "",
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"warning": {
"warning_info": "vmTools is not installed on the VM",
"warning": 1,
"warning_type": "vtool_uninstalled"
},
"tags": [],
"storage_name": "Virtual datastore 1",
"quotas": [],
"dh_id": "",
"networks": [
{
"real_ipv6": "",
"ipv6_address": "",
"name": "",
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": "",
"cidr": "",
"network_type": "",
"real_ip": "",
"subnet_name": "",
"connect": 0,
"port_id": "",
"mac_address": "FE:FC:FE:34:89:D9",
"vpc_id": "",
"model": "e1000",
"ip_address": "",
"subnet_gateway_ip": "",
"device_id": ""
}
],
"vtool_installed": 0,
"advance_param": {
"schedopt": 0,
"vga": "qxl",
"abnormal_recovery": 0,
"onboot": 1,
"cpu_exclusive": 0,
"numa": 1,
"ha": 1,
"tpm": 1,
"balloon_memory": 0,
"turbo_mode_enabled": 1
},
"cpu_reserve": 0,
"resource_reserve_policies": [],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"schedule_policies": [],
"power_state": "on",
"encrypted": 1,
"in_protection": 0,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"type": "hci",
"location": 0,
"io_status": {
"read_speed_byteps": 0,
"read_iops": 0,
"write_speed_byteps": 0,
"write_iops": 0
},
"os_name": "",
"sockets": 1,
"description": "",
"group_id_path": "9a573a59-783c-4e47-9721-fd1bb9dd7d91/4ef87678-ee3a
-4208-9654-f7d4aa944bdc",
"memory_status": {
"used_mb": 40.78,
"total_mb": 2048.0,
"ratio": 0.02
},
"storage_id": "e396b491_vs_vol_rep2",
"group_name_path": "10.134.48.24/acmp_2022-07-04-15-34-57",
"image_name": "",
"has_gpu": 0,
"image_id": "",
"protection_name": "",
"cipher": {
"cipher": {
"alg": "aes_256",
"type": "",
"mode": "",
"cmkid": ""
},
"protection_id": "",
"expire_time": "unlimited",
"host_id": "host-6c92bfde3a4c",
"vm_id": "6910714092336",
"name": "Tiny-lxm0001",
"status": "running",
"dh_name": "",
"real_ips": [],
"pcis": [],
"gpu_status": {
"graphics_mem_total": 0.0,
"graphics_count": 0.0,
"graphics_mem_used": 0.0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"backup_file_count": 0,
"vmtype": "vm",
"user_name": "",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"disks": [
{
"storage_tag_id": "",
"preallocate": "off",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"baseimage": "",
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"read_cache_size": 200,
"physical_disk_type": ""
},
{
"storage_tag_id": "",
"preallocate": "full",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"baseimage": "",
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"read_cache_size": 200,
"physical_disk_type": ""
}
],
"cores_per_socket": 1,
"template_id": "",
"memory_mb": 2048,
"storage_status": {
"used_mb": 1280.31,
"total_mb": 2048.0,
"storage_file_size_mb": 1408.0,
"ratio": 0.63
},
"protection_type": "",
"mhz": 2201.0,
"host_name": "10.134.48.10",
"os_option": {
"arch": "amd64",
"kernel_name": "linux",
"distribution_name": "kernel-2.6"
},
"cores": 1,
"os_type": "l2664",
"group_id": "4ef87678-ee3a-4208-9654-f7d4aa944bdc",
"os_distribution": "",
"network_type": [],
"iolog": []
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.2.5. Obtain List of VMs (20190725)
4.11.2.2.5.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.8.0 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
3. Compared with version 20180725, the API version 20190725 adds the response
parameters: os_option, template_id, storage_policy_id, vm_id, and quotas.
4.11.2.2.5.2. URI¶
Table 4.11.169 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/servers Get VM list information
Parameter Description:
Table 4.11.170 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM Platform
Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path string Whether the VM is protected by a
DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM Power
Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path string Whether it is a GPU-enabled VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This parameter
was added on July 25, 2019 for
parameter query.)
No
storage_ids path string
List of storage IDs (This
parameter was added on July 25,
2019 for parameter query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added on July 25,
2019 for parameter query.)
No
4.11.2.2.5.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.5.4. Response¶
Response Parameter
Table 4.11.171 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where VM is
located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM belongs No
user_name string Name of the tenant user where the VM belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM belongs No
group_id_path string Use ID to indicate node path, separated by / No
group_name_path string Use NAME to indicate node path, separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb float Memory size No
disks list View Parameter Description - disks for disk
information. No
networks list View Parameter Description - networks for
network information. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is running No
host_name string Physical host name No
image_id string Image ID No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk resides No
storage_name string Name of the storage where VM system disk is
located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict View Parameter Description - cpu_status for
CPU status information. No
memory_status dict View Parameter Description - memory_status
for memory status information. No
storage_status dict View Parameter Description - storage_status for
storage status information. No
io_status dict View Parameter Description - io_status for I/O
status information. No
network_status dict View Parameter Description - cpu_status for
network status information. No
advance_param dict View Parameter Description - advance_param
for HCI unique feature information. No
os_installed int Whether an operating system is installed, 0
indicates not installed, 1 indicates installed No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1 indicates
installation failed, -2 indicates installation is not
supported.
No
tags list View Parameter Description - tags for VM tag
information. No
alarm dict View Parameter Description - alarm for VM alert
information. No
warning dict View Paramter Description - warning for alert
overview information. No
in_protection int Whether added to a DR task. 1 indicates yes, 0
indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable string Whether to enable disaster recovery No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list View Paramter Description - iolog for I/O log
information. No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0 indicates
others No
schedule_policies list View Paramter Description - schedule_policies
for VM scheduling policy information. No
location int Whether run location of VM is fixed, 1 indicates
fixed, 0 indicates unfixed No
floatingip dict View Paramter Description - floatingip for No
floatingip dict View Paramter Description - floatingip for
Elastic IP information. No
instant_vm string Whether the VM is being rapidly recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict View Parameter Description - gpu_conf for GPU
configuration details. No
gpu_status dict View Parameter Description - gpu_status for
GPU status information. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict View Parameter Description - keypair for key
pair information. No
os_option string View Parameter Description - os_option for
operating system information. No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list View Parameter Description - quota_info for the
list of dynamic quotas. No
 Note
For common response parameters, view Response Format for details
Parameter Description - disks
Table 4.11.172 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
Parameter Description - networks
Table 4.11.173 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - cpu_status
Table 4.11.174 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.175 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.176 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.177 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps float No IO read speed (byte/s)
write_speed_byteps float No IO write speed (byte/s)
read_iops float No IO reads (times/s)
write_iops float No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.178 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.179 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1 indicates
enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates no,
1 indicates yes.
vga string No Types of built-in graphic card in VM
Parameter Description - tags
Table 4.11.180 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.181 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No View Parameter Description - alarm-alarm_info for alert
details.
Parameter Description - alarm-alarm_info
Table 4.11.182 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.183 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.184 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte int No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.185 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.186 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.187 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core int No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.188 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count int No Number of GPUs
graphics_ratio float No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total int No Total Graphics memory
size
graphics_mem_used int No Used graphics memory
size
Parameter Description - keypair
Table 4.11.189 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.190 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.191 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0.0,
"read_speed_bitps": 0.0
},
"os_installed": 1,
"storage_policy_id": "99129faa",
"template_id": "",
"cpu_status": {
"total_mhz": 2201.0,
"ratio": 0.01,
"used_mhz": 22.01
},
"storage_mb": 2048.0,
"group_name": "acmp_2022-07-04-15-34-57",
"vmtype": "vm",
"keypair": null,
"project_name": "admin",
"gpu_conf": null,
"shutdown_duration": 0,
"az_name": "10.134.48.24",
"instant_vm": "",
"id": "ef2ec1d6-3710-4afe-880a-981c1aad3444",
"az_id": "70fd72ee-17db-4d98-9e34-96e89a6cb1e9",
"storage_tag_id": "",
"is_stopped": 0,
"uptime": 5797965,
"user_id": "",
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"tags": [],
"storage_name": "Virtual datastore 1",
"quotas": [],
"dh_id": "",
"networks": [
{
"ipv6_address": "",
"name": "",
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": "",
"cidr": "",
"subnet_gateway_ip": "",
"subnet_name": "",
"connect": 0,
"connect": 0,
"port_id": "",
"mac_address": "FE:FC:FE:34:89:D9",
"vpc_id": "",
"model": "e1000",
"ip_address": "",
"network_type": "",
"device_id": ""
}
],
"vtool_installed": 0,
"advance_param": {
"schedopt": 0,
"vga": "qxl",
"abnormal_recovery": 0,
"onboot": 1,
"balloon_memory": 0
},
"schedule_policies": [],
"power_state": "on",
"encrypted": 1,
"in_protection": 0,
"project_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"type": "hci",
"location": 0,
"io_status": {
"read_speed_byteps": 0.0,
"read_iops": 0.0,
"write_speed_byteps": 0.0,
"write_iops": 0.0
},
"storage_id": "e396b491_vs_vol_rep2",
"os_name": "",
"sockets": 1,
"description": "",
"group_id_path": "9a573a59-783c-4e47-9721-fd1bb9dd7d91/4ef87678-ee3a
-4208-9654-f7d4aa944bdc",
"memory_status": {
"used_mb": 40.78,
"total_mb": 2048.0,
"ratio": 0.02
},
"backup_policy_enable": 0,
"group_name_path": "10.134.48.24/acmp_2022-07-04-15-34-57",
"image_name": "",
"has_gpu": 0,
"image_id": "",
"protection_name": "",
"cipher": {
"alg": "aes_256",
"type": "",
"mode": "",
"cmkid": ""
},
"protection_id": "",
"expire_time": "unlimited",
"host_id": "host-6c92bfde3a4c",
"vm_id": "6910714092336",
"status": "running",
"dh_name": "",
"name": "Tiny-lxm0001",
"backup_file_count": 0,
"ips": [],
"user_name": "",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"disks": [
{
"storage_tag_id": "",
"preallocate": "off",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"physical_disk_type": ""
},
{
"storage_tag_id": "",
"preallocate": "full",
"storage_name": "Virtual datastore 1",
"eagerly_scrub": 0,
"size_mb": 1024.0,
"storage_id": "e396b491_vs_vol_rep2",
"storage_file": "vm-disk-2.qcow2",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"physical_disk_type": ""
}
],
"cores_per_socket": 1,
"gpu_status": {
"graphics_mem_total": 0,
"graphics_count": 0,
"graphics_mem_used": 0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"memory_mb": 2048.0,
"storage_status": {
"used_mb": 1280.31,
"total_mb": 2048.0,
"storage_file_size_mb": 1408.0,
"ratio": 0.63
},
"protection_type": "",
"mhz": 2201.0,
"host_name": "10.134.48.10",
"os_option": {
"arch": "amd64",
"kernel_name": "linux",
"distribution_name": "kernel-2.6"
},
"cores": 1,
"os_type": "l2664",
"group_id": "4ef87678-ee3a-4208-9654-f7d4aa944bdc",
"warning": {
"warning_info": "vmTools is not installed on the VM",
"warning": 1,
"warning_type": "vtool_uninstalled"
},
"network_type": [],
"iolog": []
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.2.6. Obtain List of VMs (20200725)
4.11.2.2.6.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.10.0 and later
 Note
1. Tenants can only query their own VMs.
2. Admin can query all VMs on the platform.
3. Compared with version 20190725, the API version 20200725 adds the response
parameters: real_ips, pcis, latest_backup_time, backup_storage_name, backup_total_byte,
backup_policy_enable, guest_hostname, mem_used_physical, disk_used_physical,
disk_used_logical, and created_at.
4.11.2.2.6.2. URI¶
Table 4.11.192 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/servers Get VM list information
Parameter Description:
Table 4.11.193 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM Platform
Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected by a
DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM Power
Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time, parameter
format: %Y-%m-%d %H:%M:%S
Example: 2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This parameter
was added on July 25, 2019 for
parameter query.)
No
storage_ids path string
List of storage IDs (This
parameter was added on July 25,
2019 for parameter query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added on July 25,
2019 for parameter query.)
No
4.11.2.2.6.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.6.4. Response¶
Response Parameter
Table 4.11.194 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform where VM
is located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM belongs No
user_name string Name of the tenant user where the VM
belongs No
project_id string ID of the tenant where the VM belongs No
project_name string Name of the tenant where the VM belongs No
group_id_path string Use ID to indicate node path, separated by / No
group_name_path string Use NAME to indicate node path, separated
by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz int CPU frequency No
memory_mb int Memory size No
disks list View Parameter Description - disks for disk
information. No
networks list View Parameter Description - networks for
network information. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the cluster No
host_id string ID of the physical host where the VM is
running No
host_name string Physical host name No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system disk
resides No
storage_name string Name of the storage where VM system disk
is located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict View Parameter Description - cpu_status for
CPU status information. No
memory_status dict
View Parameter Description -
memory_status for memory status
information.
No
storage_status dict View Parameter Description - storage_status
for storage status information. No
io_status dict View Parameter Description - io_status for
I/O status information. No
network_status dict View Parameter Description - cpu_status for
network status information. No
advance_param dict View Parameter Description - advance_param
for HCI unique feature information. No
os_installed int Whether an operating system is installed, 0
indicates not installed, 1 indicates installed No
vtool_installed int
Installation status of vmTools. 1 indicates
installed, 0 indicates not installed, -1 indicates
installation failed, -2 indicates installation is
not supported.
No
tags list View Parameter Description - tags for VM
tag information. No
alarm dict View Parameter Description - alarm for VM
alert information. No
warning dict View Paramter Description - warning for alert
overview information. No
in_protection int Whether added to a DR task. 1 indicates yes,
0 indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Number of VM backup files No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
iolog list View Paramter Description - iolog for I/O log
information. No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off, 0
indicates others No
schedule_policies list
View Paramter Description -
schedule_policies for VM scheduling policy
information.
No
information.
location int Whether run location of VM is fixed, 1
indicates fixed, 0 indicates unfixed No
floatingip dict View Paramter Description - floatingip for
Elastic IP information. No
instant_vm int Whether the VM is being rapidly recovered No
storage_mb int Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher string Encryption algorithm No
gpu_conf dict View Parameter Description - gpu_conf for
GPU configuration details. No
gpu_status dict View Parameter Description - gpu_status for
GPU status information. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict View Parameter Description - keypair for key
pair information. No
os_option string View Parameter Description - os_option for
operating system information. No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list View Parameter Description - quota_info for
the list of dynamic quotas. No
real_ips string IP address used by the VM No
pcis list PCIe devices bound to VMs. For details, see
Parameter Description - pcis. No
latest_backup_time string Latest backup time No
backup_storage_name string Backup repository No
backup_total_byte int Backup file size No
backup_policy_enable int Scheduled backup No
guest_hostname string Hostname No
mem_used_physical int Used memory No
disk_used_physical int Physical space used No
disk_used_logical int Logical space used No
created_at string Time created No
 Note
For common response parameters, view Response Format for details
Parameter Description - disks
Table 4.11.195 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
Parameter Description - networks
Table 4.11.196 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - cpu_status
Table 4.11.197 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.198 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.199 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.200 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps float No IO read speed (byte/s)
write_speed_byteps float No IO write speed (byte/s)
read_iops float No IO reads (times/s)
write_iops float No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.201 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.202 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1 indicates
enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates no,
1 indicates yes.
vga string No Types of built-in graphic card in VM
Parameter Description - tags
Table 4.11.203 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.204 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No View Parameter Description - alarm-alarm_info for alert
details.
Parameter Description - alarm-alarm_info
Table 4.11.205 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.206 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.207 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.208 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.209 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.210 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.211 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count int No Number of GPUs
graphics_ratio int No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.212 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.213 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.214 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Parameter Description - pcis
Table 4.11.215 Parameter Description - pcis¶
Parameter Type
Value
Returned Note
secret_key_status int Yes Whether the encryption card has synchronized
encryption key
device_type string Yes PCIe device type. For details, see PCIe device
type.
device_id string Yes PCIe device ID
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0,
"read_speed_bitps": 0
},
"expire_time": "unlimited",
"cpu_status": {
"total_mhz": 4202,
"ratio": 0,
"used_mhz": 0
},
"storage_mb": 113664,
"group_name": "Database",
"os_installed": 2,
"keypair": null,
"warning": {
"warning_info": "",
"warning": 0,
"warning_type": ""
},
"gpu_conf": null,
"az_name": "1.75",
"instant_vm": "",
"networks": [
{
"ipv6_address": "",
"name": null,
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": null,
"cidr": "",
"subnet_gateway_ip": "",
"subnet_name": "",
"connect": 1,
"port_id": "",
"mac_address": "FE:FC:FE:B2:C2:D8",
"vpc_id": "",
"model": "virtio",
"ip_address": "172.32.0.110",
"network_type": "",
"device_id": null
},
{
"ipv6_address": "",
"name": "Subnet 1",
"vif_id": "net1",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": null,
"cidr": "",
"subnet_gateway_ip": "",
"subnet_name": "",
"connect": 1,
"port_id": "",
"mac_address": "FE:FC:FE:73:EB:9C",
"vpc_id": "",
"model": "virtio",
"ip_address": "192.168.0.113",
"network_type": "",
"device_id": "dvs3fbedac"
}
],
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"is_stopped": 1,
"uptime": 0,
"user_id": null,
"vmtype": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"line_type": "",
"bind_status": "",
"floating_ip_address": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"protection_enable": "",
"image_id": "7965a8e1-4cd8-4b62-988d-18c6ee17c4bf",
"tags": [],
"storage_name": "data-from-60",
"gpu_status": {
"graphics_mem_total": 0,
"graphics_count": 0,
"graphics_mem_used": 0,
"graphics_mem_ratio": 0,
"graphics_ratio": 0
},
"id": "d6ee5e1f-9abf-43e3-90d5-2a0e9881ad95",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"vga": "cirrus",
"abnormal_recovery": 0,
"onboot": 0,
"balloon_memory": 1
},
"location": 0,
"power_state": "off",
"storage_id": "1SANGFOR_ASAN-00c-b4f6-42b8-938c-00a7c09d6f72",
"in_protection": 0,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"user_name": "",
"schedule_policies": [],
"io_status": {
"read_speed_byteps": 0,
"read_iops": 0,
"write_speed_byteps": 0,
"write_iops": 0
},
"project_name": "tjc_tenant",
"sockets": 2,
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"memory_status": {
"used_mb": 0,
"total_mb": 2048,
"ratio": 0
},
"group_name_path": "Database",
"image_name": "DBVM-1207",
"image_name": "DBVM-1207",
"has_gpu": 0,
"dh_id": "",
"protection_name": "",
"protection_type": "",
"protection_id": "",
"shutdown_duration": 357762,
"host_id": "cluster",
"status": "stopped",
"dh_name": "",
"name": "dbvm-test-cjl-1212",
"backup_file_count": 0,
"ips": [
"172.32.0.110",
"192.168.0.113"
],
"type": "hci",
"alarm": {
"alarm_info": [],
"alarm": 0
},
"disks": [
{
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"preallocate": 0,
"storage_name": "data-from-60",
"eagerly_scrub": 0,
"size_mb": 102400,
"storage_id": "1SANGFOR_ASAN-00c-b4f6-42b8-938c-00a7c09d6f72
",
"storage_file": "vm-disk-1.qcow2",
"id": "ide0",
"physical_disk_type": ""
},
{
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"preallocate": 0,
"storage_name": "data-from-60",
"eagerly_scrub": 0,
"size_mb": 11264,
"storage_id": "1SANGFOR_ASAN-00c-b4f6-42b8-938c-00a7c09d6f72
",
"storage_file": "vm-disk-2.qcow2",
"id": "ide1",
"physical_disk_type": ""
}
],
"cores_per_socket": 1,
"network_type": [
"classic"
],
"memory_mb": 2048,
"storage_status": {
"used_mb": 3035.59,
"total_mb": 113664,
"storage_file_size_mb": 611,
"ratio": 0.03
},
"cipher": "",
"encrypted": 0,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"mhz": 4202,
"os_name": "",
"iolog": [],
"os_option": {
"kernel_name": "",
"distribution_name": "",
"arch": "",
},
"template_id": "23879b10-019d-4a3a-a514-809b4abb1912",
"storage_policy_id": "2325526a-f793-4b47-97e6-2cde1e4e9892",
"vm_id": "e4e784b7-7906-4107-b6ba-7fc535c90208",
"quotas": [
{
"resource": "",
"value": 5,
}
]
}
]
OK: 200
Errors: 400, 403, 500
<<<<<<< HEAD
.. _list-servers-20240725:
4.11.2.2.7. Obtain List of VMs (20240725)
4.11.2.2.7.1. Scenario¶
Scenario: Query VM list
Applicable roles: Super administrator, system administrator, tenant, and roles with VM read permission.
Versions supported: SCP 6.10.0 R1 and later
Supports fuzzy search by VM name, IP address, elastic IP address, KMS key pair, and vmTools version.
 Note
1. Tenants can only query their own VMs.
2. Administrators can query all VMs on SCP.
3. Compared with version 20200725, the API version 20240725 adds the size_gb field in the
response parameters memory_gb, detail_vmtype, and disks for VM query.
4.11.2.2.7.2. URI¶
Table 4.11.216 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/servers Get VM list information
Parameter Description:
Table 4.11.217 Path Parameters¶
Parameter Location Type Description Required
vmtype path string VM types, view VM Type for
details. No
network_type path string Network types, view VM
Network Type for details. No
vpc_id path string VPC network ID No
subnet_id path string Subnet ID No
floating_ip_address path string Elastic IP address No
floatingip_id path string Elastic IP ID No
type path string Platform type, view VM
Platform Type for details. No
status path string VM status No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
host_id path string Physical host ID No
group_id path string Group ID No
storage_id path string ID of the storage where VM
system disk resides No
os_type path string Operating system type No
has_tag path string VM tag No
tag_id path string VM tag ID No
in_protection path int Whether the VM is protected
by a DR task. No
protection_id path string Disaster recovery task ID No
protection_type path string Disaster recovery task type No
power_state path string VM power status, view VM
Power Status for details. No
scale_group_id path string AS Group ID No
expire_time path string
VM expiration time,
parameter format: %Y-%m-
%d %H:%M:%S Example:
2021-10-25 23:59:59
No
has_gpu path int Whether it is a GPU-enabled
VM No
gpu_type path string Graphic Card Type No
vm_ids path string
List of VM IDs (This
parameter was added in the
API version 20220725 for
VM query.)
No
storage_ids path string
List of datastore IDs (This
parameter was added in the
API version 20220725 for
VM query.)
No
ids path string
List of VM IDs where IDs are
separated by commas (,) (This
parameter was added in the
API version 20220725 for
VM query.)
No
turbo_mode_enabled path int
Whether Turbo mode is
enabled. Valid values: 0, 1
(This parameter was added in
the API version 20221230
for VM query.)
No
query_name path string
Fuzzy search by VM name
(This parameter was added in
the API version 20240725
for VM query.)
No
query_ip path string
Fuzzy search by VM IP
address (This parameter was
added in the API version
20240725 for VM query.)
No
query_fip path string
Fuzzy search by elastic IP
address of VM (This
parameter was added in the
API version 20240725 for
VM query.)
No
query_kms path string
Fuzzy search by KMS key pair
(This parameter was added in
the API version 20240725
for VM query.)
No
query_vmtools_version path string
Fuzzy search by vmTools
version (This parameter was
added in the API version
20240725 for VM query.)
No
4.11.2.2.7.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/servers?
page_num=0&page_size=1&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.11.2.2.7.4. Response¶
Response Parameter
Table 4.11.218 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual machine ID No
name string VM name No
type string The type of private cloud platform
where VM is located No
status string VM status No
os_type string Operating system type No
os_name string OS No
description string Description No
uptime int Uptime (second) No
shutdown_duration int Downtime (second) No
ips list VM IP information No
user_id string ID of the tenant user where the VM
belongs No
user_name string Name of the tenant user where the
VM belongs No
project_id string ID of the tenant where the VM
belongs No
project_name string Name of the tenant where the VM
belongs No
group_id_path string Use ID to indicate node path,
separated by / No
group_name_path string Use NAME to indicate node path,
separated by / No
cores_per_socket int CPU cores No
sockets int CPU sockets No
cores int CPU cores No
mhz float CPU frequency No
memory_mb int Memory size No
memory_gb int Memory size (GB) No
disks list Disk information. For details, see
Parameter Description - disks. No
networks list Network information. For details, see
Parameter Description - networks. No
az_id string Resource pool ID No
az_name string Resource pool name No
dh_id string Scheduling domain ID in the cluster No
dh_name string Scheduling domain name in the No
dh_name string Scheduling domain name in the
cluster No
host_id string ID of the physical host where the
VM is running No
host_name string Physical host name No
image_id string Image ID No
image_name string Image name No
storage_id string ID of the storage where VM system
disk resides No
storage_name string Name of the storage where VM
system disk is located No
storage_tag_id string Storage tag ID No
group_id string VM group ID No
group_name string VM group name No
cpu_status dict CPU status. For details, see
Parameter Description - cpu_status. No
memory_status dict
Memory status. For details, see
Parameter Description -
memory_status.
No
storage_status dict
Storage status. For details, see
Parameter Description -
storage_status.
No
io_status dict I/O status. For details, see
Parameter Description - io_status. No
network_status dict Network status. For details, see
Parameter Description - cpu_status. No
advance_param dict
HCI-specific parameters. For details,
see Parameter Description -
advance_param.
No
os_installed int
Whether an operating system is
installed, 0 indicates not installed, 1
indicates installed
No
vtool_installed int
Installation status of vmTools. 1
indicates installed, 0 indicates not
installed, -1 indicates installation
failed, -2 indicates installation is not
supported.
No
tags list VM tag information. For details, see
Parameter Description - tags. No
alarm dict VM alert information. For details, see
Parameter Description - alarm. No
warning dict
Alert summary information. For
details, see Paramter Description -
warning.
No
in_protection int Whether added to a DR task. 1
indicates yes, 0 indicates no. No
protection_id string Disaster recovery task ID No
protection_name string Disaster recovery task name No
protection_type string Disaster recovery task type No
protection_enable int Number of VM backup files No
backup_file_count int Number of VM backup files No
vmtype string VM Type No
I/O activity log information. For
iolog list
I/O activity log information. For
details, see Paramter Description -
iolog.
No
power_state string Power status No
is_stopped int VM status: 1 indicates powered-off,
0 indicates others No
schedule_policies list
VM scheduling policy information.
For details, see Paramter Description
- schedule_policies.
No
location int Whether run location of VM is fixed,
1 indicates fixed, 0 indicates unfixed No
floatingip dict
Elastic IP address information. For
details, see Paramter Description -
floatingip.
No
instant_vm int Whether the VM is being rapidly
recovered No
storage_mb float Total disk size No
expire_time string Expiration date No
network_type list Type of VM network No
encrypted int Whether it is encrypted No
cipher dict Encryption algorithm No
gpu_conf dict GPU configuration. For details, see
Parameter Description - gpu_conf. No
gpu_status dict GPU status. For details, see
Parameter Description - gpu_status. No
has_gpu int Whether it is a GPU-enabled VM No
keypair dict Key pair information. For details, see
Parameter Description - keypair. No
os_option dict
Operating system information. For
details, see Parameter Description -
os_option.
No
template_id string Template ID No
storage_policy_id string Storage policy ID No
vm_id string VM ID before conversion No
quotas list Quota list. For details, see Parameter
Description - quota_info. No
real_ips list IP address used by the VM No
pcis list
PCIe devices associated with VMs.
For details, see Parameter
Description - pcis.
No
cpu_reserve int
Whether the CPU Reservation
option is enabled, which is supported
in HCI 6.10.0 and later. Valid values:
-1, 1
No
resource_reserve_policies list
List of CPU resource reservation
policies. For details, see Parameter
Description -
resource_reserve_policies.
No
serials list
Serial port information, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
serials.
No
latest_backup_time string Latest backup time No
backup_storage_name string Backup repository No
backup_total_byte int Backup file size No
backup_policy_enable int Whether to enable scheduled
backup. Valid values: 0 and 1. No
guest_hostname string Hostname No
mem_used_physical int Used memory No
disk_used_physical int Physical space used No
disk_used_logical int Logical space used No
support_vm_compatibility_upg int
Whether to enable upgrade
compatibility alerts. Valid values: 0
and 1.
No
vm_compatibility_mode int Whether the VM is in compatibility
mode. Valid values: 0 and 1. No
vm_compatibility_version dict
VM compatibility version. For details,
see Parameter Description -
vm_compatibility_version.
No
os_distribution string Operating system description No
os_abbr string Operating system abbreviation No
created_at string Time created No
detail_vmtype string VM type details No
 Note
For common response parameters, view Response Format for details
Parameter Description - serials
Table 4.11.219 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - vm_compatibility_version
Table 4.11.220 Parameter Description - vm_compatibility_version¶
Parameter Type Required Note
vmx_version string No VM compatibility version
Parameter Description - resource_reserve_policies
Table 4.11.221 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - disks
Table 4.11.222 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
size_gb float Yes Disk size (GB). 1 < size_gb < 64512 (63TB)
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string No Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
storage_tag_id string No Storage Tag ID
baseimage string No Datastore ID: Base image ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.223 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string No Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
real_ip string No IPv4 address used by the VM
real_ipv6 string No IPv6 address used by the VM
Parameter Description - cpu_status
Table 4.11.224 Parameter Description - cpu_status¶
Parameter Type Value Returned Note
total_mhz float No Total CPU cores
used_mhz float No Used CPU cores
ratio float No CPU usage
Parameter Description - memory_status
Table 4.11.225 Parameter Description - memory_status¶
Parameter Type Value Returned Note
total_mb float No Total memory (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
Parameter Description - storage_status
Table 4.11.226 Parameter Description - storage_status¶
Parameter Type
Value
Returned Note
total_mb float No Total storage (MB)
used_mb float No Used memory (MB)
ratio float No CPU usage
storage_file_size_mb float No Storage file size, the actual storage space used
(MB)
Parameter Description - io_status
Table 4.11.227 Parameter Description - io_status¶
Parameter Type
Value
Returned Note
read_speed_byteps int No IO read speed (byte/s)
write_speed_byteps int No IO write speed (byte/s)
read_iops int No IO reads (times/s)
write_iops int No IO reads (times/s)
Parameter Description - cpu_status
Table 4.11.228 Parameter Description - cpu_status¶
Parameter Type
Value
Returned Note
read_speed_bitps float No Network read speed (bit/s)
write_speed_bitps float No Network write speed (bit/s)
Parameter Description - advance_param
Table 4.11.229 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
balloon_memory int No
Whether to enable the memory recycling
mechanism: 0 indicates not enabled, 1
indicates enabled
onboot int No Whether to run automatically at startup. 0
indicates no, 1 indicates yes.
schedopt int No Whether it is a critical VM. 0 indicates no, 1
indicates yes.
abnormal_recovery int No Whether to reboot if fault occurs. 0 indicates
no, 1 indicates yes.
vga string No Types of built-in graphic card in VM
tpm int No
Whether TPM 2.0 is enabled, which is
supported in non-Arm-based HCI 6.10.0 and
later. Valid values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is
enabled, which is supported in HCI 6.0.0 and
later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values:
0, 1
turbo_mode_enabled int No
Whether Turbo mode is enabled, which is
supported in HCI 6.10.0 and later. Valid values:
0, 1
Parameter Description - tags
Table 4.11.230 Parameter Description - tags¶
Parameter Type Value Returned Note
id string No Tag ID
name string No Tag name
Parameter Description - alarm
Table 4.11.231 Parameter Description - alarm¶
Parameter Type
Value
Returned Note
alarm int No Alert status, 0 indicates no alert, 1 indicates an alert
exists
alarm_info list No Alert details. For details, see Parameter Description -
alarm-alarm_info.
Parameter Description - alarm-alarm_info
Table 4.11.232 Parameter Description - alarm-alarm_info¶
Parameter Type
Value
Returned Note
alarm_role_type string No User role of alert
severity_level string No Severity
object_type string No Alert object type
sub_object_type string No Special alert object type
cluster_id string No Cluster ID of alert
az_name string No Resource pool name
az_id string No Resource pool ID
id string No Alert ID
user_id string No User ID of alert
title string No Alert event
object_id string No Alert object ID
cluster_name string No Cluster name of alert
sub_object_name string No Special alert object name
object_name string No Alert object name
project_id string No Tenant ID
status string No Status
resource_project_name string No Tenant name of alert object
description string No Description
root_id string No Alert group ID
resource_project_id string No Tenant ID of alert object
begin_time string No Alert start time
alarm_id string No Alert ID
end_time string No Alert end time
resource_user_id string No User ID of alert object
Paramter Description - warning
Table 4.11.233 Paramter Description - warning¶
Parameter Type Value Returned Note
warning string No Alert status, 0 indicates no alert, 1
indicates an alert exists
warning_type string No Alert type
warning_info string No Alert description
Paramter Description - iolog
Table 4.11.234 Paramter Description - iolog¶
Parameter Type
Value
Returned Note
size_byte float No Actual file size of iolog (byte)
storage_id string No Storage ID
Paramter Description - schedule_policies
Table 4.11.235 Paramter Description - schedule_policies¶
Parameter Type Value Returned Note
id string No Scheduling policy ID
az_id string No Resource pool ID
project_id string No Tenant ID
name string No Scheduling policy name
type string No Scheduling policy type
resource_id string No External ID of Scheduling policy
status string No Scheduling policy status
enable int No Whether the scheduling policy is
enabled
force int No Whether the scheduling policy is
forcibly enabled
Paramter Description - floatingip
Table 4.11.236 Paramter Description - floatingip¶
Parameter Type
Value
Returned Note
floatingip_id string No Elastic IP ID
floating_ip_address string No Bind Elastic IP
bind_status string No Elastic IP binding status
line_type string No Line type associated with elastic
IP
line_type_id string No ID of line type ID associated
with elastic IP
bandwidth int No Bandwidth associated with
elastic IP
sharedbandwidth_name string No Shared bandwidth name
associated with elastic IP
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - gpu_conf
Table 4.11.237 Parameter Description - gpu_conf¶
Parameter Type
Value
Returned Note
auth_require string No Licensing mode
gpu_cores int No Number of cores per GPU
gpu_mem_size_single_core string No Graphics memory size per
GPU core
gpu_name string No Graphic card name
gpu_type string No Graphic Card Type
total_count int No Total number of graphics
cards used by the VM
vgpu_mem_size int No Total graphics memory
used by the VM
vgpu_type string No vGPU type
schedulers list No Graphics card scheduler
Parameter Description - gpu_status
Table 4.11.238 Parameter Description - gpu_status¶
Parameter Type Value Returned Note
graphics_count float No Number of GPUs
graphics_ratio float No GPU usage
graphics_mem_ratio float No Graphics memory
usage
graphics_mem_total float No Total Graphics memory
size
graphics_mem_used float No Used graphics memory
size
Parameter Description - keypair
Table 4.11.239 Parameter Description - keypair¶
Parameter Type Value Returned Note
id string No Key pair UUID
name string No Key pair name
type string No Key pair type
user_id string No User ID
public_key string No Public key information
created_at string No Time created
fingerprint string No Key fingerprint
information
Parameter Description - os_option
Table 4.11.240 Parameter Description - os_option¶
Parameter Type Value Returned Note
kernel_name string No Kernel name
distribution_name string No Release version
arch string No CPU architecture
system
Parameter Description - quota_info
Table 4.11.241 Parameter Description - quota_info¶
Parameter Type Value Returned Note
resource string Yes IDs of the quota resources, which are
separated by colons (;)
value int Yes Quantity
Parameter Description - pcis
Table 4.11.242 Parameter Description - pcis¶
Parameter Type
Value
Returned Note
secret_key_status int No
Whether the encryption card has synchronized
encryption key (0: not synchronized, 1:
synchronized)
device_type string No PCIe device type
device_id string No PCIe device ID
Response Example:
[
{
"network_status": {
"write_speed_bitps": 0,
"read_speed_bitps": 202080
},
"encrypted": 0,
"storage_mb": 204800.0,
"os_installed": 2,
"guest_hostname": "localhost.localdomain",
"gpu_conf": null,
"os_abbr": "l2664",
"networks": [
{
"real_ipv6": "2001:d02::14:0:0:9",
"ipv6_address": "2001:d02::14:0:0:9",
"name": "Default edge",
"vif_id": "net0",
"subnet_id": "",
"vpc_name": "",
"custom_gateway_ip": "",
"cidr": "",
"network_type": "",
"real_ip": "10.134.128.103",
"subnet_name": "",
"connect": 1,
"port_id": "0587399b-bfd8-4034-a214-36d967eeedad",
"mac_address": "FE:FC:FE:21:E3:4D",
"vpc_id": "",
"model": "virtio",
"ip_address": "10.134.128.103",
"subnet_gateway_ip": "",
"device_id": "80853925-c52f-4323-a2f5-152b912066a6"
}
],
"vtool_installed": 1,
"location": 0,
"power_state": "on",
"project_id": "379e4fc0935a48cbb57e82d951a9b23c",
"backup_policy_enable": 0,
"latest_backup_time": "",
"disk_used_logical": 2221,
"host_id": "host-ac1f6b00f6be",
"vm_id": "2786761839857",
"dh_name": "",
"name": "vsphere-proxy",
"disks": [
{
"storage_tag_id": "e1c8e55c-2461-452f-91d6-053f780c9537",
"preallocate": "off",
"storage_name": "Local-3600",
"eagerly_scrub": 0,
"size_mb": 204800.0,
"size_gb": 200.0,
"storage_id": "35000c500d63f66ea_ac1f6b00f6be",
"storage_file": "vm-disk-1.qcow2",
"id": "virtio0",
"physical_disk_type": ""
}
],
"mhz": 13198.64,
"host_name": "10.134.128.11",
"os_type": "l2664",
"group_id": "",
"detail_vmtype": "",
"vmtype": "vm",
"keypair": null,
"instant_vm": "",
"az_id": "1455ac99-f023-4691-97e2-04d0d0d91f2d",
"storage_tag_id": "e1c8e55c-2461-452f-91d6-053f780c9537",
"group_name_path": "",
"backup_storage_name": "",
"os_option": {
"arch": "amd64",
"kernel_name": "linux",
"distribution_name": "kernel-2.6"
},
"advance_param": {
"schedopt": 0,
"abnormal_recovery": 1,
"onboot": 0,
"balloon_memory": 1
},
"schedule_policies": [],
"vm_compatibility_mode": 0,
"disk_used_physical": 2221,
"tags": [
{
"id": "ecbef044-e61c-4f29-bed2-0984ad77cf31",
"name": "a"
}
],
"image_name": "",
"image_id": "",
"gpu_status": {
"graphics_mem_total": 0.0,
"graphics_count": 0.0,
"graphics_mem_used": 0.0,
"graphics_mem_ratio": 0.0,
"graphics_ratio": 0.0
},
"storage_name": "Local-3600",
"cores_per_socket": 4,
"os_distribution": "CentOS Linux release 7.2.1511",
"cpu_status": {
"total_mhz": 13198.64,
"ratio": 0.0,
"used_mhz": 0.0
},
"group_name": "",
"ips": [
"10.134.128.103",
"2001:d02::14:0:0:9"
],
"shutdown_duration": 0,
"sockets": 1,
"vm_compatibility_version": {
"vmx_version": "vmx-3.14"
},
"user_id": "",
"protection_enable": "",
"quotas": [],
"is_stopped": 0,
"storage_id": "35000c500d63f66ea_ac1f6b00f6be",
"storage_id": "35000c500d63f66ea_ac1f6b00f6be",
"type": "hci",
"support_vm_compatibility_upg": 0,
"io_status": {
"read_speed_byteps": 0,
"read_iops": 0,
"write_speed_byteps": 14848,
"write_iops": 2
},
"project_name": "admin",
"dh_id": "",
"mem_used_physical": 2811,
"protection_type": "",
"user_name": "",
"pcis": [],
"in_protection": 0,
"cpu_reserve": 0,
"template_id": "",
"iolog": [],
"storage_policy_id": "",
"warning": {
"warning_info": "",
"warning": 0,
"warning_type": ""
},
"az_name": "6100-10.134.128.101",
"id": "9d513649-4a1d-47ab-b13c-459fe9c1ea0c",
"serials": [],
"uptime": 524868,
"floatingip": {
"sharedbandwidth_name": "",
"floatingip_id": "",
"bandwidth": 0,
"floating_ip_address": "",
"bind_status": "",
"line_type": "",
"line_type_id": "",
"sharedbandwidth_id": ""
},
"created_at": "2025-01-08T19:14:25",
"real_ips": [
"10.134.128.103",
"2001:d02::14:0:0:9"
],
"status": "running",
"os_name": "",
"description": "",
"group_id_path": "",
"memory_status": {
"used_mb": 894.4,
"total_mb": 8192.0,
"ratio": 0.11
},
"has_gpu": 0,
"protection_name": "",
"cipher": {
"alg": "",
"type": "",
"mode": "",
"cmkid": ""
},
"protection_id": "",
"expire_time": "unlimited",
"backup_file_count": 1,
"alarm": {
"alarm_info": [],
"alarm": 0
},
"memory_mb": 8192,
"memory_gb": 8,
"storage_status": {
"used_mb": 2087.36,
"total_mb": 204800.0,
"storage_file_size_mb": 2221.0,
"ratio": 0.01
},
"resource_reserve_policies": [],
"cores": 4,
"network_type": [
"classic"
]
}
]
OK: 200
Errors: 400, 403, 500
4.11.2.3. VM Configuration
4.11.2.3.1. Get VM configuration
4.11.2.3.1.1. Scenario¶
Scenario: Query VM configuration
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Status Read
permission
Versions supported: SCP 6.3.0 and later
 Note
Tenants can only obtain their own VM configuration details.
4.11.2.3.1.2. URI¶
Table 4.11.243 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id} Get VM configuration
Parameter Description:
Table 4.11.244 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.3.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/68f6a32a-912a-4fc6-a3ef-17abac27f947
4.11.2.3.1.4. Response¶
Response Parameter
Table 4.11.245 Response Parameter¶
Parameter Type Description
Value
Returned
id string VM UUID Yes
status string View Parameter Description - status for VM
status. Yes
name string VM name Yes
vm_type string VM type, view VM Type for details. No
description string VM description No
group_id string VM group ID Yes
group_id_path string VM group ID path Yes
group_id_path string VM group ID path Yes
group_name string Group name Yes
storage_name string Storage name No
host_name string Host name No
project_id string Tenant ID Yes
project_name string Tenant name Yes
user_id string User ID Yes
cores int CPU cores Yes
sockets int Socket number Yes
memory_mb int Memory size (MB) Yes
location dict Run location, view Parameter Description -
location for details. Yes
storage_type string Storage type No
storage_location string Storage location No
storage_tag_id string Storage Tag ID Yes
storage_tag_name string Storage tag name Yes
az_id string Resource pool ID No
az_name string Resource pool name No
pool_tag string Usage tag of the resource pool No
dh_id string Dedicated server group ID No
dh_tag string Usage tag of the dedicated server group No
disks list Disk information, view Parameter Description -
disks for details. Yes
networks list Network information, view Parameter
Description - networks for details. Yes
cdroms list CD/DVD drive information, view Parameter
Description - cdroms for details. No
usbs list USB information, view Parameter Description -
usbs for details. No
os_type string Operating system type No
os_name string OS No
image_name string Image name No
os_installed int Whether an operating system is installed No
vtool_installed int Whether vmTools is installed Yes
ha int Whether it is a HA-enabled VM No
snap int Whether a snapshot exists No
backup int Whether a backup exists No
derived int Whether it is a deployed VM No
hotplug_sup_info dict Hot add information, view Parameter Description
- hotplug_sup_info for details. No
floatingip dict Elastic IP information, view Paramter Description
- floatingip for details. No
advance_param dict HCI-specific parameter, view Parameter
Description - advance_param for details. No
instant_vm string Whether the VM is rapidly recovered No
instant_vm string Whether the VM is rapidly recovered No
encrypted int Whether it is encrypted Yes
cipher string Encryption algorithm Yes
gpu dict GPU configuration information, view Parameter
Description - gpu No
machine_type string Motherboard type No
arch_type string Cluster architecture type No
 Note
For common response parameters, view Response Format for details
Parameter Description - status
Table 4.11.246 Parameter Description - status¶
status Note
running Running
suspend Suspended
stopped Powered off
alert Alert
overdue Expired
lost Storage missing
paused_io_error IO error occurred
starting Powering on
stoping Shutting down
tpl_lost Template missing
clone Cloning
backup Backing up
recovery Recovering
run_backup Backing up
resetting Restarting
suspending Suspending
updating Updating
deleting Deleting
snapshotting Taking snapshot
creating Creating
migrate Migrating
deriving Deploying
tpl_updating Updating
tpl_moving Preparing for reverse copy
tpl_syncing Reverse copy
offline Offline
Parameter Description - location
Table 4.11.247 Parameter Description - location¶
Parameter Type
Value
Returned Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.248 Parameter Description - disks¶
Parameter Type
Value
Returned Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
backing_file string No Backend image
label string No Display name of disks, such as disk 1, disk 2
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.249 Parameter Description - networks¶
Parameter Type
Value
Returned Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
label string No Display name of NIC, such as network
connection 1
ip_address string No IPv4 address
ipv6_address string No IPv6 address
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port
host_tso int No Whether to enable TSO
name string No Name of the connected port
vpc_id string No VPC ID of the connected tenant
vpc_name string No VPC network name
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
ip_info dict No View Parameter Description - ip_info for IP
address information.
ipv6_info dict No View Parameter Description - ipv6_info for
IPv6 address information.
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - ip_info
Table 4.11.250 Parameter Description - ip_info¶
Parameter Type Value Returned Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS
Parameter Description - ipv6_info
Table 4.11.251 Parameter Description - ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - cdroms
Table 4.11.252 Parameter Description - cdroms¶
Parameter Type Value Returned Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string Yes ISO image ID
location string Yes ISO location
storage_name string No Storage name
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.253 Parameter Description - usbs¶
Parameter Type
Value
Returned Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
online int No Online or not
description string No Description of USB device
Parameter Description - hotplug_sup_info
Table 4.11.254 Parameter Description - hotplug_sup_info¶
Parameter Type Value Returned Note
cpu int No Whether CPU hot add is
supported
memory int No Whether memory hot add is
supported
Paramter Description - floatingip
Table 4.11.255 Paramter Description - floatingip¶
Parameter Type Value Returned Note
floatingip_id string No Elastic IP ID
floatingip_ip string No Elastic IP address
line_type_name string No Line type name
line_type_id string No Line type ID
bandwidth int No Elastic IP bandwidth
sharedbandwidth_name string No Line type name
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - advance_param
Table 4.11.256 Parameter Description - advance_param¶
Parameter Type
Value
Returned Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
Parameter Description - gpu
Table 4.11.257 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which differs as per different
manufacturers. Only NVIDIA is supported now, view
Parameter Description - gpu.GpuNvidia for details.
Parameter Description - gpu-GpuNvidia
Table 4.11.258 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No vGPU scheduling policy. For details, see
Graphics card scheduling policy
frame_rate int No Frame rate limit. 0 indicates no limit.
Response Example:
{
"usbs": [],
"encrypted": 0,
"networks": [
{
"ip_info": {
"ip_address": "172.32.0.121"
},
"vif_id": "net0",
"subnet_id": "fec18705-62ce-4cbc-85a7-95c17980298b",
"host_tso": 0,
"custom_gateway_ip": null,
"network_type": "vpc",
"model": "virtio",
"subnet_name": "NFV management subnet",
"connect": 1,
"mac_address": "fe:fc:fe:85:cc:fd",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "172.32.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "172.32.0.1"
},
{
"ip_info": {
"ip_address": "192.168.0.127"
},
"vif_id": "net1",
"subnet_id": "7a606fd1-fd9b-4d44-8753-a76e26ca1ca0",
"host_tso": 0,
"custom_gateway_ip": "",
"network_type": "vpc",
"model": "virtio",
"subnet_name": "Subnet 1",
"connect": 1,
"mac_address": "fe:fc:fe:47:5a:58",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "192.168.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "192.168.0.1"
}
],
"group_name": "Database",
"os_installed": 2,
"storage_type": "iscsi",
"project_name": "tjc_tenant",
"az_name": "1.75",
"sockets": 2,
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"cdroms": [
{
"image_id": "",
"image_name": "",
"location": "",
"id": "ide2"
}
],
"user_id": null,
"vm_type": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"line_type_name": "Shared service network",
"floatingip_id": "0d98d028-b6eb-41d6-8d44-94f214139727",
"bandwidth": 100000,
"sharedbandwidth_id": "",
"line_type_id": "14d9a0b8-caac-48f3-b66c-19e58b5d88f5",
"floatingip_ip": "9.9.9.103"
},
"id": "68f6a32a-912a-4fc6-a3ef-17abac27f947",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"hugepage_memory": 0,
"use_vblk": 1,
"boot_order": "dc",
"cpu_hotplug": 1,
"balloon_memory": 1,
"use_uuid": 0,
"abnormal_recovery": 0,
"mem_hotplug": 1,
"cpu_type": "core2duo",
"real_use_vblk": 1,
"onboot": 0,
"dir": "832e7d558801",
"boot_disk": "ide0"
},
"location": {
"location": 0,
"policy_type": "",
"id": "cluster"
},
"snap": 0,
"gpu": null,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"status": "stopped",
"storage_location": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97",
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"derived": 1,
"image_name": "DBVM-1207",
"dh_id": null,
"cipher": "",
"machine_type": "i440fx",
"ha": 1,
"storage_tag_name": "High performance storage",
"name": "66666-caiyi-6602",
"storage_name": "backup-from-60",
"disks": [
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide0",
"size_mb": 102400.0,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-1.qcow2",
"type": "derive_disk",
"is_old_disk": 1
},
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide1",
"size_mb": 10240.0,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-2.qcow2",
"type": "new_disk",
"is_old_disk": 1
}
],
"hotplug_sup_info": {
"cpu": 1,
"memory": 1
},
"memory_mb": 2048,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"backup": 0,
"os_name": ""
}
4.11.2.3.1.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.3.2. Obtain VM Configuration (20190725)
4.11.2.3.2.1. Scenario¶
Scenario: Query VM configuration
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Status Read
permission
Versions supported: SCP 6.7.35 and later
 Note
1.For obtaining VM configuration, the response parameters in this custom version include the
invtsc parameter (indicating whether to enable para-virtualized clock) compared with official
version.
4.11.2.3.2.2. URI¶
Table 4.11.259 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/servers/{server_id} Get VM configuration
Parameter Description:
Table 4.11.260 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.3.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/servers/68f6a32a-912a-4fc6-a3ef-17abac27f947
4.11.2.3.2.4. Response¶
Response Parameter
Table 4.11.261 Response Parameter¶
Parameter Type Description
Value
Returned
id string VM UUID Yes
status string VM status. For details, see Parameter
Description - status. Yes
name string VM name Yes
vm_type string VM type, view VM Type for details. No
description string VM description No
group_id string VM group ID Yes
group_id_path string VM group ID path Yes
group_name string Group name Yes
storage_name string Storage name No
host_name string Host name No
project_id string Tenant ID Yes
project_name string Tenant name Yes
user_id string User ID Yes
cores int CPU cores Yes
sockets int Socket number Yes
memory_mb int Memory size (MB) Yes
location dict Run location. For details, see Parameter
Description - location. Yes
storage_type string Storage type No
storage_location string Storage location No
storage_tag_id string Storage Tag ID Yes
storage_tag_name string Storage tag name Yes
az_id string Resource pool ID No
az_name string Resource pool name No
pool_tag string Usage tag of the resource pool No
dh_id string Dedicated server group ID No
dh_tag string Usage tag of the dedicated server group No
disks list Disk information. For details, see Parameter
Description - disks. Yes
networks list Network information. For details, see Parameter
Description - networks. Yes
cdroms list CD/DVD information. For details, see Parameter
Description - cdroms. No
usbs list USB information. For details, see Parameter
Description - usbs. No
os_type string Operating system type No
os_name string OS No
image_name string Image name No
os_installed int Whether an operating system is installed No
vtool_installed int Whether vmTools is installed Yes
ha int Whether it is a HA-enabled VM No
snap int Whether a snapshot exists No
backup int Whether a backup exists No
derived int Whether it is a deployed VM No
hotplug_sup_info dict Hot add feature status. For details, see
Parameter Description - hotplug_sup_info. No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip. No
advance_param dict HCI-specific parameters. For details, see
Parameter Description - advance_param. No
instant_vm int Whether the VM is rapidly recovered No
encrypted int Whether it is encrypted Yes
cipher string Encryption algorithm Yes
gpu dict GPU configuration. For details, see Parameter
Description - gpu. No
machine_type string Motherboard type No
arch_type string Cluster architecture type No
 Note
For common response parameters, view Response Format for details
Parameter Description - status
Table 4.11.262 Parameter Description - status¶
status Note
running Running
suspend Suspended
stopped Powered off
alert Alert
overdue Expired
lost Storage missing
paused_io_error IO error occurred
starting Powering on
stoping Shutting down
tpl_lost Template missing
clone Cloning
backup Backing up
recovery Recovering
run_backup Backing up
resetting Restarting
suspending Suspending
updating Updating
deleting Deleting
snapshotting Taking snapshot
creating Creating
migrate Migrating
deriving Deploying
tpl_updating Updating
tpl_moving Preparing for reverse copy
tpl_syncing Reverse copy
offline Offline
Parameter Description - location
Table 4.11.263 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.264 Parameter Description - disks¶
Parameter Type Required Note
size_mb float Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
backing_file string No Backend image
label string No Display name of disks, such as disk 1, disk 2
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.265 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
label string No Display name of NIC, such as network
connection 1
ip_info dict No IPv4 address information. For details, see
Parameter Description - ip_info.
ipv6_info dcit No IPv6 address information. For details, see
Parameter Description - ipv6_info.
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
host_tso int Yes Whether to enable TSO
port_id string No Port
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - ip_info
Table 4.11.266 Parameter Description - ip_info¶
Parameter Type Value Returned Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS
Parameter Description - ipv6_info
Table 4.11.267 Parameter Description - ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - cdroms
Table 4.11.268 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string Yes ISO image ID
location string Yes ISO location
storage_name string No Storage name
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.269 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
online int No Online or not
description string No Description of USB device
Parameter Description - hotplug_sup_info
Table 4.11.270 Parameter Description - hotplug_sup_info¶
Parameter Type Required Note
cpu int No Whether CPU hot add is supported
memory int No Whether memory hot add is
supported
Paramter Description - floatingip
Table 4.11.271 Paramter Description - floatingip¶
Parameter Type Value Returned Note
floatingip_id string No Elastic IP ID
floatingip_ip string No Elastic IP address
line_type_name string No Line type name
line_type_id string No Line type ID
bandwidth int No Elastic IP bandwidth
sharedbandwidth_name string No Line type name
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - advance_param
Table 4.11.272 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No Whether to enable high-performance clock. The
options are 0 and 1.
Parameter Description - gpu
Table 4.11.273 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which differs by vendor. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.274 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Response Example:
{
"usbs": [],
"encrypted": 0,
"networks": [
{
"ip_info": {
"ip_address": "172.32.0.121"
},
"vif_id": "net0",
"subnet_id": "fec18705-62ce-4cbc-85a7-95c17980298b",
"host_tso": 0,
"custom_gateway_ip": null,
"network_type": "vpc",
"model": "virtio",
"subnet_name": "NFV management subnet",
"connect": 1,
"mac_address": "fe:fc:fe:85:cc:fd",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "172.32.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "172.32.0.1"
},
{
"ip_info": {
"ip_address": "192.168.0.127"
},
"vif_id": "net1",
"subnet_id": "7a606fd1-fd9b-4d44-8753-a76e26ca1ca0",
"host_tso": 0,
"custom_gateway_ip": "",
"network_type": "vpc",
"model": "virtio",
"subnet_name": "Subnet 1",
"connect": 1,
"mac_address": "fe:fc:fe:47:5a:58",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "192.168.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "192.168.0.1"
}
],
"group_name": "Database",
"os_installed": 2,
"storage_type": "iscsi",
"project_name": "tjc_tenant",
"az_name": "1.75",
"sockets": 2,
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"cdroms": [
{
"image_id": "",
"image_name": "",
"location": "",
"id": "ide2"
}
],
"user_id": null,
"vm_type": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"line_type_name": "Shared service network",
"floatingip_id": "0d98d028-b6eb-41d6-8d44-94f214139727",
"bandwidth": 100000,
"sharedbandwidth_id": "",
"line_type_id": "14d9a0b8-caac-48f3-b66c-19e58b5d88f5",
"floatingip_ip": "9.9.9.103"
},
"id": "68f6a32a-912a-4fc6-a3ef-17abac27f947",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"hugepage_memory": 0,
"use_vblk": 1,
"boot_order": "dc",
"cpu_hotplug": 1,
"balloon_memory": 1,
"use_uuid": 0,
"abnormal_recovery": 0,
"mem_hotplug": 1,
"cpu_type": "core2duo",
"real_use_vblk": 1,
"onboot": 0,
"dir": "832e7d558801",
"boot_disk": "ide0",
"invtsc": 0
},
},
"location": {
"location": 0,
"policy_type": "",
"id": "cluster"
},
"snap": 0,
"gpu": null,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"status": "stopped",
"storage_location": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97",
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"derived": 1,
"image_name": "DBVM-1207",
"dh_id": null,
"cipher": "",
"machine_type": "i440fx",
"ha": 1,
"storage_tag_name": "High performance storage",
"name": "66666-caiyi-6602",
"storage_name": "backup-from-60",
"disks": [
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide0",
"size_mb": 102400.0,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-1.qcow2",
"type": "derive_disk",
"is_old_disk": 1
},
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide1",
"size_mb": 10240.0,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-2.qcow2",
"type": "new_disk",
"is_old_disk": 1
}
],
"hotplug_sup_info": {
"cpu": 1,
"memory": 1
},
"memory_mb": 2048,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"backup": 0,
"os_name": ""
}
4.11.2.3.2.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.3.3. Obtain VM Configuration (20200725)
4.11.2.3.3.1. Scenario¶
Scenario: Query VM configuration
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Status Read
permission
Versions supported: SCP 6.10.0 and later
 Note
Compared with version 20190725, the API version 2020725 adds the response parameters
quotas, pciecards, pci_type, timing_sync_vm_clock_enable, expire_time, image_id, and
created_at, as well as the vgpu_sched_mode and frame_rate fields for GPU configuration.
4.11.2.3.3.2. URI¶
Table 4.11.275 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20200725/servers/{server_id} Get VM configuration
Parameter Description:
Table 4.11.276 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.3.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/servers/68f6a32a-912a-4fc6-a3ef-17abac27f947
4.11.2.3.3.4. Response¶
Response Parameter
Table 4.11.277 Response Parameter¶
Parameter Type Description
Value
Returned
id string VM UUID Yes
status string VM status. For details, see Parameter
Description - status. Yes
name string VM name Yes
vm_type string VM type, view VM Type for details. No
description string VM description No
group_id string VM group ID Yes
group_id_path string VM group ID path Yes
group_name string Group name Yes
storage_name string Storage name No
host_name string Host name No
project_id string Tenant ID Yes
project_name string Tenant name Yes
user_id string User ID Yes
cores int CPU cores Yes
sockets int Socket number Yes
memory_mb int Memory size (MB) Yes
location dict Run location. For details, see
Parameter Description - location. Yes
storage_type string Storage type No
storage_location string Storage location No
storage_tag_id string Storage Tag ID Yes
storage_tag_name string Storage tag name Yes
az_id string Resource pool ID No
az_name string Resource pool name No
pool_tag string Usage tag of the resource pool No
dh_id string Dedicated server group ID No
dh_tag string Usage tag of the dedicated server
group No
disks list Disk information. For details, see
Parameter Description - disks. Yes
networks list Network information. For details, see
Parameter Description - networks. Yes
cdroms list CD/DVD information. For details, see
Parameter Description - cdroms No
usbs list USB information. For details, see
Parameter Description - usbs. No
os_type string Operating system type No
os_name string OS No
image_name string Image name No
os_installed int Whether an operating system is
installed No
vtool_installed int Whether vmTools is installed Yes
ha int Whether it is a HA-enabled VM No
snap int Whether a snapshot exists No
backup int Whether a backup exists No
derived int Whether it is a deployed VM No
hotplug_sup_info dict
Hot add feature status. For details,
see Parameter Description -
hotplug_sup_info.
No
floatingip dict
Elastic IP address information. For
details, see Paramter Description -
floatingip
No
advance_param dict
HCI-specific parameters. For details,
see Parameter Description -
advance_param.
No
instant_vm int Whether the VM is rapidly recovered No
encrypted int Whether it is encrypted Yes
cipher string Encryption algorithm Yes
gpu dict GPU configuration. For details, see
Parameter Description - gpu. No
machine_type string Motherboard type No
arch_type string Cluster architecture type No
quotas list Quota list. For details, see Parameter
Description - quotas. No
pciecards dict
HCI-specific parameters. For details,
see Parameter Description -
pciecards.
Yes
pci_type string PCIe bus type of a VM No
timing_sync_vm_clock_enable int Whether to enable the Regularly sync
guest time with node option No
expire_time string Expiration date Yes
image_id string Image ID Yes
created_at string Time created No
 Note
For common response parameters, view Response Format for details
Parameter Description - status
Table 4.11.278 Parameter Description - status¶
status Note
running Running
suspend Suspended
stopped Powered off
alert Alert
overdue Expired
lost Storage missing
paused_io_error IO error occurred
starting Powering on
stoping Shutting down
tpl_lost Template missing
clone Cloning
backup Backing up
recovery Recovering
run_backup Backing up
resetting Restarting
suspending Suspending
updating Updating
deleting Deleting
snapshotting Taking snapshot
creating Creating
migrate Migrating
deriving Deploying
tpl_updating Updating
tpl_moving Preparing for reverse copy
tpl_syncing Reverse copy
offline Offline
Parameter Description - location
Table 4.11.279 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.280 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
backing_file string No Backend image
label string No Display name of disks, such as disk 1, disk 2
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.281 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
label string No Display name of NIC, such as network
connection 1
ip_info dict No IPv4 address information. For details, see
Parameter Description - ip_info.
ipv6_info dcit No IPv6 address information. For details, see
Parameter Description - ipv6_info.
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
host_tso int Yes Whether to enable TSO
port_id string No Port
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
Parameter Description - ip_info
Table 4.11.282 Parameter Description - ip_info¶
Parameter Type Value Returned Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS
Parameter Description - ipv6_info
Table 4.11.283 Parameter Description - ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - cdroms
Table 4.11.284 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string Yes ISO image ID
location string Yes ISO location
storage_name string No Storage name
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.285 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
online int No Online or not
description string No Description of USB device
Parameter Description - hotplug_sup_info
Table 4.11.286 Parameter Description - hotplug_sup_info¶
Parameter Type Required Note
cpu int No Whether CPU hot add is supported
memory int No Whether memory hot add is
supported
Paramter Description - floatingip
Table 4.11.287 Paramter Description - floatingip¶
Parameter Type Value Returned Note
floatingip_id string No Elastic IP ID
floatingip_ip string No Elastic IP address
line_type_name string No Line type name
line_type_id string No Line type ID
bandwidth int No Elastic IP bandwidth
sharedbandwidth_name string No Line type name
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - advance_param
Table 4.11.288 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No Whether to enable high-performance clock. The
options are 0 and 1.
Parameter Description - gpu
Table 4.11.289 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which varies with vendors. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.290 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No Power-on automation level. For details, see
Power-on automation level.
frame_rate int No Frame rate limit
Parameter Description - quotas
Table 4.11.291 Parameter Description - quotas¶
Parameter Type Required Note
resource string Yes Quota resource ID
value int Yes Quantity
Parameter Description - pciecards
Table 4.11.292 Parameter Description - pciecards¶
Parameter Type Required Note
encryption list Yes Encryption card. For details, see Parameter Description -
encryption.
Parameter Description - encryption
Table 4.11.293 Parameter Description - encryption¶
Parameter Type
Value
Returned Note
enable int Yes Whether the tenant is enabled
devid string Yes Device ID
sub_devid string Yes Subdevice ID
relation_enable int Yes Whether to enable the associated device
mode int Yes Device type. For details, see Encryption Card
Type.
relation_devids list Yes List of associated devices
model string Yes Device model
Response Example:
{
"usbs": [],
"encrypted": 0,
"networks": [
{
"ip_info": {
"ip_address": "172.32.0.121"
"ip_address": "172.32.0.121"
},
"vif_id": "net0",
"subnet_id": "fec18705-62ce-4cbc-85a7-95c17980298b",
"host_tso": 0,
"custom_gateway_ip": null,
"network_type": "vpc",
"model": "virtio",
"subnet_name": "NFV management subnet",
"connect": 1,
"mac_address": "fe:fc:fe:85:cc:fd",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "172.32.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "172.32.0.1"
},
{
"ip_info": {
"ip_address": "192.168.0.127"
},
"vif_id": "net1",
"subnet_id": "7a606fd1-fd9b-4d44-8753-a76e26ca1ca0",
"host_tso": 0,
"custom_gateway_ip": "",
"network_type": "vpc",
"model": "virtio",
"subnet_name": "Subnet 1",
"connect": 1,
"mac_address": "fe:fc:fe:47:5a:58",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "192.168.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "192.168.0.1"
}
],
"group_name": "Database",
"os_installed": 2,
"storage_type": "iscsi",
"project_name": "tjc_tenant",
"az_name": "1.75",
"sockets": 2,
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"cdroms": [
{
"image_id": "",
"image_name": "",
"location": "",
"id": "ide2"
}
],
"user_id": null,
"vm_type": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"line_type_name": "Shared service network",
"floatingip_id": "0d98d028-b6eb-41d6-8d44-94f214139727",
"bandwidth": 100000,
"sharedbandwidth_id": "",
"line_type_id": "14d9a0b8-caac-48f3-b66c-19e58b5d88f5",
"floatingip_ip": "9.9.9.103"
},
"id": "68f6a32a-912a-4fc6-a3ef-17abac27f947",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"hugepage_memory": 0,
"use_vblk": 1,
"boot_order": "dc",
"cpu_hotplug": 1,
"balloon_memory": 1,
"use_uuid": 0,
"abnormal_recovery": 0,
"mem_hotplug": 1,
"cpu_type": "core2duo",
"real_use_vblk": 1,
"onboot": 0,
"dir": "832e7d558801",
"boot_disk": "ide0",
"invtsc": 0
},
"location": {
"location": 0,
"policy_type": "",
"id": "cluster"
},
"snap": 0,
"gpu": null,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"status": "stopped",
"storage_location": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97",
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"derived": 1,
"image_name": "DBVM-1207",
"dh_id": null,
"cipher": "",
"machine_type": "i440fx",
"ha": 1,
"storage_tag_name": "High performance storage",
"name": "66666-caiyi-6602",
"storage_name": "backup-from-60",
"disks": [
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide0",
"size_mb": 102400,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-1.qcow2",
"type": "derive_disk",
"is_old_disk": 1
},
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide1",
"size_mb": 10240,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-2.qcow2",
"type": "new_disk",
"is_old_disk": 1
}
],
"hotplug_sup_info": {
"cpu": 1,
"memory": 1
},
"memory_mb": 2048,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"backup": 0,
"os_name": ""
}
4.11.2.3.3.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.3.4. Obtain VM Configuration (20220725)
4.11.2.3.4.1. Scenario¶
Scenario: Query VM configuration
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Status Read
permission
Versions supported: SCP 6.10.0 and later
 Note
Compared with version 20210725, the API version 20220725 adds the response parameter
timing_sync_vm_clock_enable.
4.11.2.3.4.2. URI¶
Table 4.11.294 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20220725/servers/{server_id} Get VM configuration
Parameter Description:
Table 4.11.295 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.3.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20220725/servers/68f6a32a-912a-4fc6-a3ef-17abac27f947
4.11.2.3.4.4. Response¶
Response Parameter
Table 4.11.296 Response Parameter¶
Parameter Type Description
Value
Returned
id string VM UUID Yes
status string VM status. For details, see Parameter
Description - status. Yes
name string VM name Yes
vm_type string VM type, view VM Type for details. No
description string VM description No
group_id string VM group ID Yes
group_id_path string VM group ID path Yes
group_name string Group name Yes
storage_name string Storage name No
host_name string Host name No
project_id string Tenant ID Yes
project_name string Tenant name Yes
user_id string User ID Yes
cores int CPU cores Yes
sockets int Socket number Yes
memory_mb int Memory size (MB) Yes
location dict Run location. For details, see Parameter
Description - location. Yes
storage_type string Storage type No
storage_location string Storage location No
storage_location string Storage location No
storage_tag_id string Storage Tag ID Yes
storage_tag_name string Storage tag name Yes
az_id string Resource pool ID No
az_name string Resource pool name No
pool_tag string Usage tag of the resource pool No
dh_id string Dedicated server group ID No
dh_tag string Usage tag of the dedicated server group No
disks list Disk information. For details, see
Parameter Description - disks. Yes
networks list Network information. For details, see
Parameter Description - networks. Yes
cdroms list CD/DVD information. For details, see
Parameter Description - cdroms. No
usbs list USB information. For details, see
Parameter Description - usbs. No
os_type string Operating system type No
os_name string OS No
image_name string Image name No
os_installed int Whether an operating system is installed No
vtool_installed int Whether vmTools is installed Yes
ha int Whether it is a HA-enabled VM No
snap int Whether a snapshot exists No
backup int Whether a backup exists No
derived int Whether it is a deployed VM No
hotplug_sup_info dict
Hot add support. For details, see
Parameter Description -
hotplug_sup_info.
No
floatingip dict Elastic IP address information. For details,
see Paramter Description - floatingip. No
advance_param dict HCI-specific parameters. For details, see
Paramter Description - floatingip. No
instant_vm int Whether the VM is rapidly recovered No
encrypted int Whether it is encrypted Yes
cipher string Encryption algorithm Yes
gpu dict GPU configuration. For details, see
Parameter Description - gpu. No
machine_type string Motherboard type No
arch_type string Cluster architecture type No
quotas list Quota list. For details, see Parameter
Description - quotas. No
expire_time string Expiration date Yes
image_id string Image ID Yes
created_at string Time created No
cpu_reserve int
Whether the CPU Reservation option is
enabled, which is supported in HCI 6.10.0
and later. Valid values: 0, 1
No
and later. Valid values: 0, 1
resource_reserve_policies list
List of CPU resource reservation policies.
For details, see Parameter Description -
resource_reserve_policies.
No
serials list
Serial port information, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
serials.
No
tags list VM tag. For details, see Parameter
Description - tags. No
application string VM type. For details, see VM Types. No
storage_shared int Whether it is a shared storage. Valid
values: 0, 1 No
 Note
For common response parameters, view Response Format for details
Parameter Description - tags
Table 4.11.297 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - resource_reserve_policies
Table 4.11.298 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - serials
Table 4.11.299 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - status
Table 4.11.300 Parameter Description - status¶
status Note
running Running
suspend Suspended
stopped Powered off
alert Alert
overdue Expired
lost Storage missing
paused_io_error IO error occurred
starting Powering on
stoping Shutting down
tpl_lost Template missing
clone Cloning
backup Backing up
recovery Recovering
run_backup Backing up
resetting Restarting
suspending Suspending
updating Updating
deleting Deleting
snapshotting Taking snapshot
creating Creating
migrate Migrating
deriving Deploying
tpl_updating Updating
tpl_moving Preparing for reverse copy
tpl_syncing Reverse copy
offline Offline
Parameter Description - location
Table 4.11.301 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.302 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
backing_file string No Backend image
label string No Display name of disks, such as disk 1, disk 2
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.303 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
label string No Display name of NIC, such as network
connection 1
ip_info dict No IPv4 address information. For details, see
Parameter Description - ip_info.
ipv6_info dict No IPv6 address information. For details, see
Parameter Description - ipv6_info.
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
host_tso int Yes Whether to enable TSO
port_id string No Port
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
qos_usage_limit dict No NIC speed limit. For details, see Parameter
Description - qos_usage_limit.
Parameter Description - qos_usage_limit
Table 4.11.304 Parameter Description - qos_usage_limit¶
Parameter Type
Value
Returned Note
qos_enable int Yes Whether the QoS function is enabled for the
communication domain. 0: disabled, 1: enabled
egress_kbps int No Inbound bandwidth. Maximum: 2^31-1 (Kbps),
2^21-1 (Mbps)
ingress_kbps int No Outbound bandwidth. Maximum: 2^31-1 (Kbps),
2^21-1 (Mbps)
Parameter Description - ip_info
Table 4.11.305 Parameter Description - ip_info¶
Parameter Type Value Returned Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS
Parameter Description - ipv6_info
Table 4.11.306 Parameter Description - ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - cdroms
Table 4.11.307 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string Yes ISO image ID
location string Yes ISO location
storage_name string No Storage name
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.308 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
online int No Online or not
description string No Description of USB device
Parameter Description - hotplug_sup_info
Table 4.11.309 Parameter Description - hotplug_sup_info¶
Parameter Type Required Note
cpu int No Whether CPU hot add is supported
memory int No Whether memory hot add is
supported
Paramter Description - floatingip
Table 4.11.310 Paramter Description - floatingip¶
Parameter Type Value Returned Note
floatingip_id string No Elastic IP ID
floatingip_ip string No Elastic IP address
line_type_name string No Line type name
line_type_id string No Line type ID
bandwidth int No Elastic IP bandwidth
sharedbandwidth_name string No Line type name
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - advance_param
Table 4.11.311 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for
details.
onboot int No
Whether the VM is started
automatically when the physical host
is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory
reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d
indicates disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
Whether to enable high-performance
clock. (This parameter can be edited
invtsc int No
clock. (This parameter can be edited
only when VM is shut down.) The
options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
timing_sync_vm_clock_enable int No
PCIe bus type. The pcie-root-port
type can be used only in ARM-based
HCI 6.9.0 and later.
tpm int No
Whether TPM 2.0 is enabled, which is
supported in non-Arm-based HCI
6.10.0 and later. Valid values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode
option is enabled, which is supported
in HCI 6.7.0 and later. Valid values: 0,
1
numa int No
Whether the NUMA Scheduler option
is enabled, which is supported in HCI
6.0.0 and later. Valid values: 0, 1
graphic_type string No
Built-in graphics card type, which is
supported in HCI 6.8.0 and later. For
details, see Parameter Description -
advanced_option -
advance_param.graphic_type.
bios dict No
BIOS configuration, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
advanced_option -
advance_param.bios.
sandbox int No
Whether VM escape detection is
enabled, which is supported in HCI
6.8.1 and later. Valid values: 0, 1
l3_cache int No
Whether L3 cache is enabled, which is
supported in HCI 6.7.0 and later. Valid
values: 0, 1
ha int No
Whether the HA feature is enabled,
which is supported in HCI 6.0.0 and
later. Valid values: 0, 1
mouse_type string No
Mouse type, which is supported in
HCI 6.0.0 and later. For details, see
VM Mouse Type.
network_affinity int No
Whether network affinity is enabled,
which is supported in HCI 6.8.1 and
later. Valid values: 0, 1
high_performance_vm int No Whether it is a high-performance VM.
Valid values: 0, 1
Parameter Description - gpu
Table 4.11.312 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which differs by vendor. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.313 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No Power-on automation level. For details, see
Power-on automation level.
frame_rate int No Frame rate limit
Parameter Description - quotas
Table 4.11.314 Parameter Description - quotas¶
Parameter Type Required Note
resource string Yes Quota resource ID
value int Yes Quantity
Parameter Description - pciecards
Table 4.11.315 Parameter Description - pciecards¶
Parameter Type Required Note
encryption list Yes Encryption card. For details, see Parameter Description -
encryption.
Parameter Description - encryption
Table 4.11.316 Parameter Description - encryption¶
Parameter Type
Value
Returned Note
enable int Yes Whether the tenant is enabled
devid string Yes Device ID
sub_devid string Yes Subdevice ID
relation_enable int Yes Whether to enable the associated device
mode int Yes Device type. For details, see Encryption Card
Type.
relation_devids list Yes List of associated devices
model string Yes Device model
Response Example:
{
"usbs": [],
"encrypted": 0,
"networks": [
{
"ip_info": {
"ip_address": "172.32.0.121"
"ip_address": "172.32.0.121"
},
"vif_id": "net0",
"subnet_id": "fec18705-62ce-4cbc-85a7-95c17980298b",
"host_tso": 0,
"custom_gateway_ip": null,
"network_type": "vpc",
"model": "virtio",
"subnet_name": "NFV management subnet",
"connect": 1,
"mac_address": "fe:fc:fe:85:cc:fd",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "172.32.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "172.32.0.1",
"qos_usage_limit": {
"qos_enable": 0
}
},
{
"ip_info": {
"ip_address": "192.168.0.127"
},
"vif_id": "net1",
"subnet_id": "7a606fd1-fd9b-4d44-8753-a76e26ca1ca0",
"host_tso": 0,
"custom_gateway_ip": "",
"network_type": "vpc",
"model": "virtio",
"subnet_name": "Subnet 1",
"connect": 1,
"mac_address": "fe:fc:fe:47:5a:58",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "192.168.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "192.168.0.1",
"qos_usage_limit": {
"qos_enable": 1,
"egress_kbps": 1024,
"ingress_kbps": 2048
}
}
],
"group_name": "Database",
"os_installed": 2,
"storage_type": "iscsi",
"project_name": "tjc_tenant",
"az_name": "1.75",
"sockets": 2,
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"cdroms": [
{
"image_id": "",
"image_name": "",
"location": "",
"id": "ide2"
}
],
"user_id": null,
"vm_type": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"line_type_name": "Shared service network",
"floatingip_id": "0d98d028-b6eb-41d6-8d44-94f214139727",
"bandwidth": 100000,
"sharedbandwidth_id": "",
"line_type_id": "14d9a0b8-caac-48f3-b66c-19e58b5d88f5",
"floatingip_ip": "9.9.9.103"
},
"id": "68f6a32a-912a-4fc6-a3ef-17abac27f947",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"hugepage_memory": 0,
"use_vblk": 1,
"boot_order": "dc",
"cpu_hotplug": 1,
"balloon_memory": 1,
"use_uuid": 0,
"abnormal_recovery": 0,
"mem_hotplug": 1,
"cpu_type": "core2duo",
"real_use_vblk": 1,
"onboot": 0,
"dir": "832e7d558801",
"boot_disk": "ide0",
"invtsc": 0,
"timing_sync_vm_clock_enable": 0,
"cpu_exclusive": 0,
"numa": 1,
"ha": 1,
"tpm": 0,
"graphic_type": "cirrus",
"sandbox": 1,
"l3_cache": 1,
"mouse_type": "usb",
"high_performance_vm": 0,
"network_affinity": 1,
"bios": {
"bios_type": "SEABIOS",
"boot_delay_seconds": 0
}
},
"location": {
"location": 0,
"policy_type": "",
"id": "cluster"
},
"cpu_reserve": 1,
"storage_shared": 1,
"application": "desk",
"resource_reserve_policies": [{
"id": "ab3c78af-158e-48dc-bbe4-e7d7e1090a1e",
"period_type": "DAILY",
"start_time": "08:00",
"end_time": "10:00"
}],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"tags": [
{
"id": "9cae7731-ea16-4197-a900-15e1ca8ae136"
}
],
"snap": 0,
"gpu": null,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"status": "stopped",
"storage_location": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97",
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"derived": 1,
"image_name": "DBVM-1207",
"dh_id": null,
"cipher": "",
"machine_type": "i440fx",
"ha": 1,
"storage_tag_name": "High performance storage",
"name": "66666-caiyi-6602",
"storage_name": "backup-from-60",
"disks": [
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide0",
"size_mb": 102400,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-1.qcow2",
"type": "derive_disk",
"is_old_disk": 1,
"read_cache_size": 200
},
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide1",
"size_mb": 10240,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-2.qcow2",
"type": "new_disk",
"is_old_disk": 1,
"read_cache_size": 200
}
],
"hotplug_sup_info": {
"cpu": 1,
"memory": 1
},
},
"memory_mb": 2048,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"backup": 0,
"os_name": ""
}
4.11.2.3.4.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.3.5. Obtain VM Configuration (20240725)
4.11.2.3.5.1. Scenario¶
Scenario: Query VM configuration
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Status Read
permission
Versions supported: SCP 6.10.0 and later
 Note
Compared with version 20220725, the API version 20240725 adds the response parameters
detail_vmtype and disks.io_usage_limit for VM configuration.
4.11.2.3.5.2. URI¶
Table 4.11.317 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20240725/servers/{server_id} Get VM configuration
Parameter Description:
Table 4.11.318 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.2.3.5.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/servers/68f6a32a-912a-4fc6-a3ef-17abac27f947
4.11.2.3.5.4. Response¶
Response Parameter
Table 4.11.319 Response Parameter¶
Parameter Type Description
Value
Returned
id string VM UUID Yes
status string VM status. For details, see Parameter
Description - status. Yes
Description - status.
name string VM name Yes
vm_type string VM type, view VM Type for details. No
description string VM description No
group_id string VM group ID Yes
group_id_path string VM group ID path Yes
group_name string Group name Yes
storage_name string Storage name No
host_name string Host name No
project_id string Tenant ID Yes
project_name string Tenant name Yes
user_id string User ID Yes
cores int CPU cores Yes
sockets int Socket number Yes
memory_mb int Memory size (MB) Yes
location dict Run location. For details, see Parameter
Description - location. Yes
storage_type string Storage type No
storage_location string Storage location No
storage_tag_id string Storage Tag ID Yes
storage_tag_name string Storage tag name Yes
az_id string Resource pool ID No
az_name string Resource pool name No
pool_tag string Usage tag of the resource pool No
dh_id string Dedicated server group ID No
dh_tag string Usage tag of the dedicated server group No
disks list Disk information. For details, see
Parameter Description - disks. Yes
networks list Network information. For details, see
Parameter Description - networks. Yes
cdroms list CD/DVD drive information. For details,
see Parameter Description - cdroms. No
usbs list USB information. For details, see
Parameter Description - usbs. No
os_type string Operating system type No
os_name string OS No
image_name string Image name No
os_installed int Whether an operating system is installed No
vtool_installed int Whether vmTools is installed Yes
ha int Whether it is a HA-enabled VM No
snap int Whether a snapshot exists No
backup int Whether a backup exists No
derived int Whether it is a deployed VM No
hotplug_sup_info dict
Hot add feature status. For details, see
Parameter Description -
hotplug_sup_info.
No
floatingip dict Elastic IP address information. For details,
see Paramter Description - floatingip. No
advance_param dict HCI-specific parameters. For details, see
Parameter Description - advance_param. No
instant_vm int Whether the VM is rapidly recovered No
encrypted int Whether it is encrypted Yes
cipher string Encryption algorithm Yes
gpu dict GPU configuration. For details, see
Parameter Description - gpu. No
machine_type string Motherboard type No
arch_type string Cluster architecture type No
quotas list Quota list. For details, see Parameter
Description - quotas. No
expire_time string Expiration date Yes
image_id string Image ID Yes
created_at string Time created No
cpu_reserve int
Whether the CPU Reservation option is
enabled, which is supported in HCI 6.10.0
and later. Valid values: 0, 1
No
resource_reserve_policies list
List of CPU resource reservation policies.
For details, see Parameter Description -
resource_reserve_policies.
No
serials list
Serial port information, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
serials.
No
tags list VM tag. For details, see Parameter
Description - tags. No
application string VM type. For details, see VM Types. No
storage_shared int Whether it is a shared storage. Valid
values: 0, 1 No
detail_vmtype string VM type details No
 Note
For common response parameters, view Response Format for details
Parameter Description - tags
Table 4.11.320 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - resource_reserve_policies
Table 4.11.321 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - serials
Table 4.11.322 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - status
Table 4.11.323 Parameter Description - status¶
status Note
running Running
suspend Suspended
stopped Powered off
alert Alert
overdue Expired
lost Storage missing
paused_io_error IO error occurred
starting Powering on
stoping Shutting down
tpl_lost Template missing
clone Cloning
backup Backing up
recovery Recovering
run_backup Backing up
resetting Restarting
suspending Suspending
updating Updating
deleting Deleting
snapshotting Taking snapshot
creating Creating
migrate Migrating
deriving Deploying
tpl_updating Updating
tpl_moving Preparing for reverse copy
tpl_syncing Reverse copy
offline Offline
Parameter Description - location
Table 4.11.324 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.325 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes Disk ID, for example: ide0,ide1…iden
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID
storage_name string No Storage name
backing_file string No Backend image
label string No Display name of disks, such as disk 1, disk 2
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
io_usage_limit dict No Disk I/O limit. For details, see Return Value
Description - disks.io_usage_limit.
Parameter Description - networks
Table 4.11.326 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string Yes NIC type, view VM NIC Type for details.
label string No Display name of NIC, such as network
connection 1
ip_info dict No IPv4 address information. For details, see
Parameter Description - ip_info.
ipv6_info dict No IPv6 address information. For details, see
Parameter Description - ipv6_info.
mac_address string Yes MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
host_tso int Yes Whether to enable TSO
port_id string No Port
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
network_type string No Network type, classic or VPC
subnet_id string No Connected VPC subnet ID
subnet_name string No Name of the connected VPC subnet
cidr string No Subnet CIDR
subnet_gateway_ip string No Gateway of the connected VPC subnet
custom_gateway_ip string No Custom gateway IP
qos_usage_limit dict No NIC speed limit. For details, see Parameter
Description - qos_usage_limit.
Parameter Description - qos_usage_limit
Table 4.11.327 Parameter Description - qos_usage_limit¶
Parameter Type
Value
Returned Note
qos_enable int Yes Whether the QoS function is enabled for the
communication domain. 0: disabled, 1: enabled
egress_kbps int No Inbound bandwidth. Maximum: 2^31-1 (Kbps),
2^21-1 (Mbps)
ingress_kbps int No Outbound bandwidth. Maximum: 2^31-1 (Kbps),
2^21-1 (Mbps)
Parameter Description - ip_info
Table 4.11.328 Parameter Description - ip_info¶
Parameter Type Value Returned Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS
Parameter Description - ipv6_info
Table 4.11.329 Parameter Description - ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - cdroms
Table 4.11.330 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string Yes ISO image ID
location string Yes ISO location
storage_name string No Storage name
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.331 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
online int No Online or not
description string No Description of USB device
Parameter Description - hotplug_sup_info
Table 4.11.332 Parameter Description - hotplug_sup_info¶
Parameter Type Required Note
cpu int No Whether CPU hot add is supported
memory int No Whether memory hot add is
supported
Paramter Description - floatingip
Table 4.11.333 Paramter Description - floatingip¶
Parameter Type Value Returned Note
floatingip_id string No Elastic IP ID
floatingip_ip string No Elastic IP address
line_type_name string No Line type name
line_type_id string No Line type ID
bandwidth int No Elastic IP bandwidth
sharedbandwidth_name string No Line type name
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - advance_param
Table 4.11.334 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for
details.
onboot int No
Whether the VM is started
automatically when the physical host
is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory
reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d
indicates disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
Whether to enable high-performance
clock. (This parameter can be edited
invtsc int No
clock. (This parameter can be edited
only when VM is shut down.) The
options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
timing_sync_vm_clock_enable int No
PCIe bus type. The pcie-root-port
type can be used only in ARM-based
HCI 6.9.0 and later.
tpm int No
Whether TPM 2.0 is enabled, which is
supported in non-Arm-based HCI
6.10.0 and later. Valid values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode
option is enabled, which is supported
in HCI 6.7.0 and later. Valid values: 0,
1
numa int No
Whether the NUMA Scheduler option
is enabled, which is supported in HCI
6.0.0 and later. Valid values: 0, 1
graphic_type string No
Built-in graphics card type, which is
supported in HCI 6.8.0 and later. For
details, see Parameter Description -
advanced_option -
advance_param.graphic_type.
bios dict No
BIOS configuration, which is
supported in HCI 6.0.0 and later. For
details, see Parameter Description -
advanced_option -
advance_param.bios.
sandbox int No
Whether VM escape detection is
enabled, which is supported in HCI
6.8.1 and later. Valid values: 0, 1
l3_cache int No
Whether L3 cache is enabled, which is
supported in HCI 6.7.0 and later. Valid
values: 0, 1
ha int No
Whether the HA feature is enabled,
which is supported in HCI 6.0.0 and
later. Valid values: 0, 1
mouse_type string No
Mouse type, which is supported in
HCI 6.0.0 and later. For details, see
VM Mouse Type.
network_affinity int No
Whether network affinity is enabled,
which is supported in HCI 6.8.1 and
later. Valid values: 0, 1
high_performance_vm int No Whether it is a high-performance VM.
Valid values: 0, 1
Parameter Description - gpu
Table 4.11.335 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which varies with vendors. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.336 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No Power-on automation level. For details, see
Power-on automation level.
frame_rate int No Frame rate limit
Parameter Description - quotas
Table 4.11.337 Parameter Description - quotas¶
Parameter Type Required Note
resource string Yes Quota resource ID
value int Yes Quantity
Parameter Description - pciecards
Table 4.11.338 Parameter Description - pciecards¶
Parameter Type Required Note
encryption list Yes Encryption card. For details, see Parameter Description -
encryption.
Parameter Description - encryption
Table 4.11.339 Parameter Description - encryption¶
Parameter Type
Value
Returned Note
enable int Yes Whether the tenant is enabled
devid string Yes Device ID
sub_devid string Yes Subdevice ID
relation_enable int Yes Whether to enable the associated device
mode int Yes Device type. For details, see Encryption Card
Type.
relation_devids list Yes List of associated devices
model string Yes Device model
Response Example:
{
"usbs": [],
"encrypted": 0,
"networks": [
{
"ip_info": {
"ip_address": "172.32.0.121"
"ip_address": "172.32.0.121"
},
"vif_id": "net0",
"subnet_id": "fec18705-62ce-4cbc-85a7-95c17980298b",
"host_tso": 0,
"custom_gateway_ip": null,
"network_type": "vpc",
"model": "virtio",
"subnet_name": "NFV management subnet",
"connect": 1,
"mac_address": "fe:fc:fe:85:cc:fd",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "172.32.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "172.32.0.1",
"qos_usage_limit": {
"qos_enable": 0
}
},
{
"ip_info": {
"ip_address": "192.168.0.127"
},
"vif_id": "net1",
"subnet_id": "7a606fd1-fd9b-4d44-8753-a76e26ca1ca0",
"host_tso": 0,
"custom_gateway_ip": "",
"network_type": "vpc",
"model": "virtio",
"subnet_name": "Subnet 1",
"connect": 1,
"mac_address": "fe:fc:fe:47:5a:58",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"cidr": "192.168.0.0/24",
"port_id": "12345678",
"subnet_gateway_ip": "192.168.0.1",
"qos_usage_limit": {
"qos_enable": 1,
"egress_kbps": 1024,
"ingress_kbps": 2048
}
}
],
"group_name": "Database",
"os_installed": 2,
"storage_type": "iscsi",
"project_name": "tjc_tenant",
"az_name": "1.75",
"sockets": 2,
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"cdroms": [
{
"image_id": "",
"image_name": "",
"location": "",
"id": "ide2"
}
],
"user_id": null,
"vm_type": "dmp_mysql",
"floatingip": {
"sharedbandwidth_name": "",
"line_type_name": "Shared service network",
"floatingip_id": "0d98d028-b6eb-41d6-8d44-94f214139727",
"bandwidth": 100000,
"sharedbandwidth_id": "",
"line_type_id": "14d9a0b8-caac-48f3-b66c-19e58b5d88f5",
"floatingip_ip": "9.9.9.103"
},
"id": "68f6a32a-912a-4fc6-a3ef-17abac27f947",
"vtool_installed": 1,
"advance_param": {
"schedopt": 0,
"hugepage_memory": 0,
"use_vblk": 1,
"boot_order": "dc",
"cpu_hotplug": 1,
"balloon_memory": 1,
"use_uuid": 0,
"abnormal_recovery": 0,
"mem_hotplug": 1,
"cpu_type": "core2duo",
"real_use_vblk": 1,
"onboot": 0,
"dir": "832e7d558801",
"boot_disk": "ide0",
"invtsc": 0,
"timing_sync_vm_clock_enable": 0,
"cpu_exclusive": 0,
"numa": 1,
"ha": 1,
"tpm": 0,
"graphic_type": "cirrus",
"sandbox": 1,
"l3_cache": 1,
"mouse_type": "usb",
"high_performance_vm": 0,
"network_affinity": 1,
"bios": {
"bios_type": "SEABIOS",
"boot_delay_seconds": 0
}
},
"location": {
"location": 0,
"policy_type": "",
"id": "cluster"
},
"cpu_reserve": 1,
"storage_shared": 1,
"application": "desk",
"resource_reserve_policies": [{
"id": "ab3c78af-158e-48dc-bbe4-e7d7e1090a1e",
"period_type": "DAILY",
"start_time": "08:00",
"end_time": "10:00"
}],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"tags": [
{
"id": "9cae7731-ea16-4197-a900-15e1ca8ae136"
}
],
"snap": 0,
"gpu": null,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"status": "stopped",
"storage_location": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97",
"description": "",
"group_id_path": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"derived": 1,
"image_name": "DBVM-1207",
"dh_id": null,
"cipher": "",
"machine_type": "i440fx",
"ha": 1,
"storage_tag_name": "High performance storage",
"name": "66666-caiyi-6602",
"storage_name": "backup-from-60",
"disks": [
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide0",
"size_mb": 102400,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-1.qcow2",
"type": "derive_disk",
"is_old_disk": 1,
"read_cache_size": 200
},
{
"preallocate": 0,
"storage_name": "backup-from-60",
"id": "ide1",
"size_mb": 10240,
"use_virtio": 1,
"storage_file": "1SANGFOR_ASAN-00e-eb0f-48d0-a8bd-7f86ade50a97:v
m-disk-2.qcow2",
"type": "new_disk",
"is_old_disk": 1,
"read_cache_size": 200
}
],
"hotplug_sup_info": {
"cpu": 1,
"memory": 1
},
},
"memory_mb": 2048,
"host_name": "<Auto select>",
"cores": 2,
"os_type": "l2664",
"group_id": "f3f9d08f-f5ec-4b85-bb7f-c542eee0e02c",
"backup": 0,
"os_name": ""
}
4.11.2.3.5.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.4. Create a VM
4.11.2.4.1. Create a VM
4.11.2.4.1.1. Scenario¶
Scenario:
admin creates a VM for tenants or users.
Tenant creates its own VM or for its users.
Create a VM and connect it to a device in VPC subnet or classic network.
Create a VM via ISO/VMA image.
Create a GPU-enabled VM
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Creation
permission
Versions supported: SCP 6.3.0 and later
4.11.2.4.1.2. URI¶
Table 4.11.340 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers Create a VM
Parameter Description:
None
4.11.2.4.1.3. Request¶
Request Parameter
Table 4.11.341 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name Yes
cores body int
Total number of CPU cores. Note
that this is the total number, not the
number of cores per socket. The
value must be greater than or equal
to sockets.
Yes
sockets body int Socket number Yes
memory_mb body int Memory size (MB) Yes
disks body list Disk information, view Parameter
Description - disks for details. Yes
networks body list
Network information, view
Parameter Description - networks
for details.
Yes
image_id body string Image ID, which can be obtained from
Query Images Yes
az_id body string Resource pool ID Yes
dh_id body string
Dedicated server group ID. When the
specified resource pool ID is
associated with a dedicated server
group, this parameter must be passed
in; otherwise, the VM will fail to
power on.
No
description body string VM description, up to 100 characters No
group_id body string VM group No
count body int VM count No
type body string VM types, view VM Type for details. No
uuids body list
VM UUID list, which indicates
creating VM with UUID specified. Its
length corresponds to the count
parameter. If the parameter is not
passed in, UUID will be automatically
generated.
No
storage_tag_id body string
Storage tag ID, you can pass either
this ID or storage_id, or both of them.
It can be obtained from Get a list of
storage tags
No
storage_id body string
Storage ID, which indicates creating
VM with the specified storage, and
can be obtained from Query Storage
List
No
location body dict Run location, view Parameter
Description - location for details. No
power_on body int
Whether to power on VM after it is
created. If the parameter is not
passed in, then the VM is powered
off by default after it is created.
No
cdroms body list
CD/DVD drive information, view
Parameter Description - cdroms for
details.
No
usbs body list USB information, view Parameter
Description - usbs for details No
advance_param body dict
HCI advanced parameter, view
Parameter Description -
advance_param for details.
No
password body string
VM password, up to 1024 characters.
This parameter does not take effect
if the image format is ISO, and the
password needs to be encrypted
before being passed in. For the
encryption method, view Token-
Based Authentication for details.
No
floatingip body dict
Information about creating elastic
public IP address, view Paramter
Description - floatingip for details.
No
hostname body string VM hostname, up to 100 characters No
lifespan body string
VM expiration date, up to 100
characters. The parameter format
must be %Y-%m-%d %H:%M:%S, for
example: 2021-10-25 23:59:59
No
hostname_index body int Start value of VM host name suffix,
the maximum is 9999 No
encryption body dict
Encryption information, view
Parameter Description - encryption No
encryption body dict Parameter Description - encryption
for details.
No
gpu body dict
GPU configuration information, view
Parameter Description - gpu for
details.
No
keypair body dict Key information, view Parameter
Description - keypair for details No
project_id body string
Tenant ID. When a VM is created for
tenant, user_id will not take effect
unless project_id has been passed in
as well.
No
user_id body string
User ID, indicating a VM is created
for users; in this case, both project_id
and user_id need to be passed in.
No
Parameter Description - disks
Table 4.11.342 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Datastore ID, which is required if type is physical_dis.
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy dict No Storage policy. For details, see Parameter Description
- storage_policy.
Parameter Description - networks
Table 4.11.343 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No
NIC type. (For VMs created through full
deployment based on built-in Windows images,
this parameter must be set to virtio). For details,
see VM NIC Type.
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information, view Parameter
Description - network-ip_info for details.
custom_gateway_ip string No Custom gateway IP
Parameter Description - network-ip_info
Table 4.11.344 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - location
Table 4.11.345 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - cdroms
Table 4.11.346 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.347 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.348 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy dict No Storage policy. For details, see Parameter
Description - storage_policy.
invtsc int No
Whether the Para-virtualized Clock option is
enabled. Valid values: 0, 1. Note: Supported in
SCP 6.7.35 and later, and can be edited only
when the VM is shut down.
Parameter Description - storage_policy
Table 4.11.349 Parameter Description - storage_policy¶
Parameter Type Required Note
name string Yes Storage policy name
id string Yes Storage policy ID
 Note
Storage policies can be obtained through the API Obtain list of storage policies.
compatibility.policy_id from the returned value is used as ID.
Paramter Description - floatingip
Table 4.11.350 Paramter Description - floatingip¶
Parameter Type Required Note
floatingip_id string No Elastic IP ID
bandwidth string No Elastic IP bandwidth
line_type string No Elastic IP line type ID
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - encryption
Table 4.11.351 Parameter Description - encryption¶
Parameter Type Required Note
type string Yes Encryption method, view VM Disk Encryption
Granularity for details.
properties dict Yes Encryption property, view Parameter Description -
encryption.properties for details.
Parameter Description - encryption-properties
Table 4.11.352 Parameter Description - encryption.properties¶
Parameter Type Required Note
cipher string Yes Encryption algorithm, view VM Disk Encryption
Algorithm for details.
Parameter Description - gpu
Table 4.11.353 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which differs as per different
manufacturers. Only NVIDIA is supported now, view
Parameter Description - gpu.GpuNvidia for details.
Parameter Description - gpu-GpuNvidia
Table 4.11.354 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Parameter Description - keypair
Table 4.11.355 Parameter Description - keypair¶
Parameter Type Required Note
key_name string Yes Key pair name
user_id string No Key pair user
Request Example
https://{SCP_IP}/janus/20180725/servers
{
"advance_param": {
"abnormal_recovery": 0,
"balloon_memory": 1,
"boot_disk": "ide0",
"boot_order": "c",
"cpu_hotplug": 1,
"hugepage_memory": 0,
"mem_hotplug": 1,
"onboot": 0,
"schedopt": 0
},
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"cores": 2,
"disks": [
{
"id": "ide0",
"preallocate": 0,
"size_mb": 102400,
"type": "derive_disk"
},
{
"id": "ide1",
"preallocate": 0,
"size_mb": 102400,
"type": "new_disk"
},
{
"id": "scsi0",
"preallocate": 0,
"size_mb": 102400,
"type": "physical_disk",
"storage_id": "363487db8801048a795510d4912955d06"
}
],
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"memory_mb": 4096,
"name": "test1210-1",
"networks": [
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net0"
},
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net1"
}
],
"power_on": 0,
"sockets": 2,
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"type": "vm"
}
4.11.2.4.1.4. Response¶
Response Parameter
Table 4.11.356 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list VM ID list Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"uuids": ["server_uuid1", "server_uuid2", "...", "server_uuidn"]
}
4.11.2.4.1.5. Example of Creating a VM¶
Example 1: Create a VM without network connection
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 2: Create a VM for tenant and connect the VM to a classic network
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_classic",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"name": "Default classic network gateway 1- switch to the gatewa
y",
"device_id": "dvsa734f95",
"port_id": "12345678"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 3: Create a VM for tenant and connect the VM to VPC
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "b4076571-7662-45e7-853c-3049a6e3b703",
"subnet_id": "1b5f2c05-ef57-4803-b6f1-2068084f555c"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 4: Create a VM and add an ordinary disk and a physical disk in addition to the system disk
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_extra_disks",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "ide1",
"type": "new_disk",
"preallocate": 0,
"size_mb": 102400
},
{
"id": "ide3",
"type": "physical_disk",
"preallocate": 0,
"size_mb": 20480,
"storage_id": "1SANGFOR_ASAN-006-10c5-4901-a143-45449cba0c85"
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 5: Create a VM and customize password
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_password",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"password": "9d8ed8fc1f898636dc10cba2d67d66ae0dc801dfc5a8c43cbc6f448de41
f858e7ca16cf4d60045c7dfb3bb040902a61d904174a9adbd6adfd6f060978ca45328ce2162a
f410c79c164ad1ac437261716e832f7169075495aa11745becaeba553cd44895580808bf51dd
c53aefeab1c5c70886e1198e8c7d7cb10a09a8e96a5cf0937a78ed4899ac6f266559e06afd22
76c301715c66ae0f4b72624355fdadb352ac734096a13fd4e15af79522d4f6d03bccd8764cc0
b230ae5256cb79be0d21f7192780ac11cf5003e54e84bff5cc14ee530407037da89749622331
8df1c1f4e0529fa07b117bb8e81cbb20c98c28846d8f4d451c36857ca2e418546e8f5804b",
"lifespan": "2021-05-24 23:59:59"
}
4.11.2.4.1.6. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.2.4.2. Create VM (20190725)
4.11.2.4.2.1. Scenario¶
Scenario:
admin creates a VM for tenants or users.
Tenant creates its own VM or for its users.
Create a VM and connect it to a device in VPC subnet or classic network.
Create a VM via ISO/VMA image.
Create GPU-supported VMs
Support full and quick deployment of VMs.
Support storing VMs in local storage
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to create VMs
Versions supported: SCP 6.8.80 and later
 Note
Compared with version 20180725, the API version 20190725 supports full deployment and
quick deployment of VMs, and VM creation from local storage.
4.11.2.4.2.2. URI¶
Table 4.11.357 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/servers Create a VM
Parameter Description:
None
4.11.2.4.2.3. Request¶
Request Parameter
Table 4.11.358 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name Yes
cores body int
Total number of CPU cores. Note
that this is the total number, not the
number of cores per socket. The
value must be greater than or equal
to sockets.
Yes
sockets body int Socket number Yes
memory_mb body int Memory size (MB) Yes
disks body list Disk. For details, see Parameter
Description - disks Yes
networks body list Network, For details, see Parameter
Description - networks Yes
image_id body string Image ID, which can be obtained from
Query Images Yes
az_id body string Resource pool ID Yes
dh_id body string
Dedicated server group ID. When the
specified resource pool ID is
associated with a dedicated server
group, this parameter must be passed
in; otherwise, the VM will fail to
power on.
No
description body string VM description, up to 100 characters No
group_id body string VM group No
count body int VM count No
type body string VM types, view VM Type for details. No
uuids body list
VM UUID list, which indicates
creating VM with UUID specified. Its
length corresponds to the count
parameter. If the parameter is not
passed in, UUID will be automatically
generated.
No
storage_tag_id body string
Storage tag ID, you can pass either
this ID or storage_id, or both of them.
It can be obtained from Get a list of
storage tags
No
Storage ID, which indicates creating
storage_id body string
Storage ID, which indicates creating
VM with the specified storage, and
can be obtained from Query Storage
List
No
location body dict Run location. For details, see
Parameter Description - location No
power_on body int
Whether to power on VM after it is
created. If the parameter is not
passed in, then the VM is powered
off by default after it is created.
No
cdroms body list CD/DVD. For details, see Parameter
Description - cdroms No
usbs body list USB. For details, see Parameter
Description - usbs No
advance_param body dict
Advanced parameters for HCI. For
details, see Parameter Description -
advance_param
No
password body string
VM password, up to 1024 characters.
This parameter does not take effect
if the image format is ISO, and the
password needs to be encrypted
before being passed in. For the
encryption method, view Token-
Based Authentication for details.
No
floatingip body dict
Elastic IP address information. For
details, see Paramter Description -
floatingip
No
hostname body string VM hostname, up to 100 characters No
lifespan body string
VM expiration date, up to 100
characters. The parameter format
must be %Y-%m-%d %H:%M:%S, for
example: 2021-10-25 23:59:59
No
hostname_index body int Start value of VM host name suffix,
the maximum is 9999 No
encryption body dict
Encryption information. For details,
see Parameter Description -
encryption
No
gpu body dict GPU configuration. For details, see
Parameter Description - gpu No
keypair body dict
Encryption key information. For
details, see Parameter Description -
keypair
No
project_id body string
Tenant ID. When a VM is created for
tenant, user_id will not take effect
unless project_id has been passed in
as well.
No
user_id body string
User ID, indicating a VM is created
for users; in this case, both project_id
and user_id need to be passed in.
No
derive_mode body string
Deployment method, which can be
full deployment or quick deployment.
Valid values: full and fast
No
storage_type body string Storage type. Local storage is
supported. No
Parameter Description - disks
Table 4.11.359 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk, this parameter
needs to be passed in
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.360 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No
NIC type. (For VMs created through full
deployment based on built-in Windows images,
this parameter must be set to virtio). For details,
see VM NIC Type.
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information. For details, see
Parameter Description - network-ip_info
custom_gateway_ip string No Custom gateway IP
Parameter Description - network-ip_info
Table 4.11.361 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - location
Table 4.11.362 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - cdroms
Table 4.11.363 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.364 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.365 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether the Para-virtualized Clock option is
enabled. Valid values: 0, 1. Note: Supported in
SCP 6.7.35 and later, and can be edited only
when the VM is shut down.
Paramter Description - floatingip
Table 4.11.366 Paramter Description - floatingip¶
Parameter Type Required Note
floatingip_id string No Elastic IP ID
bandwidth string No Elastic IP bandwidth
line_type string No Elastic IP line type ID
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - encryption
Table 4.11.367 Parameter Description - encryption¶
Parameter Type Required Note
type string Yes Encryption method, view VM Disk Encryption
Granularity for details.
properties dict Yes Encryption attributes. For details, see Parameter
Description - encryption.properties
Parameter Description - encryption-properties
Table 4.11.368 Parameter Description - encryption.properties¶
Parameter Type Required Note
cipher string Yes Encryption algorithm, view VM Disk Encryption
Algorithm for details.
Parameter Description - gpu
Table 4.11.369 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
For different vendors, GPU configuration is different.
Only NVIDIA is supported now. View Parameter
Description - gpu.GpuNvidia for GPU configuration
details.
Parameter Description - gpu-GpuNvidia
Table 4.11.370 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Parameter Description - keypair
Table 4.11.371 Parameter Description - keypair¶
Parameter Type Required Note
key_name string Yes Key pair name
user_id string No Key pair user
Request Example
https://{SCP_IP}/janus/20180725/servers
{
"advance_param": {
"abnormal_recovery": 0,
"balloon_memory": 1,
"boot_disk": "ide0",
"boot_order": "c",
"cpu_hotplug": 1,
"hugepage_memory": 0,
"mem_hotplug": 1,
"onboot": 0,
"schedopt": 0
},
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"cores": 2,
"disks": [
{
"id": "ide0",
"preallocate": 0,
"size_mb": 102400,
"type": "derive_disk"
},
{
"id": "ide1",
"preallocate": 0,
"size_mb": 102400,
"type": "new_disk"
}
],
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"memory_mb": 4096,
"name": "test1210-1",
"networks": [
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net0"
},
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net1"
}
],
"power_on": 0,
"sockets": 2,
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"type": "vm"
}
4.11.2.4.2.4. Response¶
Response Parameter
Table 4.11.372 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list VM ID list Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"uuids": ["server_uuid1", "server_uuid2", "...", "server_uuidn"]
}
4.11.2.4.2.5. Example of Creating a VM¶
Example 1: Create a VM without network connection
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 2: Create a VM for tenant and connect the VM to a classic network
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_classic",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"name": "Default classic network gateway 1- switch to the gatewa
y",
"device_id": "dvsa734f95",
"port_id": "12345678"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 3: Create a VM for tenant and connect the VM to VPC
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "b4076571-7662-45e7-853c-3049a6e3b703",
"subnet_id": "1b5f2c05-ef57-4803-b6f1-2068084f555c"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 4: Create a VM and add an ordinary disk and a physical disk in addition to the system disk
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_extra_disks",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "ide1",
"type": "new_disk",
"preallocate": 0,
"size_mb": 102400
},
{
"id": "ide3",
"type": "physical_disk",
"preallocate": 0,
"size_mb": 20480,
"storage_id": "1SANGFOR_ASAN-006-10c5-4901-a143-45449cba0c85"
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 5: Create a VM and customize password
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_password",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"password": "9d8ed8fc1f898636dc10cba2d67d66ae0dc801dfc5a8c43cbc6f448de41
f858e7ca16cf4d60045c7dfb3bb040902a61d904174a9adbd6adfd6f060978ca45328ce2162a
f410c79c164ad1ac437261716e832f7169075495aa11745becaeba553cd44895580808bf51dd
c53aefeab1c5c70886e1198e8c7d7cb10a09a8e96a5cf0937a78ed4899ac6f266559e06afd22
76c301715c66ae0f4b72624355fdadb352ac734096a13fd4e15af79522d4f6d03bccd8764cc0
b230ae5256cb79be0d21f7192780ac11cf5003e54e84bff5cc14ee530407037da89749622331
8df1c1f4e0529fa07b117bb8e81cbb20c98c28846d8f4d451c36857ca2e418546e8f5804b",
"lifespan": "2021-05-24 23:59:59"
}
4.11.2.4.2.6. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.2.4.3. Create a VM
4.11.2.4.3.1. Scenario¶
Scenario:
admin creates a VM for tenants or users.
Tenant creates its own VM or for its users.
Create a VM and connect it to a device in VPC subnet or classic network.
Create a VM via ISO/VMA image.
Create GPU-supported VMs
Support full and quick deployment of VMs.
Support storing VMs in local storage
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to create VMs
Versions supported: SCP 6.8.80 and later
Notes:
The PCIe bus option can be enabled only for resource pools of ARM-based HCI 6.9.0 and later.
For resource pools of ARM-based HCI 6.9.0 and later, GPUs can be added only when the PCIe
bus option is enabled.
The PCIe bus enabling status of a VM deployed from a template is consistent with that of the
template. The status cannot be modified when the VM is being created.
4.11.2.4.3.2. URI¶
Table 4.11.373 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20200725/servers Create a VM
Parameter Description:
None
4.11.2.4.3.3. Request¶
Request Parameter
Table 4.11.374 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name Yes
cores body int
Total number of CPU cores. Note
that this is the total number, not the
number of cores per socket. The
value must be greater than or equal
to sockets.
Yes
sockets body int Socket number Yes
memory_mb body int Memory size (MB) Yes
disks body list Disk. For details, see Parameter
Description - disks Yes
networks body list Network. For details, see Parameter
Description - networks Yes
image_id body string Image ID, which can be obtained from
Query Images Yes
az_id body string Resource pool ID Yes
dh_id body string
Dedicated server group ID. When the
specified resource pool ID is
associated with a dedicated server
group, this parameter must be passed
in; otherwise, the VM will fail to
power on.
No
description body string VM description, up to 100 characters No
group_id body string VM group No
count body int VM count No
type body string VM types, view VM Type for details. No
uuids body list
VM UUID list, which indicates
creating VM with UUID specified. Its
length corresponds to the count
parameter. If the parameter is not
passed in, UUID will be automatically
generated.
No
storage_tag_id body string
Storage tag ID, you can pass either
this ID or storage_id, or both of them.
It can be obtained from Get a list of
storage tags
No
storage_id body string
Storage ID, which indicates creating
VM with the specified storage, and
can be obtained from Query Storage
List
No
location body dict Run location. For details, see
Parameter Description - location No
power_on body int
Whether to power on VM after it is
created. If the parameter is not
passed in, then the VM is powered
off by default after it is created.
No
cdroms body list CD/DVD information. For details,
see Parameter Description - cdroms No
usbs body list USB information. For details, see
Parameter Description - usbs No
advance_param body dict
Advanced parameters for HCI. For
details, see Parameter Description -
advance_param
No
password body string
VM password, up to 1024 characters.
This parameter does not take effect
if the image format is ISO, and the
password needs to be encrypted
before being passed in. For the
encryption method, view Token-
Based Authentication for details.
No
floatingip body dict
Elastic IP address information. For
details, see Paramter Description -
floatingip
No
hostname body string VM hostname, up to 100 characters No
lifespan body string
VM expiration date, up to 100
characters. The parameter format
must be %Y-%m-%d %H:%M:%S, for
example: 2021-10-25 23:59:59
No
hostname_index body int Start value of VM host name suffix,
the maximum is 9999 No
encryption body dict
Encryption information. For details,
see Parameter Description -
encryption
No
gpu body dict GPU configuration. For details, see
Parameter Description - gpu No
keypair body dict
Encryption key information. For
details, see Parameter Description -
keypair
No
project_id body string
Tenant ID. When a VM is created for
tenant, user_id will not take effect
unless project_id has been passed in
as well.
No
user_id body string
User ID, indicating a VM is created
for users; in this case, both project_id
and user_id need to be passed in.
No
derive_mode body string
Deployment method, which can be
full deployment or quick deployment.
Valid values: full and fast
No
storage_type body string Storage type. Local storage is
supported. No
Parameter Description - disks
Table 4.11.375 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk, this parameter
needs to be passed in
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.376 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No
NIC type. (For VMs created through full
deployment based on built-in Windows images,
this parameter must be set to virtio). For details,
see VM NIC Type.
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information. For details, see
Parameter Description - network-ip_info
custom_gateway_ip string No Custom gateway IP
Parameter Description - network-ip_info
Table 4.11.377 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - location
Table 4.11.378 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - cdroms
Table 4.11.379 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.380 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.381 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether to enable high-performance clock. (This
parameter can be edited only when VM is shut
down.) The options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
pci_type string No PCIe bus type. The pcie-root-port type can be
used only in ARM-based HCI 6.9.0 and later.
Paramter Description - floatingip
Table 4.11.382 Paramter Description - floatingip¶
Parameter Type Required Note
floatingip_id string No Elastic IP ID
bandwidth string No Elastic IP bandwidth
line_type string No Elastic IP line type ID
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - encryption
Table 4.11.383 Parameter Description - encryption¶
Parameter Type Required Note
type string Yes Encryption method, view VM Disk Encryption
Granularity for details.
properties dict Yes Encryption attributes. For details, see Parameter
Description - encryption.properties for details.
Parameter Description - encryption-properties
Table 4.11.384 Parameter Description - encryption.properties¶
Parameter Type Required Note
cipher string Yes Encryption algorithm, view VM Disk Encryption
Algorithm for details.
Parameter Description - gpu
Table 4.11.385 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
For different vendors, GPU configuration is different.
Only NVIDIA is supported now. View Parameter
Description - gpu.GpuNvidia for GPU configuration
details.
Parameter Description - gpu-GpuNvidia
Table 4.11.386 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Parameter Description - keypair
Table 4.11.387 Parameter Description - keypair¶
Parameter Type Required Note
key_name string Yes Key pair name
user_id string No Key pair user
Request Example
https://{SCP_IP}/janus/20200725/servers
{
"advance_param": {
"abnormal_recovery": 0,
"balloon_memory": 1,
"boot_disk": "ide0",
"boot_order": "c",
"cpu_hotplug": 1,
"hugepage_memory": 0,
"mem_hotplug": 1,
"onboot": 0,
"schedopt": 0
},
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"cores": 2,
"disks": [
{
"id": "ide0",
"preallocate": 0,
"size_mb": 102400,
"type": "derive_disk"
},
{
"id": "ide1",
"preallocate": 0,
"size_mb": 102400,
"type": "new_disk"
}
],
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"memory_mb": 4096,
"name": "test1210-1",
"networks": [
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net0"
},
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net1"
}
],
"power_on": 0,
"sockets": 2,
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"type": "vm"
}
4.11.2.4.3.4. Response¶
Response Parameter
Table 4.11.388 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list VM ID list Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"uuids": ["server_uuid1", "server_uuid2", "...", "server_uuidn"]
}
4.11.2.4.3.5. Example of Creating a VM¶
Example 1: Create a VM without network connection
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 2: Create a VM for tenant and connect the VM to a classic network
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_classic",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"name": "Default classic network gateway 1- switch to the gatewa
y",
"device_id": "dvsa734f95",
"port_id": "12345678"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 3: Create a VM for tenant and connect the VM to VPC
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "b4076571-7662-45e7-853c-3049a6e3b703",
"subnet_id": "1b5f2c05-ef57-4803-b6f1-2068084f555c"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 4: Create a VM and add an ordinary disk and a physical disk in addition to the system disk
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_extra_disks",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "ide1",
"type": "new_disk",
"preallocate": 0,
"size_mb": 102400
},
{
"id": "ide3",
"type": "physical_disk",
"preallocate": 0,
"size_mb": 20480,
"storage_id": "1SANGFOR_ASAN-006-10c5-4901-a143-45449cba0c85"
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 5: Create a VM and customize password
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_password",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"password": "9d8ed8fc1f898636dc10cba2d67d66ae0dc801dfc5a8c43cbc6f448de41
f858e7ca16cf4d60045c7dfb3bb040902a61d904174a9adbd6adfd6f060978ca45328ce2162a
f410c79c164ad1ac437261716e832f7169075495aa11745becaeba553cd44895580808bf51dd
c53aefeab1c5c70886e1198e8c7d7cb10a09a8e96a5cf0937a78ed4899ac6f266559e06afd22
76c301715c66ae0f4b72624355fdadb352ac734096a13fd4e15af79522d4f6d03bccd8764cc0
b230ae5256cb79be0d21f7192780ac11cf5003e54e84bff5cc14ee530407037da89749622331
8df1c1f4e0529fa07b117bb8e81cbb20c98c28846d8f4d451c36857ca2e418546e8f5804b",
"lifespan": "2021-05-24 23:59:59"
}
Example 6 - Parameters for creating a VM: Create a VM without connecting to the network, and with the
option Use PCIe bus enabled.
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0,
"pci_type": "pcie-root-port"
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
4.11.2.4.3.6. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.2.4.4. Create a VM
4.11.2.4.4.1. Scenario¶
Scenario:
admin creates a VM for tenants or users.
Tenant creates its own VM or for its users.
Create a VM and connect it to a device in VPC subnet or classic network.
Create a VM via ISO/VMA image.
Create GPU-supported VMs
Support full and quick deployment of VMs.
Support storing VMs in local storage
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to create VMs
Versions supported: SCP 6.8.80 and later
Notes:
The PCIe bus option can be enabled only for resource pools of ARM-based HCI 6.9.0 and later.
For resource pools of ARM-based HCI 6.9.0 and later, GPUs can be added only when the PCIe
bus option is enabled.
The PCIe bus enabling status of a VM deployed from a template is consistent with that of the
template. The status cannot be modified when the VM is being created.
4.11.2.4.4.2. URI¶
Table 4.11.389 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20210725/servers Create a VM
Parameter Description:
None
4.11.2.4.4.3. Request¶
Request Parameter
Table 4.11.390 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name Yes
cores body int
Total number of CPU
cores. Note that this is the
total number, not the
number of cores per
socket. The value must be
greater than or equal to
sockets.
Yes
sockets body int Socket number Yes
memory_mb body int Memory size (MB) Yes
disks body list
Disk information. For
details, see Parameter
Description - disks.
Yes
networks body list
Network information. For
details, see Parameter
Description - networks.
Yes
image_id body string
Image ID, which can be
obtained from Query
Images
Yes
az_id body string Resource pool ID Yes
dh_id body string
Dedicated server group ID.
When the specified
resource pool ID is
associated with a dedicated
server group, this
parameter must be passed
in; otherwise, the VM will
fail to power on.
No
description body string VM description, up to 100
characters No
group_id body string VM group No
count body int VM count No
type body string VM types, view VM Type
for details. No
uuids body list
VM UUID list, which
indicates creating VM with
UUID specified. Its length
corresponds to the count
parameter. If the
parameter is not passed in,
UUID will be automatically
generated.
No
generated.
storage_tag_id body string
Storage tag ID, you can
pass either this ID or
storage_id, or both of them.
It can be obtained from Get
a list of storage tags
No
storage_id body string
Storage ID, which indicates
creating VM with the
specified storage, and can
be obtained from Query
Storage List
No
location body dict
Run location. For details,
see Parameter Description
- location.
No
power_on body int
Whether to power on VM
after it is created. If the
parameter is not passed in,
then the VM is powered off
by default after it is
created.
No
cdroms body list
CD/DVD information. For
details, see Parameter
Description - cdroms.
No
usbs body list
USB information. For
details, see Parameter
Description - usbs.
No
advance_param body dict
Advanced parameters for
HCI. For details, see
Parameter Description -
advance_param.
No
password body string
VM password, up to 1024
characters. This parameter
does not take effect if the
image format is ISO, and
the password needs to be
encrypted before being
passed in. For the
encryption method, view
Token-Based
Authentication for details.
No
floatingip body dict
Elastic IP address
information. For details, see
Paramter Description -
floatingip.
No
hostname body string VM hostname, up to 100
characters No
lifespan body string
VM expiration date, up to
100 characters. The
parameter format must be
%Y-%m-%d %H:%M:%S, for
example: 2021-10-25
23:59:59
No
hostname_index body int
Start value of VM host
name suffix, the maximum
is 9999
No
encryption body dict
Encryption information. For
details, see Parameter
Description - encryption.
No
gpu body dict
GPU configuration. For
details, see Parameter
Description - gpu.
No
keypair body dict
Encryption key
information. For details, see
Parameter Description -
keypair.
No
Tenant ID. When a VM is
project_id body string
Tenant ID. When a VM is
created for tenant, user_id
will not take effect unless
project_id has been passed
in as well.
No
user_id body string
User ID, indicating a VM is
created for users; in this
case, both project_id and
user_id need to be passed
in.
No
derive_mode body string
Deployment method, which
can be full deployment or
quick deployment. Valid
values: full and fast
No
storage_type body string Storage type. Local storage
is supported. No
cpu_reserve body int
Whether the CPU
Reservation option is
enabled, which is supported
in HCI 6.10.0 and later.
Valid values: 0, 1
No
resource_reserve_policies body list
List of CPU resource
reservation policies. For
details, see Parameter
Description -
resource_reserve_policies.
No
tags body list
VM tag. For details, see
Parameter Description -
tags.
No
serials body list
Serial port information,
which is supported in HCI
6.0.0 and later. For details,
see Parameter Description
- serials.
No
Parameter Description - disks
Table 4.11.391 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk, this
parameter needs to be passed in
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.392 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No
NIC type. (For VMs created through full
deployment based on built-in Windows images,
this parameter must be set to virtio). For details,
see VM NIC Type.
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information. For details, see
Parameter Description - network-ip_info.
custom_gateway_ip string No Custom gateway IP
ipv6_info dict No IPv6 address information. For details, see
Parameter Description - networks-ipv6_info.
Parameter Description - network-ip_info
Table 4.11.393 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - networks-ipv6_info
Table 4.11.394 Parameter Description - networks-ipv6_info¶
Parameter Type Required Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - resource_reserve_policies
Table 4.11.395 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - location
Table 4.11.396 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - cdroms
Table 4.11.397 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.398 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - tags
Table 4.11.399 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - serials
Table 4.11.400 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - advance_param
Table 4.11.401 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether to enable high-performance clock. (This
parameter can be edited only when VM is shut
down.) The options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
pci_type string No PCIe bus type. The pcie-root-port type can be
used only in ARM-based HCI 6.9.0 and later.
tpm int No
Whether TPM 2.0 is enabled, which is supported
in non-Arm-based HCI 6.10.0 and later. Valid
values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is enabled,
which is supported in HCI 6.0.0 and later. Valid
values: 0, 1
graphic_type string No
Built-in graphics card type, which is supported in
HCI 6.8.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.graphic_type.
advance_param.graphic_type.
bios dict No
BIOS configuration, which is supported in HCI
6.0.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.bios.
sandbox int No
Whether VM escape detection is enabled, which
is supported in HCI 6.8.1 and later. Valid values:
0, 1
l3_cache int No Whether L3 cache is enabled, which is supported
in HCI 6.7.0 and later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values: 0,
1
mouse_type string No Mouse type, which is supported in HCI 6.0.0 and
later. For details, see VM Mouse Type.
network_affinity int No
Whether network affinity is enabled, which is
supported in HCI 6.8.1 and later. Valid values: 0,
1
Paramter Description - floatingip
Table 4.11.402 Paramter Description - floatingip¶
Parameter Type Required Note
floatingip_id string No Elastic IP ID
bandwidth string No Elastic IP bandwidth
line_type string No Elastic IP line type ID
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - encryption
Table 4.11.403 Parameter Description - encryption¶
Parameter Type Required Note
type string Yes Encryption method, view VM Disk Encryption
Granularity for details.
properties dict Yes Encryption attributes. For details, see Parameter
Description - encryption.properties.
Parameter Description - encryption-properties
Table 4.11.404 Parameter Description - encryption.properties¶
Parameter Type Required Note
cipher string Yes Encryption algorithm, view VM Disk Encryption
Algorithm for details.
Parameter Description - gpu
Table 4.11.405 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which varies with vendors. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.406 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Parameter Description - keypair
Table 4.11.407 Parameter Description - keypair¶
Parameter Type Required Note
key_name string Yes Key pair name
user_id string No Key pair user
Request Example
https://{SCP_IP}/janus/20210725/servers
{
"advance_param": {
"abnormal_recovery": 0,
"balloon_memory": 1,
"boot_disk": "ide0",
"boot_order": "c",
"cpu_hotplug": 1,
"hugepage_memory": 0,
"mem_hotplug": 1,
"onboot": 0,
"schedopt": 0
},
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"cores": 2,
"disks": [
{
"id": "ide0",
"preallocate": 0,
"size_mb": 102400,
"type": "derive_disk"
},
{
"id": "ide1",
"preallocate": 0,
"size_mb": 102400,
"type": "new_disk"
}
],
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"memory_mb": 4096,
"name": "test1210-1",
"networks": [
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net0"
},
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net1"
}
],
"power_on": 0,
"sockets": 2,
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"type": "vm"
}
4.11.2.4.4.4. Response¶
Response Parameter
Table 4.11.408 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list VM ID list Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"uuids": ["server_uuid1", "server_uuid2", "...", "server_uuidn"]
}
4.11.2.4.4.5. Example of Creating a VM¶
Example 1: Create a VM without network connection
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 2: Create a VM for tenant and connect the VM to a classic network
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_classic",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"name": "Default classic network gateway 1- switch to the gatewa
y",
"device_id": "dvsa734f95",
"port_id": "12345678"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 3: Create a VM for tenant and connect the VM to VPC
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "b4076571-7662-45e7-853c-3049a6e3b703",
"subnet_id": "1b5f2c05-ef57-4803-b6f1-2068084f555c"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 4: Create a VM and add an ordinary disk and a physical disk in addition to the system disk
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_extra_disks",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "ide1",
"type": "new_disk",
"preallocate": 0,
"size_mb": 102400
},
{
"id": "ide3",
"type": "physical_disk",
"preallocate": 0,
"size_mb": 20480,
"storage_id": "1SANGFOR_ASAN-006-10c5-4901-a143-45449cba0c85"
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 5: Create a VM and customize password
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_password",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"password": "9d8ed8fc1f898636dc10cba2d67d66ae0dc801dfc5a8c43cbc6f448de41
f858e7ca16cf4d60045c7dfb3bb040902a61d904174a9adbd6adfd6f060978ca45328ce2162a
f410c79c164ad1ac437261716e832f7169075495aa11745becaeba553cd44895580808bf51dd
c53aefeab1c5c70886e1198e8c7d7cb10a09a8e96a5cf0937a78ed4899ac6f266559e06afd22
76c301715c66ae0f4b72624355fdadb352ac734096a13fd4e15af79522d4f6d03bccd8764cc0
b230ae5256cb79be0d21f7192780ac11cf5003e54e84bff5cc14ee530407037da89749622331
8df1c1f4e0529fa07b117bb8e81cbb20c98c28846d8f4d451c36857ca2e418546e8f5804b",
"lifespan": "2021-05-24 23:59:59"
}
Example 6 - Parameters for creating a VM: Create a VM without connecting to the network, and with the
option Use PCIe bus enabled.
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0,
"pci_type": "pcie-root-port"
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 7: Parameters for creating a VM without connecting to the network, and for setting the tag,
connecting to a serial port, setting the disk read cache, and with some advanced options, custom
options, and hardware options enabled.
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0,
"sandbox": 1,
"network_affinity": 1,
"l3_cache": 1,
"ha": 1,
"tpm": 0,
"numa": 1,
"cpu_exclusive": 0,
"graphic_type": "std",
"mouse_type": "usb",
"bios": {
"bios_type": "SEABIOS",
"boot_delay_seconds": 0
}
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"read_cache_size": 200,
"size_mb": 81920
}
],
"tags": [
{
"id": "9cae7731-ea16-4197-a900-15e1ca8ae136"
}
],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"cpu_reserve": 0,
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"read_cache_size": 200,
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
4.11.2.4.4.6. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.2.4.5. Create a VM
4.11.2.4.5.1. Scenario¶
Scenario:
admin creates a VM for tenants or users.
Tenant creates its own VM or for its users.
Create a VM and connect it to a device in VPC subnet or classic network.
Create a VM via ISO/VMA image.
Create GPU-supported VMs
Support full and quick deployment of VMs.
Support storing VMs in local storage
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to create VMs
Versions supported: SCP 6.11.1 and later
Notes:
The PCIe bus option can be enabled only for resource pools of ARM-based HCI 6.9.0 and later.
For resource pools of ARM-based HCI 6.9.0 and later, GPUs can be added only when the PCIe
bus option is enabled.
The PCIe bus enabling status of a VM deployed from a template is consistent with that of the
template. The status cannot be modified when the VM is being created.
A VM with 64 disks can be created only in a resource pool on HCI 6.11.1 or later.
4.11.2.4.5.2. URI¶
Table 4.11.409 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20220725/servers Create a VM
Parameter Description:
None
4.11.2.4.5.3. Request¶
Request Parameter
Table 4.11.410 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name Yes
cores body int
Total number of CPU
cores. Note that this is the
total number, not the
number of cores per
socket. The value must be
greater than or equal to
sockets.
Yes
sockets body int Socket number Yes
memory_mb body int Memory size (MB) Yes
disks body list
Disk information. For
details, see Parameter
Description - disks.
Yes
networks body list
Network information. For
details, see Parameter
Description - networks.
Yes
image_id body string
Image ID, which can be
obtained from Query
Images
Yes
az_id body string Resource pool ID Yes
dh_id body string
Dedicated server group ID.
When the specified
resource pool ID is
associated with a dedicated
server group, this
parameter must be passed
in; otherwise, the VM will
fail to power on.
No
description body string VM description, up to 100
characters No
group_id body string VM group No
count body int VM count No
type body string VM types, view VM Type
for details. No
uuids body list
VM UUID list, which
indicates creating VM with
UUID specified. Its length
corresponds to the count
parameter. If the
parameter is not passed in,
UUID will be automatically
generated.
No
storage_tag_id body string
Storage tag ID, you can
pass either this ID or
storage_id, or both of them.
It can be obtained from Get
a list of storage tags
No
storage_id body string
Storage ID, which indicates
creating VM with the
specified storage, and can
be obtained from Query
Storage List
No
location body dict
Run location. For details,
see Parameter Description
- location.
No
power_on body int
Whether to power on VM
after it is created. If the
parameter is not passed in,
then the VM is powered off
by default after it is
created.
No
cdroms body list
CD/DVD drive
information. For details, see
Parameter Description -
cdroms.
No
usbs body list
USB information. For
details, see Parameter
Description - usbs.
No
advance_param body dict
Advanced parameters for
HCI. For details, see
Parameter Description -
advance_param.
No
password body string
VM password, up to 1024
characters. This parameter
does not take effect if the
image format is ISO, and
the password needs to be
encrypted before being
passed in. For the
encryption method, view
Token-Based
Authentication for details.
No
floatingip body dict
Elastic IP address
information. For details, see
Paramter Description -
floatingip.
No
hostname body string VM hostname, up to 100
characters No
lifespan body string
VM expiration date, up to
100 characters. The
parameter format must be
%Y-%m-%d %H:%M:%S, for
example: 2021-10-25
23:59:59
No
hostname_index body int
Start value of VM host
name suffix, the maximum
is 9999
No
encryption body dict
Encryption information. For
details, see Parameter
Description - encryption.
No
gpu body dict
GPU configuration. For
details, see Parameter
Description - gpu.
No
keypair body dict
Secret key information. For
details, see Parameter
Description - keypair.
No
project_id body string
Tenant ID. When a VM is
created for tenant, user_id
will not take effect unless
project_id has been passed
in as well.
No
user_id body string
User ID, indicating a VM is
created for users; in this
case, both project_id and
user_id need to be passed
in.
No
derive_mode body string
Deployment method, which
can be full deployment or
quick deployment. Valid
values: full and fast
No
storage_type body string Storage type. Local storage
is supported. No
cpu_reserve body int
Whether the CPU
Reservation option is
enabled, which is supported
in HCI 6.10.0 and later.
Valid values: 0, 1
No
resource_reserve_policies body list
List of CPU resource
reservation policies. For
details, see Parameter
Description -
resource_reserve_policies.
No
tags body list
VM tag. For details, see
Parameter Description -
tags.
No
serials body list
Serial port information,
which is supported in HCI
6.0.0 and later. For details,
see Parameter Description
- serials.
No
Parameter Description - disks
Table 4.11.411 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited
preallocate string No Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. A disk ID must be unique across
different disk types and cannot exceed 65. Valid
values: ide0, ide1,…, iden (n ≤ 65).
type string No Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk, this
parameter needs to be passed in
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.412 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No
NIC type. (For VMs created through full
deployment based on built-in Windows images,
this parameter must be set to virtio). For details,
see VM NIC Type.
mac_address string No MAC address, which can be automatically
generated without transmission
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port, connected to classic network device,
currently set to 12345678
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information. For details, see
Parameter Description - network-ip_info.
custom_gateway_ip string No Custom gateway IP
ipv6_info dict No IPv6 address information. For details, see
Parameter Description - networks-ipv6_info.
Parameter Description - network-ip_info
Table 4.11.413 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - networks-ipv6_info
Table 4.11.414 Parameter Description - networks-ipv6_info¶
Parameter Type Required Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - resource_reserve_policies
Table 4.11.415 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - location
Table 4.11.416 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location int No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - cdroms
Table 4.11.417 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.418 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - tags
Table 4.11.419 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - serials
Table 4.11.420 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - advance_param
Table 4.11.421 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether to enable high-performance clock. (This
parameter can be edited only when VM is shut
down.) The options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
pci_type string No PCIe bus type. The pcie-root-port type can be
used only in ARM-based HCI 6.9.0 and later.
tpm int No
Whether TPM 2.0 is enabled, which is supported
in non-Arm-based HCI 6.10.0 and later. Valid
values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is enabled,
which is supported in HCI 6.0.0 and later. Valid
values: 0, 1
graphic_type string No
Built-in graphics card type, which is supported in
HCI 6.8.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.graphic_type.
advance_param.graphic_type.
bios dict No
BIOS configuration, which is supported in HCI
6.0.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.bios.
sandbox int No
Whether VM escape detection is enabled, which
is supported in HCI 6.8.1 and later. Valid values:
0, 1
l3_cache int No Whether L3 cache is enabled, which is supported
in HCI 6.7.0 and later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values: 0,
1
mouse_type string No Mouse type, which is supported in HCI 6.0.0 and
later. For details, see VM Mouse Type.
network_affinity int No
Whether network affinity is enabled, which is
supported in HCI 6.8.1 and later. Valid values: 0,
1
Paramter Description - floatingip
Table 4.11.422 Paramter Description - floatingip¶
Parameter Type Required Note
floatingip_id string No Elastic IP ID
bandwidth string No Elastic IP bandwidth
line_type string No Elastic IP line type ID
sharedbandwidth_id string No Shared bandwidth ID
Parameter Description - encryption
Table 4.11.423 Parameter Description - encryption¶
Parameter Type Required Note
type string Yes Encryption method, view VM Disk Encryption
Granularity for details.
properties dict Yes Encryption attributes. For details, see Parameter
Description - encryption.properties.
Parameter Description - encryption-properties
Table 4.11.424 Parameter Description - encryption.properties¶
Parameter Type Required Note
cipher string Yes Encryption algorithm, view VM Disk Encryption
Algorithm for details.
Parameter Description - gpu
Table 4.11.425 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which varies with vendors. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.426 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Parameter Description - keypair
Table 4.11.427 Parameter Description - keypair¶
Parameter Type Required Note
key_name string Yes Key pair name
user_id string No Key pair user
Request Example
https://{SCP_IP}/janus/20220725/servers
{
"advance_param": {
"abnormal_recovery": 0,
"balloon_memory": 1,
"boot_disk": "ide0",
"boot_order": "c",
"cpu_hotplug": 1,
"hugepage_memory": 0,
"mem_hotplug": 1,
"onboot": 0,
"schedopt": 0
},
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"cores": 2,
"disks": [
{
"id": "ide0",
"preallocate": 0,
"size_mb": 102400,
"type": "derive_disk"
},
{
"id": "ide1",
"preallocate": 0,
"size_mb": 102400,
"type": "new_disk"
}
],
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"memory_mb": 4096,
"name": "test1210-1",
"networks": [
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net0"
},
{
"connect": 1,
"host_tso": 0,
"model": "virtio",
"vif_id": "net1"
}
],
"power_on": 0,
"sockets": 2,
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"type": "vm"
}
4.11.2.4.5.4. Response¶
Response Parameter
Table 4.11.428 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list VM ID list Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"uuids": ["server_uuid1", "server_uuid2", "...", "server_uuidn"]
}
4.11.2.4.5.5. Example of Creating a VM¶
Example 1: Create a VM without network connection
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 2: Create a VM for tenant and connect the VM to a classic network
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_classic",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"name": "Default classic network gateway 1- switch to the gatewa
y",
"device_id": "dvsa734f95",
"port_id": "12345678"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 3: Create a VM for tenant and connect the VM to VPC
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_vpc",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0,
"vpc_id": "b4076571-7662-45e7-853c-3049a6e3b703",
"subnet_id": "1b5f2c05-ef57-4803-b6f1-2068084f555c"
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59",
"project_id": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Example 4: Create a VM and add an ordinary disk and a physical disk in addition to the system disk
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_extra_disks",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "ide1",
"type": "new_disk",
"preallocate": 0,
"size_mb": 102400
},
{
"id": "ide3",
"type": "physical_disk",
"preallocate": 0,
"size_mb": 20480,
"storage_id": "1SANGFOR_ASAN-006-10c5-4901-a143-45449cba0c85"
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 5: Create a VM and customize password
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_password",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"password": "9d8ed8fc1f898636dc10cba2d67d66ae0dc801dfc5a8c43cbc6f448de41
f858e7ca16cf4d60045c7dfb3bb040902a61d904174a9adbd6adfd6f060978ca45328ce2162a
f410c79c164ad1ac437261716e832f7169075495aa11745becaeba553cd44895580808bf51dd
c53aefeab1c5c70886e1198e8c7d7cb10a09a8e96a5cf0937a78ed4899ac6f266559e06afd22
76c301715c66ae0f4b72624355fdadb352ac734096a13fd4e15af79522d4f6d03bccd8764cc0
b230ae5256cb79be0d21f7192780ac11cf5003e54e84bff5cc14ee530407037da89749622331
8df1c1f4e0529fa07b117bb8e81cbb20c98c28846d8f4d451c36857ca2e418546e8f5804b",
"lifespan": "2021-05-24 23:59:59"
}
Example 6 - Parameters for creating a VM: Create a VM without connecting to the network, and with the
option Use PCIe bus enabled.
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0,
"pci_type": "pcie-root-port"
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
Example 7: Parameters for creating a VM without connecting to the network, and for setting the tag,
connecting to a serial port, setting the disk read cache, and with some advanced options, custom
options, and hardware options enabled.
{
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"location": {
"id": "cluster",
"location": 0
},
"storage_tag_id": "22222222-2222-2222-2222-222222222222",
"image_id": "354ed5ba-2b9f-4d65-b4ea-6526d8ab9b97",
"cores": 1,
"sockets": 1,
"memory_mb": 1024,
"count": 1,
"name": "create_vm_with_lifespan",
"description": "",
"advance_param": {
"boot_order": "c",
"onboot": 0,
"schedopt": 0,
"abnormal_recovery": 1,
"cpu_hotplug": 0,
"mem_hotplug": 0,
"balloon_memory": 0,
"hugepage_memory": 0,
"sandbox": 1,
"network_affinity": 1,
"l3_cache": 1,
"ha": 1,
"tpm": 0,
"numa": 1,
"cpu_exclusive": 0,
"graphic_type": "std",
"mouse_type": "usb",
"bios": {
"bios_type": "SEABIOS",
"boot_delay_seconds": 0
}
},
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"read_cache_size": 200,
"size_mb": 81920
}
],
"tags": [
{
"id": "9cae7731-ea16-4197-a900-15e1ca8ae136"
}
],
"serials": [
{
"id": "serial0",
"target_id": "fd197800-c175-4c22-bc50-f1a118f93f4c",
"target_port": 0
}
],
"cpu_reserve": 0,
"networks": [
{
"vif_id": "net0",
"mac_address": "fe:fc:fe:25:3a:2d",
"connect": 0,
"model": "virtio",
"read_cache_size": 200,
"host_tso": 0
}
],
"usbs": [],
"power_on": 0,
"lifespan": "2021-05-24 23:59:59"
}
4.11.2.4.5.6. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.2.5. Edit VM
4.11.2.5.1. Edit VM
4.11.2.5.1.1. Scenario¶
Scenario:
Expand VM memory and update CPU configuration.
Modify VM name, description, group and other information.
Add or delete disks for a VM.
Change network connection for a VM.
Add or delete CD/DVD drive or USB drive for a VM.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Configuration
permission
Versions supported: SCP 6.3.0 and later
4.11.2.5.1.2. URI¶
Table 4.11.429 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/servers/{server_id} Edit VM
Parameter Description:
Table 4.11.430 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.2.5.1.3. Request¶
Request Parameter
Table 4.11.431 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name, up to 100 characters No
description body string VM description, up to 100
characters No
group_id body string VM group No
cores body int
Total number of CPU cores. Note
that this is the total number, not
the number of cores per socket.
The value must be greater than or
equal to sockets.
No
sockets body int Socket number No
memory_mb body int Memory size (MB) No
os_type body string Operating system type No
storage_location body string Storage location No
location body dict Run location, view Parameter
Description - location for details No
hard_delete_disks body list List of permanently deleted disks No
data_erase_disks body list List of disks with data erased No
disks body dict Disk information, view Parameter
Description - disks for details No
networks body dict
Network information, view
Parameter Description - networks
for details.
No
cdroms body dict
CD/DVD drive information, view
Parameter Description - cdroms for
details.
No
usbs body dict
USB device information, view
Parameter Description - usbs for
details
No
advance_param body dict
HCI advanced parameter, view
Parameter Description -
advance_param for details.
No
gpu body dict
GPU configuration information,
view Parameter Description - gpu
for details.
No
 Note
When a VM is edited, only parameters and the corresponding values to be updated need to
be passed in. Parameters not passed in remain unchanged.
Parameter Description - location
Table 4.11.432 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location inst No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.433 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited. 1
indicates yes.
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string Yes Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk or share_disk,
this parameter needs to be passed in.
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.434 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
mac_address string No MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information, view Parameter
Description - network-ip_info for details.
custom_gateway_ip string No Custom gateway IP
Parameter Description - network-ip_info
Table 4.11.435 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - cdroms
Table 4.11.436 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.437 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.438 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether the Para-virtualized Clock option is
enabled. Valid values: 0, 1. Note: Supported in
SCP 6.7.35 and later, and can be edited only
when the VM is shut down.
 Note
You need to specify the boot_disk parameter when editing the use_uuid parameter.
Parameter Description - gpu
Table 4.11.439 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which differs as per different
manufacturers. Only NVIDIA is supported now, view
Parameter Description - gpu.GpuNvidia for details.
Parameter Description - gpu-GpuNvidia
Table 4.11.440 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling Method for
details.
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"device_id": "dvs11e2c5f",
"name": "Default classic network gateway 1- switch to the gatewa
y",
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"port_id": "12345678",
"ip_info": {
"netmask": "255.255.255.0",
"ip_address": "192.168.33.100",
"dns": []
}
}
]
}
4.11.2.5.1.4. Response¶
Response Parameter
Table 4.11.441 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.2.5.1.5. VM Editing Example¶
Example: Edit the shared virtual disk mounted to the VM
{
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
},
{
"id": "scsi0",
"type": "share_disk",
"preallocate": 0,
"size_mb": 10240,
"storage_id": "36a6e033ff042390a27c02491374d2e1b"
}
]
}
4.11.2.5.1.6. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.5.2. Edit VM
4.11.2.5.2.1. Scenario¶
Scenario:
Expand VM memory and update CPU configuration.
Modify VM name, description, group and other information.
Add or delete disks for a VM.
Change network connection for a VM.
Add or delete CD/DVD drive or USB drive for a VM.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Configuration
permission
Versions supported: SCP 6.3.0 and later
4.11.2.5.2.2. URI¶
Table 4.11.442 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20200725/servers/{server_id} Edit VM
Parameter Description:
Table 4.11.443 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.2.5.2.3. Request¶
Request Parameter
Table 4.11.444 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name, up to 100 characters No
description body string VM description, up to 100
characters No
group_id body string VM group No
cores body int
Total number of CPU cores. Note
that this is the total number, not
the number of cores per socket.
The value must be greater than or
equal to sockets.
No
sockets body int Socket number No
memory_mb body int Memory size (MB) No
os_type body string Operating system type No
storage_location body string Storage location No
location body dict Run location. For details, see
Parameter Description - location No
hard_delete_disks body list List of permanently deleted disks No
data_erase_disks body list List of disks with data erased No
disks body dict Disk. For details, see Parameter
Description - disks No
networks body dict Network. For details, see
Parameter Description - networks No
cdroms body dict CD/DVD. For details, see
Parameter Description - cdroms No
usbs body dict USB. For details, see Parameter
Description - usbs No
advance_param body dict
Advanced parameters for HCI. For
details, see Parameter Description -
advance_param
No
gpu body dict GPU configuration. For details, see
Parameter Description - gpu No
 Note
When a VM is edited, only parameters and the corresponding values to be updated need to
be passed in. Parameters not passed in remain unchanged.
Parameter Description - location
Table 4.11.445 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location inst No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.446 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited. 1
indicates yes.
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string Yes Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk or share_disk,
this parameter needs to be passed in.
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
Parameter Description - networks
Table 4.11.447 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
mac_address string No MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address. For details, see Parameter
Description - network-ip_info
custom_gateway_ip string No Custom gateway IP
Parameter Description - network-ip_info
Table 4.11.448 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - cdroms
Table 4.11.449 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.450 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.451 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether the Para-virtualized Clock option is
enabled. Valid values: 0, 1. Note: Supported in
SCP 6.7.35 and later, and can be edited only
when the VM is shut down.
pci_type string No PCIe bus type. The pcie-root-port type can be
used only in ARM-based HCI 6.9.0 and later.
 Note
You need to specify the boot_disk parameter when editing the use_uuid parameter.
Parameter Description - gpu
Table 4.11.452 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
For different vendors, GPU configuration is different.
Only NVIDIA is supported now. For details, see
Parameter Description - gpu.GpuNvidia
Parameter Description - gpu-GpuNvidia
Table 4.11.453 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No vGPU scheduling policy. For details, see
Graphics card scheduling policy
frame_rate int No Frame rate limit. 0 indicates no limit.
Request Example
https://{SCP_IP}/janus/20200725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"device_id": "dvs11e2c5f",
"name": "Default classic network gateway 1- switch to the gatewa
y",
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"port_id": "12345678",
"ip_info": {
"netmask": "255.255.255.0",
"ip_address": "192.168.33.100",
"dns": []
}
}
]
}
4.11.2.5.2.4. Response¶
Response Parameter
Table 4.11.454 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.2.5.2.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.2.5.3. Edit VM
4.11.2.5.3.1. Scenario¶
Scenario:
Expand VM memory and update CPU configuration.
Modify VM name, description, group and other information.
Add or delete disks for a VM.
Change network connection for a VM.
Add or delete CD/DVD drive or USB drive for a VM.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Configuration
permission
Versions supported: SCP 6.3.0 and later
4.11.2.5.3.2. URI¶
Table 4.11.455 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20210725/servers/{server_id} Edit VM
Parameter Description:
Table 4.11.456 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.2.5.3.3. Request¶
Request Parameter
Table 4.11.457 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name, up to 100
characters No
description body string VM description, up to 100
characters No
group_id body string VM group No
cores body int
Total number of CPU
cores. Note that this is the
total number, not the
number of cores per
socket. The value must be
greater than or equal to
sockets.
No
sockets body int Socket number No
memory_mb body int Memory size (MB) No
os_type body string Operating system type No
storage_location body string Storage location No
location body dict
Run location. For details,
see Parameter Description
- location
No
- location
hard_delete_disks body list List of permanently deleted
disks No
data_erase_disks body list List of disks with data
erased No
disks body dict
Disk. For details, see
Parameter Description -
disks
No
networks body dict
Network. For details, see
Parameter Description -
networks
No
cdroms body dict
CD/DVD. For details, see
Parameter Description -
cdroms
No
usbs body dict
USB. For details, see
Parameter Description -
usbs
No
advance_param body dict
Advanced parameters for
HCI. For details, see
Parameter Description -
advance_param
No
gpu body dict
GPU configuration. For
details, see Parameter
Description - gpu
No
cpu_reserve body int
Whether the CPU
Reservation option is
enabled, which is supported
in HCI 6.10.0 and later.
Valid values: 0, 1
No
resource_reserve_policies body list
List of CPU resource
reservation policies. For
details, see Parameter
Description -
resource_reserve_policies.
No
tags body list
VM tag. For details, see
Parameter Description -
tags.
No
serials body list
Serial port information,
which is supported in HCI
6.0.0 and later. For details,
see Parameter Description
- serials.
No
 Note
When a VM is edited, only parameters and the corresponding values to be updated need to
be passed in. Parameters not passed in remain unchanged.
Parameter Description - tags
Table 4.11.458 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - serials
Table 4.11.459 Parameter Description - serials¶
Parameter Type Required Note
id string Yes Serial port ID. Example: serial0
target_id string Yes Peer VM ID
target_port int Yes Serial port number
Parameter Description - resource_reserve_policies
Table 4.11.460 Parameter Description - resource_reserve_policies¶
Parameter Type Required Note
id string No Reservation policy ID
period_type string Yes
CPU reservation period type. For details, see
Parameter Description - advanced_option -
resource_reserve_policies.period_type.
time_start string Yes Time for starting resource exclusiveness
time_end string Yes Time for ending resource exclusiveness and releasing
exclusive resources
period_frame string No Effective date of the reservation policies
Parameter Description - location
Table 4.11.461 Parameter Description - location¶
Parameter Type Required Note
id string Yes Run location, such as host-xx, cluster
type string No Type of run location, which is specific to VMware, view
VM Working Location Type (VMware) for details.
location inst No Whether the VM’s run location is fixed.
policy_type string No Type of VM scheduling policy
Parameter Description - disks
Table 4.11.462 Parameter Description - disks¶
Parameter Type Required Note
size_mb int Yes Disk size (MB), 1024 (1 GB) < size_mb < 66060288
(63 TB)
is_old_disk int No Whether the disk exists before the VM is edited. 1
indicates yes.
preallocate string Yes Disk provisioning method, view Disk Provisioning
Method
eagerly_scrub int No Whether to reset now
id string Yes
Disk ID. Note: ide2 indicates the system disk, which
is already in use. Other disks can be used. The value
can be ide0, ide1, …, iden (n ≤ 15)
type string Yes Disk type, view VM Disk Type for details.
storage_file string No Storage path
storage_id string No Storage ID. When type=physical_disk or share_disk,
this parameter needs to be passed in.
backing_file string No Backend image
copy string No Existing disk path
cache string No Cache mode, view VM Disk Cache Mode for details.
cache_size int No Cache size
forecast string No Whether to enable cache.
use_virtio int No Whether the virtio disk is used.
storage_policy string No Storage policy ID
read_cache_size int No
Disk read cache (MB), which cannot exceed the disk
size and is supported in HCI 6.8.1 and later.
(Minimum: 1, Maximum: 66060288)
Parameter Description - networks
Table 4.11.463 Parameter Description - networks¶
Parameter Type Required Note
connect int Yes Whether the network is connected.
device_id string No The connected network device ID in classic
network
model string No NIC type, view VM NIC Type for details.
mac_address string No MAC address
vif_id string Yes Network ID (net0, net1, net2, … netn)
port_id string No Port
host_tso int No Whether to enable TSO.
name string No Name of the connected port
vpc_id string No VPC network ID of the connected tenant, which
can be obtained from Query VPC s
subnet_id string No Connected VPC subnet ID
ip_info dict No IP address information. For details, see
Parameter Description - network-ip_info.
custom_gateway_ip string No Custom gateway IP
ipv6_info dict No IPv6 address information. For details, see
Parameter Description - networks-ipv6_info.
Parameter Description - networks-ipv6_info
Table 4.11.464 Parameter Description - networks-ipv6_info¶
Parameter Type Value Returned Note
ipv6_address string Yes Specified IPv6 address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS
Parameter Description - network-ip_info
Table 4.11.465 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - cdroms
Table 4.11.466 Parameter Description - cdroms¶
Parameter Type Required Note
id string Yes Slot number of CD/DVD drive, such as
ide0, ide1
image_id string No ISO image ID
location string No ISO location
image_name string No Name of the mounted image
Parameter Description - usbs
Table 4.11.467 Parameter Description - usbs¶
Parameter Type Required Note
id string Yes USB ID(udisk0,udisk1,udisk2…udiskn)
usb_device string No USB device
controller_type string No Type of USB controller, such as 2.0, 3.0
Parameter Description - advance_param
Table 4.11.468 Parameter Description - advance_param¶
Parameter Type Required Note
cpu_type string No CPU type, view VM CPU Type for details.
onboot int No Whether the VM is started automatically when
the physical host is powered on.
use_uuid int No Whether to enable UUID.
uuid string No UUID
regen_uuid int No Whether to regenerate a UUID. The options are
0 and 1
abnormal_recovery int No Whether to reboot if fault occurs.
hugepage_memory int No Whether to use huge-page memory.
balloon_memory int No Whether to enable memory reclaiming。
schedopt int No Whether it is a critical VM.
cpu_hotplug int No Whether to enable CPU hot add.
mem_hotplug int No Whether to enable memory hot add.
boot_order string No Boot sequence, c indicates cdrom, d indicates
disk.
boot_disk string No Boot disk
dir string No HCI group
use_vblk int No Whether to enable vblk.
real_use_vblk int No Whether to really use vblk.
storage_policy string No Storage policy
invtsc int No
Whether to enable high-performance clock. (This
parameter can be edited only when VM is shut
down.) The options are 0 and 1. Note: Supported
in SCP 6.7.35 and later.
pci_type string No PCIe bus type. The pcie-root-port type can be
pci_type string No PCIe bus type. The pcie-root-port type can be
used only in ARM-based HCI 6.9.0 and later.
tpm int No
Whether TPM 2.0 is enabled, which is supported
in non-Arm-based HCI 6.10.0 and later. Valid
values: 0, 1
cpu_exclusive int No
Whether the CPU Exclusive Mode option is
enabled, which is supported in HCI 6.7.0 and
later. Valid values: 0, 1
numa int No
Whether the NUMA Scheduler option is enabled,
which is supported in HCI 6.0.0 and later. Valid
values: 0, 1
graphic_type string No
Built-in graphics card type, which is supported in
HCI 6.8.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.graphic_type.
bios dict No
BIOS configuration, which is supported in HCI
6.0.0 and later. For details, see Parameter
Description - advanced_option -
advance_param.bios.
sandbox int No
Whether VM escape detection is enabled, which
is supported in HCI 6.8.1 and later. Valid values:
0, 1
l3_cache int No Whether L3 cache is enabled, which is supported
in HCI 6.7.0 and later. Valid values: 0, 1
ha int No
Whether the HA feature is enabled, which is
supported in HCI 6.0.0 and later. Valid values: 0,
1
mouse_type string No Mouse type, which is supported in HCI 6.0.0 and
later. For details, see VM Mouse Type.
network_affinity int No
Whether network affinity is enabled, which is
supported in HCI 6.8.1 and later. Valid values: 0,
1
 Note
You need to specify the boot_disk parameter when editing the use_uuid parameter.
Parameter Description - gpu
Table 4.11.469 Parameter Description - gpu¶
Parameter Type Required Note
vendor string Yes GPU manufacturers, such as NVIDIA and AMD. Only
NVIDIA is currently supported.
conf dict Yes
GPU configuration, which varies with vendors. Currently,
only NVIDIA GPUs are supported. For details, see
Parameter Description - gpu.GpuNvidia.
Parameter Description - gpu-GpuNvidia
Table 4.11.470 Parameter Description - gpu.GpuNvidia¶
Parameter Type Required Note
total_count int No Total number of graphic cards
enable_count int No Number of graphic cards enabled
gpu_type string Yes Graphics Card Model
slice_type string Yes vGPU type, view vGPU Type for details.
schedulers list No List of vGPU schedulers, view Scheduling
Method for details.
vgpu_sched_mode string No vGPU scheduling policy. For details, see
Graphics card scheduling policy
frame_rate int No Frame rate limit. 0 indicates no limit.
Request Example
https://{SCP_IP}/janus/20210725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"disks": [
{
"id": "ide0",
"type": "derive_disk",
"preallocate": 0,
"size_mb": 81920
}
],
"networks": [
{
"device_id": "dvs11e2c5f",
"name": "Default classic network gateway 1- switch to the gatewa
y",
"vif_id": "net0",
"connect": 1,
"model": "virtio",
"port_id": "12345678",
"ip_info": {
"netmask": "255.255.255.0",
"ip_address": "192.168.33.100",
"dns": []
}
}
]
}
4.11.2.5.3.4. Response¶
Response Parameter
Table 4.11.471 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.2.5.3.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.11.3. VM Operations & Maintenance
4.11.3.1. Enable VM
4.11.3.1.1. Scenario
Scenario: Enable VM
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Power Control
permission
Versions supported: SCP 6.3.0 and later
4.11.3.1.2. URI
Table 4.11.472 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/{server_id}/start Enable VM
Parameter Description:
Table 4.11.473 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/start
4.11.3.1.4. Response
Response Parameter
Table 4.11.474 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.2. Shut down VM
4.11.3.2.1. Scenario
Scenario: Shut down VM
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Power Control
permission
Versions supported: SCP 6.3.0 and later
4.11.3.2.2. URI
Table 4.11.475 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/{server_id}/stop Shut down
VM
Parameter Description:
Table 4.11.476 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.2.3. Request
Request Parameter
Table 4.11.477 Description of Body Parameter¶
Parameter Location Type Description Required
force body int
Whether to force shutdown (forced
shutdown will power off the VM). 1
indicates yes, 0 indicates no
No
 Note
The default is not to force shutdown.
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/stop
{
"force": 1
}
4.11.3.2.4. Response
Response Parameter
Table 4.11.478 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.3. Restart VM
4.11.3.3.1. Scenario
Scenario: Restart the VM
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Power Control
permission
Versions supported: SCP 6.3.0 and later
4.11.3.3.2. URI
Table 4.11.479 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/reboot Restart VM
Parameter Description:
Table 4.11.480 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.3.3. Request
Request Parameter
Table 4.11.481 Description of Body Parameter¶
Parameter Location Type Description Required
force body int
Whether to force restart (forced restart
will power on the VM). 1 indicates forcing
restart, 0 indicates restarting the VM
internally.
No
 Note
The default is to restart the VM internally.
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/reboot
{
"force": 1
}
4.11.3.3.4. Response
Response Parameter
Table 4.11.482 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.3.5. Response Code
Success: 201
Errors: 400, 403, 404，500
4.11.3.4. VM anti-affinity(deprecated)
4.11.3.4.1. Scenario
Scenario:
Two or more VMs run on different physical hosts.
Roles supported: Super admin, System admin, tenant, and co-administrator with the VM Creation
permission
Versions supported: SCP 6.3.0 and later
4.11.3.4.2. URI
Table 4.11.483 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/mutex VM ant-affinity
settings
Parameter Description:
None
4.11.3.4.3. Request
Request Parameter
Table 4.11.484 Description of Body Parameter¶
Parameter Location Type Description Required
server_ids body list VM ID list Yes
 Note
The server_ids parameter is a list containing VM UUIDs, the number of which must be equal
to or greater than 2.
Request Example
https://{SCP_IP}/janus/20180725/servers/mutex
{
"server_ids": ["661ce7a4-5abe-4191-832c-7d1dc6c5fd9a", "16ef05bb-d63f-47
66-bcbb-dcbd84a64211"]
}
4.11.3.4.4. Response
Response Parameter
None
4.11.3.4.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.3.5. Migrate VM
4.11.3.5.1. Scenario
Scenario: Migrate the VM
Roles supported: Super admin, System admin, and co-administrator with the VM Migration permission
Versions supported: SCP 6.3.83 and later
Note: A VM that is associated with an encryption card can be migrated to only the node that has
synchronized the secret key of the encryption card in the same cluster.
4.11.3.5.2. URI
Table 4.11.485 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/migrate Migrate VM
Parameter Description:
Table 4.11.486 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.3.5.3. Request
Request Parameter
Table 4.11.487 Description of Body Parameter¶
Parameter Location Type Description Required
az_id body string Destination az_id Yes
dh_id body string Destination dedicated server
group No
storage_location body string Destination datastore Yes
compute_location body dict
View Parameter Description -
compute_location for destination
running location details.
Yes
auto_poweron body int(0, 1) Whether to power on
automatically after migration No
auto_shutdown body int(0, 1)
Whether to shut down the source
VM automatically to complete
migration (specific parameter for
migration from VMware to HCI)
No
networks body list(dict)
View Parameter Description -
networks for detailed network
parameters after migration
(specific for migration from
VMware to HCI).
No
enable_cpu_throttle| body int(0, 1) Whether the CPU Throttling
option is enabled No
 Note
VMs cannot be migrated to resource pools of the VMware type.
Parameter Description - compute_location
Table 4.11.488 Parameter Description - compute_location¶
Parameter Location Type Description Required
id body string Running location, such as host-xx, cluster,
and domain-xx Yes
type body string
Type of run location, which is specific to
VMware, view VM Working Location
Type (VMware) for details.
No
location body int(0,
1)
Whether the VM running location is
specified No
policy_type body string Type of VM scheduling policy No
Parameter Description - networks
Table 4.11.489 Parameter Description - networks¶
Parameter Location Type Description Required
connect body int(0,
1) Connection status Yes
device_id body string The connected network device ID in
classic network No
model body string NIC type (‘e1000’ or ‘rtl8139’) Yes
mac_address body string MAC address No
vif_id body string Network ID (net0, net1, net2, … or netn) Yes
port_id body string Port. The fixed value is 12345678. No
name body string Name of the connected port No
ip_info body dict View Parameter Description - networkip_
info for IP address details. No
 Note
When the value of device_id is passed in, the values of port_id and name must also be passed
in.
Parameter Description - network-ip_info
Table 4.11.490 Parameter Description - network-ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string Yes Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Request Example
https://{SCP_IP}/janus/20180725/servers/81d8ad67-0a81-4bd6-aba4-6b96b5acbdea/migrate
{
"az_id": "ef4c9da1-73c7-425f-a57a-23de7e03a914",
"storage_location": "367c06d9d002a4d8eb9c5f1334e892f28",
"compute_location": {
"id": "host-001e6765dcb7"
},
"auto_poweron": 1,
"auto_shutdown": 0,
"networks": [
{
"connect": 0,
"vif_id": "net0",
"model": "e1000",
"mac_address": "fe:fc:fe:09:0d:2c",
"device_id": "bvs72e2da6",
"port_id": "12345678",
"name": "Edge 0128155239",
"ip_info": {
"ip_address": "1.1.1.1",
"netmask": "255.255.255.0",
"gateway": "1.1.1.2"
}
}
]
}
4.11.3.5.4. Response
Response Parameter
Table 4.11.491 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.5.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.6. Recover VM from Recycle Bin
4.11.3.6.1. Scenario
Scenario: Recover VMs from the recycle bin
Roles supported: Super admin, System admin, and role with the VM Deletion permission
Versions supported: SCP 6.8.0 and later
4.11.3.6.2. URI
Table 4.11.492 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/restore Recover VM from
Recycle Bin
Parameter Description:
Table 4.11.493 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.3.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/restore
4.11.3.6.4. Response
Response Parameter
Table 4.11.494 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.6.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11.3.7. Suspend VM
4.11.3.7.1. Scenario
Scenario: Suspend VM
Roles supported: Super admin and co-administrator with the VM Power Operation permission, tenant
and the tenant co-administrator with the VM Power Operation permission
Versions supported: SCP 6.3.83 and later
Note: VMs that are associated with encryption cards are not supported.
4.11.3.7.2. URI
Table 4.11.495 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/suspend Suspend VM
Parameter Description:
Table 4.11.496 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/68c8e770-b9f6-4435-9951-59fd7dac3aa2/suspend
4.11.3.7.4. Response
Response Parameter
Table 4.11.497 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a3bb9e04-82b0-4d3d-ab0e-1e714c941559"
}
4.11.3.7.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.8. VM console
4.11.3.8.1. Scenario
Scenario: VM console
Roles supported: Super admin and co-administrator with the VM Console permission; tenant and the
tenant co-administrator with the VM Console permission
Versions supported: SCP 6.3.80 that has been installed with the SP called 6.3.80-sp-api-for-qy-develop
4.11.3.8.2. URI
Table 4.11.498 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/remote-consoles VM console
Parameter Description:
Table 4.11.499 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.8.3. Request
Request Parameter
Table 4.11.500 Description of Body Parameter¶
Parameter Location Type Description Required
remote_console body dict
View Parameter Description -
remote_console for VM console
details.
Yes
Parameter Description - remote_console
Table 4.11.501 Parameter Description - remote_console¶
Parameter Location Type Description Required
protocol body string VM console protocol Yes
type body string VM console type Yes
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/remoteconsoles
{
"remote_console": {
"protocol": "vnc",
"type": "novnc"
}
}
4.11.3.8.4. Response
Response Parameter
Table 4.11.502 Response Parameter¶
Parameter Type Description
Value
Returned
remote_console string View Parameter Description - remote_console for
VM console details. Yes
Parameter Description - remote_console
Table 4.11.503 Parameter Description - remote_console¶
Parameter Type Description Value Returned
protocol string VM console protocol Yes
type string VM console type Yes
url urlstring VM console path Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"remote_console":
{
"url": "https://10.106.12.130/openstack/compute/v2/open-vnc-cons
ole?token_id=49b22191-9d99-4fc2-84d6-fd12040e54c4",
"type": "novnc",
"protocol": "vnc"
}
}
4.11.3.8.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.9. Batch operate on VMs
4.11.3.9.1. Scenario
Scenario: Batch operate on VMs
Applicable roles: Super administrator, system administrator, tenant, and roles wtih permissions to power
on/off VMs
Versions supported: SCP 6.7.0 and later. SCP 6.8.0 and later are required for batch operations, excluding
agent operations.
4.11.3.9.2. URI
Table 4.11.504 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/action Batch operate on VMs
Parameter Description:
None
4.11.3.9.3. Request
Request Parameter
Table 4.11.505 Body Parameter¶
Parameter Location Type Description Required
server_ids body list VM ID list Yes
server_action body dict View Parameter Description -
server_action for VM operation details. Yes
Parameter Description - server_action
Table 4.11.506 Parameter Description - server_action¶
Parameter Location Type Description Required
agent_action body string agent operations No
soft_del_servers_action body string Batch deletion of VMs No
stop_servers_action body string Batch shutdown of
VMs No
poweroff_servers_action body string Batch power-off of
VMs No
reboot_servers_action body string Batch restart of VMs No
suspend_servers_action body string Batch suspension of
VMs No
start_servers_action body string Batch start of VMs No
Request Example
https://{SCP_IP}/janus/20180725/servers/action
{
"server_ids": [
"bc976b25-6dc2-4db4-b046-4f38a5505d83",
"f614914d-63dc-4efe-8813-76ea39a4479a",
"cb82d7dc-c1a0-4f83-8c29-ae46cb455620",
"1eb9418a-f490-43bb-bd94-4d535dca18d6",
"c58d6324-2a5a-46ea-bf85-baec89ae1139"
],
"server_action": {
"start_servers_action": ""
}
}
4.11.3.9.3.1. Response¶
Response Parameter
None
Response Example:
None
4.11.3.9.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.3.10. Recover VM from backup
4.11.3.10.1. Scenario
Scenario: Recover the VM from backup
Roles supported: Super admin and co-administrator (system admin) with the VM Creation and Backup
Read permissions; tenant and the tenant co-administrator with the VM Creation and Backup Read
permissions
Versions supported: SCP 6.3.83 and later
4.11.3.10.2. URI
Table 4.11.507 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/backups/{backup_id}/recover Recover VM
from backup
Parameter Description:
Table 4.11.508 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
backup_id path string Backup ID Yes
4.11.3.10.3. Request
Request Parameter
Table 4.11.509 Description of Body Parameter¶
Parameter Location Type Description Required
recover_type body string
Recovery method, which can be
creation or covering. Valid
values:’create’ and ‘cover’.
Yes
name body string
Generated VM name. It is needed for
creation-based recovery but not
supported by covering-based
recovery.
No
iolog body string
The value of iolog_id needs to be
passed in for VM restoration from
CDP.
No
power_on body int(1,2) Whether to start after recovery. The
VM is started by default. No
group_id body string
The group_id can be specified for
creation-based recovery, which is not
supported by covering-based
recovery.
No
dh_id body string Dedicated server group ID No
storage_tag_id body string Datastore after recovery No
storage_id body string Storage ID after recovery No
location body string Running location after recovery, such
as host-xx and cluster No
 Note
1.When the value of location is passed in, the value of storage_tag_id or storage_id is
required.2.When the value of location is not passed in and recover_type is set to create, the
value of storage_tag_id or storage_id is required. 3.When the value of location is not passed in
and recover_type is set to cover, the value of storage_tag_id is required.
Request Example
https://{SCP_IP}/janus/20180725/servers/6b74edc6-d691-40e2-82ef-6ba12b76a9c2/backups/auto-
211104-124352-1f748298-f38e-429b-84ee-8e3c23918d28/recover
{
"recover_type": "create",
"name": "recover_server_from_server",
"group_id": "d2252c34-3cec-48a6-b2b2-f259cbdcc686",
"storage_tag_id": "11111111-1111-1111-1111-111111111111",
"power_on": 0,
"location": "cluster"
}
4.11.3.10.4. Response
Response Parameter
Table 4.11.510 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "bbae093a-e1cc-4417-85e7-7d81c61ea532"
}
4.11.3.10.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.11. Reset VM password
4.11.3.11.1. Scenario
Scenario: Reset VM password
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to reset VM password
Versions supported: SCP 6.8.80 and later
4.11.3.11.2. URI
Table 4.11.511 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/server-password Reset VM
password
Parameter Description:
Table 4.11.512 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.11.3. Request
Request Parameter
Table 4.11.513 Description of Body Parameter¶
Parameter Location Type Description Required
password body string VM password (encrypted) Yes
Request Example
https://{SCP_IP}/janus/20180725/servers/9db3feac-5617-4d44-a8b0-eabceed4177c/serverpassword
4.11.3.11.4. Response
Response Parameter
Table 4.11.514 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.11.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.3.12. Modify Base Image of VM Disk
4.11.3.12.1. Scenario
Scenario: Modify the base image of the VM disk
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.3.12.2. URI
Table 4.11.515 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/rebase-backing-file Modify Base Image
of VM Disk
Parameter Description:
Table 4.11.516 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.12.3. Request
Request Parameter
Table 4.11.517 Description of Body Parameter¶
Parameter Location Type Description Required
disks body list(dict)
Base image information of the disk. For
details, see Parameter Description -
disks.
Yes
Parameter Description - disks
Table 4.11.518 Parameter Description - disks¶
Parameter Type Description Required
disk_id string Virtual disk ID Yes
datastore_id string Datastore where the base image file is stored Yes
path string Disk path of the base image file Yes
Request Example
https://{SCP_IP}/janus/20180725/servers/8387002c-1d3b-4d0f-8315-08f6b3698496/rebasebacking-
file
{
"disks": [{
"disk_id": "ide0",
"datastore_id": "a3c42a577b54a9c0d9588be7267bc933",
"path": "backup/images/3345145555843/vm-disk-1.qcow2.auto-230620-110
148-8b3b9c81-732c-4492-a29e-6bf9bee47837.qcow2"
}]
}
4.11.3.12.4. Response
Response Parameter
Table 4.11.519 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for base image modification Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
}
4.11.3.12.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.3.13. Enable Backup Data Merging for Rapidly-Recovered VM
4.11.3.13.1. Scenario
Scenario: Enable backup data merging for a rapidly recovered VM after modifying the base image of the
disk
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.3.13.2. URI
Table 4.11.520 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/mergebackup-
data
Enable Backup Data Merging
for Rapidly-Recovered VM
Parameter Description:
Table 4.11.521 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.13.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/8387002c-1d3b-4d0f-8315-08f6b3698496/mergebackup-
data
4.11.3.13.4. Response
Response Parameter
Table 4.11.522 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for backup data merging Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
}
4.11.3.13.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.3.14. Allocate VM
4.11.3.14.1. Allocate VM
4.11.3.14.1.1. Scenario¶
Scenario:
Allocate VM from the cloud platform to tenant.
Allocate VM from the cloud platform to user.
Allocate VM from the tenant to user.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM
Allocation/Deallocation permission
Versions supported: SCP 6.3.0 and later
4.11.3.14.1.2. URI¶
Table 4.11.523 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/allocation Allocate
VM
Parameter Description:
Table 4.11.524 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.14.1.3. Request¶
Request Parameter
Table 4.11.525 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string Tenant ID Yes
user_id body string User ID No
 Note
Passing user_id indicates the VM is allocated to a tenant’s user
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/allocation
{
"project_id": "d58775da112543679725a95deaa1f8ed",
"user_id": "0f744f996ee5484285d0ca0c74d655f3"
}
4.11.3.14.1.4. Response¶
Response Parameter
Table 4.11.526 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.14.1.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.3.14.2. Allocate VM (20190725)
4.11.3.14.2.1. Scenario¶
Scenario:
Allocate VM from the cloud platform to tenant.
Allocate VM from the cloud platform to user.
Allocate VM from the tenant to user.
Applicable roles: Super administrator, system administrator, tenant, and roles with VM allocation and
deallocation permissions
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20180725, the API version 20190725 supports asynchronous task
distribution to solve the issue of slow response.
4.11.3.14.2.2. URI¶
Table 4.11.527 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/servers/{server_id}/allocation Allocate
VM
Parameter Description:
Table 4.11.528 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.3.14.2.3. Request¶
Request Parameter
Table 4.11.529 Description of Body Parameter¶
Parameter Location Type Description Required
project_id body string Tenant ID Yes
user_id body string User ID No
 Note
Passing user_id indicates the VM is allocated to a tenant’s user
Request Example
https://{SCP_IP}/janus/20180725/servers/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a/allocation
{
"project_id": "d58775da112543679725a95deaa1f8ed",
"user_id": "0f744f996ee5484285d0ca0c74d655f3"
}
4.11.3.14.2.4. Response¶
Response Parameter
Table 4.11.530 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.3.14.2.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.3.15. Clone VM
4.11.3.15.1. Clone VM
4.11.3.15.1.1. Scenario¶
Scenario:
Clone from the current state of a VM.
Clone from the specified snapshot of a VM.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Clone
permission
Versions supported: SCP6.3.70 and later
 Note
1. Cloning VM supports cloning from snapshot. Cloned VM is disconnected from network by
default.
2. Tenants can only clone from their own VMs or snapshots.
3. admin can clone from any VMs on the platform, but the cloned VM belongs to admin
only. If admin clones a tenant’s VM, the tenant can view this operation in Tasks.
4.11.3.15.1.2. URI¶
Table 4.11.531 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/{server_id}/clone VM clone
Parameter Description:
Table 4.11.532 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.3.15.1.3. Request¶
Request Parameter
Table 4.11.533 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name, 1-70 characters Yes
power_on body int Whether to power on the cloned
VM immediately. Yes
count body int Number of clones, the maximum
is 20. Yes
description body string Description information, 1-100
characters No
storage_tag_id body string Storage Tag ID No
compute_location_id body string
Run location ID. The default is
cluster. To specify run location,
view Query Physical Machines
No
storage_location body string Storage location, view Query
Storage List No
group_id body string Group where the clone locates No
advance_param body dict
Additional parameter, view
Parameter Description -
advance_param
No
clone_type body string
View Clone type for clone
method. Note: This parameter is
supported only in SCP 6.3.83
above
No
 Note
1. When storage_tag_id is specified, the compute_location_id and storage_location
parameters do not need to be specified.
2. To clone VM from a snapshot, you need to pass in advance_param.snapshot_id; otherwise
it will clone from the current state of the VM by default.
Parameter Description - advance_param
Table 4.11.534 Parameter Description - advance_param¶
Parameter Location Type Description Required
clone_share_disk body int Whether to clone shared disk. No
snapshot_id body string
Snapshot ID, indicating the VM is
cloned from a specified snapshot,
which can be obtained from Get VM
snapshots
No
return_uuids body int Whether to return the cloned list of
VM IDs. The options are 0 and 1 No
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/clone
{
"name": "Test cloned VM",
"description": "",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"power_on": 0,
"advance_param": {
"return_uuids": 1
},
"count": 1
}
4.11.3.15.1.4. Response¶
Response Parameter
Table 4.11.535 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list Cloned list of VM UUIDs No
Response Example:
{
"uuids": [
"aaea7006-f4e8-4914-92e8-e61ad07ca909"
],
"task_id": "df1ecb44-817b-4544-b83a-92ea89973918"
}
4.11.3.15.1.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.3.15.2. Clone VM
4.11.3.15.2.1. Scenario¶
Scenario:
Clone from the current state of a VM.
Clone from the specified snapshot of a VM.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Clone
permission
Versions supported: SCP6.3.70 and later
 Note
1. Cloning VM supports cloning from snapshot. Cloned VM is disconnected from network by
default.
2. Tenants can only clone from their own VMs or snapshots.
3. admin can clone from any VMs on the platform, but the cloned VM belongs to admin
only. If admin clones a tenant’s VM, the tenant can view this operation in Tasks.
4.11.3.15.2.2. URI¶
Table 4.11.536 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/servers/{server_id}/clone VM clone
Parameter Description:
Table 4.11.537 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.3.15.2.3. Request¶
Request Parameter
Table 4.11.538 Description of Body Parameter¶
Parameter Location Type Description Required
name body string VM name, 1-70 characters Yes
power_on body int Whether to power on the cloned
VM immediately. Yes
count body int Number of clones, the maximum
is 20. Yes
description body string Description information, 1-100
characters No
storage_tag_id body string Storage Tag ID No
compute_location_id body string
Run location ID. The default is
cluster. To specify run location,
view Query Physical Machines
No
storage_location body string Storage location, view Query
Storage List No
group_id body string Group where the clone locates No
advance_param body dict
Additional parameter, view
Parameter Description -
advance_param
No
clone_type body string
View Clone type for clone
method. Note: This parameter is
supported only in SCP 6.3.83
above
No
tags body list VM tag. For details, see
Parameter Description - tags. No
networks body list
Network. For details, see
Parameter Description -
networks.
No
 Note
1. When storage_tag_id is specified, the compute_location_id and storage_location
parameters do not need to be specified.
2. To clone VM from a snapshot, you need to pass in advance_param.snapshot_id; otherwise
it will clone from the current state of the VM by default.
Parameter Description - tags
Table 4.11.539 Parameter Description - tags¶
Parameter Type Required Note
id string Yes Tag ID
Parameter Description - networks
Table 4.11.540 Parameter Description - networks¶
Parameter Location Type Description Required
connect body int Connected or not. Valid values: 0
and 1. Yes
device_id body string The connected network device ID
in classic network No
model body string NIC type. For details, see VM NIC
Type No
mac_address body string MAC address No
vif_id body string Network ID (net0, net1, net2, …
netn) No
port_id body string Port No
host_tso body int Whether to enable TSO. No
name body string Name of the connected port No
vpc_id body string VPC ID of the connected tenant No
subnet_id body string Connected VPC subnet ID No
ip_info body dict
IP address information. For
details, see Parameter
Description - ip_info.
No
ipv6_info body dict
IPv6 address information. For
details, see Parameter
Description - ipv6_info.
No
custom_gateway_ip body string Custom gateway IP No
Parameter Description - ip_info
Table 4.11.541 Parameter Description - ip_info¶
Parameter Type Required Note
ip_address string Yes Specified IP Address
netmask string No Netmask
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - ipv6_info
Table 4.11.542 Parameter Description - ipv6_info¶
Parameter Type Required Note
ipv6_address string Yes Specified IP Address
prefixlen string No Prefix length
gateway string No Gateway
dns list No DNS address list, multiple addresses can
be passed in.
Parameter Description - advance_param
Table 4.11.543 Parameter Description - advance_param¶
Parameter Location Type Description Required
clone_share_disk body int Whether to clone shared disk. No
snapshot_id body string
Snapshot ID, indicating the VM is
cloned from a specified snapshot,
which can be obtained from Get VM
snapshots
No
return_uuids body int Whether to return the cloned list of
VM IDs. The options are 0 and 1 No
Request Example
https://{SCP_IP}/janus/20190725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/clone
{
"name": "Test clone VM",
"description": "",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"power_on": 0,
"advance_param": {
"return_uuids": 1
},
"tags": [
{
"id": "9cae7731-ea16-4197-a900-15e1ca8ae136"
}
],
"count": 1
}
4.11.3.15.2.4. Response¶
Response Parameter
Table 4.11.544 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task ID Yes
uuids list Cloned list of VM UUIDs No
Response Example:
{
"uuids": [
"aaea7006-f4e8-4914-92e8-e61ad07ca909"
],
"task_id": "df1ecb44-817b-4544-b83a-92ea89973918"
}
4.11.3.15.2.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.4. VM Snapshot Managment
4.11.4.1. Edit VM snapshot
4.11.4.1.1. Scenario
Scenario: Update snapshot information of the VM
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP6.3.70 and later
 Note
Only VM in the HCI resource pool supports snapshot management.
4.11.4.1.2. URI
Table 4.11.545 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/{server_id}/snapshots/{snapshot_id} Edit VM
snapshot
Parameter Description:
Table 4.11.546 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
snapshot_id path string Snapshot ID Yes
4.11.4.1.3. Request
Request Parameter
Table 4.11.547 Description of Body Parameter¶
Parameter Location Type Description Required
name body string
Snapshot name, which cannot exceed 90
characters. ‘current’ is not allowed
because it is reserved.
Yes
description body string Snapshot description, which cannot
exceed 90 characters. No
is_protected body int Protected snapshot No
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-
745182f790d6/snapshots/a047380ba-21b1-4437-8b0c-f113f9054fc8a
{
"name": "Snapshot 1",
"description": "First snapshot",
"is_protected": 1
}
4.11.4.1.4. Response
Response Parameter
Table 4.11.548 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.4.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11.4.2. Delete VM snapshot
4.11.4.2.1. Scenario
Scenario: Delete specified VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP6.3.70 and later
 Note
1. Tenants can only delete snapshots of their own VMs.
2. admin can delete snapshots of any VMs on the platform.
4.11.4.2.2. URI
Table 4.11.549 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/servers/{server_id}/snapshots/{snapshot_id} Delete VM
snapshot
Parameter Description:
Table 4.11.550 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
snapshot_id path string Snapshot ID Yes
4.11.4.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-
745182f790d6/snapshots/a047380ba-21b1-4437-8b0c-f113f9054fc8a
4.11.4.2.4. Response
Response Parameter
Table 4.11.551 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.4.2.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.4.3. Recover VM from Snapshot
4.11.4.3.1. Scenario
Scenario: Recover VM from specified snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP6.3.70 and later
 Note
Only VM in the HCI resource pool supports snapshot management.
4.11.4.3.2. URI
Table 4.11.552 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/snapshots/{snapshot_id}/recovery
Recover
VM from
Snapshot
Parameter Description:
Table 4.11.553 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
snapshot_id path string Snapshot ID Yes
4.11.4.3.3. Request
Request Parameter
Table 4.11.554 Description of Body Parameter¶
Parameter Location Type Description Required
backup body int Whether to create a snapshot
automatically before snapshot recovery. Yes
power_on body int Whether to power on after recovery No
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-
745182f790d6/snapshots/a047380ba-21b1-4437-8b0c-f113f9054fc8a/recovery
{
"backup": 1,
"power_on": 1
}
4.11.4.3.4. Response
Response Parameter
Table 4.11.555 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.4.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.4.4. Clone VM from Snapshot
View Clone VM for details.
4.11.4.5. Batch delete VM snapshots
4.11.4.5.1. Scenario
Scenario: Batch delete VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP 6.7.33 and later
 Note
1. Tenants can only delete snapshots of their own VMs.
2. admin can delete snapshots of any VMs on the platform.
4.11.4.5.2. URI
Table 4.11.556 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/snapshots/action Batch delete VM
snapshots
Parameter Description:
Table 4.11.557 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.5.3. Request
Request Parameter
Table 4.11.558 Description of Body Parameter¶
Parameter Location Type Description Required
snapshot_ids body list(string) List of VM snapshot IDs Yes
action body string Operation tag (lowercase ‘delete’
supported only) Yes
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-
745182f790d6/snapshots/action
{
"snapshot_ids": [
"88b04caf-87ee-4372-b5af-8a42c0c80983",
"34de43a6-c0ee-403f-b593-79fb845cc1e7"
],
"action": "delete"
}
4.11.4.5.4. Response
Response Parameter
Table 4.11.559 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d04b7828-3222-4f23-95d1-6083b1e12cc3"
}
4.11.4.5.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.4.6. Obtain VM Snapshot
4.11.4.6.1. Scenario
Scenario: Obtain existing VM configuration from the snapshot details for VM creation and obtain the
bitmap version for incremental backup in agentless backup scenarios
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.4.6.2. URI
Table 4.11.560 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/snapshots/{snapshot_id} Query VM
Snapshot
Parameter Description:
Table 4.11.561 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual machine ID Yes
snapshot_id path string VM snapshot ID Yes
4.11.4.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-
745182f790d6/snapshots/bb22a4b2-41e7-4404-89c1-745182f790d6
4.11.4.6.4. Response
Response Parameter
Table 4.11.562 Response Parameter¶
Parameter Location Type Description Required
id body string Snapshot ID Yes
name body string Snapshot name Yes
description body string Snapshot description Yes
created_at body string Time created Yes
is_protected body boolean Whether the snapshot is protected No
type body string Snapshot type No
checkpoint_id body string Bitmap version No
vmconf body dict VM configuration. For details, see
Parameter Description - vmconf. No
Parameter Description - vmconf
Table 4.11.563 Parameter Description - vmconf¶
Parameter Location Type Description Required
name body string VM name Yes
datastore_id body string VM datastore ID Yes
os_option body dict
VM operating system. For
details, see Parameter
Description - os_option.
Yes
host_id body string ID of the physical node on
which the VM is running Yes
storage_policy_id body string VM storage policy ID No
schedule_policy_id body string VM scheduling policy ID No
group_id body string VM group ID No
label_ids body list(string) VM tag No
description body string VM description No
logo body string VM icon No
template_id body string Template ID No
application body string
VM application scenario
type. For details, see VM
Application Scenario Type.
No
source body string
VM creation source type.
For details, see VM Creation
Source Type.
No
pci_type body string VM PCI type. For details,
see VM PCI Type. No
compatibility_version body dict
VM compatibility version.
For details, see Parameter
Description -
compatibility_version.
No
hardware_option body dict
VM hardware options. For
details, see Parameter
Description -
hardware_option.
Yes
advanced_option body dict
VM advanced options. For
details, see Parameter
Description -
advanced_option.
No
Parameter Description - hardware_option
Table 4.11.564 Parameter Description - hardware_option¶
Parameter Type Description Required
bios dict BIOS. For details, see Parameter Description -
hardware_option - bios. No
cpu dict CPU. For details, see Parameter Description -
hardware_option - cpu. Yes
memory dict Memory. For details, see Parameter Description
- hardware_option - memory. Yes
disks list(dict) Disk. For details, see Parameter Description -
disks. No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - hardware_option - cdroms. No
network_adapters list(dict) NIC. For details, see Parameter Description -
hardware_option - network_adapters. No
usb_disks list(dict) USB. For details, see Parameter Description -
hardware_option - udisks. No
graphics dict
2D-supported graphics card option. For details,
see Parameter Description - hardware_option -
graphics.
Yes
graphics_3d list(dict)
3D-supported graphics card option. For details,
see Parameter Description - hardware_option -
graphics_3d.
No
mouse_type string Mouse type. For details, see VM Mouse Type. No
usb_type string USB type. For details, see VM USB Type. No
keyboard_type string Keyboard layout type No
Parameter Description - disks
Table 4.11.565 Parameter Description - disks¶
Parameter Type Description Required
device_id string Disk ID. Example: ide1 Yes
disk_type string Disk type. For details, see VM Disk Type. Yes
size_gb int Disk size (GB) Yes
read_cache_size int(1,
66060288)
Disk read cache (MB), which cannot exceed
the disk size. (Minimum: 1, Maximum:
66060288) If this parameter is passed in,
read cache is enabled; otherwise, it is
disabled.
No
discard int(0, 1) Whether to enable the space reclamation
feature No
format_type string Disk allocation mode. For details, see Storage
Space Allocation Mode for VM Virtual Disks. No
adapter_type string Disk controller type. For details, see VM Disk
Controller Type. No
base_image_id string Base image ID No
io_config dict
Disk IO limit. For details, see Parameter
Description - hardware_option -
disks.io_config.
No
advanced_config dict
Advanced disk configuration. For details, see
Parameter Description - hardware_option -
disks.advanced_config.
No
Parameter Description - advanced_option
Table 4.11.566 Parameter Description - advanced_option¶
Parameter Type Description Required
ha_enabled boolean Whether to enable HA No
abnormal_recovery_enabled boolean Whether to enable the Reboot if
fault occurs option No
important boolean Whether to enable the Mark as
high-priority VM option No
encrypted boolean Whether to encrypt the VM No
fully_clone boolean Whether to completely copy the
VM No
kvm_clock_enabled boolean Whether to enable kvmclock No
tpm_enabled boolean Whether to enable TPM 2.0 No
board_type string Whether to use the Q35-based
motherboard. If yes, pass in Q35. No
file_filter_enabled boolean Whether to enable the Filter page
files option No
ple_enabled boolean Whether to enable Pause-Loop
Exiting No
network_affinity_enabled boolean Whether to enable network
affinity No
sand_box_enabled boolean Whether to enable VM escape
detection No
boot_with_host_enabled boolean Whether to enable the Power on at
host startup option No
timing_sync_vm_clock_enabled boolean Whether to enable the Regularly
sync guest time with node option No
l3_cache_enabled boolean Whether to enable L3 cache No
lifespan string
VM expiration date, which must be
-1 or in the format of yyyy-mmdd.
If the value is -1, the VM will
never expire.
No
dual_screen_enabled boolean Whether to enable dual screen No
nested_virtualization_enabled boolean Whether to enable nested
virtualization No
display_screen string Display resolution. For details, see
VM Display Resolution. No
restore_mode string Restored mode. For details, see
VM Restored Mode. No
vd_agent_enabled boolean Whether to enable the VDI device
with serial ports No
has_3d_fast_path boolean Whether to add the fast
passthrough device No
vmtools_install_state string
Whether vmTools is installed on
the VM. For details, see vmTools
Installation Status for VMs.
No
uuid dict
The uuid parameter. For details,
see Parameter Description -
advanced_option - uuid.
No
guest dict
The guest parameter. For details,
see Parameter Description -
advanced_option - guest.
No
advanced_option - guest.
virtio dict
The virtio parameter. For details,
see Parameter Description -
advanced_option - virtio.
No
turbo_mode_enabled boolean Whether to enable Turbo mode No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"id": "129b8595-e2fd-4366-938f-93e1333088e7",
"description": "vm create from snapshot config",
"name": "2023-07-03_21-28-26",
"checkpoint_id": 0,
"created_at": "2023-07-03T21:28:38+08:00",
"parent_id": "",
"is_protected": true,
"is_latest": false,
"type": "VS",
"vmconf": {
"name": "lwf-test",
"host_id": "cluster",
"logo": 6,
"label_ids": [
"3232d2"
],
"datastore_id": "1fd63ecb_vs_vol_rep3",
"template_id": "123123123",
"group_id": "",
"pci_type": "PCI_BRIDGE",
"source": "CREATE_BY_SCP",
"application": "COMPUTE_SCENARIO",
"storage_policy_id": "60d1a5b0",
"schedule_policy_id": "22da4c3b",
"compatibility_version": {
"src_hci_version": "6.9.0",
"vmx_version": "vmx-3.13"
},
"hardware_option": {
"bios": {
"bios_type": "CUSTOM",
"boot_delay_seconds": 0,
"boot_disk": "ide0",
"boot_order": "cd",
"path": "bios.vdi532.bin",
"version": "/sf/share/kvm/bios.vdi533.bin"
},
"memory": {
"hotplug_enabled": false,
"size_gb": 0.5,
"balloon_enabled": true,
"huge_page_enabled": false
},
"network_adapters": [
{
"type": "E1000",
"vif_id": "net0",
"port_id": "2e5c5ead-6600-4cff-82e4-9ca015346e21",
"device_id": "2e5c5ead-6600-4cff-82e4-9ca015346e22",
"connected": true,
"mac_address": "FE:FC:FE:89:E5:A3",
"ipv4": {
"address": "1.1.1.1",
"prefix_length": 8,
"gateway": "1.1.1.1",
"dns": [
"1.1.1.1",
"1.1.1.2"
]
},
"ipv6": {
"address": "2001::f000",
"prefix_length": 64,
"gateway": "2001::f001",
"dns": [
"dns": [
"2001::f001",
"2001::f002"
]
},
"egress_kbps": 0,
"ingress_kbps": 0
}
],
"cdroms": [
{
"id": "ide2",
"drive": {
"datastore_id": "1fd63ecb_vs_vol_rep3",
"path": "iso/vmtools/VMOptimizationTools.iso"
}
}
],
"usb_disks": [
{
"id": "udisk0",
"usb_disk": {
"device_id": "01010000000000000000000000000000-h
ost-005056971041",
"controller_type": "USB_3"
}
}
],
"disks": [
{
"size_gb": 60,
"advanced_config": {
"serial_number": "123123-0",
"policy_id": "60d1a5b0"
},
"adapter_type": "IDE",
"format_type": "OFF",
"disk_type": "VIRTUAL_DISK",
"device_id": "ide0",
"base_image_id": "2e5c5ead-6600-4cff-82e4-9ca015346e
28",
"io_config": {
"read_iops": 1024,
"read_kbps": 1024,
"write_iops": 1024,
"write_kbps": 1024
}
}
],
"mouse_type": "USB",
"usb_type": "HCI",
"keyboard_type": "en-us",
"graphics": {
"graphics_type": "QXL",
"device_id": "0x08080808",
"qxl_revision": "0x08080808"
},
"graphics_3d": [
{
"graphics_model": "RTX8000-8C",
"graphics_3d_type": "RTX8000",
"frame_rate_hz": "FPS_45",
"schedule": "DENSITY",
"vendor": "NVIDIA"
}
],
"cpu": {
"invtsc_enabled": false,
"exclusive_enabled": false,
"cores": 4,
"frequency": 4,
"hotplug_enabled": false,
"numa_enabled": true,
"vendor": "AMD",
"type": "CORE2DUO",
"sockets": 1
}
},
"os_option": {
"arch": "amd64",
"kernel_name": "windows",
"distribution_name": "server-2019"
},
"advanced_option": {
"virtio": {
"vblk_enabled": false,
"vnet_enabled": false
},
},
"ha_enabled": true,
"file_filter_enabled": false,
"encrypted": false,
"display_screen": "DISPLAY_1K",
"fully_clone": true,
"lifespan": "-1",
"boot_with_host_enabled": true,
"guest": {
"os_installed": false,
"hostname": "test-hostname",
"processor_id": "0x0202020208080808",
"grub_prompt": 1
},
"dual_screen_enabled": false,
"kvm_clock_enabled": true,
"tpm_enabled": true,
"nested_virtualization_enabled": false,
"restore_mode": "DISABLED",
"vd_agent_enabled": false,
"has_3d_fast_path": false,
"board_type": "Q35",
"important": false,
"ple_enabled": false,
"abnormal_recovery_enabled": true,
"l3_cache_enabled": false,
"timing_sync_vm_clock_enabled": false,
"network_affinity_enabled": false,
"sand_box_enabled": false,
"vmtools_install_state": "NOT_INSTALLED",
"uuid": {
"enable": true,
"uuid": "473bac72-2a39-45a1-bd4e-226420d490fc",
"only_2_qemu": false
},
"turbo_mode_enabled": 1
}
}
}
}
4.11.4.6.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.4.7. Create a VM snapshot
4.11.4.7.1. Create a VM snapshot
4.11.4.7.1.1. Scenario¶
Scenario: Create a snapshot of the VM
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP6.3.70 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. Snapshot number of a single VM cannot exceed 7.
4.11.4.7.1.2. URI¶
Table 4.11.567 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/snapshots Create a VM
snapshot
Parameter Description:
Table 4.11.568 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.7.1.3. Request¶
Request Parameter
Table 4.11.569 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Snapshot name, ‘current’ is not allowed
because it is reserved. Yes
description body string Snapshot description No
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
{
"name": "Snapshot 1",
"description": "Original snapshot"
}
4.11.4.7.1.4. Response¶
Response Parameter
Table 4.11.570 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.11.4.7.1.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.4.7.2. Create VM Snapshot (20190725)
4.11.4.7.2.1. Scenario¶
Scenario: Create a snapshot of the VM
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP 6.8.0 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. Snapshot number of a single VM cannot exceed 7.
3. Compared with version 20180725, the API version 20190725 adds the optional request
parameter snap_type and the response parameter which may not be returned:
resource_id.
4.11.4.7.2.2. URI¶
Table 4.11.571 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/servers/{server_id}/snapshots Create a VM
snapshot
Parameter Description:
Table 4.11.572 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.7.2.3. Request¶
Request Parameter
Table 4.11.573 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Snapshot name, ‘current’ is not allowed
because it is reserved. Yes
description body string Snapshot description No
snap_type body string View VM snapshot type for snapshot
types. No
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
{
"name": "Snapshot 1",
"description": "Initial snapshot",
"snap_type": "vs"
}
4.11.4.7.2.4. Response¶
Response Parameter
Table 4.11.574 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
resource_id string Resource ID No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d",
"resource_id": "1fc31330-20b9-4d0e-ae21-25041eeb0f03"
}
4.11.4.7.2.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.11.4.8. Query VM snapshot list
4.11.4.8.1. Get VM snapshots
4.11.4.8.1.1. Scenario¶
Scenario: Get VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP6.3.70 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. In the resource pool of HCI 6.2.0 and earlier, the snapshot number of a single VM cannot
exceed 7. This restriction does not exist in later versions.
3. Tenants can only query their own VM snapshots.
4. admin can query the snapshots of any VMs on the platform.
4.11.4.8.1.2. URI¶
Table 4.11.575 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/snapshots Get VM snapshots
Parameter Description:
Table 4.11.576 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.8.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
4.11.4.8.1.4. Response¶
Response Parameter
Table 4.11.577 Response Parameter¶
Parameter Type Description
Value
Returned
name string Snapshot name Yes
id string Snapshot ID Yes
description string Snapshot description Yes
parent_id string
Previous snapshot ID, indicating that a previous snapshot
exists before this snapshot is created. When the value is
empty, it indicates the first snapshot.
Yes
created_at string Snapshot creation time in ISO 8601 format. Example:
2020-12-01T03:17:42Z Yes
is_latest int
Whether it is the latest snapshot of the VM, which
mostly resembles the current VM status. It is usually the
last snapshot taken by the VM or the last snapshot to
which the VM is recovered.
Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "Snapshot1",
"create_at": "2020-12-01T03:17:42Z",
"id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
"parent_id": null,
"is_latest": 0,
"description": "Initial snapshot"
}
]
4.11.4.8.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.11.4.8.2. Obtain List of VM Snapshots (20190725)
4.11.4.8.2.1. Scenario¶
Scenario: Get VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP 6.8.0 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. In the resource pool of HCI 6.2.0 and earlier, the snapshot number of a single VM cannot
exceed 7. This restriction does not exist in later versions.
3. Tenants can only query their own VM snapshots.
4. admin can query the snapshots of any VMs on the platform.
5. Compared with version 20180725, the API version 20190725 adds the response
parameters which must be returned: snapshot_type, is_protected, and trigger.
4.11.4.8.2.2. URI¶
Table 4.11.578 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/servers/{server_id}/snapshots Get VM snapshots
Parameter Description:
Table 4.11.579 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.8.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
4.11.4.8.2.4. Response¶
Response Parameter
Table 4.11.580 Response Parameter¶
Parameter Type Description
Value
Returned
name string Snapshot name Yes
id string Snapshot ID Yes
description string Snapshot description Yes
parent_id string
Previous snapshot ID, indicating that a previous
snapshot exists before this snapshot is created. When
the value is empty, it indicates the first snapshot.
Yes
created_at string Snapshot creation time in ISO 8601 format. Example:
2020-12-01T03:17:42Z Yes
is_latest int
Whether it is the latest snapshot of the VM, which
mostly resembles the current VM status. It is usually
the last snapshot taken by the VM or the last snapshot
to which the VM is recovered.
Yes
type string View VM snapshot type for snapshot types. Yes
is_protected int Whether the image is protected Yes
status string Trigger type Yes
disks list View Parameter Description - disks for disk details. Yes
Parameter Description - disks
Table 4.11.581 Parameter Description - disks¶
Parameter Type Note Required
id string Disk id No
type string Disk type No
size int Disk size No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "normal",
"name": "2023-10-09_19-36-36",
"created_at": "2023-10-09T11:36:40Z",
"disks": [
{
"type": "qcow2",
"id": "vm-disk-2.qcow2",
"size": 0
},
{
"type": "qcow2",
"id": "vm-disk-1.qcow2",
"size": 0
}
],
"parent_id": "",
"is_protected": 0,
"is_latest": 1,
"type": "qcow2",
"id": "acafb9c01-ee16-4870-a3fe-f093034fda62a",
"description": "1111"
}
]
4.11.4.8.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.11.4.8.3. Obtain List of VM Snapshots (20200725)
4.11.4.8.3.1. Scenario¶
Scenario: Get VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP 6.8.0 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. In the resource pool of HCI 6.2.0 and earlier, the snapshot number of a single VM cannot
exceed 7. This restriction does not exist in later versions.
3. Tenants can only query their own VM snapshots.
4. The super administrator (admin) can query the list of snapshots of any VM on SCP.
5. Compared with version 20190725, the API version 20200725 adds the response
parameter which must be returned: trigger.
4.11.4.8.3.2. URI¶
Table 4.11.582 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20200725/servers/{server_id}/snapshots Get VM snapshots
Parameter Description:
Table 4.11.583 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.8.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
4.11.4.8.3.4. Response¶
Response Parameter
Table 4.11.584 Response Parameter¶
Parameter Type Description
Value
Returned
name string Snapshot name Yes
id string Snapshot ID Yes
description string Snapshot description Yes
parent_id string
Previous snapshot ID, indicating that a previous
snapshot exists before this snapshot is created. When
the value is empty, it indicates the first snapshot.
Yes
created_at string Snapshot creation time in ISO 8601 format. Example:
2020-12-01T03:17:42Z Yes
is_latest int
Whether it is the latest snapshot of the VM, which
mostly resembles the current VM status. It is usually
the last snapshot taken by the VM or the last snapshot
to which the VM is recovered.
Yes
type string View VM snapshot type for snapshot types. Yes
is_protected int Whether the image is protected Yes
trigger string Trigger type Yes
status string Snapshot status Yes
disks list View Parameter Description - disks for disk details. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "normal",
"name": "2023-10-09_19-36-36",
"created_at": "2023-10-09T11:36:40Z",
"disks": [
{
"type": "qcow2",
"id": "vm-disk-2.qcow2",
"size": 0
},
{
"type": "qcow2",
"id": "vm-disk-1.qcow2",
"size": 0
}
],
"parent_id": "",
"is_protected": 0,
"is_latest": 1,
"trigger":"manual",
"type": "qcow2",
"id": "acafb9c01-ee16-4870-a3fe-f093034fda62a",
"description": "1111"
}
]
4.11.4.8.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.11.4.8.4. Obtain List of VM Snapshots (20210725)
4.11.4.8.4.1. Scenario¶
Scenario: Get VM snapshots
Applicable roles: Super administrator, system administrator, tenant, and roles with permissions related to
VM snapshots
Versions supported: SCP 6.10.0 and later
 Note
1. Only VM in the HCI resource pool can manage snapshots.
2. In the resource pool of HCI 6.2.0 and earlier, the snapshot number of a single VM cannot
exceed 7. This restriction does not exist in later versions.
3. Tenants can only query their own VM snapshots.
4. The super administrator (admin) can query the list of snapshots of any VM on SCP.
5. Compared with version 20200725, the API version 20210725 adds the response
parameter which must be returned: quiesced.
4.11.4.8.4.2. URI¶
Table 4.11.585 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20210725/servers/{server_id}/snapshots Get VM snapshots
Parameter Description:
Table 4.11.586 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM UUID Yes
4.11.4.8.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20210725/servers/bb22a4b2-41e7-4404-89c1-745182f790d6/snapshots
4.11.4.8.4.4. Response¶
Response Parameter
Table 4.11.587 Response Parameter¶
Parameter Type Description
Value
Returned
name string Snapshot name Yes
id string Snapshot ID Yes
description string Snapshot description Yes
parent_id string
Previous snapshot ID, indicating that a previous
snapshot exists before this snapshot is created. When
the value is empty, it indicates the first snapshot.
Yes
created_at string Snapshot creation time in ISO 8601 format. Example:
2020-12-01T03:17:42Z Yes
is_latest int
Whether it is the latest snapshot of the VM, which
mostly resembles the current VM status. It is usually
the last snapshot taken by the VM or the last snapshot
to which the VM is recovered.
Yes
type string View VM snapshot type for snapshot types. Yes
is_protected int Whether the image is protected Yes
status string Snapshot status Yes
disks list View Parameter Description - disks for disk details. Yes
quiesced int Whether the Quiesce Guest File System option is
enabled Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "normal",
"name": "2023-10-09_19-36-36",
"created_at": "2023-10-09T11:36:40Z",
"disks": [
{
"type": "qcow2",
"id": "vm-disk-2.qcow2",
"size": 0
},
{
"type": "qcow2",
"id": "vm-disk-1.qcow2",
"size": 0
}
],
"parent_id": "",
"is_protected": 0,
"is_latest": 1,
"quiesced": 0,
"type": "qcow2",
"id": "acafb9c01-ee16-4870-a3fe-f093034fda62a",
"description": "1111"
}
]
4.11.4.8.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.11.5. VM backup management
4.11.5.1. Create VM backup
4.11.5.1.1. Scenario
Scenario: Create VM backup
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
backup configuration permission
Versions supported: SCP 6.3.83 and later
4.11.5.1.2. URI
Table 4.11.588 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/servers/{server_id}/backups Create VM
backup
Parameter Description:
Table 4.11.589 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.5.1.3. Request
Request Parameter
Table 4.11.590 Description of Body Parameter¶
Parameter Location Type Description Required
description body string VM backup
description Yes
storage_id body string VM backup storage ID No
Request Example
https://{SCP_IP}/janus/20180725/servers/9b4f79f8-e9e9-410e-a4c2-a901102208b4/backups
{
"description": "Create VM backup",
"storage_id": "36a85a2c65fdb44fdbd8e15b0ec09868e"
}
4.11.5.1.4. Response
Response Parameter
Table 4.11.591 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
Response Example:
{
"task_id": "a93210c3-6398-4e5f-8950-dc96a336c92a"
}
4.11.5.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.5.2. Query VM backup list
4.11.5.2.1. Scenario
Scenario: Query list of VM backups
Roles supported: Super admin, System admin, tenant, and co-administrator with the VM Read
permission
Versions supported: SCP 6.3.83 and later
4.11.5.2.2. URI
Table 4.11.592 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/backups Query VM backup list
Parameter Description:
Table 4.11.593 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual machine ID Yes
start_time path string Query start time No
end_time path string Query end time No
 Note
The values of start_time and end_time must be passed in at the same time.
4.11.5.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/9b4f79f8-e9e9-410e-a4c2-a901102208b4/backups?
start_time=2021-09-26 19:32:34&end_time=2021-09-26 19:33:34
4.11.5.2.4. Response
Response Parameter
Table 4.11.594 Response Parameter¶
Parameter Type Description
Value
Returned
id string Backup ID Yes
name string Backup name Yes
description string Backup description Yes
parent_id string Upper-level backup ID Yes
storage_id string Storage ID of backup Yes
size int Backup size, unit: KB Yes
time string Backup time Yes
type string Backup type. Valid values: ‘base_backup’,
‘normal_backup’, and ‘archive’ Yes
protect_status int
Backup protection status. Valid values: 0
(Unprotected), 1 (Page Setting Protection), and 2
(Transmission Backup Protection).
Yes
is_latest int(0,
1) Whether it is the latest backup Yes
has_iolog int(0,
1) Whether the I/O log information of CDP exists Yes
Response Example:
[
{
"description": "tenant666666666666666",
"time": "2021-09-26 19:32:34",
"name": "2021-09-26 19-32-34",
"parent_id": "auto-210926-172935-6e1c13d7-edd4-48fd-b58f-2acbd0bc7cf
9",
"has_iolog": 0,
"storage_id": "1SANGFOR_ASAN-001-983f-4930-8000-2d33c04ffc92",
"protect_status": 0,
"is_latest": 0,
"type": "normal_backup",
"id": "auto-210926-193136-bef0f4ee-3a4c-4463-b1ab-c0455acd6a77",
"size": 9216
}
]
4.11.5.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.5.3. Query VM backup details
4.11.5.3.1. Scenario
Scenario: Query VM backup details
Roles supported: Super admin, System admin, tenant, and co-administrator with the VM Read
permission
Versions supported: SCP 6.3.83 and later
4.11.5.3.2. URI
Table 4.11.595 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/backups/{backup_id} Query VM
backup details
Parameter Description:
Table 4.11.596 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
backup_id path string Backup ID Yes
4.11.5.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/9b4f79f8-e9e9-410e-a4c2-a901102208b4/backups/auto-
210926-193136-bef0f4ee-3a4c-4463-b1ab-c0455acd6a77
4.11.5.3.4. Response
Response Parameter
Table 4.11.597 Response Parameter¶
Parameter Type Description
Value
Returned
id string Backup ID Yes
storage_id string Storage ID of backup Yes
size int Backup size, unit: KB Yes
time string Backup time Yes
mode string
This parameter is specified in CDP scenarios while
being left blank in scheduled and manual backup
scenarios. Valid values: complete, increase, and
blank
Yes
description string Backup description Yes
name string Backup name Yes
trigger string
Backup trigger method. This parameter is left blank
in scheduled and manual backup scenarios while
being specified in scenarios such as CDP disaster
recovery, archiving, and backup copy. Valid values:
cdp, auto, manual, migrate2vcenter,
disaster_migration, disaster_recovery,
disaster_protection, archive, and blank
Yes
drive_info list(dict) View Parameter Description - drive_info for disk
backup details. Yes
parent_id string Upper-level backup ID Yes
type string Backup type. Valid values: ‘base_backup’,
‘normal_backup’, and ‘archive’. Yes
is_latest int(0, 1) Whether it is the latest backup Yes
protect_status int
Backup protection status. Valid values: 0
(Unprotected), 1 (Page Setting Protection), and 2
(Transmission Backup Protection).
Yes
iolog dict View Paramter Description - iolog for I/O log
information of the CDP backup. Yes
Parameter Description - drive_info:
Table 4.11.598 Parameter Description - drive_info¶
Parameter Type Description Value Returned
backup_size int Actual backup size, unit: KB No
disk_size int Disk capacity, unit: KB No
file_name string File name No
name string Disk name No
Parameter Description - iolog
Table 4.11.599 Paramter Description - iolog¶
Parameter Type
Value
Returned Description
rp_storage_id string Yes Storage ID
rp_storage_name string Yes Storage name
rp_count int Yes Number of Rp logs
backup_id string Yes Backup ID
rp_list list(Rp) Yes View Parameter Description - Rp for Rp recovery
point details.
Parameter Description - Rp:
Table 4.11.600 Parameter Description - Rp¶
Parameter Type Value Returned Description
status int(0, 1) Yes rp status
timestamp int Yes Backup time
version int Yes Version
rpid int Yes Log ID. The IDs are
incremental.
size int Yes File size, unit: KB
Response Example:
{
"iolog": {
"rp_storage_id": "",
"rp_count": 0,
"backup_id": "",
"rp_list": [],
"rp_storage_name": ""
},
"description": "tenant666666666666666",
"storage_id": "1SANGFOR_ASAN-001-983f-4930-8000-2d33c04ffc92",
"name": "2021-09-26 19-32-34",
"parent_id": "auto-210926-172935-6e1c13d7-edd4-48fd-b58f-2acbd0bc7cf9",
"trigger": "cdp",
"mode": "",
"time": "2021-09-26 19:32:34",
"protect_status": 0,
"drive_info": [
{
"file_name": "vm-disk-1.qcow2.auto-210926-193136-bef0f4ee-3a4c-4
463-b1ab-c0455acd6a77.qcow2",
"disk_size": 83886080,
"backup_size": 9216,
"name": "vm-disk-1.qcow2"
}
],
"is_latest": 0,
"type": "normal_backup",
"id": "auto-210926-193136-bef0f4ee-3a4c-4463-b1ab-c0455acd6a77",
"size": 9216
}
4.11.5.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11.5.4. Edit VM backup
4.11.5.4.1. Scenario
Scenario: Edit VM backup
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
backup configuration permission
Versions supported: SCP 6.3.83 and later
4.11.5.4.2. URI
Table 4.11.601 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/{server_id}/backups/{backup_id} Edit VM
backup
Parameter Description:
Table 4.11.602 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
backup_id path string Backup ID Yes
4.11.5.4.3. Request
Request Parameter
Table 4.11.603 Description of Body Parameter¶
Parameter Location Type Description Required
description body string VM backup
description Yes
Request Example
https://{SCP_IP}/janus/20180725/servers/9b4f79f8-e9e9-410e-a4c2-a901102208b4/backups/auto-
210926-193136-bef0f4ee-3a4c-4463-b1ab-c0455acd6a77
{
"description": "Edit VM backup"
}
4.11.5.4.4. Response
Response Parameter
Table 4.11.604 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
Response Example:
{
"task_id": "a93210c3-6398-4e5f-8950-dc96a336c92a"
}
4.11.5.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.5.5. Delete VM backup
4.11.5.5.1. Scenario
Scenario: Delete VM backup
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
backup configuration permission
Versions supported: SCP 6.3.83 and later
4.11.5.5.2. URI
Table 4.11.605 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/servers/{server_id}/backups/{backup_id} Delete VM
backup
Parameter Description:
Table 4.11.606 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
backup_id path string Backup ID Yes
4.11.5.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/2a1f5168-8351-43d7-8382-1297c32da369/backups/auto-
210915-144529-8c96ddee-60ff-4674-a5d5-487fde82c8ae
4.11.5.5.4. Response
Response Parameter
Table 4.11.607 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
Response Example:
{
"task_id": "263ac628-02db-49d2-8124-c82b8312cce4"
}
4.11.5.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.6. VM Group Mangement
4.11.6.1. Create a VM group
4.11.6.1.1. Scenario
Scenario: Create a VM group
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Grouping and
Labelling permissions
Versions supported: SCP 6.3.0 and later
4.11.6.1.2. URI
Table 4.11.608 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/groups Create a VM group
Parameter Description:
None
4.11.6.1.3. Request
Request Parameter
Table 4.11.609 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Group name Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
parent_id body string Parent group ID No
Request Example
https://{SCP_IP}/janus/20180725/servers/groups
{
"name": "Database",
"az_id": "70172f8b-ad3d-47c3-9427-308a4c5052d0",
"project_id": "51b7ce9a856b48908b0b1afd143b95e0"
}
4.11.6.1.4. Response
Response Parameter
Table 4.11.610 Response Parameter¶
Parameter Type Description Value Returned
id string Group ID Yes
name string Group name Yes
az_id string Resource pool ID Yes
project_id string Tenant ID No
parent_id string Parent group ID No
type string Group type No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"parent_id": null,
"project_id": "51b7ce9a856b48908b0b1afd143b95e0",
"id": "83452197-2c50-439c-aa2f-cf2cdce3ced1",
"az_id": "70172f8b-ad3d-47c3-9427-308a4c5052d0",
"name": "Database"
}
4.11.6.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.6.2. Update VM group
4.11.6.2.1. Scenario
Scenario:
Modify the name of VM group
Move VM to group
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Grouping and
Labelling permissions
Versions supported: SCP 6.3.0 and later
4.11.6.2.2. URI
Table 4.11.611 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/groups/{group_id} Update VM group
Parameter Description:
Table 4.11.612 Path Parameters¶
Parameter Location Type Description Required
group_id path string Group ID Yes
4.11.6.2.3. Request
Request Parameter
Table 4.11.613 Description of Body Parameter¶
Parameter Location Type Description Required
server_ids body list VMs which need to be moved to a group No
name body string The updated group name No
Request Example
https://{SCP_IP}/janus/20180725/servers/groups/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"server_ids": [
"b2321502-933a-4193-bb2e-8a094d76cefd"
],
"name": "tjc_test"
}
4.11.6.2.4. Response
Response Parameter
Table 4.11.614 Response Parameter¶
Parameter Type Description
Value
Returned
id string Group ID Yes
name string Group name Yes
az_id string Resource pool ID Yes
project_id string Tenant ID No
parent_id string Parent group ID No
server_update_summary dict VM migration result No
type string Group type No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"parent_id": null,
"project_id": "51b7ce9a856b48908b0b1afd143b95e0",
"id": "83452197-2c50-439c-aa2f-cf2cdce3ced1",
"az_id": "70172f8b-ad3d-47c3-9427-308a4c5052d0",
"name": "tjc_test",
"server_update_summary": {
"succeeded": ["b2321502-933a-4193-bb2e-8a094d76cefd"],
"failed": []
}
}
4.11.6.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11.6.3. Query VM group list
4.11.6.3.1. Scenario
Scenario: Query the list of VM groups
Roles supported: Super admin, System admin, tenant, and role with the VM Labelling permission
Versions supported: SCP 6.8.0 and later
4.11.6.3.2. URI
Table 4.11.615 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/server-groups Query VM group list
Parameter Description:
Table 4.11.616 Path Parameters¶
Parameter Location Type Description Required
name path string Group name No
group_type path string View VM group type for group type
details. No
cloud_type path string View VM Platform Type for cloud
platform type details. No
platform_type path string View VM Platform Type for platform
type details. No
parent_id path string Parent group ID No
az_id path string Resource pool ID No
project_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.11.6.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/server-groups
4.11.6.3.4. Response
Response Parameter
Table 4.11.617 Response Parameter¶
Parameter Type Description
Value
Returned
id string Group ID No
name string Group name No
group_type string View VM group type for group type details. No
cloud_type string View VM Platform Type for cloud platform type
details. No
platform_type string View VM Platform Type for platform type details. No
parent_id string Parent group ID No
az_id string Resource pool ID No
project_id string Tenant ID No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"cloud_type": "hci",
"name": "acmp_2021-09-02-11-13-42",
"parent_id": "4f8f3f6d-9930-4d98-9347-bcf94544eef7",
"platform_type": "acmp",
"group_type": "app",
"project_id": "f15cab89d1c844ccbacd2bd25667b320",
"id": "3b38bd3b-79c4-4d71-9882-dd763303e27c",
"az_id": "1f6d28ff-47ac-4786-b8b4-1068d79a0d7c"
}
]
4.11.6.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.6.4. Delete VM Group
4.11.6.4.1. Scenario
Scenario:
Delete a VM group
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Grouping and
Labelling permissions
Versions supported: SCP 6.10.0 and later
4.11.6.4.2. URI
Table 4.11.618 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/servers/groups/{group_id} Delete VM Group
Parameter Description:
Table 4.11.619 Path Parameters¶
Parameter Location Type Description Required
group_id path string Group ID Yes
4.11.6.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/groups/ca77bf0e-0e11-4abe-be59-80d7103731b2
4.11.6.4.4. Response
Response Parameter
Table 4.11.620 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "2023ad2c-2d64-48c1-b7d7-6318e5e7c05c",
}
4.11.6.4.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.11.7. VM Configuration Management
4.11.7.1. Create VM Using Configuration
4.11.7.1.1. Scenario
Scenario: Create a VM based on the VM configuration backup
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.7.1.2. URI
Table 4.11.621 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/config Create VM Using
Configuration
Parameter Description:
None
4.11.7.1.3. Request
Request Parameter
Table 4.11.622 Description of Body Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
name body string VM name Yes
datastore_id body string VM datastore ID Yes
os_option body dict
VM operating system. For
details, see Parameter
Description - os_option.
Yes
hardware_option body dict
VM hardware option. For
details, see Parameter
Description -
hardware_option.
Yes
storage_policy_id body string VM storage policy ID No
schedule_policy_id body string VM scheduling policy ID No
group_id body string VM group ID No
label_ids body list(string) VM tag No
description body string VM description No
logo body int VM icon No
host_id body string ID of the physical node on
which the VM is running No
template_id body string Template ID No
application body string
VM application scenario
type. For details, see VM
Application Scenario Type.
No
source body string
VM creation source type.
For details, see VM Creation
Source Type.
No
pci_type body string VM PCI type. For details,
see VM PCI Type. No
compatibility_version body dict
VM compatibility version.
For details, see Parameter
Description -
compatibility_version.
No
advanced_option body dict
VM advanced option. For
details, see Parameter
Description -
advanced_option.
No
 Note
All parameters except az_id can be obtained by querying the API for obtaining VM snapshot.
For details, see the vmconf parameter in Obtain VM Snapshot.
Parameter Description - hardware_option
Table 4.11.623 Parameter Description - hardware_option¶
Parameter Type Description Required
bios dict BIOS. For details, see Parameter Description -
hardware_option - bios. No
cpu dict CPU. For details, see Parameter Description -
hardware_option - cpu. Yes
memory dict Memory. For details, see Parameter Description
- hardware_option - memory. Yes
disks list(dict) Disk. For details, see Parameter Description -
disks. No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - hardware_option - cdroms. No
network_adapters list(dict) NIC. For details, see Parameter Description -
hardware_option - network_adapters. No
usb_disks list(dict) USB. For details, see Parameter Description -
hardware_option - udisks. No
graphics dict
2D-supported graphics card option. For details,
see Parameter Description - hardware_option -
graphics.
Yes
graphics_3d list(dict)
3D-supported graphics card option. For details,
see Parameter Description - hardware_option -
graphics_3d.
No
mouse_type string Mouse type. For details, see VM Mouse Type. No
usb_type string USB type. For details, see VM USB Type. No
keyboard_type string Keyboard layout type No
Parameter Description - disks
Table 4.11.624 Parameter Description - disks¶
Parameter Type Description Required
device_id string Disk ID. Example: ide1 Yes
size_gb int Disk size (GB) Yes
read_cache_size int(1,
66060288)
Disk read cache (MB), which cannot exceed
the disk size. (Minimum: 1, Maximum:
66060288) If this parameter is passed in,
read cache is enabled; otherwise, it is
disabled.
No
discard int(0, 1) Whether to enable the space reclamation
feature No
format_type string Disk allocation mode. For details, see Storage
Space Allocation Mode for VM Virtual Disks. No
adapter_type string Disk controller type. For details, see VM Disk
Controller Type. No
base_image_id string Base image ID No
io_config dict
Disk IO limit. For details, see Parameter
Description - hardware_option -
disks.io_config.
No
advanced_config dict
Advanced disk configuration. For details, see
Parameter Description - hardware_option -
disks.advanced_config.
No
Parameter Description - advanced_option
Table 4.11.625 Parameter Description - advanced_option¶
Parameter Type Description Required
ha_enabled int(0, 1) Whether to enable HA No
abnormal_recovery_enabled int(0, 1) Whether to enable the Reboot if
fault occurs option No
important int(0, 1) Whether to enable the Mark as
high-priority VM option No
fully_clone int(0, 1) Whether to completely copy the
VM No
encrypted int(0, 1) Whether to encrypt the VM No
kvm_clock_enabled int(0, 1) Whether to enable kvmclock No
tpm_enabled int(0, 1) Whether to enable TPM 2.0 No
board_type string Whether to use the Q35-based
motherboard. If yes, pass in Q35. No
file_filter_enabled int(0, 1) Whether to enable the Filter page
files option No
ple_enabled int(0, 1) Whether to enable Pause-Loop
Exiting No
network_affinity_enabled int(0, 1) Whether to enable network
affinity No
sand_box_enabled int(0, 1) Whether to enable VM escape
detection No
boot_with_host_enabled int(0, 1) Whether to enable the Power on at
host startup option No
timing_sync_vm_clock_enabled int(0, 1) Whether to enable the Regularly
sync guest time with node option No
l3_cache_enabled int(0, 1) Whether to enable L3 cache No
lifespan string
VM expiration date, which must be
-1 or in the format of yyyy-mmdd.
If the value is -1, the VM will
never expire.
No
dual_screen_enabled int(0, 1) Whether to enable dual screen No
nested_virtualization_enabled int(0, 1) Whether to enable nested
virtualization No
display_screen string Display resolution. For details, see
VM Display Resolution. No
restore_mode string Restored mode. For details, see
VM Restored Mode. No
vd_agent_enabled int(0, 1) Whether to enable the VDI device
with serial ports No
has_3d_fast_path int(0, 1) Whether to add the fast
passthrough device No
vmtools_install_state string
Whether vmTools is installed on
the VM. For details, see vmTools
Installation Status for VMs.
No
uuid dict
The uuid parameter. For details,
see Parameter Description -
advanced_option - uuid.
No
guest dict
The guest parameter. For details,
see Parameter Description -
advanced_option - guest.
No
virtio dict
The virtio parameter. For details,
see Parameter Description - No
virtio dict see Parameter Description -
advanced_option - virtio.
No
turbo_mode_enabled int(0, 1) Whether to enable Turbo mode No
resource_reserve_policies list(dict)
List of CPU resource reservation
policies. For details, see Parameter
Description -
resource_reserve_policies.
No
Parameter Description - resource_reserve_policies
Table 4.11.626 Parameter Description - resource_reserve_policies¶
Parameter Type Description Required
period_frame string Effective date of the reservation policies No
period_type string
Reservation policy type. For details, see Parameter
Description - advanced_option -
resource_reserve_policies.period_type.
Yes
start_time string Time for starting resource exclusiveness Yes
end_time string Time for ending resource exclusiveness and releasing
exclusive resources Yes
 Note
Parameter Description - period_frame
The period_frame parameter indicates the effective date of reservation policies and is related
to the period_type parameter.
1. If period_type is DAILY, you do not need to specify period_frame.
2. If period_type is WEEKLY, set period_frame to a list of days separated by commas (,). 0:
Sunday, 1: Monday, 2: Tuesday, 3: Wednesday, 4: Thursday, 5: Friday, 6: Saturday
Example: 0,1,3,5 (every Sunday, Monday, Wednesday, and Friday)
3. If period_type is MONTHLY, set period_frame to a time period that consists of a start date
and an end date separated by a tilde (~). Value range of the date: 1 to 31
If the start date is earlier than the end date, policies are effective from the start date to the
end date within the same month.
If the start date is the same as the end date, policies are effective on the exact day of every
month.
If the start date is later than the end date, policies are effective from the start date of a month
to the end date of the next month.
Example: 28-3 (from 28th of a month to 3rd of the next month)
4. If period_type is DATE, set period_frame to a string in the format of YYYYMMDD.
Example: 20230718 (July 18th, 2023)
Request Example
https://{SCP_IP}/janus/20180725/servers/config
{
"az_id": "80ef8d60-6f22-41c5-a9e7-321e93285469",
"name": "create_server_from_config",
"datastore_id": "1fd63ecb_vs_vol_rep3",
"template_id": "123123123",
"os_option": {
"arch": "amd64",
"distribution_name": "server-2022",
"kernel_name": "windows"
},
"group_id": "6f207df506bb",
"label_ids": ["88af1778b517", "A84657d0E6C2"],
"description": "server created from config",
"logo": 0,
"host_id": "host-0050568d861e",
"application": "COMPUTE_SCENARIO",
"source": "CREATE_BY_OTHER",
"storage_policy_id": "60d1a5b0",
"schedule_policy_id": "22da4c3b",
"compatibility_version": {
"compatibility_version": {
"vmx_version": "vmx-3.13",
"src_hci_version": "6.9.0"
},
"hardware_option": {
"bios": {
"bios_type": "CUSTOM",
"path": "bios.vdi532.bin",
"boot_order": "cd",
"boot_disk": "ide0",
"boot_delay_seconds": 10,
"version": "/sf/share/kvm/bios.vdi533.bin"
},
"cpu": {
"cores": 1,
"sockets": 1,
"invtsc_enabled": 1,
"exclusive_enabled": 0,
"frequency": 1000,
"type": "CORE2DUO",
"hotplug_enabled": 1,
"vendor": "AMD",
"numa_enabled": 1,
"cpu_reserve_enabled": 1
},
"memory": {
"size_gb": 1,
"huge_page_enabled": 1,
"balloon_enabled": 1,
"hotplug_enabled": 1
},
"disks": [{
"device_id": "ide0",
"size_gb": 10,
"format_type": "OFF",
"adapter_type": "VIRTIO",
"base_image_id": "2e5c5ead-6600-4cff-82e4-9ca015346e28",
"io_config": {
"read_iops": 1889798807,
"read_kbps": 57987116,
"write_iops": 486878596,
"write_kbps": 20184166
},
"advanced_config": {
"policy_id": "60d1a5b0",
"serial_number": "116853518910-0"
}
}],
"cdroms": [{
"id": "ide2",
"drive": {
"datastore_id": "local",
"path": "iso/vmtools/VMOptimizationTools.iso"
}
}],
"network_adapters": [{
"vif_id": "net0",
"port_id": "2e5c5ead-6600-4cff-82e4-9ca015346e21",
"device_id": "2e5c5ead-6600-4cff-82e4-9ca015346e22",
"connected": 1,
"type": "VIRTIO",
"mac_address": "FE:FC:FE:4A:46:EB",
"ipv4": {
"address": "192.168.0.111",
"prefix_length": 24,
"gateway": "192.168.0.1",
"dns": ["192.168.0.2"]
},
"ipv6": {
"address": "2011::1",
"prefix_length": 64,
"gateway": "2011::2",
"dns": ["2011:111:23::1"]
},
"egress_kbps": 1000,
"ingress_kbps": 2000
}],
"usb_disks": [{
"id": "udisk0",
"usb_disk": {
"device_id": "01010000000000000000000000000000-host-00505697
1041",
"controller_type": "USB_2"
}
}],
"graphics": {
"graphics_type": "CIRRUS"
},
"graphics_3d": [{
"graphics_3d": [{
"graphics_model": "RTX6000-1B",
"graphics_3d_type": "RTX6000",
"frame_rate_hz": "FPS_45",
"schedule": "DENSITY",
"vendor": "NVIDIA"
}],
"mouse_type": "PS2",
"usb_type": "HCI",
"keyboard_type": "en-us"
},
"advanced_option": {
"ha_enabled": 1,
"abnormal_recovery_enabled": 1,
"important": 1,
"encrypted": 1,
"fully_clone": 1,
"kvm_clock_enabled": 1,
"tpm_enabled": 1,
"board_type": "Q35",
"file_filter_enabled": 1,
"ple_enabled": 1,
"network_affinity_enabled": 1,
"sand_box_enabled": 1,
"boot_with_host_enabled": 1,
"timing_sync_vm_clock_enabled": 1,
"l3_cache_enabled": 1,
"lifespan": "2024-01-01",
"dual_screen_enabled": 1,
"nested_virtualization_enabled": 1,
"display_screen": "DISPLAY_1K",
"restore_mode": "TEMPLATE",
"vd_agent_enabled": 1,
"has_3d_fast_path": 1,
"vmtools_install_state": "INSTALLED",
"uuid": {
"enable": 1,
"uuid": "473bac72-2a39-45a1-bd4e-226420d490fc",
"only_2_qemu": 0
},
"guest": {
"hostname": "test",
"os_installed": 0,
"processor_id": "1234567800ABCDEF",
"grub_prompt": 1
},
"virtio": {
"vblk_enabled": 1,
"vnet_enabled": 1
},
"turbo_mode_enabled": 1,
"resource_reserve_policies": [
{
"period_type": "DAILY",
"start_time": "00:00",
"end_time": "01:00"
},
{
"period_frame": "1,2",
"period_type": "WEEKLY",
"start_time": "00:00",
"end_time": "01:00"
}
]
}
}
4.11.7.1.4. Response
Response Parameter
Table 4.11.627 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for VM creation Yes
uuid string UUID of the created VM Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
"uuid": "4ba94b41-0cdd-44db-8e2d-3fa8645479a6",
}
4.11.7.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.7.2. Edit VM Configuration Details
4.11.7.2.1. Scenario
Scenario: Edit VM configuration details
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.7.2.2. URI
Table 4.11.628 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/{server_id}/config Edit VM
Configuration Details
Parameter Description:
Table 4.11.629 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.7.2.3. Request
Request Parameter
Table 4.11.630 Description of Body Parameter¶
Parameter Type Description Required
os_option dict VM operating system. For details, see
Parameter Description - os_option. No
name string VM name No
description string VM description No
group_id string VM group ID No
label_ids list(string) VM tag No
application string VM application scenario type. For details, see
VM Application Scenario Type. No
storage_policy_id string Storage policy ID No
schedule_policy_id string VM scheduling policy ID No
pci_type string VM PCI type. For details, see VM PCI Type. No
hardware_option dict VM hardware option. For details, see
Parameter Description - hardware_option. No
advanced_option dict VM advanced option. For details, see
Parameter Description - advanced_option. No
 Note
You need to pass in only parameters that need to be modified.
Parameter Description - hardware_option
Table 4.11.631 Parameter Description - hardware_option¶
Parameter Type Description Required
bios dict BIOS. For details, see Parameter Description -
hardware_option - bios. No
cpu dict CPU. For details, see Parameter Description - cpu. No
memory dict Memory. For details, see Parameter Description -
memory. No
usb_disks list(dict) USB. For details, see Parameter Description -
hardware_option - udisks. No
graphics dict 2D-supported graphics card option. For details, see
Parameter Description - graphics. No
graphics_3d dict 3D-supported graphics card option. For details, see
Parameter Description - graphics_3d. No
mouse_type string Mouse type. For details, see VM Mouse Type. No
usb_type string USB type. For details, see VM USB Type. No
keyboard_type string Keyboard layout type No
Parameter Description - cpu
Table 4.11.632 Parameter Description - cpu¶
Parameter Type Description Required
cores int Number of cores per socket No
sockets int Number of sockets No
exclusive_enabled int(0, 1) Whether to enable the CPU Exclusive
Mode option No
invtsc_enabled int(0, 1) Whether to enable the Para-virtualized
Clock option No
frequency int(100,
1000000) CPU clock speed limit (MHz) No
type string CPU type. For details, see VM CPU
Type. No
hotplug_enabled int(0, 1) Whether to enable CPU hot swapping No
vendor string CPU vendor. For details, see VM CPU
Vendor. No
numa_enabled int(0, 1) Whether to enable the NUMA
Scheduler option No
cpu_reserve_enabled int(0, 1)
Whether to enable the CPU Reservation
option, which can be enabled only when
the Mark as high-priority VM option is
enabled.
No
Parameter Description - memory
Table 4.11.633 Parameter Description - memory¶
Parameter Type Description Required
size_gb int Memory size (GB) No
balloon_enabled int(0, 1) Whether to enable memory
reclaiming No
huge_page_enabled int(0, 1) Whether to enable hugepage
memory No
hotplug_enabled int(0, 1) Whether to enable memory
hot swapping No
Parameter Description - graphics
Table 4.11.634 Parameter Description - graphics¶
Parameter Type Description Required
type string Graphics card type. For details, see VM Graphics Card
Type. Yes
Parameter Description - graphics_3d
Table 4.11.635 Parameter Description - graphics_3d¶
Parameter Type Description Required
schedule string Power-on automation level. For details, see Power-On
Automation Level for 3D-Supported Graphics Cards. No
Parameter Description - advanced_option
Table 4.11.636 Parameter Description - advanced_option¶
Parameter Type Description Required
ha_enabled int(0, 1) Whether to enable HA No
abnormal_recovery_enabled int(0, 1) Whether to enable the Reboot if
fault occurs option No
important int(0, 1) Whether to enable the Mark as
high-priority VM option No
kvm_clock_enabled int(0, 1) Whether to enable kvmclock No
tpm_enabled int(0, 1) Whether to enable TPM 2.0 No
board_type string Whether to use the Q35-based
motherboard. If yes, pass in Q35. No
file_filter_enabled int(0, 1) Whether to enable the Filter page
files option No
ple_enabled int(0, 1) Whether to enable Pause-Loop
Exiting No
network_affinity_enabled int(0, 1) Whether to enable network
affinity No
sand_box_enabled int(0, 1) Whether to enable VM escape
detection No
boot_with_host_enabled int(0, 1) Whether to enable the Power on at
host startup option No
timing_sync_vm_clock_enabled int(0, 1) Whether to enable the Regularly
sync guest time with node option No
l3_cache_enabled int(0, 1) Whether to enable L3 cache No
lifespan string
VM expiration date, which must be
-1 or in the format of yyyy-mmdd.
If the value is -1, the VM will
never expire.
No
dual_screen_enabled int(0, 1) Whether to enable dual screen No
nested_virtualization_enabled int(0, 1) Whether to enable nested
virtualization No
display_screen string Display resolution. For details, see
VM Display Resolution. No
restore_mode string Restored mode. For details, see
VM Restored Mode. No
has_3d_fast_path int(0, 1) Whether to add the fast
passthrough device No
vmtools_install_state string
Whether vmTools is installed on
the VM. For details, see vmTools
Installation Status for VMs.
No
uuid dict
The uuid parameter. For details,
see Parameter Description -
advanced_option - uuid.
No
guest dict
The guest parameter. For details,
see Parameter Description -
advanced_option - guest.
No
virtio dict
The virtio parameter. For details,
see Parameter Description -
advanced_option - virtio.
No
resource_reserve_policies list(dict)
List of CPU resource reservation
policies. For details, see Parameter
Description -
resource_reserve_policies.
No
Parameter Description - resource_reserve_policies
Table 4.11.637 Parameter Description - resource_reserve_policies¶
Parameter Type Description Required
policy_id string Reservation policy ID Yes
period_frame string Effective date of the reservation policies No
period_type string
Reservation policy type. For details, see Parameter
Description - advanced_option -
resource_reserve_policies.period_type.
Yes
start_time string Time for starting resource exclusiveness Yes
end_time string Time for ending resource exclusiveness and releasing
exclusive resources Yes
 Note
Parameter Description - period_frame
The period_frame parameter indicates the effective date of reservation policies and is related
to the period_type parameter.
1. If period_type is DAILY, you do not need to specify period_frame.
2. If period_type is WEEKLY, set period_frame to a list of days separated by commas (,). 0:
Sunday, 1: Monday, 2: Tuesday, 3: Wednesday, 4: Thursday, 5: Friday, 6: Saturday
Example: 0,1,3,5 (every Sunday, Monday, Wednesday, and Friday)
3. If period_type is MONTHLY, set period_frame to a time period that consists of a start date
and an end date separated by a tilde (~). Value range of the date: 1 to 31
If the start date is earlier than the end date, policies are effective from the start date to the
end date within the same month.
If the start date is the same as the end date, policies are effective on the exact day of every
month.
If the start date is later than the end date, policies are effective from the start date of a month
to the end date of the next month.
Example: 28-3 (from 28th of a month to 3rd of the next month)
4. If period_type is DATE, set period_frame to a string in the format of YYYYMMDD.
Example: 20230718 (July 18th, 2023)
Request Example
https://{SCP_IP}/janus/20180725/servers/3ea003e5-2d00-4445-8514-cb500857fc1f/config
{
"os_option": {
"arch": "amd64",
"distribution_name": "server-2022",
"kernel_name": "windows"
},
"name": "update_server_config",
"description": "modified description",
"group_id": "6f207df506bb",
"label_ids": ["88af1778b517", "A84657d0E6C2"],
"application": "COMPUTE_SCENARIO",
"storage_policy_id": "60d1a5b0",
"schedule_policy_id": "22da4c3b",
"pci_type": "pcie-root-port",
"hardware_option": {
"bios": {
"bios_type": "CUSTOM",
"path": "bios.vdi532.bin",
"boot_order": "cd",
"boot_disk": "ide0",
"boot_delay_seconds": 30,
"version": "/sf/share/kvm/bios.vdi533.bin"
},
"cpu": {
"cores": 2,
"sockets": 1,
"invtsc_enabled": 1,
"exclusive_enabled": 0,
"frequency": 1000,
"type": "CORE2DUO",
"type": "CORE2DUO",
"hotplug_enabled": 1,
"vendor": "AMD",
"numa_enabled": 1,
"cpu_reserve_enabled": 1
},
"memory": {
"size_gb": 2,
"huge_page_enabled": 1,
"balloon_enabled": 1,
"hotplug_enabled": 1
},
"usb_disks": [{
"id": "udisk0",
"usb_disk": {
"device_id": "01010000000000000000000000000000-host-00505697
1041",
"controller_type": "USB_2"
}
}],
"graphics": {
"type": "CIRRUS"
},
"graphics_3d": {
"schedule": "DENSITY"
},
"mouse_type": "PS2",
"usb_type": "HCI",
"keyboard_type": "en-us"
},
"advanced_option": {
"ha_enabled": 1,
"abnormal_recovery_enabled": 1,
"important": 1,
"kvm_clock_enabled": 1,
"tpm_enabled": 1
"board_type": "Q35",
"file_filter_enabled": 1,
"ple_enabled": 1,
"network_affinity_enabled": 1,
"sand_box_enabled": 1,
"boot_with_host_enabled": 1,
"timing_sync_vm_clock_enabled": 1,
"l3_cache_enabled": 1,
"lifespan": "-1",
"dual_screen_enabled": 0,
"nested_virtualization_enabled": 0,
"display_screen": "DISPLAY_1K",
"restore_mode": "TEMPLATE",
"vd_agent_enabled": 1,
"has_3d_fast_path": 1,
"vmtools_install_state": "NOT_INSTALLED",
"uuid": {
"enable": 1,
"uuid": "473bac72-2a39-45a1-bd4e-226420d490fc",
"only_2_qemu": 0
},
"guest": {
"hostname": "test",
"os_installed": 0,
"processor_id": "1234567800ABCDEF",
"grub_prompt": 1
},
"virtio": {
"vblk_enabled": 1,
"vnet_enabled": 1
},
"resource_reserve_policies": [
{
"policy_id": "cc513089-8495-4980-ab42-e74100b06289",
"period_frame": "1,2,3",
"period_type": "WEEKLY",
"start_time": "00:00",
"end_time": "01:00"
}
]
}
}
4.11.7.2.4. Response
Response Parameter
Table 4.11.638 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for VM configuration details editing Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
}
4.11.7.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.8. VM CBT Management
4.11.8.1. Obtain CBT Differential Bitmap of VM Disks
4.11.8.1.1. Scenario
Scenario: Obtain the CBT differential bitmap of a VM disk
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.8.1.2. URI
Table 4.11.639 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/cbt/changedareas
Obtain CBT Differential
Bitmap of VM Disks
Parameter Description:
Table 4.11.640 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual machine ID Yes
disk_id path string Disk ID, which can be obtained from
Obtain VM Snapshot Yes
snapshot_id path string Snapshot ID, which can be obtained
from Get VM snapshots Yes
checkpoint_id path int
Bitmap version, which can be obtained
from Obtain VM Snapshot. If this
parameter is 0, it indicates the valid data
block bitmap in full backup scenarios.
Yes
start_offset path int Start offset Yes
4.11.8.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/efecbd09-c4db-433f-b10d-c1fd25dd4f2f/cbt/changedareas?
disk_id=ide1&snapshot_id=aea11651-f200-99bd-0506-
8a01d229b12a&checkpoint_id=0&start_offset=0
4.11.8.1.4. Response
Response Parameter
Table 4.11.641 Response Parameter¶
Parameter Type Description Required
length int Data block length (bytes) Yes
changed_area list(dict) Changed data block information. For details, see
Parameter Description - changed_area. No
start_offset int Start offset Yes
Table 4.11.642 Parameter Description - changed_area¶
Parameter Type Description Required
start int Starting position of a changed data block Yes
length int Data change length (bytes) Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"length": 0,
"start_offset": 0,
"changed_area": [{
"start": 0,
"length": 200
}]
}
}
4.11.8.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.8.2. Update VM CBT Status
4.11.8.2.1. Scenario
Scenario: Update the VM CBT status
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.8.2.2. URI
Table 4.11.643 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/{server_id}/cbt/status Update VM CBT
status
Parameter Description:
Table 4.11.644 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual
machine ID Yes
4.11.8.2.3. Request
Request Parameter
Table 4.11.645 Description of Body Parameter¶
Parameter Location Type Description Required
type body string
CBT operation type. Valid values:
enable, disable, and reset. For details,
see Parameter Description - type.
Yes
disk_ids body list(string)
List of virtual disk IDs, where the
virtual disks are to be enabled or
disabled. It can be obtained from
Obtain VM Snapshot. If this parameter
is not passed in, all disks are enabled or
disabled. If this parameter is passed in,
the specified disks are enabled or
disabled. This parameter is invalid for
the reset operation, which applies only
to disks with CBT enabled.
No
Table 4.11.646 Parameter Description - type¶
Value Description
enable Enable
disable Disabled
reset Reset
Request Example
https://{SCP_IP}/janus/20180725/servers/{server_id}/cbt/status
{
"action": "enable",
"disk_ids": ["ide0"]
}
4.11.8.2.4. Response
Response Parameter
Table 4.11.647 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for CBT status update Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a",
}
4.11.8.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.8.3. Obtain VM CBT Information
4.11.8.3.1. Scenario
Scenario: Obtain the VM CBT information, including the CBT status of each disk in the VM
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.11.8.3.2. URI
Table 4.11.648 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/servers/{server_id}/cbt/status Obtain VM CBT
Information
Parameter Description:
Table 4.11.649 Path Parameters¶
Parameter Location Type Description Required
server_id path string Virtual machine ID Yes
4.11.8.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/efecbd09-c4db-433f-b10d-c1fd25dd4f2f/cbt/status
4.11.8.3.4. Response
Response Parameter
Table 4.11.650 Response Parameter¶
Parameter Type Description Required
server_id string Virtual machine ID Yes
is_enabled boolean
Whether CBT is enabled for all disks in the VM. (true:
enabled, false: disabled) To check the CBT status of a
disk, view the disk parameters.
Yes
disks list(dict) Disk CBT status. For details, see Parameter
Description - disks. Yes
Table 4.11.651 Parameter Description - disks¶
Parameter Type Description Required
is_enabled boolean Whether CBT is enabled No
id string Disk ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"server_id": "efecbd09-c4db-433f-b10d-c1fd25dd4f2f",
"is_enabled": true,
"disks": [{
"id": "ide0",
"is_enabled": true
}]
}
}
4.11.8.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.9. Virtual Machine Tags
4.11.9.1. Create VM Tag
4.11.9.1.1. Scenario
Scenario: Create a VM tag
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to create VM tags
Versions supported: SCP 6.3.0 and later
4.11.9.1.2. URI
Table 4.11.652 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/servers/tags Create VM Tag
Parameter Description:
None
4.11.9.1.3. Request
Request Parameter
Table 4.11.653 Description of Body Parameter¶
Parameter Location Type Description Required
tag body dict Tag information. For details, see Parameter
Description - tag. Yes
Parameter Description - tag
Table 4.11.654 Parameter Description - tag¶
Parameter Type Required Note
name string Yes Tag name
Request Example
https://{SCP_IP}/janus/20180725/servers/tags
{
"tag": {
"name": "Tag 1"
}
}
4.11.9.1.4. Response
Response Parameter
Table 4.11.655 Response Parameter¶
Parameter Type Description Value Returned
id string Tag ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "83452197-2c50-439c-aa2f-cf2cdce3ced1"
}
4.11.9.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.11.9.2. Edit VM Tag
4.11.9.2.1. Scenario
Scenario:
Modify the name of a VM tag
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to delete/edit VM tags
Versions supported: SCP 6.3.0 and later
4.11.9.2.2. URI
Table 4.11.656 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/servers/tags/{tag_id} Edit VM Tag
Parameter Description:
Table 4.11.657 Path Parameters¶
Parameter Location Type Description Required
tag_id path string Tag ID Yes
4.11.9.2.3. Request
Request Parameter
Table 4.11.658 Description of Body Parameter¶
Parameter Location Type Description Required
tag body dict Tag information. For details, see
Description of Body Parameter. Yes
Table 4.11.659 Description of Body Parameter¶
Parameter Type Required Note
name string Yes Tag name
Request Example
https://{SCP_IP}/janus/20180725/servers/tags/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"name": "Tag 2"
}
4.11.9.2.4. Response
Response Parameter
Table 4.11.660 Response Parameter¶
Parameter Type Description
Value
Returned
id string Tag ID Yes
name string Tag name Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "83452197-2c50-439c-aa2f-cf2cdce3ced1",
"name": "Tag 2"
}
4.11.9.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.11.9.3. Query List of VM Tags
4.11.9.3.1. Scenario
Scenario: Query the list of VM tags
Roles supported: Super admin, System admin, tenant, and role with the VM Labelling permission
Versions supported: SCP 6.8.0 and later
4.11.9.3.2. URI
Table 4.11.661 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/servers/tags Query List of VM Tags
Parameter Description:
Table 4.11.662 Path Parameters¶
Parameter Location Type Description Required
name path string Tag name No
id path string Tag ID No
project_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.11.9.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/tags
4.11.9.3.4. Response
Response Parameter
Table 4.11.663 Response Parameter¶
Parameter Type Description
Value
Returned
id string Tag ID Yes
name string Tag name Yes
project_id string Tenant ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "Tag 1",
"project_id": "f15cab89d1c844ccbacd2bd25667b320",
"id": "3b38bd3b-79c4-4d71-9882-dd763303e27c"
}
]
4.11.9.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.11.9.4. Delete VM Tag
4.11.9.4.1. Scenario
Scenario:
Delete a VM tag
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to delete/edit VM tags
Versions supported: SCP 6.3.0 and later
4.11.9.4.2. URI
Table 4.11.664 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/servers/tags/{tag_id} Delete VM Tag
Parameter Description:
Table 4.11.665 Path Parameters¶
Parameter Location Type Description Required
tag_id path string Tag ID Yes
4.11.9.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/servers/tags/ca77bf0e-0e11-4abe-be59-80d7103731b2
4.11.9.4.4. Response
Response Parameter
Table 4.11.666 Response Parameter¶
Parameter Type Description Value Returned
id string ID of the VM tag to be deleted Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "ca77bf0e-0e11-4abe-be59-80d7103731b2"
}
4.11.9.4.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.12. Snapshot Management
4.12.1. Common Snapshot Parameters
4.12.1.1. Types of Scheduled Snapshot Policy Targets
Table 4.12.1 Types of Scheduled Snapshot Policy Targets¶
Value Description
VM VM
CG CG
4.12.1.2. Scheduled Snapshot Policy Types
Table 4.12.2 Scheduled Snapshot Policy Types¶
Value Description
VS VS
QCOW2 QCOW2
4.12.1.3. Statuses of Scheduled Snapshot Policies
Table 4.12.3 Statuses of Scheduled Snapshot Policies¶
Value Description
normal Normal
creating Creating
updating Editing
deleting Deleting
error Error
lost Lost
4.12.1.4. Execution Frequency of Scheduled Snapshot Policy
Table 4.12.4 Execution Frequency of Scheduled Snapshot Policy¶
Value Description
DAILY Daily
WEEKLY Weekly
HOURLY Hourly
4.12.1.5. Scheduled Snapshot Retention Rules
Table 4.12.5 Scheduled Snapshot Retention Rules¶
Value Description
HOURLY Retain one snapshot each hour
DAILY Retain one snapshot each day
WEEKLY Retain one snapshot each week
MONTHLY Retain one snapshot each month
YEARLY Retain one snapshot each year
ALL Retain all snapshots
4.12.1.6. Snapshot Policy Modes
Table 4.12.6 Snapshot Policy Modes¶
Value Description
MANUAL Manual mode
SMART Smart mode
4.12.2. Obtain list of scheduled snapshot policies
4.12.2.1. Scenario
Scenario: Obtain the list of scheduled snapshot policies
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.7.0 and later
4.12.2.2. URI
Table 4.12.7 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/snapshots/policies Obtain list of scheduled
snapshot policies
Parameter Description:
Table 4.12.8 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID No
id path string ID of the scheduled snapshot policy No
name path string Name of the scheduled snapshot policy No
group_type path string
View Types of Scheduled Snapshot Policy
Targets for types of scheduled snapshot
policy targets.
No
policy_type path string View Scheduled Snapshot Policy Types for
scheduled snapshot policy types. No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.12.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/snapshots/policies?az_id=bf024843-f292-4cea-9744-
29d23ad24b6c
4.12.2.4. Response
Response Parameter
Table 4.12.9 Response Parameter¶
Parameter Type Description
Value
Returned
id string ID of the scheduled snapshot policy Yes
cluster_policy_id string ID of the scheduled snapshot policy for the cluster Yes
cluster_id string Cluster ID Yes
az_id string Resource pool ID Yes
user_id string User ID Yes
project_id string Tenant ID Yes
name string Name of the scheduled snapshot policy Yes
description string Description of the scheduled snapshot policy Yes
group_type string View Types of Scheduled Snapshot Policy Targets
for types of scheduled snapshot policy targets. Yes
policy_type string View Scheduled Snapshot Policy Types for
scheduled snapshot policy types. Yes
is_enable int Whether the tenant is enabled Yes
is_system_policy int Whether it is a system policy Yes
targets list View Parameter Description - target for the list of
scheduled snapshot policy targets. Yes
vm_count int Number of VMs in the scheduled snapshot policy Yes
next_effective_at int Next trigger time of the scheduled snapshot
policy Yes
effective_policy dict View Parameter Description - effective_policy for
the frequency of taking scheduled snapshots. Yes
reserve_policies list View Parameter Description - reserve_policy for
snapshot retention rules. Yes
status string View Statuses of Scheduled Snapshot Policies for
statuses of scheduled snapshot policies. Yes
created_at string Creation time of the scheduled snapshot policy Yes
updated_at string Update time of the scheduled snapshot policy Yes
Parameter Description - target
Table 4.12.10 Parameter Description - target¶
Parameter Type Note
target_id string Target ID of the scheduled snapshot
policy Yes
cluster_target_id string Target ID of the scheduled snapshot
policy for the cluster Yes
Parameter Description - effective_policy
Table 4.12.11 Parameter Description - effective_policy¶
Parameter Type Note
frequency string View Execution Frequency of Scheduled Snapshot Policy for
the execution frequency of the scheduled snapshot policy. Yes
target_date int Execute on the specified day each week Yes
target_hour int Execute at the specified time each day Yes
interval int Interval for policy execution (hour) Yes
Parameter Description - reserve_policy
Table 4.12.12 Parameter Description - reserve_policy¶
Parameter Type Note
reserve_method string View Scheduled Snapshot Retention Rules for
snapshot retention rules. Yes
effective_seconds int Snapshot retention duration Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[{
"status": "normal",
"cluster_policy_id": "3d8ce38b-73a5-444b-8235-d2dfa28ebcf1",
"name": "Scheduled snapshot",
"effective_policy": {
"target_date": 0,
"frequency": "DAILY",
"target_hour": 0,
"interval": 0
},
"created_at": "2022-04-09T03:04:25.000000",
"description": "",
"reserve_policies": [
{
"effective_seconds": 604800,
"reserve_method": "ALL"
}
],
"updated_at": "2022-04-25T07:57:32.000000",
"is_system_policy": 0,
"is_enable": 1,
"cluster_id": "6b25f324-abb1-42f8-ad1b-2fc5a04f694a",
"az_id": "d1b77e39-c535-45f7-bccc-84a050718cc4",
"policy_type": "QCOW2",
"id": "c3f273ad-080e-4550-8e1f-ee79e1cc844f",
"user_id": "a9147f234ce44a3b8e75f81899b280b8",
"next_effective_at": 0,
"project_id": "26f0e4d7a73e48ed9061fb592b0bba27",
"targets": [],
"group_type": "VM",
"vm_count": 0
}]
4.12.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.12.3. Create scheduled snapshot policy
4.12.3.1. Scenario
Scenario: Create a scheduled snapshot policy
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.8.0 and later
4.12.3.2. URI
Table 4.12.13 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/snapshots/policies Create scheduled
snapshot policy
Parameter Description:
None
4.12.3.3. Request
Request Parameter
Table 4.12.14 Body Parameter¶
Parameter Location Type Description Required
snapshot_policy body dict
View Parameter Description -
snapshot_policy for parameters used
to create a scheduled snapshot policy.
Yes
Parameter Description - snapshot_policy
Table 4.12.15 Parameter Description - snapshot_policy¶
Parameter Type Note Required
description string Description of the scheduled snapshot policy No
effective_policy dict
View Parameter Description - effective_policy for
the execution frequency of the scheduled snapshot
policy.
Yes
is_enable int Whether the tenant is enabled Yes
is_system_policy int Whether it is a system policy No
name string Name of the scheduled snapshot policy Yes
reserve_policies list View Parameter Description - reserve_policy for
snapshot retention rules. Yes
target_list list List of target IDs of the scheduled snapshot policy Yes
group_type string View Types of Scheduled Snapshot Policy Targets
for types of scheduled snapshot policy targets. Yes
az_id string Resource pool ID Yes
policy_type string View Scheduled Snapshot Policy Types for
scheduled snapshot policy types. Yes
Parameter Description - effective_policy
Table 4.12.16 Parameter Description - effective_policy¶
Parameter Type Note Required
frequency string
View Execution Frequency of Scheduled Snapshot Policy
for the execution frequency of the scheduled snapshot
policy.
Yes
schema dict
Execution frequency of the snapshot policy. For details,
see descriptions of the daily_schema, weekly_schema,
and hourly_schema parameters.
Yes
Parameter Description - daily_schema
Table 4.12.17 Parameter Description - daily_schema¶
Parameter Type Note Required
target_hour int Execute at the specified time each
day Yes
Parameter Description - weekly_schema
Table 4.12.18 Parameter Description - weekly_schema¶
Parameter Type Note Required
target_hour int Execute at the specified time each day
(value range :0-23) Yes
target_date int Execute on the specified day each week
(value range: 1-7) Yes
Parameter Description - hourly_schema
Table 4.12.19 Parameter Description - hourly_schema¶
Parameter Type Note Required
interval int Interval of taking snapshots (hour). Valid values: 1, 2, 3, 4,
6, 8, and 12 Yes
Parameter Description - reserve_policy
Table 4.12.20 Parameter Description - reserve_policy¶
Parameter Type Note Required
reserve_method string View Scheduled Snapshot Retention Rules for
snapshot retention rules. Yes
effective_seconds int Snapshot retention duration Yes
Request Example
https://{SCP_IP}/janus/20180725/snapshots/policies
{
"snapshot_policy": {
"name": "Create a scheduled snapshot policy",
"effective_policy": {
"frequency": "HOURLY",
"schema": {
"interval": 12
}
},
"reserve_policies": [
{
"reserve_method": "HOURLY",
"effective_seconds": 604800
}
],
"description": "Interface creation test",
"is_enable": 1,
"group_type": "VM",
"target_list": [
],
"az_id": "466c3ea6-2537-4de1-b294-6fd96d8b89a4",
"policy_type": "QCOW2"
}
}
4.12.3.4. Response
Response Parameter
Table 4.12.21 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.12.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.12.4. Obtain advanced settings of snapshot policy
4.12.4.1. Scenario
Scenario: Obtain advanced settings of the snapshot policy
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.8.0 and later
4.12.4.2. URI
Table 4.12.22 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/snapshots/policies/settings Obtain advanced settings of
snapshot policy
Parameter Description:
Table 4.12.23 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
4.12.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/snapshots/policies/settings?az_id=bf024843-f292-4cea-9744-
29d23ad24b6c
4.12.4.4. Response
Response Parameter
Table 4.12.24 Response Parameter¶
Parameter Type Description
Value
Returned
snapshot_policy_model string View Snapshot Policy Modes for snapshot
policy modes. Yes
volume list View Parameter Description - volume_info
for the datastore information. No
Parameter Description - volume_info
Table 4.12.25 Parameter Description - volume_info¶
Parameter Type Note Required
id string Datastore ID Yes
name string Datastore name Yes
capacity_threshold int
Use threshold of the datastore capacity. When
the use of datastore capacity reaches the
specified threshold, scheduled snapshot will no
longer be executed.
Yes
Response Example:
{
"snapshot_policy_model": "SMART",
"volume": [
{
"id": "1bc94326-2f24-41ff-896a-cb5bd30ab928",
"name": "test_snapshot",
"capacity_threshold": 10240
}
]
}
4.12.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.12.5. Edit scheduled snapshot policy
4.12.5.1. Scenario
Scenario: Edit a scheduled snapshot policy
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.8.0 and later
4.12.5.2. URI
Table 4.12.26 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/snapshots/policies Edit scheduled
snapshot policy
Parameter Description:
Table 4.12.27 Path Parameters¶
Parameter Location Type Description Required
snapshot_policy_id path string ID of the scheduled
snapshot policy Yes
4.12.5.3. Request
Request Parameter
Table 4.12.28 Body Parameter¶
Parameter Location Type Description Required
snapshot_policy body dict
View Parameter Description -
snapshot_policy for parameters used
to create a scheduled snapshot policy.
Yes
Parameter Description - snapshot_policy
Table 4.12.29 Parameter Description - snapshot_policy¶
Parameter Type Note Required
description string Description of the scheduled snapshot policy No
effective_policy dict
View Parameter Description - effective_policy for
the execution frequency of the scheduled snapshot
policy.
No
is_enable int Whether the tenant is enabled No
name string Name of the scheduled snapshot policy No
reserve_policies list View Parameter Description - reserve_policy for
snapshot retention rules. No
target_list list List of target IDs of the scheduled snapshot policy No
group_type string View Types of Scheduled Snapshot Policy Targets
for types of scheduled snapshot policy targets. No
Parameter Description - effective_policy
Table 4.12.30 Parameter Description - effective_policy¶
Parameter Type Note Required
frequency string
View Execution Frequency of Scheduled Snapshot Policy
for the execution frequency of the scheduled snapshot
policy.
Yes
schema dict
Execution frequency of the snapshot policy. For details,
see descriptions of the daily_schema, weekly_schema,
and hourly_schema parameters.
Yes
Parameter Description - daily_schema
Table 4.12.31 Parameter Description - daily_schema¶
Parameter Type Note Required
target_hour int Execute at the specified time each
day Yes
Parameter Description - weekly_schema
Table 4.12.32 Parameter Description - weekly_schema¶
Parameter Type Note Required
target_hour int Execute at the specified time each day
(value range :0-23) Yes
target_date int Execute on the specified day each week
(value range: 1-7) Yes
Parameter Description - hourly_schema
Table 4.12.33 Parameter Description - hourly_schema¶
Parameter Type Note Required
interval int Interval of taking snapshots (hour). Valid values: 1, 2, 3, 4,
6, 8, and 12 Yes
Parameter Description - reserve_policy
Table 4.12.34 Parameter Description - reserve_policy¶
Parameter Type Note Required
reserve_method string View Scheduled Snapshot Retention Rules for
snapshot retention rules. Yes
effective_seconds int Snapshot retention duration Yes
Request Example
https://{SCP_IP}/janus/20180725/snapshots/policies/2b170c29-affd-421c-a860-b498bd5f9e4f
{
"snapshot_policy": {
"name": "Edit a scheduled snapshot policy",
"effective_policy": {
"frequency": "HOURLY",
"schema": {
"interval": 12
}
},
"reserve_policies": [
{
"reserve_method": "HOURLY",
"effective_seconds": 604800
}
],
"description": "Interface editing test",
"is_enable": 1,
"group_type": "VM",
"target_list": [
]
}
}
4.12.5.4. Response
Response Parameter
Table 4.12.35 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.12.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.12.6. Delete scheduled snapshot policy
4.12.6.1. Scenario
Scenario: Delete a scheduled snapshot policy
Roles supported: Super administrator, system administrator, and other administrators with permission to
configure VM snapshots
Versions supported: SCP 6.8.0 and later
4.12.6.2. URI
Table 4.12.36 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/snapshots/policies Delete scheduled
snapshot policy
Parameter Description:
Table 4.12.37 Path Parameters¶
Parameter Location Type Description Required
snapshot_policy_id path string ID of the scheduled
snapshot policy Yes
4.12.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/snapshots/policies/2b170c29-affd-421c-a860-b498bd5f9e4f
4.12.6.4. Response
Response Parameter
Table 4.12.38 Response Parameter¶
Parameter Type Description Value Returned
task_id string ULOG task ID Yes
Response Example:
{
"task_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.12.6.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.13. Images
4.13.1. Common Image Parameters
4.13.1.1. Image Type
Table 4.13.1 Image Type¶
Value Description
private Private VM images, which are used to create virtual machines and only visible to users
themselves, and consume the quota of users’ private images
public Public image, used to create virtual machines and visible to all users on the platform
service (Removed)
vnetdev Network device images, required by ADC, NGAF, IAG and other network devices
appcenter
Application Center image, which is required by devices in Application Center
4.13.1.2. Image Status
Table 4.13.2 Image Status¶
Value Description
active Available
deactivated Unavailable
saving Saving
error Abnormal
4.13.1.3. Image OSes
Table 4.13.3 Image OSes¶
Value OS
linux-centos CentOS
linux-suse SUSE Linux
linux-oracle Oracle Linux
l26 Linux 3.X/2.6 Kernel (32 bit)
l2664 Linux 3.X/2.6 Kernel (64 bit)
l24 Linux 2.4 Kernel (32-bit)
l2464 Linux 2.4 Kernel (64 bit)
linux-freebsd FreeBSD
linux-redflag Red Flag Linux
linux-neokylin NeoKylin
linux-neoshine NeoShine Linux
linux-deepin Deepin Linux
linux-ubuntu Ubuntu
linux-debian Debian GNU/Linux
linux-redhat Red Hat Enterprise Linux
linux-solaris Solaris
linux-fedora Fedora
linux-kylinos Kylin OS
linux-arm Linux ARM
ws1964 Windows Server 2019 (64 bit)
ws1664 Windows Server 2016 (64 bit)
ws1264 Windows Server 2012 (64 bit)
ws08 Windows Server 2008 (32 bit)
ws0864 Windows Server 2008 (64 bit)
ws03 Windows Server 2003 (32 bit)
ws0364 Windows Server 2003 (64 bit)
win10 Microsoft Windows 10 (32 bit)
win1064 Microsoft Windows 10 (64 bit)
win8 Microsoft Windows 8 (32 bit)
win864 Microsoft Windows 8 (64 bit)
win7 Microsoft Windows 7 (32 bit)
win764 Microsoft Windows 7 (64 bit)
wxp Microsoft Windows XP (32 bit)
wxp64 Microsoft Windows XP (64 bit)
w2k Microsoft Windows 2000
other 32-bit OS
other64 64-bit OS
4.13.1.4. Image Format
Table 4.13.4 Image Format¶
Value Image Type
ISO ISO image
aCloud Built-in image (HCI)
vmware VMware image
4.13.1.5. Image Visibility
Table 4.13.5 Image Visibility¶
Value Description
private Private image
public Public image
shared Shared image
community Community image
4.13.1.6. Image Sharing Status
Table 4.13.6 Image Sharing Status¶
Value Description
accepted Accepted
rejected Rejected
pending Pending
4.13.1.7. Service Image Type
Table 4.13.7 Service Image Type¶
Value Description
cssp (Removed)
dsp-db Database image (for cloud database service)
dsp-dmp Database Management Platform image (for cloud database platform)
cbsp aSecurity service image
edr-mgr VM security protection image
4.13.1.8. Base Image Allocation Mode
Table 4.13.8 Base Image Allocation Mode¶
Value Description
OFF Thin provisioning
FULL Pre-allocating
METADATA Dynamic provisioning
4.13.1.9. Base Image Status
Table 4.13.9 Base Image Status¶
Value Description
AVAILABLE Available
UNAVAILABLE Unavailable
4.13.2. Query Images
4.13.2.1. Scenario
Scenario: Query images
Applicable roles: Super administrator, system administrator, tenant and other roles with permission to
read images.
Versions supported: SCP 6.3.0 and later; SCP 6.8.0 and later support filtering by image_ids
 Note
Tenants can only view private images and public images.
4.13.2.2. URI
Table 4.13.10 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/images Get images
Parameter Description:
Table 4.13.11 Path Parameters¶
Parameter Location Type Description Required
name path string Image name No
image_type path string Image type, view Image Type for details. No
status path string Image status, view Image Status for
details. No
os_type path string Image OS, view Image OSes for details. No
disk_format path string Image format, view Image Format for
details. No
az_id path string Associated resource pool ID No
owner_id path string Tenant ID No
image_ids path string List of image IDs where IDs are
separated by commas (,) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.13.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/images?page_num=0&page_size=100&image_type=service
4.13.2.4. Response
Response Parameter
Table 4.13.12 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID No
name string Image name No
description string Description of service image No
image_type string Image type, view Image Type for details. No
status string Image status, view Image Status for details. No
os_type string Image OS, view Image OSes for details. No
visibility string Image visibility, view Image Visibility for
details. No
disk_format string Image format, view Image Format for
details. No
owner_id string Tenant ID No
size_mb float Image size (MB) No
virtual_size_mb float Image disk capacity (MB) No
category string
Image type. normal indicates common
images, and service indicates service
images
No
is_vmtools_installed int(0, 1) Whether vmtools is installed. 0: Not
installed, 1: Installed No
has_gpu int(0, 1) Whether image supports GPU. 0: Do not
support, 1: Support No
message string Image related message (error message) No
task_id string Task ID, used to query progress when the
image is applied No
support_versions list(string) Supported cluster versions, all means that
image supports all cluster versions No
azs list(dict) Associated resource pool information, view
Parameter Description - azs for details. No
disks list(dict) Built-in disk information of the image, view
Parameter Description - disks for details. No
image_members list(dict)
or None
Image users, view Parameter Description -
image_members for details No
Parameter Description - azs:
Table 4.13.13 Parameter Description - azs¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
is_available string Whether the image is available in the resource pool, 0:
Unavailable, 1: Available Yes
arch_type string Architecture type, view Architecture Type for details. Yes
Parameter Description - disks:
Table 4.13.14 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string Disk ID Yes
storage_id string Storage ID Yes
size_mb float Image size (MB) Yes
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
tpl_config dict Template configuration, view Parameter Description -
disks tpl_config for details. No
Parameter Description - disks tpl_config:
Table 4.13.15 Parameter Description - disks tpl_config¶
Parameter Type Description Value Returned
mem_hotplug int(0, 1) Whether to enable memory
hotplug Yes
cpu_hotplug int(0, 1) Whether to enable CPU
hotplug Yes
machine_type string Motherboard information No
Parameter Description - image_members:
Table 4.13.16 Parameter Description - image_members¶
Parameter Type Description
Value
Returned
member_id string Image user ID (tenant ID) Yes
status string Image sharing status, view Image Sharing Status for
details. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "error",
"size_mb": 7.62939453125e-06,
"virtual_size_mb": 0,
"description": "",
"task_id": "",
"support_versions": [
"all"
],
"image_type": "public",
"os_type": "",
"disks": [],
"disk_format": "ISO",
"owner_id": "b9f644e5d4ed42358d287b19ea944e71",
"visibility": "public",
"has_gpu": 0,
"is_vmtools_installed": 0,
"image_members": null,
"message": "",
"azs": [],
"id": "71eed759-4745-4a6b-97b7-844a9ea77198",
"name": "wzg test_1612-588R6_b7240d86 _1612-588R6_71eed759"
},
{
"status": "active",
"size_mb": 2304.0,
"virtual_size_mb": 81920.0,
"description": "",
"task_id": "57fd00dd-487d-4f49-9951-455755087f84",
"support_versions": [
"5.8.8.R6"
],
"image_type": "public",
"os_type": "l2664",
"disks": [
{
"size_mb": 81920.0,
"preallocate": "off",
"storage_id": "71295054_vs_vol_rep2",
"id": "ide0",
"tpl_config": {
"mem_hotplug": 0,
"cpu_hotplug": 0,
"machine_type": "i440fx"
}
},
{
"size_mb": 81920.0,
"preallocate": "off",
"storage_id": "1SANGFOR_ASAN-001-983f-4930-8000-2d33c04ffc92
",
"id": "ide0",
"tpl_config": {
"mem_hotplug": 0,
"cpu_hotplug": 0,
"machine_type": "i440fx"
}
}
],
"disk_format": "aCloud",
"owner_id": "b9f644e5d4ed42358d287b19ea944e71",
"visibility": "public",
"has_gpu": 0,
"is_vmtools_installed": 1,
"image_members": null,
"message": "",
"azs": [
{
"is_available": 1,
"id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"arch_type": "hci_x86"
}
],
"id": "d2f37876-8e5d-4d12-8de3-07e3c23ca54b",
"name": "centos-6.5-X64-20190426"
}
]
4.13.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.3. Query Images
4.13.3.1. Scenario
Scenario: Query images
Applicable roles: Super administrator, system administrator, tenant and other roles with permission to
read images.
Versions supported: SCP 6.3.0 and later; SCP 6.8.0 and later support filtering by image_ids
 Note
Tenants can only view private images and public images.
4.13.3.2. URI
Table 4.13.17 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/images Get images
Parameter Description:
Table 4.13.18 Path Parameters¶
Parameter Location Type Description Required
name path string Image name No
image_type path string Image type, view Image Type for details. No
status path string Image status, view Image Status for
details. No
os_type path string Image OS, view Image OSes for details. No
disk_format path string Image format, view Image Format for
details. No
az_id path string Associated resource pool ID No
owner_id path string Tenant ID No
image_ids path string List of image IDs where IDs are
separated by commas (,) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.13.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/images?page_num=0&page_size=100&image_type=service
4.13.3.4. Response
Response Parameter
Table 4.13.19 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID No
name string Image name No
description string Description of service image No
image_type string Image type, view Image Type for details. No
status string Image status, view Image Status for details. No
os_type string Image OS, view Image OSes for details. No
visibility string Image visibility, view Image Visibility for
details. No
disk_format string Image format, view Image Format for
details. No
owner_id string Tenant ID No
size_mb float Image size (MB) No
virtual_size_mb float Image disk capacity (MB) No
category string
Image type. normal indicates common
images, and service indicates service
images
No
is_vmtools_installed int(0, 1) Whether vmtools is installed. 0: Not
installed, 1: Installed No
has_gpu int(0, 1) Whether image supports GPU. 0: Do not
support, 1: Support No
message string Image related message (error message) No
task_id string Task ID, used to query progress when the
image is applied No
support_versions list(string) Supported cluster versions, all means that
image supports all cluster versions No
azs list(dict) Resource pool bound with the image. For
details, see Parameter Description - azs No
disks list(dict) Built-in disk information of image. For
details, see Parameter Description - disks No
image_members list(dict)
or None
Image members. For details, see Parameter
Description - image_members No
hci_param dict Parameter specific to HCI. For details, see
Parameter Description - hci_param No
Parameter Description - azs:
Table 4.13.20 Parameter Description - azs¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
is_available string Whether the image is available in the resource pool, 0:
Unavailable, 1: Available Yes
arch_type string Architecture type, view Architecture Type for details. Yes
Parameter Description - disks:
Table 4.13.21 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string Disk ID Yes
storage_id string Storage ID Yes
size_mb float Image size (MB) Yes
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
tpl_config dict Template configuration. For details, see Parameter
Description - disks tpl_config No
pci_type string PCIe bus type of a VM No
Parameter Description - disks tpl_config:
Table 4.13.22 Parameter Description - disks tpl_config¶
Parameter Type Description Value Returned
mem_hotplug int(0, 1) Whether to enable memory
hotplug Yes
cpu_hotplug int(0, 1) Whether to enable CPU
hotplug Yes
machine_type string Motherboard information No
Parameter Description - image_members:
Table 4.13.23 Parameter Description - image_members¶
Parameter Type Description
Value
Returned
member_id string Image user ID (tenant ID) Yes
status string Image sharing status, view Image Sharing Status for
details. Yes
Parameter Description - hci_param:
Table 4.13.24 Parameter Description - hci_param¶
Parameter Type Description
Value
Returned
boot_order string Boot sequence, c means cdrom, d means disk. Valid
values: cd, dc, c, d No
boot_disk string Boot disk No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "error",
"size_mb": 7.62939453125e-06,
"virtual_size_mb": 0,
"description": "",
"task_id": "",
"support_versions": [
"all"
],
"image_type": "public",
"os_type": "",
"disks": [],
"disk_format": "ISO",
"owner_id": "b9f644e5d4ed42358d287b19ea944e71",
"visibility": "public",
"has_gpu": 0,
"is_vmtools_installed": 0,
"image_members": null,
"message": "",
"hci_param": null,
"azs": [],
"id": "71eed759-4745-4a6b-97b7-844a9ea77198",
"name": "wzg test_1612-588R6_b7240d86 _1612-588R6_71eed759"
},
{
"status": "active",
"size_mb": 2304.0,
"virtual_size_mb": 81920.0,
"description": "",
"task_id": "57fd00dd-487d-4f49-9951-455755087f84",
"support_versions": [
"5.8.8.R6"
],
"image_type": "public",
"os_type": "l2664",
"disks": [
{
"size_mb": 81920.0,
"preallocate": "off",
"storage_id": "71295054_vs_vol_rep2",
"id": "ide0",
"tpl_config": {
"mem_hotplug": 0,
"cpu_hotplug": 0,
"machine_type": "i440fx"
},
"pci_type": "pcie-root-port"
},
{
"size_mb": 81920.0,
"preallocate": "off",
"storage_id": "1SANGFOR_ASAN-001-983f-4930-8000-2d33c04ffc92
",
"id": "ide0",
"tpl_config": {
"mem_hotplug": 0,
"cpu_hotplug": 0,
"machine_type": "i440fx"
}
}
],
"disk_format": "aCloud",
"owner_id": "b9f644e5d4ed42358d287b19ea944e71",
"visibility": "public",
"has_gpu": 0,
"is_vmtools_installed": 1,
"image_members": null,
"hci_param": {
"boot_disk": "ide0",
"boot_order": "dc"
},
"message": "",
"azs": [
{
"is_available": 1,
"id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"arch_type": "hci_x86"
}
],
"id": "d2f37876-8e5d-4d12-8de3-07e3c23ca54b",
"name": "centos-6.5-X64-20190426"
}
]
4.13.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.4. Query Service Images
4.13.4.1. Scenario
Scenario: Query service images
Applicable roles: Super administrator, system administrator and other administrators with permission to
read images.
Versions supported: SCP 6.3.0 and later; SCP 6.8.0 and later support filtering by image_ids
4.13.4.2. URI
Table 4.13.25 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/service-images Get service images
Parameter Description:
Table 4.13.26 Path Parameters¶
Parameter Location Type Description Required
name path string Service image name No
service_type path string Service image type, view Service Image
Type for details. No
service_tag path string Service image tag No
status path string Image status, view Image Status for
details. No
os_type path string Image OS, view Image OSes for details. No
disk_format path string Image format, view Image Format for
details. No
az_id path string Associated resource pool ID No
owner_id path string Tenant ID No
image_ids path string
List of image IDs where IDs are
separated by commas (,) (This parameter
was added on July 25, 2019 for image
filtering.
No
 Note
For common path parameters details, see Common Path Parameter Format.
4.13.4.2.1. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/service-images?
page_num=0&page_size=100&owner_id=78ad8e9c9c7e487186f448bc81f050a6
4.13.4.3. Response
Response parameter:
Table 4.13.27 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID No
name string Image name No
description string Description of service image No
image_type string Image type, view Image Type for details. No
service_type string Service image type, view Service Image
Type for details. No
service_tag string Service image tag No
service_version string Service image version No
category string
Image type. normal indicates common
images, and service indicates service
images
No
status string Image status, view Image Status for details. No
os_type string Image OS, view Image OSes for details. No
visibility string Image visibility, view Image Visibility for
details. No
disk_format string Image format, view Image Format for
details. No
owner_id string Tenant ID No
size_mb float Image size (MB) No
virtual_size_mb float Image disk capacity (MB) No
is_vmtools_installed int(0, 1) Whether vmtools is installed. 0: Not
installed, 1: Installed No
has_gpu int(0, 1) Whether image supports GPU. 0: Do not
support, 1: Support No
message string Image related message (error message) No
task_id string Task ID, used to query progress when the
image is applied No
support_versions list(string) Supported cluster versions, all means that
image supports all cluster versions No
azs list(dict) Associated resource pool information, view
Parameter Description - azs for details. No
disks list(dict) Built-in disk information of the image, view
Parameter Description - disks for details. No
image_members list(dict)
or None
Image users, view Parameter Description -
image_members for details. No
Parameter Description - azs:
Table 4.13.28 Parameter Description - azs¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
is_available string Whether the image is available in the resource pool, 0:
Unavailable, 1: Available Yes
arch_type string Architecture type, view Architecture Type for details. Yes
Parameter Description - disks:
Table 4.13.29 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string Disk ID Yes
storage_id string Storage ID Yes
size_mb float Image size (MB) Yes
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
tpl_config dict View Parameter Description - disks_tpl_config for
template configuration details. No
Parameter Description - disks_tpl_config:
Table 4.13.30 Parameter Description - disks_tpl_config¶
Parameter Type Description Value Returned
mem_hotplug int(0, 1) Whether to enable memory
hotplug Yes
cpu_hotplug int(0, 1) Whether to enable CPU
hotplug Yes
machine_type string Motherboard information No
Parameter Description - image_members:
Table 4.13.31 Parameter Description - image_members¶
Parameter Type Description
Value
Returned
member_id string Image user ID (tenant ID) Yes
status string Image sharing status, view Image Sharing Status for
details. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"service_tag": "MySQL",
"is_vmtools_installed": 1,
"message":"",
"id": "323bd9c4-9f27-4737-9ac2-ed7d22150dfb",
"service_version": "",
"support_versions": [],
"image_type": "service",
"disk_format": "aCloud",
"size_mb": 89728.0,
"service_type": "dsp-db",
"owner_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"status": "error",
"virtual_size_mb": 102400.0,
"description": "",
"visibility": "public",
"has_gpu": 0,
"name": "MySQL5.7.40_Centos8_2.2.8(20230315)xxx",
"task_id": "b0d23912-b441-4a58-877a-3d543e4cb4e2",
"disks": [
{
"size_mb": 102400.0,
"preallocate": "off",
"tpl_config": {
"mem_hotplug": 1,
"cpu_hotplug": 1,
"machine_type": "i440fx"
},
"id": "ide0",
"storage_id": "501e67a7_vs_vol_rep2"
}
],
"image_members": null,
"os_type": "l2664",
"azs": [
{
"is_available": 0,
"id": "5dc5dea5-075c-4dab-888f-26e7f5cf7c7a",
"arch_type": "hci_x86"
}
]
},
{
"service_tag": "MySQL",
"is_vmtools_installed": 1,
"message": "",
"id": "0f1ab4d6-5542-4b5a-a3f2-bec1cf96b28e",
"service_version": "",
"support_versions": [
"6.7.0.R1"
],
"image_type": "service",
"disk_format": "aCloud",
"size_mb": 89729.0,
"service_type": "dsp-db",
"owner_id": "f866c39e45754bd78f9e3d7d4632bcbc",
"status": "active",
"virtual_size_mb": 102400.0,
"description": "",
"visibility": "public",
"has_gpu": 0,
"name": "MySQL5.7.40_Centos8_2.2.8(20230315)",
"task_id": "c848962c-7c68-48ce-bf1f-1be8807a0827",
"disks": [
{
"size_mb": 102400.0,
"preallocate": "off",
"tpl_config": {
"mem_hotplug": 1,
"cpu_hotplug": 1,
"machine_type": "i440fx"
},
"id": "ide0",
"storage_id": "350014eef0100cb6f_6c92bfdbfa60"
}
],
"image_members": null,
"os_type": "l2664",
"azs": [
{
"is_available": 1,
"id": "572655ad-57c2-4ecd-91a9-87bfa12d896b",
"arch_type": "hci_x86"
}
]
}
]
4.13.4.4. Response Code
OK: 200
Errors: 400, 403, 500
4.13.5. Query Virtual Network Device Images
4.13.5.1. Scenario
Scenario: Query virtual network device images
Roles supported: Super admin, system admin, and co-administrator with the Image Read permission
Versions supported: SCP 6.3.0 and later
4.13.5.2. URI
Table 4.13.32 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vnetdev-images Query Virtual Network Device
Images
Parameter Description:
Table 4.13.33 Path Parameters¶
Parameter Location Type Description Required
name path string Image name No
type path string Virtual network device image type No
status path string Image status, view Image Status for
details. No
os_type path string Image OS, view Image OSes for details. No
disk_format path string Image format, view Image Format for
details. No
az_id path string Associated resource pool ID No
owner_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.13.5.3. Request
Request Parameter
None
Request Example
https://{{scp_host}}/janus/20180725/vnetdev-images
4.13.5.4. Response
Response parameter:
Table 4.13.34 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID No
name string Image name No
description string Image description No
image_type string Image type, view Image Type for details. No
type string Virtual network device image type No
type_name string Virtual network device type and name No
version string Image version No
build_time string Image creation time, which is a string in ISO
format No
status string Image status, view Image Status for details. No
os_type string Image OS, view Image OSes for details. No
visibility string Image visibility, view Image Visibility for
details. No
disk_format string Image format, view Image Format for
details. No
owner_id string Tenant ID No
size_mb float Image size (MB) No
virtual_size_mb float Image disk capacity (MB) No
is_vmtools_installed int(0, 1) Whether vmtools is installed. 0: Not
installed, 1: Installed No
has_gpu int(0, 1) Whether image supports GPU. 0: Do not
support, 1: Support No
category string
Image type. normal indicates common
images, and service indicates service
images
No
message string Image related message (error message) No
task_id string Task ID, used to query progress when the
image is applied No
support_versions list(string) Supported cluster versions, all means that
image supports all cluster versions No
azs list(dict) Associated resource pool information, view
Parameter Description - azs for details. No
disks list(dict) Built-in disk information of the image, view
Parameter Description - disks for details. No
image_members list(dict)
or None
Image users, view Parameter Description -
image_members for details. No
Parameter Description - azs:
Table 4.13.35 Parameter Description - azs¶
Parameter Type Description
Value
Returned
id string Resource pool ID Yes
is_available string Whether the image is available in the resource pool, 0:
Unavailable, 1: Available Yes
arch_type string Architecture type, view Architecture Type for details. No
Parameter Description - disks:
Table 4.13.36 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string Disk ID Yes
storage_id string Storage ID Yes
size_mb float Image size (MB) Yes
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
tpl_config dict Template configuration, view Parameter Description -
disks tpl_config for details. No
Parameter Description - disks tpl_config:
Table 4.13.37 Parameter Description - disks tpl_config¶
Parameter Type Description Value Returned
mem_hotplug int(0, 1) Whether to enable memory
hotplug Yes
cpu_hotplug int(0, 1) Whether to enable CPU
hotplug Yes
machine_type string Motherboard information No
Parameter Description - image_members:
Table 4.13.38 Parameter Description - image_members¶
Parameter Type Description
Value
Returned
member_id string Image user ID (tenant ID) Yes
status string Image sharing status, view Image Sharing Status for
details. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "active",
"size_mb": 2580.5,
"virtual_size_mb": null,
"description": "vnet_dev",
"task_id": "bedcf6fd-c30a-4f6e-b839-d39555343a49",
"support_versions": [
"6.3.0"
],
"image_type": "vnetdev",
"os_type": null,
"disks": [
{
"size_mb": 81920,
"preallocate": false,
"storage_id": "1SANGFOR_ASAN-00c-b4f6-42b8-938c-00a7c09d6f72
",
"id": "ide0",
"tpl_config": {
"mem_hotplug": 0,
"cpu_hotplug": 0,
"machine_type": ""
}
}
],
"disk_format": null,
"owner_id": null,
"visibility": "public",
"has_gpu": 0,
"is_vmtools_installed": 0,
"image_members": null,
"message": "",
"azs": [
{
"is_available": 1,
"id": "611f1b34-c727-4925-854e-07bc8607f681"
}
],
"type": "DBLB",
"id": "77222661-22f7-40a0-b3ea-d3578f4bf792",
"name": "NFV_vDBLB_7.0.8R3_20201110"
}
]
4.13.5.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.6. Create an Image from a Virtual Machine
4.13.6.1. Scenario
Scenario: Create an image from a virtual machine
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Image Creation
permission
Versions supported: SCP6.3.70 and later
Note: VMs that are associated with encryption cards are not supported.
4.13.6.1.1. URI
Table 4.13.39 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/images/action Create an Image from a
Virtual Machine
Parameter Description:
None
4.13.6.1.2. Request
Request Parameter
Table 4.13.40 Response Parameter¶
Parameter Location Type Description Required
server_id body string Virtual machine ID Yes
name body string Image name Yes
description body string Image description No
os_type body string OS type, view Image OSes for details. Yes
azs body list(string) Resource pool IDs Yes
gpu_conf body dict GPU parameters, view Parameter
Description - gpu_conf for details No
Parameter Description - gpu_conf:
Table 4.13.41 Parameter Description - gpu_conf¶
Parameter Type Required Note
slice_type string Yes vGPU type, view vGPU Type for details.
gpu_types list(string) Yes GPU types
schedulers list(string) Yes GPU scheduling, view Scheduling Method for
details.
Request Example
{
"server_id": "5eefb8f7-b6c8-436d-a883-e92c0d978f4c",
"name": "Create_Image_from_VM",
"os_type": "l2664",
"azs": [
"611f1b34-c727-4925-854e-07bc8607f681"
],
"description": "Create image from VM"
}
4.13.6.1.3. Response
Response Parameter
Table 4.13.42 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
 Note
The ID of the image being created cannot be obtained immediately. For image information,
search images by image name (Query Images).
4.13.6.1.4. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.13.7. Create an Image
4.13.7.1. Scenario
Scenario: To upload an image to the platform, you need to create an image first.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Image Write
permission
Versions supported: SCP6.3.70 and later
 Note
After an image is created, it will take effect only after it is uploaded to the platform. View
Upload an Image for details.
4.13.7.1.1. URI
Table 4.13.43 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/images Used to create image
Parameter Description:
None
4.13.7.1.2. Request
Request Parameter
Table 4.13.44 Response Parameter¶
Parameter Location Type Description Required
image_type body string Image Type Yes
name body string Image name No
azs body list(string) Resource pool IDs Yes
disk_format body string Image format. The options are ISO
and aCloud Yes
description body string Image description No
os_type body string Image OS, view Image OSes for
details. No
owner_id body string Image owner ID No
service_type body string Service image type, view Service
Image Type for details. No
service_tag body string Image tag No
Request Example
https://{SCP_IP}/janus/20180725/images
Create a public image:
{
"image_type": "public",
"disk_format": "aCloud",
"name": "Sangfor_SCP_6.2.0(20201016)",
"os_type": "linux-centos",
"description": "Public Image",
"azs": [
"611f1b34-c727-4925-854e-07bc8607f681"
]
}
Create a private image:
{
"image_type": "private",
"disk_format": "ISO",
"name": "Sangfor_SCP_6.2.0(20201016)",
"os_type": "linux-centos",
"description": "Private image",
"azs": [
"611f1b34-c727-4925-854e-07bc8607f681"
],
"owner": "c5f9ed4abab94b46ad0e7a1783a7e2ba"
}
Create a network device image:
{
"image_type": "vnetdev",
"disk_format": "aCloud",
"azs": [
"611f1b34-c727-4925-854e-07bc8607f681"
]
}
Create a service image:
{
"image_type": "service",
"disk_format": "aCloud",
"name": "Sangfor_SCP_6.2.0(20201016)",
"service_type": "cssp",
"description": "Service image",
"azs": [
"611f1b34-c727-4925-854e-07bc8607f681"
]
}
4.13.7.1.3. Response
Response Parameter
Table 4.13.45 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
id string Image ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "24591d7e-170c-4bc0-a1e1-d2cddfe8d4cb",
"id": "882a56d4-0304-4904-a030-2d851bb36231"
}
4.13.7.1.4. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.13.8. Upload an Image
 Note
1. Upload will fail if it is interrupted.
2. After the image is uploaded, it is not available until it has been distributed to a specified
resource pool or the task “creating image” is completed.
4.13.8.1. Scenario
Scenario:
Administrator uploads virtual machine images.
Administrator uploads private images.
Administrator uploads network device images.
(Removed)
Tenant uploads private images.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Image Write
permission
Versions supported: SCP6.3.70 and later
4.13.8.1.1. URI
Table 4.13.46 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/images/{image_id}/upload Upload an
Image
Parameter Description:
Table 4.13.47 Path Parameters¶
Parameter Location Type Description Required
image_id path string Image ID Yes
4.13.8.1.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/images/a043b00e-0b79-4199-b301-d424a35feeb6/upload
4.13.8.1.3. Response
Response Parameter
Table 4.13.48 Response Parameter¶
Parameter Type Description
Value
Returned
task_id UUIDType Task ID, the ID for distributing image Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.13.8.1.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.13.9. Edit an Image
4.13.9.1. Scenario
Scenario:
Modify an image.
Associate the image with a specified resource pool.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Image Write
permission
Versions supported: SCP6.3.70 and later
4.13.9.1.1. URI
Table 4.13.49 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/images/{image_id} Edit an
Image
Parameter Description:
Table 4.13.50 Path Parameters¶
Parameter Location Type Description Required
image_id path string Image ID Yes
4.13.9.1.2. Request
Request Parameter
Table 4.13.51 Response Parameter¶
Parameter Location Type Description Required
name body string Image name No
description body string Image description No
os_type body string OS type, view Image OSes for details. No
azs body list(string) Resource pool IDs No
gpu_conf body dict
GPU parameter description, view
Parameter Description - gpu_conf for
details.
No
Parameter Description - gpu_conf:
Table 4.13.52 Parameter Description - gpu_conf¶
Parameter Type Required Note
slice_type string Yes vGPU type, view vGPU Type for details.
gpu_types list(string) Yes GPU types
schedulers list(string) Yes GPU scheduling, view Scheduling Method for
details.
Request Example
https://{SCP_IP}/janus/20180725/images/e3c6b8e870c84a90be87eddfbf7ae12f
{
"name": "centos7-test",
"description": "",
"os_type": "linux-centos",
"azs": [
"1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
]
}
4.13.9.1.3. Response
Response Parameter
Parameter Type Description Value Returned
task_id UUIDType Asynchronous task
ID Yes
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.13.9.1.4. Response Code
OK: 200
Errors: 400, 403, 404，500
4.13.10. Delete an Image
4.13.10.1. Scenario
Scenario: Delete an image.
Roles supported: Super admin, system admin, tenant, and co-administrator with the VM Image Creation
permission
Versions supported: SCP6.3.70 and later
 Note
Before deleting an image, check the following:
Whether the image has been associated with auto scaling.
(Removed)
If the above situation exists, the image cannot be deleted.
4.13.10.1.1. URI
Table 4.13.53 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/v20180725/images/{image_id} Delete an image
Parameter Description:
Table 4.13.54 Path Parameters¶
Parameter Location Type Description Required
image_id path strng Image ID Yes
4.13.10.1.2. Request
Request Parameter
None
Request Example
None
4.13.10.1.3. Response
Response Parameter
None
Response Example:
None
4.13.10.1.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.13.11. Query List of Base Images
4.13.11.1. Scenario
Scenario: Query the list of base images
Roles supported: Super administrator and platform administrator with permission to obtain the list of
base images
Versions supported: SCP 6.10.0 and later
4.13.11.2. URI
Table 4.13.55 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/base-images Query List of Base Images
Parameter Description:
Table 4.13.56 Path Parameters¶
Parameter Location Type Description Required
ids path string Image ID. Multiple IDs are
separated by commas (,). No
metadata path string Metadata No
az_id path string Resource pool ID Yes
page_num path int Number of requested pages No
page_size path int Page size No
 Note
1. Only the data_id parameter can be queried by using the metadata, and the format
data_id=c55e0350-a8c8-4edf-baf6-5c12e9d91da7 must be used for query.
2. If page_num and page_size are not passed in, all data is queried. If only page_num is
passed in, page_size is 100 by default. If only page_size is passed in, page_num is 0 by
default.
4.13.11.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/base-images?az_id=d047ad88-7c20-4f20-af3fc05f0ab7ed39&
metadata=data_id=d047ad88-7c20-4f20-af3f-c05f0ab7ed39
4.13.11.4. Response
Response Parameter
Table 4.13.57 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID Yes
size_byte int Capacity Yes
created_at string Time created Yes
description string Description Yes
name string Name Yes
preallocate string Allocation mode. For details, see Base Image Allocation
Mode. Yes
status string Status. For details, see Base Image Status. Yes
updated_at string Update time Yes
metadata dict Metadata. For details, see Parameter Description -
metadata. Yes
Parameter Description - metadata:
Table 4.13.58 Parameter Description - metadata¶
Parameter Type Required Note
data_id string Yes Base image data ID
source string Yes Base image source
Response Example:
[
{
"status": "AVAILABLE",
"preallocate": "OFF",
"description": "",
"size_byte": 721554505728,
"created_at": "2023-07-27 16:56:21 +0800 GMT-8",
"updated_at": "2023-07-27 16:56:21 +0800 GMT-8",
"metadata": {
"source": "2791756817459",
"data_id": "da5dc018-808e-4bbd-8ee2-8b14131ad053"
},
"id": "9c2bbd441b7444e0b19147f25211b8c2",
"name": "vm-disk-1.qcow2"
}
]
4.13.11.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.12. Create Base Image
4.13.12.1. Scenario
Scenario: Create a base image
Roles supported: Super administrator and platform administrator with permission to create a base image
Versions supported: SCP 6.10.0 and later
4.13.12.2. URI
Table 4.13.59 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/base-images Create Base Image
Parameter Description:
None
4.13.12.3. Request
Request Parameter
Table 4.13.60 Response Parameter¶
Parameter Location Type Description Required
id body string Image ID No
az_id body string Resource pool ID Yes
storage_id body string Storage ID Yes
size_byte body int（1，69269232549888） Capacity Yes
name body string Name No
metadata body dict
Metadata. For
details, see
Parameter
Description -
metadata.
Yes
description body string Description No
preallocate body string
Allocation mode.
For details, see
Base Image
Allocation Mode.
Yes
 Note
If storage_id indicates a physical host system disk, the format of storage_id is hostxxx_local.
Parameter Description - metadata:
Table 4.13.61 Parameter Description - metadata¶
Parameter Type Description Required
data_id string Base image data ID Yes
source string Base image source No
Request Example
https://{SCP_IP}/janus/20180725/base-images
{
"preallocate": "METADATA",
"size_byte": 22432186368,
"storage_id": "host-00505697a396_local",
"metadata": {
"data_id": "75fb3649-1a73-4d42-a74c-62db68ba9111",
"source": "2791756817459"
},
"az_id": "6affd57b-3660-4b2d-beb4-ffaa1e58dece",
"name": "test",
"description": "test",
"id": "c8b3b8b1aea34c7c9f26f36e71655fd9"
}
4.13.12.4. Response
Response Parameter
Table 4.13.62 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
id string Image ID Yes
Response Example:
{
"id": "c8b3b8b1aea34c7c9f26f36e71655fd9",
"task_id": "2dc3b1f2-ed36-42be-b9b0-25beaf3f7d70"
}
4.13.12.5. Response Code
Success: 201
Errors: 400, 403, 500
4.13.13. Edit Base Image
4.13.13.1. Scenario
Scenario: Edit a base image
Roles supported: Super administrator and platform administrator with permission to edit a base image
Versions supported: SCP 6.10.0 and later
4.13.13.2. URI
Table 4.13.63 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/base-images/{image_id} Edit Base Image
Parameter Description:
Table 4.13.64 Path Parameters¶
Parameter Location Type Description Required
image_id path string Image ID Yes
4.13.13.3. Request
Request Parameter
Table 4.13.65 Response Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
name body string Name No
description body string Description No
status body string Status. For details, see Base Image Status. No
metadata body dict Metadata (reserved field). For details, see
Parameter Description - metadata. No
Parameter Description - metadata:
Table 4.13.66 Parameter Description - metadata¶
Parameter Type Description Required
data_id string Base image data ID No
source string Base image source No
Request Example
https://{SCP_IP}/janus/20180725/base-images/c8b3b8b1aea34c7c9f26f36e71655fd9
{
"status": "UNAVAILABLE",
"az_id": "6affd57b-3660-4b2d-beb4-ffaa1e58dece",
"name": "update_test",
"description": "update_test",
}
4.13.13.4. Response
Response Parameter
Table 4.13.67 Response Parameter¶
Parameter Type Description
Value
Returned
id string Image ID Yes
size_byte int Capacity Yes
created_at string Time created Yes
description string Description Yes
name string Name Yes
preallocate string Allocation mode Yes
status string Status. For details, see Base Image Status. Yes
updated_at string Update time Yes
metadata dict Metadata. For details, see Parameter Description -
metadata. Yes
Parameter Description - metadata:
Table 4.13.68 Parameter Description - metadata¶
Parameter Type Required Note
data_id string Yes Base image data ID
source string Yes Base image source
Response Example:
{
"status": "UNAVAILABLE",
"preallocate": "",
"description": "update_test",
"size_byte": 721554505728,
"created_at": "2023-07-27 16:56:21 +0800 GMT-8",
"updated_at": "2023-07-27 16:56:21 +0800 GMT-8",
"metadata": {
"source": "2791756817459",
"data_id": "da5dc018-808e-4bbd-8ee2-8b14131ad053"
},
"id": "c8b3b8b1aea34c7c9f26f36e71655fd9",
"name": "update_test"
}
4.13.13.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.14. Delete Base Image
4.13.14.1. Scenario
Scenario: Delete a base image
Roles supported: Super administrator and platform administrator with permission to delete a base image
Versions supported: SCP 6.10.0 and later
4.13.14.2. URI
Table 4.13.69 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/base-images/{image_id} Delete Base
Image
Parameter Description:
Table 4.13.70 Path Parameters¶
Parameter Location Type Description Required
image_id path string Image ID Yes
az_id path string Resource pool
ID Yes
4.13.14.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/base-images/c8b3b8b1aea34c7c9f26f36e71655fd9?
az_id=d047ad88-7c20-4f20-af3f-c05f0ab7ed39
4.13.14.4. Response
Response Parameter
Table 4.13.71 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
Response Example:
{
"task_id": "9c147583-bd8a-4f5e-8258-1be0689e6440"
}
4.13.14.5. Response Code
Normal: 204
Errors: 400, 403, 500
4.13.15. Query List of Base Image Copies
4.13.15.1. Scenario
Scenario: Query the list of base image copies
Roles supported: Super administrator and platform administrator with permission to obtain the list of
base image copies
Versions supported: SCP 6.10.0 and later
4.13.15.2. URI
Table 4.13.72 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/base-images/{image_id}/replicas Query List of Base
Image Copies
Parameter Description:
Table 4.13.73 Path Parameters¶
Parameter Location Type Description Required
image_id path string Base image ID Yes
storage_ids path string Datastore ID. Multiple IDs are
separated by commas (,). No
az_id path string Resource pool ID Yes
page_num path int Number of requested pages No
page_size path int Page size No
 Note
1. If storage_id indicates a physical host system disk, the format of storage_id is
hostxxx_local.
2. If page_num and page_size are not passed in, all data is queried. If only page_num is
passed in, page_size is 100 by default. If only page_size is passed in, page_num is 0 by
default.
4.13.15.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/base-images/49c4b45122b946de89f54557e1421bf4/replicas?
az_id=d047ad88-7c20-4f20-af3f-c05f0ab7ed39&storage_ids=host-00505697a396_local
4.13.15.4. Response
Response Parameter
Table 4.13.74 Response Parameter¶
Parameter Type Description
Value
Returned
image_id string Base image ID Yes
storage_id string Storage ID Yes
storage_file string Storage path Yes
status_updated_at string Status update date Yes
created_at string Time created Yes
status string Status Yes
metadata dict Metadata. For details, see Parameter Description
- metadata. Yes
updated_at string Update time Yes
size_byte int Copy size Yes
Parameter Description - metadata:
Table 4.13.75 Parameter Description - metadata¶
Parameter Type Required Note
data_id string Yes Data ID
Response Example:
[
{
"status": "UNAVAILABLE",
"size_byte": 47185920,
"created_at": "2023-08-29 19:21:39 +0800 GMT-8",
"status_updated_at": "2023-08-29 19:21:39 +0800 GMT-8",
"updated_at": "2023-08-29 19:21:39 +0800 GMT-8",
"image_id": "c8b3b8b1aea34c7c9f26f36e71655fd9",
"storage_id": "host-00505697a396_local",
"storage_file": "volume/data/0/c8b3b8b1aea34c7c9f26f36e71655fd9_1693
308097.qcow2",
"metadata": {
"data_id": "75fb3649-1a73-4d42-a74c-62db68ba9111"
}
}
]
4.13.15.5. Response Code
OK: 200
Errors: 400, 403, 500
4.13.16. Synchronize Base Image Copy
4.13.16.1. Scenario
Scenario: Synchronize a base image copy
Roles supported: Super administrator and platform administrator with permission to synchronize a base
image copy
Versions supported: SCP 6.10.0 and later
4.13.16.2. URI
Table 4.13.76 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/base-images/{image_id}/replicas/actions/sync
Synchronize
Base Image
Copy
Parameter Description:
Table 4.13.77 Path Parameters¶
Parameter Location Type Description Required
image_id path string Base image ID Yes
4.13.16.3. Request
Request Parameter
Table 4.13.78 Response Parameter¶
Parameter Location Type Description Required
src_storage_id body string Source datastore ID
of the copy No
des_storage_id body string Destination datastore
ID of the copy Yes
az_id body string Resource pool ID Yes
 Note
If storage_id indicates a physical host system disk, the format of storage_id is hostxxx_local.
Request Example
https://{SCP_IP}/janus/20180725/baseimages/
c8b3b8b1aea34c7c9f26f36e71655fd9/replicas/actions/sync
{
"src_storage_id": "host-00505697a396111_local",
"az_id": "6affd57b-3660-4b2d-beb4-ffaa1e58dece",
"des_storage_id": "36e9be8f85fe7465180242d2e211110082179"
}
4.13.16.4. Response
Response Parameter
Table 4.13.79 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
Response Example:
{
"task_id": "605af2f3-aa27-4592-9b1a-ff3ace952dfb"
}
4.13.16.5. Response Code
Success: 201
Errors: 400, 403, 500
4.14. Billing
4.14.1. Query Tenants’ Bills
4.14.1.1. Scenario
Scenario: Query tenants’ bills
Roles supported: Super admin, system admin, MSP admin, tenant, and co-administrator with the Billing
Read permission
Versions supported: SCP6.3.70 and later
4.14.1.2. URI
Table 4.14.1 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/projects/{project_id}/bills/fee-records
Query
tenants’
bills
Parameter Description:
Table 4.14.2 Path Parameters¶
Parameter Location Type Description Required
project_id path string MSP administrator/tenant ID Yes
start_time path string Start time, in ISO 8601 format, example:
“2020-12-01T03:17:42Z” Yes
end_time path string End time (up to 1 year from the start time) Yes
az_id path string Resource pool ID No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.14.1.3. Request
Request Parameter
None
Request Example
https://{{SCP_Endpoint}}/janus/20180725/projects/88eb9b4ab11f4f1eb3f1e1e6e7ff522b/bills/feerecords?
start_time=2022-12-01T03:17:42Z&end_time=2023-12-01T03:17:42Z
4.14.1.4. Response
Response Parameter
Table 4.14.3 Response Parameter¶
Parameter Type Description
Value
Returned
total_cost string Total costs Yes
bills list(dict) Bills, view Parameter Description - bills for details Yes
Parameter Description - bills:
Table 4.14.4 Parameter Description - bills¶
Parameter Type Description Value Returned
id string Bill ID No
use_period string Time range No
resource_id string Resource ID No
price string Unit price (with unit) No
use_time string Service duration No
cost string Total cost No
az_id string Resource pool ID No
resource_name string Resource name No
resource_type string Resource type No
desc string Pricing of resources No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"total": "145,599.9985",
"bills": [
{
"resource_name": "test_vm_6666",
"use_period": "Since 2023-10-07 18:08:15",
"resource_id": "91ff12a0-f5d4-49e8-9950-d9296b1e3b5a",
"price": "CNY 0.0000/GB/hour",
"use_time": "2 days, 20 hours, and 30 minutes",
"cost": "0.0000",
"resource_type": "Private image",
"id": "202",
"az_id": "10000000-0000-0000-0000-000000000000",
"desc": "1.75 GB"
},
{
"resource_name": "wwwmysql01",
"use_period": "From 2023-09-27 18:28:15 to 2023-10-07 21:08:15",
"resource_id": "71024e33-792b-4448-a8a0-5b3a9e72079a",
"price": "CNY 600.0000/VM/hour",
"use_time": "10 days, 2 hours, and 40 minutes",
"cost": "145,599.9985",
"resource_type": "VM",
"id": "10_61_69",
"az_id": "572655ad-57c2-4ecd-91a9-87bfa12d896b",
"desc": "Powered-on, 2 CPU cores, 4 GB memory, local storage SSS
SSSSSSSS (default): 300 GB"
},
]
}
4.14.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.14.2. Bulk Enable/Disable Billing Service for Tenants
4.14.2.1. Scenario
Scenario: Bulk enable/disable billing service for tenants
Roles supported: Super administrator
Versions supported: SCP 6.8.80 and later
4.14.2.2. URI
Table 4.14.5 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/bills/tenant/actions/bulk-set
Bulk Enable/Disable
Billing Service for
Tenants
Parameter Description:
None
4.14.2.3. Request
Request Parameter
Table 4.14.6 Description of Body Parameter¶
Parameter Type Description Required
project_ids list(string) Tenant ID list (range: 1-100) Yes
enable string Whether billing service is enabled for
tenants. Valid values: 0 and 1 Yes
Request Example
https://{SCP_IP}/janus/20180725/bills/tenant/actions/bulk-set
{
"project_ids":[
"4d2f1076911642ba88f21c56cb0a0a41",
"5436b3225234448ea7a32b6dbd15b238"
],
"enable": "1"
}
4.14.2.4. Response
Response Parameter
Table 4.14.7 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.14.2.5. Response Code
OK: 200
Errors: 400, 403, 409, 500
4.15. Storage
4.15.1. Description of Common Storage Management Parameters
4.15.1.1. storage_type
Table 4.15.1 Storage type¶
Value Description
local Local storage
vs Virtual storage
fc FC storage
iscsi iSCSI storage
VMFS VMFS storage
vmfs VMFS storage
vsan vSAN storage
cifs CIFS storage
nfs NFS storage
asan aSAN storage
samba_share samba_share storage
4.15.1.2. storage_status
Table 4.15.2 Storage status¶
Value Description
normal Normal
offline Offline
alarm Alert
error Abnormal
Only VS has the following statuses:
ok Normal
fail Abnormal
creating Creating
expanding Expanding capacity
deleting Deleting
replacing_disk Replacing disk
replacing_host Replacing host
replacing_backup_disk Replacing spare disk
create_reverting Canceling storage creation
expand_reverting Canceling capacity expansion
initting Initializing
4.15.1.3. storage_server_type
Table 4.15.3 Storage Server Type¶
Value Description
iscsi iSCSI storage
4.15.1.4. servers
Table 4.15.4 servers¶
Parameter Type Description
Value
Returned
id string Storage server ID Yes
address string Storage server address (IPv4 format) Yes
port int(0,
65535)
Storage server target. If the storage type is iSCSI, see
targets for details. Yes
targets list(dict) Storage server ID Yes
4.15.1.5. targets
Table 4.15.5 servers¶
Parameter Type Description Value Returned
id string iSCSI storage target ID Yes
name string iSCSI storage target name Yes
is_authenticated boolean Whether the iSCSI storage
target is authenticated. Yes
4.15.1.6. chap
Table 4.15.6 chap¶
Parameter Location Type Description Required
username body string Username for iSCSI server CHAP
authentication Yes
password body string
Password (encrypted) for iSCSI server
CHAP authentication. For details about
password encryption, see Token-Based
Authentication.
Yes
4.15.2. Get a list of storage tags
4.15.2.1. Scenario
Scenario: Query tags of storages for which tenants have quotas
Applicable roles: Super administrator and tenant
Versions supported: SCP 6.3.0 and later
 Note
Only tags of storages for which tenants have quotas will be returned.
4.15.2.2. URI
Table 4.15.7 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/storages/tags Get a list of storage tags
Parameter Description:
Table 4.15.8 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
project_id path string Tenant ID No
4.15.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/storages/tags?az_id=611f1b34-c727-4925-854e-
07bc8607f681&project_id=9d14d076b59045b1b0aaca04cfaaa657
4.15.2.4. Response
Response Parameter
Table 4.15.9 Response Parameter¶
Parameter Type Description
Value
Returned
data list Storage tag list, view Parameter Description - data for
details. Yes
 Note
For common response parameters, view Response Format for details
Parameter Description - data
Table 4.15.10 Parameter Description - data¶
Parameter Type Description Value Returned
id string Storage tag ID Yes
name string Storage tag name Yes
description string Description of storage
tag Yes
total_mb int Total space Yes
used_mb int Used space Yes
ratio float CPU usage Yes
project_id string Tenant ID Yes
Response Example:
[
{
"ratio": 0.57,
"description": "Highest IO speed, to tag SSD to create high-performa
nce virtual machine",
"total_mb": 507904,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"used_mb": 288275,
"id": "00000000-0000-0000-0000-000000000000",
"name": "High_Performance_Storage"
},
{
"ratio": 0.46,
"description": "Fair IO speed with high capacity and safety and cost
-effective",
"total_mb": 2093056,
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"used_mb": 972414,
"id": "22222222-2222-2222-2222-222222222222",
"name": "Capacity_Sensitive_Storage"
}
]
4.15.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.3. Get Physical Disks
4.15.3.1. Scenario
Scenario: Query the list of physical disk volumes (iSCSI/FC, etc.)
Applicable roles: Super administrator and tenant
Versions supported: SCP 6.3.0 and later
4.15.3.2. URI
Table 4.15.11 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/storages/physical-disks Get Physical Disks
Parameter Description:
Table 4.15.12 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID Yes
type path string Disk type, view Storage type for details.
Both iSCSI and FC can be queried. No
in_use path int Whether it is used by a VM. [0, 1] No
target path string Storage information on the server No
4.15.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/storages/physical-disks?az_id=611f1b34-c727-4925-854e-
07bc8607f681&in_use=0
4.15.3.4. Response
Response Parameter
Table 4.15.13 Response Parameter¶
Parameter Type Description
Value
Returned
id string Disk ID Yes
hosts list List of hosts that can be accessed by storage, view
Parameter Description - hosts for details. Yes
name name Disk name Yes
status string Disk status Yes
type string Disk type Yes
size_mb int Disk size (MB) Yes
lun int Logical unit number Yes
in_use int Whether the disk is being used by a VM Yes
server string
or dict
Server information, view Parameter Description -
hosts for details. Yes
is_asan int Whether this is an aSAN disk Yes
description string Disk description Yes
vms list List of VMs that use this disk, view Parameter
Description - vms for details. Yes
server_detail dict Server information, view Parameter Description -
hosts for details. No
target string Storage information on the server No
tid int Mark an iSCSI disk on an iSCSI server No
policy_id string Storage policy ID No
policy_name string Storage policy name No
 Note
For common response parameters, view Response Format for details
Parameter Description - hosts
Table 4.15.14 Parameter Description - hosts¶
Parameter Type Description Value Returned
status int Host status Yes
ip string Host IP Yes
name string Host name Yes
id string Host ID Yes
Parameter Description - vms
Table 4.15.15 Parameter Description - vms¶
Parameter Type Description Value Returned
id int VM ID on HCI Yes
name string VM Name on HCI Yes
server_id string VM UUID No
server_name string VM name No
Response Example:
[
{
"status": "normal",
"description": null,
"in_use": 0,
"is_asan": 0,
"server": {
"status": 1,
"ip": "10.106.1.73",
"name": "10.106.1.73",
"id": "host-6c92bf58b580"
},
"size_mb": 3815447,
"server_detail": {
"status": 1,
"ip": "10.106.1.73",
"name": "10.106.1.73",
"id": "host-6c92bf58b580"
},
"vms": [],
"hosts": [
{
"status": 1,
"ip": "10.106.1.73",
"name": "10.106.1.73",
"id": "host-6c92bf58b580"
}
],
"type": "local",
"id": "35000cca0bcd0a3f3_6c92bf58b580",
"lun": 0,
"name": "HGST HUS726T4TAL_ATA_35000cca0bcd0a3f3_6c92bf58b580"
}
]
4.15.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.4. Refresh Physical Disk Configuration
4.15.4.1. Scenario
Scenario: The iSCSI/FC datastore is expanded on the storage server side, and the VM mounted with the
corresponding datastore is notified to update the capacity.
Applicable roles: Super administrator and tenant
Versions supported: SCP 6.3.0 and later
4.15.4.2. URI
Table 4.15.16 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/storages/physical-disks/{volume_id} Update
physical disk
Parameter Description:
Table 4.15.17 Path Parameters¶
Parameter Location Type Description Required
volume_id path string Shared external datastore ID, which can be
obtained from Get Physical Disks Yes
4.15.4.3. Request
Request Parameter
Table 4.15.18 Body Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
is_update_vm body int Whether to notify the VM to
update the configuration Yes
Request Example
https://{SCP_IP}/janus/20180725/storages/physical-disks/35000cca0bcd0a3f3_6c92bf58b580
{
"az_id": "70172f8b-ad3d-47c3-9427-308a4c5052d0",
"is_update_vm": 1
}
4.15.4.4. Response
Response Parameter
Table 4.15.19 Response Parameter¶
Parameter Type Description Value Returned
task_id string Asynchronous task
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.15.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.15.5. Mount NFS Datastore
4.15.5.1. Scenario
Scenario: Mount an NFS datastore
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.15.5.2. URI
Table 4.15.20 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/storages/attachnfs Mount NFS
Datastore
Description
None
4.15.5.3. Request
Response Parameter
Table 4.15.21 Description of Body Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID. For details, see Query
cluster list. Yes
nfs_datastore body dict NFS datastore. For details, see
Parameter Description - nfs_datastore. Yes
Parameter Description - nfs_datastore
Table 4.15.22 Parameter Description - nfs_datastore¶
Parameter Type Description Required
attached_host_ids list(string)
List of IDs of physical hosts with NFS
datastore mounted. For details, see Query
Physical Machines.
No
description string Datastore description No
name string Storage name Yes
server dict Storage server. For details, see Parameter
Description - server. Yes
Parameter Description - server
Table 4.15.23 Parameter Description - server¶
Parameter Type Description Required
ip_address str Server IP address Yes
export_path str Path for export Yes
Request Example
https://{SCP_IP}/janus/20180725/storages/attachnfs
{
"cluster_id": "812d5771-0074-4f1e-bbc0-a4fa87bd803c",
"nfs_datastore": {
"attached_host_ids": ["host-50af732a2865"],
"description": "nfs",
"name": "nfs",
"server": {
"ip_address": "10.113.0.251",
"export_path": "/mnt/881ab507040efd040315c04e4bfc865c"
}
}
}
4.15.5.4. Response
Response Parameter
Table 4.15.24 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for NFS datastore mounting Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a"
}
4.15.5.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.6. Unmount Datastore
4.15.6.1. Scenario
Scenario: Unmount a datastore
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.15.6.2. URI
Table 4.15.25 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/storages/{storage_id} Unmount
Datastore
Description
Table 4.15.26 Path Parameters¶
Parameter Location Type Description Required
storage_id path string Datastore ID. For details, see Query
Storage List. Yes
4.15.6.3. Request
Response Parameter
Table 4.15.27 Description of Body Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID. For details, see Query cluster
list. Yes
is_enforce body bool Whether to force unmount No
Request Example
https://{SCP_IP}/janus/20180725/storages/a3c42a577b54a9c0d9588be7267bc933
{
"cluster_id": "812d5771-0074-4f1e-bbc0-a4fa87bd803c",
"is_enforced": false
}
4.15.6.4. Response
Response Parameter
Table 4.15.28 Response Parameter¶
Parameter Type Description Required
task_id string Log ID for datastore unmounting Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a047380ba-21b1-4437-8b0c-f113f9054fc8a"
}
4.15.6.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.7. Query List of Storage Servers (20240725)
4.15.7.1. Scenario
Scenario: Query the list of storage servers
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.7.2. URI
Table 4.15.29 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/storages/servers Query the list of storage
servers
4.15.7.2.1. Description
Table 4.15.30 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
server_type path string
Storage server type.
For details, see
storage_server_type.
Yes
4.15.7.3. Request
4.15.7.3.1. Response Parameter
None
4.15.7.3.2. Request Example
Query the list of iSCSI storage servers in the cluster. For details, visit
https://{SCP_Endpoint}/janus/20240725/storages/servers?cluster_id=26c009c6-6973-40c8-b14c-
6ca5418e23e5&server_type=iscsi
4.15.7.4. Response
4.15.7.4.1. Response Parameter
Table 4.15.31 Response Parameter¶
Parameter Type Description Value Returned
cluster_id string Cluster ID Yes
server_type string
Storage server type.
For details, see
Storage Server
Type.
Yes
servers list(dict)
List of iSCSI storage
servers. For details,
see servers.
Yes
4.15.7.4.2. Response Example
[
{
"backup_used_mb": 0,
"backup_total_mb": 0,
"total_mb": 15992070,
"id": "5e8b0eec_vs_vol_rep3",
"az_id": "466c3ea6-2537-4de1-b294-6fd96d8b89a4",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"ratio": 0.72,
"archive_usable": 0,
"supported_allocate_types": [
"off",
"metadata",
"full"
],
"shared": 1,
"used_mb": 11524259,
"status": "ok",
"write_byteps": 382156.0,
"description": "",
"backup_enable": 0,
"max_read_byteps": 224820224.0,
"backup_ratio": 0.0,
"name": "Virtual Datastore 1",
"target": "",
"connected_hosts": 3,
"max_write_byteps": 77648896.0,
"type": "vs",
"read_byteps": 16971366.0
}
]
4.15.7.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.8. Create Storage Server (20240725)
4.15.8.1. Scenario
Scenario: Create a storage server
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.8.2. URI
Table 4.15.32 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20240725/storages/servers Create a storage server
4.15.8.3. Request
4.15.8.3.1. Response Parameter
Table 4.15.33 Parameter Description¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
server_type body string
Storage server
type. For
details, see
Storage Server
Type.
Yes
server_info body dict
Storage server
information. If
the storage
type is iSCSI,
see Parameter
Description -
server_info for
details.
Yes
Table 4.15.34 Parameter Description - server_info¶
Parameter Location Type Description Required
address body string Storage server address (IPv4
format) Yes
port body int(0-
65535) Storage server port Yes
unidirectional_chap body dict
One-way CHAP authentication
information. For details, see
chap.
No
bidirectional_chap body dict
Two-way CHAP authentication
information. For details, see
chap.
No
4.15.8.3.2. Request Example
https://{SCP_Endpoint}/janus/20240725/storages/servers
{
"cluster_id": "26c009c6-6973-40c8-b14c-6ca5418e23e5",
"server_type": "iscsi",
"server_info": {
"address": "10.113.0.10",
"port": 3260,
"unidirectional_chap": {
"username": "test",
"password": "64df979446394ee1d0c60407b1ded253b84967d6c1d14f5eefe335
8a01f8388d1daac9765f26c3ada26740c81f3b05cd1acb0cdd59f6dbeb6c8ba4ad3a714673ab0ef
f2bc0ed43272bc883e95e93e55bfee9cf3dc2192490060417fad7304512babc3f33eb26e7b09925
6cd460e3714543ae19286dc79142049ed146ba7fa5803fdde0d13848dc41208e4f7488ee2107ff7
20be0a3bd1f0ce5d8f7a1b4c1ed61e7ba43779a9e8fc89f55b10ebe3c3ca92b968c8df05c09dab2
42d8ecd0f01d72a1d07dad4f0345f0dd7cef60f02a59d8df564811605134c6c7cd3fe01803bd254
259c5989e75b1ed8175351da434406a0626582decf0253e3733e9effac5708a"
},
"bidirectional_chap": {
"username": "test",
"password": "64df979446394ee1d0c60407b1ded253b84967d6c1d14f5eefe335
8a01f8388d1daac9765f26c3ada26740c81f3b05cd1acb0cdd59f6dbeb6c8ba4ad3a714673ab0ef
f2bc0ed43272bc883e95e93e55bfee9cf3dc2192490060417fad7304512babc3f33eb26e7b09925
6cd460e3714543ae19286dc79142049ed146ba7fa5803fdde0d13848dc41208e4f7488ee2107ff7
20be0a3bd1f0ce5d8f7a1b4c1ed61e7ba43779a9e8fc89f55b10ebe3c3ca92b968c8df05c09dab2
42d8ecd0f01d72a1d07dad4f0345f0dd7cef60f02a59d8df564811605134c6c7cd3fe01803bd254
259c5989e75b1ed8175351da434406a0626582decf0253e3733e9effac5708a"
}
}
}
4.15.8.4. Response
4.15.8.4.1. Response Parameter
Table 4.15.35 Response Parameter¶
Parameter Type Description Value Returned
cluster_id string Cluster ID Yes
server_type string
Storage server type.
For details, see
Storage Server
Type.
Yes
server_info dict
Storage server
information. If the
storage type is
iSCSI, see servers
for details.
Yes
4.15.8.4.2. Response Example
{
"server_info": {
"port": 3260,
"targets": [
{
"is_authenticated": false,
"id": "iscsicfg-1",
"name": "iqn.2015-08.1e7de4d4.com.sangfor.asan:10.113.14.150-500"
},
{
"is_authenticated": false,
"id": "iscsicfg-2",
"name": "iqn.2015-08.1e7de4d4.com.sangfor.asan:10.131.204.26-200"
},
{
"is_authenticated": false,
"id": "iscsicfg-3",
"name": "iqn.2015-08.1e7de4d4.com.sangfor.asan:test-10"
},
{
"is_authenticated": false,
"id": "iscsicfg-4",
"name": "iqn.2015-08.1e7de4d4.com.sangfor.asan:10.131.204.60-200"
}
],
"id": "iscsicfg-1,iscsicfg-2,iscsicfg-3,iscsicfg-4",
"address": "10.113.0.10"
},
"cluster_id": "26c009c6-6973-40c8-b14c-6ca5418e23e5",
"server_type": "iscsi"
}
4.15.8.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.9. Update Storage Server (20240725)
4.15.9.1. Scenario
Scenario: Update a storage server
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.9.2. URI
Table 4.15.36 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20240725/storages/servers/{server_id} Update a storage
server
4.15.9.2.1. Description
Table 4.15.37 Path Parameters¶
Parameter Location Type Description Required
server_id url string Storage server
ID Yes
4.15.9.3. Request
4.15.9.3.1. Response Parameter
Table 4.15.38 Parameter Description¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
server_type body string
Storage server
type. For
details, see
Storage Server
Type.
Yes
server_info body dict
Storage server
information. If
the storage
type is iSCSI,
see
Description of
iSCSI Server
Update
Request
Parameters for
details.
Yes
Table 4.15.39 Description of iSCSI Server Update Request Parameters¶
Parameter Location Type Description Required
unidirectional_chap body dict One-way CHAP authentication
information. For details, see chap. No
bidirectional_chap body dict Two-way CHAP authentication
information. For details, see chap. No
4.15.9.3.2. Request Example
https://{SCP_Endpoint}/janus/20240725/storages/servers/iscsicfg-2,iscsicfg-3,iscsicfg-1,iscsicfg-4
{
"cluster_id": "26c009c6-6973-40c8-b14c-6ca5418e23e5",
"server_type": "iscsi",
"server_info": {
"unidirectional_chap": {
"username": "test",
"password": "64df979446394ee1d0c60407b1ded253b84967d6c1d14f5eefe335
8a01f8388d1daac9765f26c3ada26740c81f3b05cd1acb0cdd59f6dbeb6c8ba4ad3a714673ab0ef
f2bc0ed43272bc883e95e93e55bfee9cf3dc2192490060417fad7304512babc3f33eb26e7b09925
6cd460e3714543ae19286dc79142049ed146ba7fa5803fdde0d13848dc41208e4f7488ee2107ff7
20be0a3bd1f0ce5d8f7a1b4c1ed61e7ba43779a9e8fc89f55b10ebe3c3ca92b968c8df05c09dab2
42d8ecd0f01d72a1d07dad4f0345f0dd7cef60f02a59d8df564811605134c6c7cd3fe01803bd254
259c5989e75b1ed8175351da434406a0626582decf0253e3733e9effac5708a"
},
"bidirectional_chap": {
"username": "test",
"password": "64df979446394ee1d0c60407b1ded253b84967d6c1d14f5eefe335
8a01f8388d1daac9765f26c3ada26740c81f3b05cd1acb0cdd59f6dbeb6c8ba4ad3a714673ab0ef
f2bc0ed43272bc883e95e93e55bfee9cf3dc2192490060417fad7304512babc3f33eb26e7b09925
6cd460e3714543ae19286dc79142049ed146ba7fa5803fdde0d13848dc41208e4f7488ee2107ff7
20be0a3bd1f0ce5d8f7a1b4c1ed61e7ba43779a9e8fc89f55b10ebe3c3ca92b968c8df05c09dab2
42d8ecd0f01d72a1d07dad4f0345f0dd7cef60f02a59d8df564811605134c6c7cd3fe01803bd254
259c5989e75b1ed8175351da434406a0626582decf0253e3733e9effac5708a"
}
}
}
4.15.9.4. Response
4.15.9.4.1. Response Parameter
Table 4.15.40 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
4.15.9.4.2. Response Example
{
"task_id": "346a26cd-d194-11ef-9d5c-fefcfe58a5aa"
}
4.15.9.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.10. Delete Storage Server (20240725)
4.15.10.1. Scenario
Scenario: Delete a storage server
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.10.2. URI
Table 4.15.41 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20240725/storages/servers/{server_id} Delete a storage
server
4.15.10.2.1. Description
Table 4.15.42 Path Parameters¶
Parameter Location Type Description Required
server_id url string Storage server
ID Yes
cluster_id path string Cluster ID Yes
server_type path string
Storage server
type. For
details, see
Storage Server
Type.
Yes
4.15.10.3. Request
4.15.10.3.1. Response Parameter
None
4.15.10.3.2. Request Example
https://{SCP_Endpoint}/janus/20240725/storages/servers/iscsicfg-2,iscsicfg-3,iscsicfg-1,iscsicfg-
4&cluster_id=26c009c6-6973-40c8-b14c-6ca5418e23e5&server_type=iscsi
4.15.10.4. Response
4.15.10.4.1. Response Parameter
Table 4.15.43 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
4.15.10.4.2. Response Example
{
"task_id": "346a26cd-d194-11ef-9d5c-fefcfe58a5aa"
}
4.15.10.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.11. Authenticate iSCSI Storage Target (20240725)
4.15.11.1. Scenario
Scenario: Authenticate iSCSI storage target
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.11.2. URI
Table 4.15.44 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20240725/storages/servers/actions/targetauthenticate
Authenticate iSCSI
storage target
4.15.11.3. Request
4.15.11.3.1. Response Parameter
Table 4.15.45 Parameter Description¶
Parameter Location Type Description Required
server_id body string Storage server
ID Yes
cluster_id body string Cluster ID Yes
target_id body string iSCSI storage
target ID Yes
target_chap body dict
CHAP
authentication
information
about the
authentication
target. For
details, see
Parameter
Description -
CHAP.
No
Table 4.15.46 Parameter Description - CHAP¶
Parameter Location Type Description Required
unidirectional_chap body dict One-way CHAP authentication
information. For details, see chap. No
bidirectional_chap body dict Two-way CHAP authentication
information. For details, see chap. No
4.15.11.3.2. Request Example
https://{SCP_Endpoint}/janus/20240725/storages/servers/actions/target-authenticate
{
"cluster_id": "26c009c6-6973-40c8-b14c-6ca5418e23e5",
"server_id": "iscsicfg-2,iscsicfg-3,iscsicfg-1,iscsicfg-4",
"target_id": "iscsicfg-2",
"target_chap": {
"unidirectional_chap": {
"username": "test",
"password": "1d16f462daad4a9931d1ed757310f3da146ddfe17ce9f6cdda9119
afb678d827f19f904bbff80de6949f7137dae52e1ed18e90b0883ab041d2dffc02b6e5f2123a3a6
d2b0d943fe4680851e3daedb093a63fc1462a7b14820a304bb751ef1aad34d11ece42078ab20808
3999d3693e012c50bf589bdaf821320a244c9fd78dd924d247e157230919c038dd0493517591af6
e5c2583a652b9e564e3e3c581053b8c96e650a9a327103a5ec6877f97a91c86d58b09a3e38dc86e
745bd57f05d7a5f9c58726696a8cbe85c9a1d1b99eeb6085df5d8ccbf0d0b22e35fefc694645693
fe552b590c2e0e11c76d104668dfd7880e8e87e0194bc0c067d391517d70ef3"
},
"bidirectional_chap": {
"username": "test",
"password": "1d16f462daad4a9931d1ed757310f3da146ddfe17ce9f6cdda9119
afb678d827f19f904bbff80de6949f7137dae52e1ed18e90b0883ab041d2dffc02b6e5f2123a3a6
d2b0d943fe4680851e3daedb093a63fc1462a7b14820a304bb751ef1aad34d11ece42078ab20808
3999d3693e012c50bf589bdaf821320a244c9fd78dd924d247e157230919c038dd0493517591af6
e5c2583a652b9e564e3e3c581053b8c96e650a9a327103a5ec6877f97a91c86d58b09a3e38dc86e
745bd57f05d7a5f9c58726696a8cbe85c9a1d1b99eeb6085df5d8ccbf0d0b22e35fefc694645693
fe552b590c2e0e11c76d104668dfd7880e8e87e0194bc0c067d391517d70ef3"
}
}
}
4.15.11.4. Response
4.15.11.4.1. Response Parameter
Table 4.15.47 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
4.15.11.4.2. Response Example
{
"task_id": "346a26cd-d194-11ef-9d5c-fefcfe58a5aa"
}
4.15.11.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.12. Query Name of Disk to Mount (20240725)
4.15.12.1. Scenario
Scenario: Query the name of the disk to mount
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.12.2. URI
Table 4.15.48 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/storages/actions/checkdatastore
Query the name of the
disk to mount
4.15.12.2.1. Description
Table 4.15.49 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
disk_id path string
Storage disk
ID. For details,
see Get
Physical Disks.
Querying
specific disk
IDs by
target_id is
allowed.
Yes
4.15.12.3. Request
4.15.12.3.1. Response Parameter
None
4.15.12.3.2. Request Example
Query the name of the disk to mount. For details, visit
https://{SCP_Endpoint}/janus/20240725/storages/actions/check-datastore?cluster_id=26c009c6-6973-
40c8-b14c-6ca5418e23e5&disk_id=1SANGFOR_ASAN-004-ad68-4d18-abc5-e44a7b23f89f
4.15.12.4. Response
4.15.12.4.1. Response Parameter
Table 4.15.50 Response Parameter¶
Parameter Type Description Value Returned
id string Disk ID Yes
name string
Disk name. If a disk
is previously
mounted to another
node that used the
SFFS file system,
the original disk
name can be
obtained. Otherwise,
Not sffs is returned,
indicating that the
disk is never
formatted by the
HCI file system.
Yes
4.15.12.4.2. Response Example
{
"id": "1SANGFOR_ASAN-004-ad68-4d18-abc5-e44a7b23f89f",
"name": "10-iscsi"
}
4.15.12.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.13. Mount Datastore (20240725)
4.15.13.1. Scenario
Scenario: Mount a datastore
Roles supported: Super administrator
Versions supported: SCP 6.11.1, HCI 6.9.0 and later
4.15.13.2. URI
Table 4.15.51 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20240725/storages/actions/attach Mount a datastore
4.15.13.3. Request
4.15.13.3.1. Response Parameter
Table 4.15.52 Parameter Description¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
datastore body dict
Datastore
information.
For details, see
Description of
Request
Parameters for
Mounting
Datastore.
Yes
Table 4.15.53 Description of Request Parameters for Mounting Datastore¶
Parameter Location Type Description Required
id body string
Storage disk ID. For details,
see Get Physical Disks.
Querying specific disk IDs by
target_id is allowed.
Yes
name body string(1,16)
Datastore name. Can contain
only letters, digits, and special
characters (-_.), and must start
and end with a letter or digit.
Yes
attached_host_ids body list(string)
IDs of the nodes associated
with the datastore to mount.
For details, see Query List of
Physical Hosts (20190725).
If this parameter is not
specified, the datastore is
mounted to all compatible
nodes by default.
No
description body string Description of the datastore
to mount No
import_vm body boolean
Whether to import the
associated VMs while
mounting the datastore. No
VMs will be imported if this
parameter is not specified.
No
4.15.13.3.2. Request Example
https://{SCP_Endpoint}/janus/20240725/storages/actions/attach
{
"cluster_id": "26c009c6-6973-40c8-b14c-6ca5418e23e5",
"datastore": {
"id": "1SANGFOR_ASAN-005-153e-4cea-a0be-d9382c000bac",
"name": "test",
"attached_host_ids":["host-0cc47a42a1ab"],
"import_vm": true
}
}
4.15.13.4. Response
4.15.13.4.1. Response Parameter
Table 4.15.54 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
4.15.13.4.2. Response Example
{
"task_id": "346a26cd-d194-11ef-9d5c-fefcfe58a5aa"
}
4.15.13.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.14. Obtain list of storage policies
4.15.14.1. Scenario
Scenario: Tenants query available storage policies with specific storage tags
Applicable roles: Super administrator and tenant
Versions supported: SCP 6.9.0 and later
 Note
Tenants can only query storage policies of the associated resource pool.
4.15.14.2. URI
Table 4.15.55 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/azs/{az_id}/storage-policies Obtain list of
storage policies
Parameter Description:
Table 4.15.56 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
storage_id path string Storage ID No
storage_tag_id path string Storage Tag ID No
policy_id path string Storage policy
ID No
4.15.14.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/azs/27ec1450-8775-4c53-aab4-cdac721f1219/storage-policies?
storage_id=4e9c0c11_vs_vol_rep2&storage_tag_id=00000000-0000-0000-0000-
000000000000&policy_id=1c4e0c89
4.15.14.4. Response
Response Parameter
Table 4.15.57 Response Parameter¶
Parameter Type Description
Value
Returned
data list List of storage tags. For details, see Parameter
Description - data Yes
 Note
For common response parameters, view Response Format for details
Parameter Description - data
Table 4.15.58 Parameter Description - data¶
Parameter Type Description
Value
Returned
id string The sum of storage ID and storage policy ID No
name string Storage policy name No
attribute string Policy attribute No
type string Policy type No
storage_id string Storage ID No
storage_tag_id string Storage Tag ID No
az_id string Resource pool ID No
replica string The number of replicas No
compatibility string Compatibility. For details, see Parameter Description
- compatibility No
Parameter Description - compatibility
Table 4.15.59 Parameter Description - compatibility¶
Parameter Type Description Value Returned
policy_id string Policy ID Yes
support string
Whether the storage
policy is supported by
the storage
Yes
type string Type Yes
Response Example:
[
{
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"name": " Default policy_ 2 replicas",
"attribute": "rep2_default",
"id": "4e9c0c11_vs_vol_rep2_1c4e0c89",
"replica": "rep2",
"storage_id": "4e9c0c11_vs_vol_rep2",
"type": "system",
"compatibility": {
"support": 1,
"type": "",
"policy_id": "1c4e0c89"
},
"az_id": "27ec1450-8775-4c53-aab4-cdac721f1219"
}
]
4.15.14.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.15. Query Storage List
4.15.15.1. Query Storage List
4.15.15.1.1. Scenario
Scenario: Query the storage list
Roles supported: Super admin and system admin
Versions supported: SCP 6.3.70 and later
4.15.15.1.2. URI
Table 4.15.60 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/storages Query Storage List
4.15.15.1.2.1. Description¶
Table 4.15.61 Path Parameters¶
Parameter Location Type Description Required
name path string Storage name No
type path string
Storage type,
view：Storage
type
No
status path string
Storage status,
view：Storage
status
No
storage_tag_id path string
Storage tag ID,
corresponding
to the storage
tag in the Get a
list of storage
tags interface.
No
az_id path string Resource pool
ID No
target path int Storage target No
archive_usable path int
Whether
archive is
supported
No
backup_enable path int
Whether
backup is
supported
No
shared path int Whether it is
shared storage No
 Note
The storage is not available until it is marked with the corresponding storage tag, that is,
storage_tag_id cannot be not empty.
4.15.15.1.3. Request
4.15.15.1.3.1. Response Parameter¶
None
4.15.15.1.3.2. Request Example¶
Query the list of storage in resource pools: https://{SCP_Endpoint}/janus/20180725/storages?
az_id=b9f644e5d4ed42358d287b19ea944e71
Query the VS storage list: https://{SCP_Endpoint}/janus/20180725/storages?type=vs
4.15.15.1.4. Response
4.15.15.1.4.1. Response Parameter¶
Table 4.15.62 Response Parameter¶
Parameter Type Description Value Returned
id string Storage ID No
name string Name No
description string Description No
type string Storage type,
view：Storage type No
status string
Storage status,
view：Storage
status
No
storage_tag_id string
Storage tag ID,
corresponding to the
storage tag in the
Get a list of storage
tags interface.
No
az_id string Resource pool ID No
target int Storage target No
total_mb int Total space (MB) No
used_mb int Used space (MB) No
ratio float CPU usage No
read_byteps float Read bytes per
second No
write_byteps float Write bytes per
second No
max_read_byteps float Maximum read
bytes per second No
max_write_byteps float Maximum write
bytes per second No
4.15.15.1.4.2. Response Example¶
[
{
"status": "offline",
"write_byteps": 0.0,
"ratio": 0.0,
"description": "16.5 Local storage of the node",
"max_write_byteps": 60030976.0,
"read_byteps": 0.0,
"total_mb": 0,
"name": "1605_local",
"used_mb": 0,
"max_read_byteps": 132593664.0,
"storage_tag_id": "",
"type": "local",
"id": "350014ee2b684e903_001b21d61e70",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"target": ""
},
{
"status": "normal",
"write_byteps": 0.0,
"ratio": 0.0,
"description": "",
"max_write_byteps": 15659008.0,
"read_byteps": 0.0,
"total_mb": 520192,
"name": "test",
"used_mb": 1367,
"max_read_byteps": 35479552.0,
"storage_tag_id": "11111111-1111-1111-1111-111111111111",
"type": "iscsi",
"id": "1SANGFOR_ASAN-00a-299e-4c5c-b2d2-14c5fc6f319b",
"az_id": "0b1695d7-8aa8-4efb-9d25-3c0312f0c5a1",
"target": "iqn.2015-08.71295054.com.sangfor.asan:xhf-iscsi-01"
}
]
4.15.15.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.15.2. Query Storage List (20190725)
4.15.15.2.1. Scenario
Scenario: Query the storage list
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameters
which may not be returned: connected_hosts, supported_allocate_types, archive_usable,
backup_enable, backup_used_mb, backup_total_mb, backup_ratio, backup_server_count, and
shared.
4.15.15.2.2. URI
Table 4.15.63 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/storages Query Storage List
4.15.15.2.2.1. Description¶
Table 4.15.64 Path Parameters¶
Parameter Location Type Description Required
name path string Storage name No
type path string
Storage type,
view：Storage
type
No
status path string
Storage status,
view：Storage
status
No
storage_tag_id path string
Storage tag ID,
corresponding
to the storage
tag in the Get a
list of storage
tags interface.
No
az_id path string Resource pool
ID No
target path string Storage target No
archive_usable path string
Whether
archive is
supported
No
backup_enable path string
Whether
backup is
supported
No
shared path string Whether it is
shared storage No
storage_ids path string List of storage
IDs No
 Note
The storage is not available until it is marked with the corresponding storage tag, that is,
storage_tag_id cannot be not empty.
4.15.15.2.3. Request
4.15.15.2.3.1. Response Parameter¶
None
4.15.15.2.3.2. Request Example¶
Query the list of storage resources in the resource pool:
https://{SCP_Endpoint}/janus/20190725/storages?az_id=b9f644e5d4ed42358d287b19ea944e71
Query the list of storage resources of the VS type: https://{SCP_Endpoint}/janus/20190725/storages?
type=vs
4.15.15.2.4. Response
4.15.15.2.4.1. Response Parameter¶
Table 4.15.65 Response Parameter¶
Parameter Type Description Value Returned
id string Storage ID No
name string Name No
description string Description No
type string Storage type,
view：Storage type No
status string
Storage status,
view：Storage
status
No
storage_tag_id string
Storage tag ID,
corresponding to
the storage tag in
the Get a list of
storage tags
interface.
No
az_id string Resource pool ID No
target int Storage target No
total_mb int Total space (MB) No
used_mb int Used space (MB) No
ratio float CPU usage No
read_byteps float Read bytes per
second No
write_byteps float Write bytes per
second No
max_read_byteps float Maximum read
bytes per second No
max_write_byteps float Maximum write
bytes per second No
connected_hosts int Connected nodes No
supported_allocate_types list Supported
allocation method No
archive_usable float Whether archive is
supported No
backup_enable float Whether backup is
supported No
backup_used_mb int Used backup No
backup_total_mb int Total backup No
backup_ratio float Backup usage No
shared int Whether it is
shared storage No
4.15.15.2.4.2. Response Example¶
[
{
"backup_used_mb": 0,
"backup_total_mb": 0,
"total_mb": 15992070,
"id": "5e8b0eec_vs_vol_rep3",
"az_id": "466c3ea6-2537-4de1-b294-6fd96d8b89a4",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"ratio": 0.72,
"archive_usable": 0,
"supported_allocate_types": [
"off",
"metadata",
"full"
],
"shared": 1,
"used_mb": 11524259,
"status": "ok",
"write_byteps": 382156.0,
"description": "",
"backup_enable": 0,
"max_read_byteps": 224820224.0,
"backup_ratio": 0.0,
"name": "Virtual Datastore 1",
"target": "",
"connected_hosts": 3,
"max_write_byteps": 77648896.0,
"type": "vs",
"read_byteps": 16971366.0
}
]
4.15.15.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.15.15.3. Query Storage List (20200725)
4.15.15.3.1. Scenario
Scenario: Query the storage list
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.8.0 and later
 Note
Compared with version 20190725, the API version 20200725 adds the response parameters
which may not be returned: total_server_count, running_server_count, host_ids, and
hosts_online_state.
4.15.15.3.2. URI
Table 4.15.66 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/storages Query Storage List
4.15.15.3.2.1. Description¶
Table 4.15.67 Path Parameters¶
Parameter Location Type Description Required
name path string Storage name No
type path string
Storage type,
view：Storage
type
No
status path string
Storage status,
view：Storage
status
No
storage_tag_id path string
Storage tag ID,
corresponding
to the storage
tag in the Get a
list of storage
tags interface.
No
az_id path string Resource pool
ID No
target path int Storage target No
archive_usable path string
Whether
archive is
supported
No
backup_enable path string
Whether
backup is
supported
No
shared path string Whether it is
shared storage No
storage_ids path list List of storage
IDs No
 Note
The storage is not available until it is marked with the corresponding storage tag, that is,
storage_tag_id cannot be not empty.
4.15.15.3.3. Request
4.15.15.3.3.1. Response Parameter¶
None
4.15.15.3.3.2. Request Example¶
Query the list of storage resources in the resource pool:
https://{SCP_Endpoint}/janus/20200725/storages?az_id=b9f644e5d4ed42358d287b19ea944e71
Query the VS storage list: https://{SCP_Endpoint}/janus/20200725/storages?type=vs
4.15.15.3.4. Response
4.15.15.3.4.1. Response Parameter¶
Table 4.15.68 Response Parameter¶
Parameter Type Description Value Returned
id string Storage ID No
name string Name No
description string Description No
type string Storage type,
view：Storage type No
status string
Storage status,
view：Storage
status
No
storage_tag_id string
Storage tag ID,
corresponding to
the storage tag in
the Get a list of
storage tags
interface.
No
storage_tag_name string Storage tag name No
storage_label string
Storage usage of
the backup
repository
No
cluster_id string Cluster ID No
cluster_name string Cluster name No
cluster_type string Cluster type No
az_id string Resource pool ID No
target int Storage target No
total_mb int Total space (MB) No
used_mb int Used space (MB) No
ratio float CPU usage No
read_byteps float Read bytes per
second No
write_byteps float Write bytes per
second No
max_read_byteps float Maximum read
bytes per second No
max_write_byteps float Maximum write
bytes per second No
connected_hosts int Connected nodes No
supported_allocate_types list Supported
allocation method No
archive_usable float Whether archive is
supported No
backup_enable float Whether backup is
supported No
backup_used_mb int Used backup No
backup_total_mb int Total backup No
backup_ratio float Backup usage No
backup_server_count int
Quantity of VMs
that are backed up
(supported in SCP
6.8.80 and later)
No
shared int Whether it is
shared storage No
host_ids string Device ID list No
hosts_online_state string
Online status of the
node on which the
storage depends
No
4.15.15.3.4.2. Response Example¶
[
{
"backup_used_mb": 0,
"backup_total_mb": 0,
"total_mb": 15992070,
"cluster_id": "bca21dfb-be78-464e-be34-bd12c4a92c76",
"id": "5e8b0eec_vs_vol_rep3",
"az_id": "466c3ea6-2537-4de1-b294-6fd96d8b89a4",
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"ratio": 0.72,
"cluster_type": "hci",
"archive_usable": 0,
"cluster_name": "10.132.16.86",
"supported_allocate_types": [
"off",
"metadata",
"full"
],
"shared": 1,
"used_mb": 11524259,
"status": "ok",
"write_byteps": 382156.0,
"description": "",
"storage_label": "",
"backup_enable": 0,
"max_read_byteps": 224820224.0,
"storage_tag_name": "High Performance Storage",
"backup_ratio": 0.0,
"name": "Datastore 1",
"host_ids": [
"host-6c92bf84989a",
"host-6c92bfc4f9fe",
"host-6c92bfa35a90"
],
"hosts_online_state": "ALL",
"target": "",
"connected_hosts": 3,
"max_write_byteps": 77648896.0,
"type": "vs",
"read_byteps": 16971366.0
}
]
4.15.15.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16. Networking
4.16.1. Common Parameters
4.16.1.1. Common Parameters
4.16.1.1.1. VPC Network
Table 4.16.1 VPC Network¶
Value Description
creating Creating
active Normal
updating Updating
deleting Deleting
error Abnormal
4.16.1.1.2. Network Type
Table 4.16.2 Network Type¶
Value Description
vpc VPC
classic Classic Network
4.16.1.1.3. Device Type
Table 4.16.3 Device Type¶
Value Description
vnet:ssl SSL VPN
vnet:af NGAF
vnet:iam IAG
vnet:ad ADC
vnet:dblb DBLB
vnet:ac IAG
vnet:das DAS
vnet:apm APM
vnet:woc WANO
vnet:bvt BVT
vnet:las LAS
vnet:edr Endpoint Secure
vnet:osm OSM
vm Virtual machine
bvs BVS
dvs DVS
vrouter Virtual router
project_border Project Border
project_symbol Project Symbol
vlan Port group of BVS
user_gw Gateway of private cloud user
placeholder Placeholder virtual machine
service Service
cssp (Removed)
dmp Database Management Platform
4.16.1.1.4. Type of Elastic IP Associated Device
Table 4.16.4 Type of Elastic IP Associated Device¶
Value Description
vm Virtual machine type, including NFV devices
router_primary Primary IP address of router, i.e., the gateway IP
router_second Secondary IP address of router
4.16.1.1.5. Elastic IP Association Status
Table 4.16.5 Elastic IP Association Status¶
Value Description
active Normal
creating Creating
updating Updating
deleting Deleting
errror Abnormal
4.16.1.1.6. Subnet Status
Table 4.16.6 Subnet Status¶
Value Description
creating Creating
active Normal
updating Updating
deleting Deleting
error Abnormal
4.16.1.1.7. Line Type
Table 4.16.7 Line Type¶
Value Description
inner_linetype Built-in
user_defined Custom
pub_service Shared service
4.16.1.1.8. Internet Protocol Version
Table 4.16.8 Internet Protocol Version¶
Value Description
4 IPv4
6 IPv6
4.16.1.1.9. Encryption Algorithm of NFV Devices
Table 4.16.9 Encryption Algorithm of NFV Devices¶
Value Description
aes_256 AES 256
sm4_128 SM4 128
4.16.1.1.10. NFV Devices in VPC
Table 4.16.10 NFV Devices in VPC¶
Value Description
vnet:ssl SSL VPN
vnet:af NGAF
vnet:iam IAG
vnet:ad ADC
vnet:dblb DBLB
vnet:bvt BVT
vnet:las LAS
vnet:edr Endpoint Secure
vnet:osm OSM
4.16.1.1.11. NFV Interfaces in Classic Network
Table 4.16.11 NFV Interfaces in Classic Network¶
Value Description
manage_port Management interface
other_port Others
4.16.1.1.12. NFV Interfaces in VPC
Table 4.16.12 NFV Interfaces in VPC¶
Value Description
manage_port Management interface
business_port Edge-connected interface
heartbeat_port Heartbeat interface
wan_port WAN interface
lan_port LAN interface
bridge_lan_port The interface that the device is connected to subnet in bridge mode
bridge_wan_port The interface that the device is connected to the external devices (such as
internal router and direct line) in bridge mode
other_port Others
4.16.1.1.13. NFV Location Deployed in VPC
Table 4.16.13 NFV Location Deployed in VPC¶
Value Description
outer_vr_inner_vr Between the external router and internal router
inner_vr_inner_dvs Between the internal router and subnet
inner_dvs_private_line Between the subnet and direct line
inner_dvs Under the subnet
4.16.1.1.14. NFV Deployment Mode in VPC
Table 4.16.14 NFV Deployment Mode in VPC¶
Value Description
router Route (deployed between the internal router and external router)
bridge Bridge (deployed between the subnet and other devices, such as internal router and
direct line)
single Single arm (deployed under the subnet)
4.16.1.1.15. Operation Type of Device Connection Management
Table 4.16.15 Operation Type of Device Connection Management¶
Value Description
create Create device connection
delete Remove device connection
4.16.1.1.16. Classic Network NFV Device Type
Table 4.16.16 Classic Network NFV Device Type¶
Value Description
vnet:ssl SSL VPN
vnet:af NGAF
vnet:ad ADC
vnet:dblb DBLB
vnet:ac IAG
vnet:das DAS
vnet:woc WANO
vnet:apm Monitor Center
vnet:bvt BVT
vnet:las LAS
vnet:edr Endpoint Secure
vnet:osm OSM
4.16.1.1.17. Classic Network NFV Licensing Parameters
Table 4.16.17 Description of Classic Network NFV Licensing Parameters¶
NFV device type auth_info Parameter Description
vnet:ssl dev_type Performance
vnet:ssl ssl_branch Branches
vnet:ssl ssl_emmbasicuser EMM Basic Licenses
vnet:ssl ssl_emmbcuser License number of EMM MDM
Special
vnet:ssl ssl_emmordinaryuser EMM Standard Licenses
vnet:ssl ssl_emmsenioruser License number of EMM
Professional
vnet:ssl ssl_remoteappuser Remote App Users
vnet:ssl ssl_ssl_vpn Mobile Users
vnet:ssl ssl_line Lines
vnet:af dev_type Performance
vnet:af af_branch Branches
vnet:af af_ssl_vpn SSL VPN Users
vnet:af af_tamper Anti Web Defacement Licenses
vnet:af af_users Mobile users
vnet:ad dev_type Performance
vnet:ad ad_basic_module WAN links
vnet:ad ad_tcp_speeder_module TCP one-way acceleration
vnet:ad ad_SSL_module SSL offloading
vnet:ad ad_http_cache_module HTTP Caching
vnet:ad ad_DNS_module Intelligent DNS
vnet:dblb dev_type Performance
vnet:ac dev_type Performance
vnet:ac ac_branch Branches
vnet:ac ac_lines Lines
vnet:ac ac_users Mobile users
vnet:das dev_type Performance
vnet:woc dev_type Performance
vnet:woc woc_ipsec_vpn Third Party IPsec Devices
vnet:woc woc_vpn_line Lines
vnet:bvt dev_type Performance
vnet:las dev_type Performance
vnet:edr dev_type Performance
vnet:osm dev_type Performance
4.16.1.1.18. Classic Network Direct Connect Status
Table 4.16.18 Classic Network Direct Connect Status¶
Value Description
active Normal
error Abnormal
applying Applying
4.16.1.1.19. ACL Rule Actions of Classic Network
Table 4.16.19 ACL Rule Actions of Classic Network¶
Value Description
permit Allow
drop Drop
reject Deny
4.16.1.1.20. Src or Dst Types of Classic Network
Table 4.16.20 Src or Dst Types of Classic Network¶
Value Description
all All
ip Specified IP range
vif Specified interface
4.16.1.1.21. Type of Virtual Devices to Be Bulk Associated or Disassociated
Table 4.16.21 Type of Virtual Devices to Be Bulk Associated or Disassociated¶
Value Description
vm Virtual machine
4.16.2. VPC
4.16.2.1. Query VPC s
4.16.2.1.1. Scenario
Scenario: Query VPCs
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.0 and later
4.16.2.1.2. URI
Table 4.16.22 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/vpcs Query VPCs
Parameter Description:
Table 4.16.23 Path Parameters¶
Parameter Location Type Description Required
id path string Network ID No
name path string Network name No
az_id path string Resource pool ID No
project_id path string Tenant ID No
status path string Network status, view VPC Network for
details. No
keywords path string Search network name by keywords No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.2.1.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/vpcs?project_id=78ad8e9c9c7e487186f448bc81f050a6
4.16.2.1.4. Response
Response Parameter
Table 4.16.24 Response Parameter¶
Parameter Type Description
Value
Returned
id string Network ID Yes
name string Network name Yes
description string or
None Network description Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
type string Network type: VPC Yes
shared int(0, 1) Whether VPC is visible to all tenants. 0:
Invisible, 1: Visible Yes
status string Network status Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "active",
"description": null,
"shared": 0,
"project_id": "de3c453465034a31a2e054c6e4250626",
"type": "vpc",
"id": "6733078a-3572-4680-a750-e9d5eca630bc",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "VPC"
},
{
"status": "active",
"description": null,
"shared": 0,
"project_id": "0885364e43854b19a2c81298ed963456",
"type": "vpc",
"id": "ee5ce1e7-665e-4e98-93b0-8777454e0eb4",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "VPC"
}
]
4.16.2.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.2.2. Obtain DNAT rules on VPC
4.16.2.2.1. Scenario
Scenario: Obtain DNAT rules on VPC
Applicable roles: Administrator, system administrator, tenant and other roles with read permission to the
network.
Versions supported: SCP 6.8.0 and later
4.16.2.2.2. URI
Table 4.16.25 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vpcs/{vpc_id}/portmaps Obtain DNAT rules on VPC
Parameter Description:
Table 4.16.26 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string vpc id Yes
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.2.2.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/vpcs/78ad8e9c9c7e487186f448bc81f050a6/portmaps
4.16.2.2.4. Response
Response Parameter
Table 4.16.27 Response Parameter¶
Parameter Type Description Value Returned
id string portmap id No
name string Rule name No
az_id string Resource pool ID No
project_id string Tenant ID No
description string Description No
router_id string Router ID No
src_ip string Src IP No
external_ip string Dst IP No
external_port string Original port No
interanet_ip string Mapped IP address No
interanet_port string Mapped port No
protocol string Transmission protocol No
priority int Priority No
status string Status No
enable int Whether the configuration is
effective No
task_status string Task status No
created_at string Time created No
updated_at string Last update time of the rule No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"router_id": "b19e613f-ecc7-496d-bc77-e522c44f871b",
"src_ip": "1.2.2.2",
"project_id": "e65fc313394a4b129aa8e49fa6befda0",
"enable": 1,
"interanet_ip": "8.8.8.8",
"name": "",
"external_ip": "5.5.5.2",
"created_at": "2022-01-17T13:49:44.000000",
"updated_at": "",
"priority": 0,
"interanet_port": "55",
"status": "active",
"protocol": "udp",
"task_status": "",
"external_port": "77",
"id": "140256df-4306-4e4e-9266-e1f0fca02658",
"az_id": "5b1cfcf1-e834-4ed6-ba6b-e44134f1ce66",
"description": "122455jghg"
}
]
4.16.2.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.2.3. Create VPC
4.16.2.3.1. Scenario
Scenario: Create VPC for tenants
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
 Note
1. To create network for tenants, you need to associate them with a resource pool.
2. One tenant can only create a VPC in the same resource pool.
4.16.2.3.2. URI
Table 4.16.28 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/vpcs Create VPC
Parameter Description:
None
4.16.2.3.3. Request
Request Parameter
Table 4.16.29 Response Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
dh_id body string Dedicated server group
ID No
name body string VPC network name No
Request Example
https://{SCP_Endpoint}/janus/20180725/vpcs
{
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"project_id": "6f4e8e5bd6f5476a9c28a26fba03796a"
}
4.16.2.3.4. Response
Response Parameter
Table 4.16.30 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.16.2.3.5. Response Code
Success: 201
Errors: 400, 403, 409, 500
4.16.2.4. Delete VPC
4.16.2.4.1. Scenario
Scenario: Delete VPC
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
 Warning
Deleting VPC may affect network connectivity. Confirm the following first:
1. The virtual machines and NFV resources (including related resources in the Recycle Bin) in VPC have
been deleted permanently.
2. Shared bandwidth, direct line and elastic IPs have been deleted.
4.16.2.4.2. URI
Table 4.16.31 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/vpcs/{vpc_id} Delete VPC
Parameter Description:
Table 4.16.32 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
4.16.2.4.3. Request
Request Parameter
None
Request Example
None
4.16.2.4.3.1. Response¶
Response Parameter
Table 4.16.33 Response Parameter¶
Parameter Type Description Value Returned
task_id UUIDType Asynchronous task
ID Yes
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.16.2.4.3.2. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.3. VPC Subnet
4.16.3.1. Query Subnets
4.16.3.1.1. Scenario
Scenario: Query subnets
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.0 and later
 Warning
The cloud platform will create WAN subnet and NFV management subnet that are invisible to tenants
for internal communication and management on the platform. If not necessary, do not modify or delete
them.
4.16.3.1.1.1. URI¶
Table 4.16.34 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/subnets Query Subnets
Parameter Description:
Table 4.16.35 Path Parameters¶
Parameter Location Type Description Required
name path string Subnet name No
az_id path string Resource pool ID No
vpc_id path string VPC ID No
project_id path string Tenant ID No
keywords path string Query subnet name No
is_visible path int Whether the subnet is
visible to tenants No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.3.1.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/subnets?vpc_id=f6f18ab6-42ab-4110-82efe2bd17fcd7de&
is_visible=1
4.16.3.1.3. Response
Response Parameter
Table 4.16.36 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID No
name string Subnet name No
description
string
or
None
Subnet description No
az_id string Resource pool ID No
project_id string Tenant ID No
vpc_id string VPC ID No
cidr string Subnet CIDR No
status string Subnet status, view Subnet Status for details. No
gateway_ip string Gateway IP No
is_visible int(0, 1) Whether the subnet is visible to tenants No
enable_dhcp int(0, 1) Whether to enable DHCP No
shared int(0, 1) Whether it is visible to all tenants No
allocation_pools list(dict) Available IP ranges, view Parameter Description -
allocation_pools for details. No
Parameter Description - allocation_pools:
Table 4.16.37 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "active",
"is_visible": 1,
"description": null,
"enable_dhcp": 1,
"allocation_pools": [
{
"start": "192.168.0.2",
"end": "192.168.0.254"
}
],
"gateway_ip": "192.168.0.1",
"shared": 0,
"vpc_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"cidr": "192.168.0.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"id": "a366a91c-f2d2-40db-a3b9-32c51b0a4cac",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "Subnet1"
},
{
"status": "active",
"is_visible": 0,
"description": null,
"enable_dhcp": 1,
"allocation_pools": [
{
"start": "172.31.0.2",
"end": "172.31.0.254"
}
],
"gateway_ip": "172.31.0.1",
"shared": 0,
"vpc_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"cidr": "172.31.0.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"id": "ed45c4a3-df8a-4589-b048-a345f2c8dd56",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "wan_subnet"
},
{
"status": "active",
"is_visible": 0,
"description": null,
"enable_dhcp": 1,
"allocation_pools": [
{
"start": "172.32.0.2",
"end": "172.32.0.254"
}
],
"gateway_ip": "172.32.0.1",
"shared": 0,
"vpc_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"cidr": "172.32.0.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"id": "d1cb73a2-750f-4d40-82e4-784518f4e5d3",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "NFV_management_subnet"
}
]
4.16.3.1.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.3.2. Query Subnet
4.16.3.2.1. Scenario
Scenario: Query subnet
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP6.3.70 and later
4.16.3.2.2. URI
Table 4.16.38 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/subnets/{subnet_id} Query Subnet
Parameter Description:
Table 4.16.39 Path Parameters¶
Parameter Location Type Description Required
subnet_id path string Subnet ID Yes
4.16.3.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/subnets/f6f18ab6-42ab-4110-82ef-e2bd17fcd7de
4.16.3.2.4. Response
Response Parameter
Table 4.16.40 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
description
string
or
None
Subnet description Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
vpc_id string VPC ID Yes
cidr string Subnet CIDR Yes
status string Subnet status Yes
gateway_ip string Gateway IP Yes
is_visible int(0, 1) Whether the subnet is visible to tenants Yes
enable_dhcp int(0, 1) Whether to enable DHCP Yes
shared int(0, 1) Whether it is visible to all tenants Yes
allocation_pools list(dict) Available IP ranges, view Parameter Description -
allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.41 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"description": null,
"enable_dhcp": 1,
"vpc_id": "f6f18ab6-42ab-4110-82ef-e2bd17fcd7de",
"allocation_pools": [
{
"start": "192.168.0.2",
"end": "192.168.0.254"
}
],
"gateway_ip": "192.168.0.1",
"cidr": "192.168.0.0/24",
"shared": 0,
"project_id": "e3c6b8e870c84a90be87eddfbf7ae12f",
"id": "454ae1e8-eaa2-405a-922c-9a654aa2240b",
"az_id": "30457665-e8ca-4821-bfd9-d29dc2006834",
"name": "Subnet1"
}
4.16.3.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.3.3. Create a Subnet
4.16.3.3.1. Scenario
Scenario: Create a subnet for tenants.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
 Note
1. To create a subnet, you are recommended to use the IP ranges that start with 10, 172 or
192 as the subnet range. The following are the recommended subnet range:
a. For large-sized enterprises, use IP range starting with 10.
b. For medium-sized enterprises, use IP range starting with 172.
c. For small enterprises, use IP range starting with 192.
2. The IP range 10.251.251.0/24 is reserved for NFV devices and cannot be used as elastic
IP pool subnet.
3. Subnet range cannot overlap with elastic IP subnet range.
4. One tenant can create at most 20 subnets.
4.16.3.3.2. URI
Table 4.16.42 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/subnets Create a Subnet
Parameter Description:
None
4.16.3.3.3. Request
Request Parameter
Table 4.16.43 Response Parameter¶
Parameter Location Type Description Required
name body string Subnet name Yes
description body string Description No
vpc_id body string VPC ID Yes
enable_dhcp body int(0, 1) Whether to enable DHCP No
gateway_ip body string Gateway IP Yes
cidr body string Subnet Yes
allocation_pools body list(dict)
Available IP ranges, view Parameter
Description - allocation_pools for
details.
Yes
Parameter Description - allocation_pools:
Table 4.16.44 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
Request Example
https://{SCP_IP}/janus/20180725/subnets
{
"name": "new",
"gateway_ip": "192.168.1.1",
"netdomain_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"enable_dhcp": 1,
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"cidr": "192.168.1.0/24",
"description": "111"
}
4.16.3.3.4. Response
Response Parameter
Table 4.16.45 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
description string Subnet description No
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to the its tenant No
vpc_id string VPC ID Yes
project_id string Tenant ID Yes
az_id string Resource pool ID No
ip_version int Internet protocol version (supports IPv4) Yes
enable_dhcp int(0, 1) Whether to enable DHCP No
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
shared int(0, 1) Whether it is visible to all tenants No
create_at string Time created Yes
update_at string Time updated Yes
qos_uplink int(0,
10485760) Outbound bandwidth, in Kbps No
qos_downlink int(0,
10485760) Inbound bandwidth, in Kbps No
allocation_pools list(dict) Available IP ranges, view Parameter
Description - allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.46 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"description": "111",
"enable_dhcp": 1,
"created_at": "2020-12-28T07:14:11Z",
"updated_at": "2020-12-28T07:14:19Z",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"vpc_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"gateway_ip": "192.168.1.1",
"ip_version": 4,
"shared": 0,
"cidr": "192.168.1.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"netmask": "255.255.255.0",
"id": "1e5c4b98-0955-4ace-ac71-9cf4c4d1c209",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "new"
}
4.16.3.3.5. Response Code
Success: 201
Errors: 400, 403, 409, 404
4.16.3.4. Edit a Subnet
Scenario: Edit a subnet
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
4.16.3.4.1. URI
Table 4.16.47 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/subnets/{subnet_id} Edit a
Subnet
Parameter Description:
Table 4.16.48 Path Parameters¶
Parameter Location Type Description Required
subnet_id path string Subnet ID Yes
4.16.3.4.2. Request
Request Parameter
Table 4.16.49 Response Parameter¶
Parameter Location Type Description Required
name body string Subnet name No
description body string Description No
enable_dhcp body int(0, 1) Whether to enable DHCP No
allocation_pools body list(dict)
Available IP ranges, view Parameter
Description - allocation_pools for
details.
No
Parameter Description - allocation_pools:
Table 4.16.50 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
Request Example
https://{SCP_IP}/janus/20180725/subnets/454ae1e8-eaa2-405a-922c-9a654aa2240b
{
"name": "new1",
"enable_dhcp": 1,
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.250"
}
],
"description": "111222"
}
4.16.3.4.3. Response
Response Parameter
Table 4.16.51 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
description string Subnet description No
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to the its tenant No
vpc_id string VPC ID Yes
project_id string Tenant ID Yes
az_id string Resource pool ID No
ip_version int Internet protocol version (supports IPv4) Yes
enable_dhcp int(0, 1) Whether to enable DHCP No
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
shared int(0, 1) Whether it is visible to all tenants No
create_at string Time created Yes
update_at string Time updated Yes
qos_uplink int(0,
10485760) Outbound bandwidth, in Kbps No
qos_downlink int(0,
10485760) Inbound bandwidth, in Kbps No
allocation_pools list(dict) Available IP ranges, view Parameter
Description - allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.52 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"description": "111222",
"enable_dhcp": 1,
"created_at": "2020-12-28T07:14:11Z",
"updated_at": "2020-12-28T07:14:19Z",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.250"
}
],
"netdomain_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"gateway_ip": "192.168.1.1",
"ip_version": 4,
"shared": 0,
"cidr": "192.168.1.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"netmask": "255.255.255.0",
"id": "1e5c4b98-0955-4ace-ac71-9cf4c4d1c209",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"name": "new1"
}
4.16.3.4.3.1. Response Code¶
OK: 200
Abnormal: 400, 403, 404, 409, 500
4.16.3.5. Delete a Subnet
4.16.3.5.1. Scenario
Scenario: Delete tenants’ subnet
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
 Note
1. If a subnet has been used by router ACL, it cannot be deleted.
4.16.3.5.2. URI
Table 4.16.53 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/subnets/{subnet_id} Delete a
Subnet
Parameter Description:
Table 4.16.54 Path Parameters¶
Parameter Location Type Description Required
subnet_id path string Subnet ID Yes
4.16.3.5.3. Request
Request Parameter
None
Request Example
None
4.16.3.5.4. Response
Response Parameter
None
Response Example:
None
4.16.3.5.4.1. Response Code¶
Normal: 204
Errors: 400, 403, 404, 500
4.16.4. Firewall Management
4.16.4.1. Common Firewall Parameters
4.16.4.1.1. Firewall Policy Types
Table 4.16.55 Firewall Policy Types¶
Value Description
global Global policy
general User policy
scp_pass SCP passthrough policy
cbsp Isolation policy
4.16.4.1.2. Network Types
Table 4.16.56 Network Types¶
Value Description
classic Classic Network
vpc VPC
4.16.4.1.3. Relative Positions for Distributed Firewall Policy
Table 4.16.57 Relative Positions for Distributed Firewall Policy¶
Value Description
before Before
after After
4.16.4.1.4. Absolute Positions for Distributed Firewall Policy
Table 4.16.58 Absolute Positions for Distributed Firewall Policy¶
Value Description
top Top
last Bottom
4.16.4.1.5. Position Types for Distributed Firewall Policy
Table 4.16.59 Position Types for Distributed Firewall Policy¶
Value Description
relative Relative position
absolute Absolute position
4.16.4.2. Create firewall policy
4.16.4.2.1. Scenario
Scenario: Create a firewall policy
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.8.0 and later
4.16.4.2.2. URI
Table 4.16.60 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/dfw-policies Create firewall policy
Parameter Description:
None
4.16.4.2.3. Request
Request Parameter
Table 4.16.61 Body Parameter¶
Parameter Location Type Description Required
vpc_id body string Network ID. This parameter is required
for a VPC. No
az_id body string Resource pool ID. This parameter is
required for a classic network. No
project_id body string Tenant ID. This parameter is required
for a classic network. No
name body string Policy name Yes
position body string View Parameter Description -
policy_position for the policy position. No
policy_type body string
View Firewall Policy Types for policy
types. general: User policy, cbsp:
Isolation policy
No
network_type body string View Network Types for network
types. Yes
extra body dict Additional parameters No
Parameter Description - policy_position
Table 4.16.62 Parameter Description - policy_position¶
Parameter Type Note Required
related_id string ID of the associated policy No
direction string
View Relative Positions for Distributed Firewall Policy for
the relative position of the distributed firewall policy.
Valid values: before and after.
No
location string
View Absolute Positions for Distributed Firewall Policy
for the absolute position of the distributed firewall policy.
Valid values: top and last.
No
type string View Position Types for Distributed Firewall Policy for
position types. Valid values: relative and absolute. Yes
Request Example
https://{SCP_IP}/janus/20180725/dfw-policies
{
"name": "Create a firewall policy for the classic network",
"position": {
"related_id": "15868c58-929e-4356-91b8-36e00766a057",
"direction": "before",
"location": "top",
"type": "absolute"
},
"az_id": "77e7f7ba-33ea-4dd3-87be-fb7349590d49",
"project_id": "1d1fd4bbd2ac41fd907b4759c6098667",
"policy_type": "general",
"network_type": "classic"
}
4.16.4.2.4. Response
Response Parameter
Table 4.16.63 Response Parameter¶
Parameter Type Description Value Returned
id string Policy ID Yes
Response Example:
{
"id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8"
}
4.16.4.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.4.3. Query list of distributed firewall policies
4.16.4.3.1. Scenario
Scenario: Query the list of distributed firewall policies
Roles supported: Super administrator, system administrator, tenant, and administrator with permission to
read firewall policies
Versions supported: SCP 6.8.0 and later
4.16.4.3.2. URI
Table 4.16.64 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/dfw-policies Query list of distributed firewall
policies
Parameter Description:
Table 4.16.65 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string Network ID. This parameter is
required for a VPC. No
az_id path string Resource pool ID. This parameter is
required for a classic network. No
project_id path string Tenant ID. This parameter is required
for a classic network. No
dfw_policy_ids path string Policy IDs, which are separated by
commas (,) No
policy_type path string View Firewall Policy Types for policy
types. No
network_type path string View Network Types for network
types. No
page_num path string Number of requested pages No
page_size path string Page size No
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/dfw-policies?az_id=77e7f7ba-33ea-4dd3-87befb7349590d49&
project_id=1d1fd4bbd2ac41fd907b4759c6098667
4.16.4.3.3. Response
Response Parameter
Table 4.16.66 Response Parameter¶
Parameter Type Description
Value
Returned
policy_type string View Firewall Policy Types for policy types. Yes
name string Policy name Yes
project_id string Tenant ID No
id string Policy ID Yes
az_id string Resource pool ID No
rule_ids list IDs of rules in the policy Yes
network_type string View Network Types for network types. Yes
vpc_id string Network ID No
 Note
For common response parameters, view Response Format for details
Response Example:
[{
"policy_type": "global",
"name": "Global policy",
"project_id": "1d1fd4bbd2ac41fd907b4759c6098667",
"id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"az_id": "77e7f7ba-33ea-4dd3-87be-fb7349590d49",
"rule_ids": ["add7869e-a0fa-4f0b-a6a4-f53d248f27a8"],
"network_type": "classic",
"vpc_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a1",
}]
4.16.4.3.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.4.4. Query details of distributed firewall policy
4.16.4.4.1. Scenario
Scenario: Query details of a distributed firewall policy
Roles supported: Super administrator, system administrator, tenant, and administrator with permission to
read firewall policies
Versions supported: SCP 6.8.0 and later
4.16.4.4.2. URI
Table 4.16.67 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/dfw-policies/{dfw_policy_id} Query details of distributed
firewall policy
Parameter Description:
Table 4.16.68 Path Parameters¶
Parameter Location Type Description Required
dfw_policy_id path string Policy ID Yes
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/dfw-policies?dfw_policy_id=77e7f7ba-33ea-4dd3-87befb7349590d49
4.16.4.4.3. Response
Response Parameter
Table 4.16.69 Response Parameter¶
Parameter Type Description
Value
Returned
policy_type string View Firewall Policy Types for policy types. Yes
name string Policy name Yes
project_id string Tenant ID No
id string Policy ID Yes
az_id string Resource pool ID No
rule_ids list IDs of rules in the policy Yes
network_type string View Network Types for network types. Yes
vpc_id string Network ID No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"policy_type": "global",
"name": "Global policy",
"project_id": "1d1fd4bbd2ac41fd907b4759c6098667",
"id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a8",
"az_id": "77e7f7ba-33ea-4dd3-87be-fb7349590d49",
"rule_ids": ["add7869e-a0fa-4f0b-a6a4-f53d248f27a8"],
"network_type": "classic",
"vpc_id": "add7869e-a0fa-4f0b-a6a4-f53d248f27a1",
}
4.16.4.4.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.4.5. Edit distributed firewall policy (priority)
4.16.4.5.1. Scenario
Scenario: Edit a distributed firewall policy (priority)
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.8.0 and later
4.16.4.5.2. URI
Table 4.16.70 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/dfw-policies/{dfw_policy_id} Edit distributed firewall policy
(priority)
Parameter Description:
Table 4.16.71 Path Parameters¶
Parameter Location Type Description Required
dfw_policy_id path string Policy ID Yes
4.16.4.5.3. Request
Request Parameter
Table 4.16.72 Body Parameter¶
Parameter Location Type Description Required
name body string Policy name Yes
position body string View Parameter Description -
policy_position for the policy position. No
Parameter Description - policy_position
Table 4.16.73 Parameter Description - policy_position¶
Parameter Type Note
related_id string ID of the associated policy
direction string View Relative Positions for Distributed Firewall Policy for the relative
position of the distributed firewall policy. Valid values: before and after.
location string View Absolute Positions for Distributed Firewall Policy for the absolute
position of the distributed firewall policy. Valid values: top and last.
type string View Position Types for Distributed Firewall Policy for position types.
Valid values: relative and absolute.
Request Example
https://{SCP_IP}/janus/20180725/dfw-policies/fe60098d-e241-477f-ad3f-31e0888c7de2
{
"name": "Create a firewall policy for the classic network",
"position": {
"related_id": "15868c58-929e-4356-91b8-36e00766a057",
"direction": "before",
"location": "top",
"type": "absolute"
}
}}
4.16.4.5.4. Response
Response Parameter
None
Response Example:
None
4.16.4.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.4.6. Delete distributed firewall policy
4.16.4.6.1. Scenario
Scenario: Delete a distributed firewall policy
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.8.0 and later
4.16.4.6.2. URI
Table 4.16.74 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/dfw-policies/{dfw_policy_id} Delete distributed firewall
policy
Parameter Description:
Table 4.16.75 Path Parameters¶
Parameter Location Type Description Required
dfw_policy_id path string Policy ID Yes
4.16.4.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/dfw-policies/fe60098d-e241-477f-ad3f-31e0888c7de2
4.16.4.6.4. Response
Response Parameter
None
Response Example:
None
4.16.4.6.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.4.7. View VM group list in Distributed Firewall
4.16.4.7.1. Scenario
Scenario: View the list of VM groups in Distributed Firewall
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.9.1 and later
4.16.4.7.2. URI
Table 4.16.76 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20200725/dfw/vm-groups View VM group list in
Distributed Firewall
Parameter Description:
Table 4.16.77 Path Parameters¶
Parameter Location Type Description Required
dfw_domain_id query string Applicable scope ID Yes
group_id query string VM group lists in Distributed
Firewall, separated by commas (,) No
4.16.4.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/dfw/vm-groups?dfw_domain_id=0fbb4d14-408a-4d7d-9e9e-
048788894a29
4.16.4.7.4. Response
Response Parameter
None
Response Example:
{
"message": "",
"code": 0,
"data": {
"dfw_vm_groups": [
{
"group_id": "0fbb4d14-408a-4d7d-9e9e-048788894a29",
"vm_ids": ["16f8acd2-0853-4117-88a8-96fcc5b084d4"]
}
]
}
}
4.16.4.7.5. Response Code
OK: 200
Errors: 400, 401, 404, 500, 503
4.16.4.8. Bulk Create VM Groups in Distributed Firewall
4.16.4.8.1. Scenario
Scenario: Bulk create VM groups in Distributed Firewall
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.9.1 and later
4.16.4.8.2. URI
Table 4.16.78 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20200725/dfw/vm-groups Bulk Create VM Groups in
Distributed Firewall
Parameter Description:
Table 4.16.79 Path Parameters¶
Parameter Location Type Description Required
dfw_domain_id body string Applicable scope ID Yes
dfw_vm_groups body list(dict)
Association list of VM
groups in Distributed
Firewall
Yes
group_id body string ID of VM group in
Distributed Firewall Yes
vm_ids body list(string) VM ID list Yes
4.16.4.8.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/dfw/vm-groups
{
"dfw_domain_id": "2b884bf2-35c1-4359-82e1-77ce2d4151c8",
"dfw_vm_groups": [
{
"group_id": "3f7d40ce-a9da-4fa0-83bb-47274e213d68",
"vm_ids": ["b83c4e54-2f52-4710-af14-183f924949fa"]
}
]
}
4.16.4.8.4. Response
Response Parameter
None
Response Example:
{
"message": "",
"code": 0,
"data": {
"dfw_vm_groups": [
{
"group_id": "3f7d40ce-a9da-4fa0-83bb-47274e2
13d68",
"vm_ids": ["b83c4e54-2f52-4710-af14-183f9249
49fa"]
}
]
}
}
4.16.4.8.5. Response Code
Success: 201
Errors: 400, 401, 404, 500, 503
4.16.4.9. Bulk Update VM Groups in Distributed Firewall
4.16.4.9.1. Scenario
Scenario: Bulk update VM groups in Distributed Firewall
Roles supported: Super administrator, system administrator, tenant, and other administrators with the
firewall configuration permission
Versions supported: SCP 6.9.1 and later
4.16.4.9.2. URI
Table 4.16.80 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20200725/dfw/vm-groups Bulk Update VM Groups in
Distributed Firewall
Parameter Description:
Table 4.16.81 Path Parameters¶
Parameter Location Type Description Required
dfw_domain_id body string Applicable scope ID Yes
dfw_vm_groups body list(dict)
Association list of VM
groups in Distributed
Firewall
Yes
group_id body string ID of VM group in
Distributed Firewall Yes
vm_ids body list(string) VM ID list Yes
4.16.4.9.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20200725/dfw/vm-groups
{
"dfw_domain_id": "2b884bf2-35c1-4359-82e1-77ce2d4151c8",
"dfw_vm_groups": [
{
"group_id": "3f7d40ce-a9da-4fa0-83bb-47274e213d68",
"vm_ids": ["b83c4e54-2f52-4710-af14-183f924949fa"]
}
]
}
4.16.4.9.4. Response
Response Parameter
None
Response Example:
{
"message": "",
"code": 0,
"data": {
"dfw_vm_groups": [
{
"group_id": "3f7d40ce-a9da-4fa0-83bb-47274e2
13d68",
"vm_ids": ["b83c4e54-2f52-4710-af14-183f9249
49fa"]
}
]
}
}
4.16.4.9.5. Response Code
OK: 200
Errors: 400, 401, 404, 500, 503
4.16.5. Virtual IP
4.16.5.1. Create a Virtual IP
4.16.5.1.1. Scenario
Scenario: Create a virtual IP
Roles supported: Co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
4.16.5.1.2. URI
Table 4.16.82 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/virtualips Create a Virtual IP
Description
None
4.16.5.1.3. Request
Response Parameter
Table 4.16.83 Description of Body Parameter¶
Parameter Location Type Description Required
vpc_id body string VPC ID, it can be obtained from Query
VPC s Yes
id body string Specified ID for creating virtual IP address No
subnet_id body string Subnet ID No
fixed_ips body list Virtual IP, view Parameter Description -
fixed_ips for details No
name body string Virtual IP name No
description body string Description No
tag body string Virtual IP tag No
 Note
1. At least one of the parameters subnet_id and fixed_ips must be passed. If both of them
are passed, the IP range must be the same.
2. The parameter tag can only be passed by value “DMP”.
Parameter Description - fixed_ips
Table 4.16.84 Parameter Description - fixed_ips¶
Parameter Type Value Returned Note
ip_address string Yes Virtual IP address
Request Example
https://{SCP_IP}/janus/20180725/virtualips
{
"vpc_id": "1752c3d2-2df9-4e2f-92c9-9e4d68c72da1",
"fixed_ips": [
{
"ip_address": "192.168.0.55"
}
],
"name": "testvip1",
"description": "Creating virtual IP for testing"
}
4.16.5.1.4. Response
Response Parameter
Table 4.16.85 Response Parameter¶
Parameter Type Description Value Returned
id string Virtual IP ID Yes
project_id string Tenant ID Yes
vpc_id string VPC ID Yes
subnet_id string Subnet ID Yes
fixed_ips list Virtual IP Yes
port_id string Port ID Yes
az_id string Resource pool ID Yes
name string Name No
description string Description No
tag string Tag No
 Note
For common response parameters, view Response Format for details
Response Example
{
"name": "testvip1",
"subnet_id": "129404c4-d19a-4487-8628-349e4e44dbd1",
"fixed_ips": [
{
"ip_address": "192.168.0.55"
}
],
"tag": "",
"vpc_id": "1752c3d2-2df9-4e2f-92c9-9e4d68c72da1",
"project_id": "a74b7c91331547d58b78d44a2821bda1",
"port_id": "1daeb534-327f-4ca0-b729-be94a9091698",
"id": "fcbc8cac-9abd-4a7a-9fe4-d1c133e14132",
"az_id": "611f1b34-c727-4925-854e-07bc8607f681",
"description": "Creating virtual IP for testing"
}
4.16.5.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.5.2. Delete a Specified Virtual IP
4.16.5.2.1. Scenario
Scenario: Delete a specified virtual IP.
Roles supported: Super admin, system admin, and co-administrator with the Network Configuration
permission
Versions supported: SCP6.3.70 and later
4.16.5.2.2. URI
Table 4.16.86 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/virtualips/{virtualip_id} Delete a Specified
Virtual IP
Description
Table 4.16.87 Path Parameters¶
Parameter Location Type Description Required
virtualip_id path string Virtual IP ID Yes
4.16.5.2.3. Request
Response Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/virtualips/d4977ac7-fc01-45a0-afc9-9d86819e7976
4.16.5.2.4. Response
Response Parameter
None
Response Example
4.16.5.2.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.5.3. Bulk Bind/Unbind Virtual IP Addresses to/from Devices
4.16.5.3.1. Scenario
Scenario: Bulk bind/unbind virtual IP addresses to/from devices
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
bulk bind/unbind virtual IP addresses to/from VMs
Versions supported: SCP 6.8.90 and later
4.16.5.3.2. URI
Table 4.16.88 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/virtualips/{virtualip_id}/actions/bulkbind
Bulk Bind/Unbind
Virtual IP Addresses
to/from Devices
Description
Table 4.16.89 Path Parameters¶
Parameter Location Type Description Required
virtualip_id path string Virtual IP ID Yes
4.16.5.3.3. Request
Request Parameter
Table 4.16.90 Description of Body Parameter¶
Parameter Location Type Description Required
virtualip_binds body dict
Virtual IP addresses to be bulk bound or
unbound. For details, see Parameter
Description - virtualip_binds.
Yes
Parameter Description - virtualip_binds:
Table 4.16.91 Parameter Description - virtualip_binds¶
Parameter Type Description Required
binds list(dict) Parameters for bindings to be created. For details,
see Parameter Description - binds. No
unbind_ids list(string) IDs of bindings to be unbound No
 Note
1. Unbind_ids can be obtained by querying binds from the returned value of the API for the
list of virtual IP addresses on the version released on July 25, 2018, or the API for the
specified virtual IP address on the version released on July 25, 2018.
2. Unbind_ids can be obtained by querying vm_binds from the returned value of the API for
the list of virtual IP addresses on the version released on July 25, 2019, or the API for the
specified virtual IP address on the version released on July 25, 2019.
Parameter Description - binds:
Table 4.16.92 Parameter Description - binds¶
Parameter Type Description Required
device_id string Bound device ID Yes
device_type string Bound device type. For details, see Type of Virtual
Devices to Be Bulk Associated or Disassociated. Yes
Request Example
https://{SCP_IP}/janus/20190725/virtualips/b0478729-1c25-43ec-baea-
1941b5588197/actions/bulk-bind
{
"virtualip_binds": {
"binds": [
{
"device_id": "b684301b-9bad-4397-b67d-6a24c681318c",
"device_type": "vm"
}
]
}
}
4.16.5.3.4. Response
Response Parameter
Table 4.16.93 Response Parameter¶
Parameter Location Type Description Value Returned
task_id body string Task ID Yes
Response Example
{
"task_id": "73371bb7-cbbb-48fc-97e7-81ef62fadc49",
}
4.16.5.3.5. Bulk Binding Example
Bulk Binding
{
"virtualip_binds": {
"binds": [
{
"device_id": "b684301b-9bad-4397-b67d-6a24c681318c",
"device_type": "vm"
}
]
}
}
4.16.5.3.6. Bulk Unbinding Example
Bulk Unbinding
{
"virtualip_binds": {
"unbind_ids": ["52577c60-2155-4dcd-b5c9-f3c807e53ff0"]
}
}
4.16.5.3.7. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.5.4. Query Virtual IPs
4.16.5.4.1. Query Virtual IPs
4.16.5.4.1.1. Scenario¶
Scenario: Query virtual IPs
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP6.3.70 and later
4.16.5.4.1.2. URI¶
Table 4.16.94 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/virtualips Query Virtual IPs
Description
Table 4.16.95 Path Parameters¶
Parameter Location Type Description Required
id path string Virtual IP ID No
project_id path string Tenant ID No
subnet_id path string Subnet ID No
vpc_id path string VPC ID No
az_id path string Resource pool ID No
port_id path string Port ID No
name path string Name No
tag path string Tag No
description path string Description No
4.16.5.4.1.3. Request¶
Response Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/virtualips?subnet_id=1b4a29f1-6c51-441f-af36-
97ba69ea1506&page_num=1&page_size=2&sort=name&order_by=DESC
4.16.5.4.1.4. Response¶
Response Parameter
Table 4.16.96 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual IP ID No
project_id string Tenant ID No
vpc_id string VPC ID No
subnet_id string Subnet ID No
fixed_ips list Virtual IP, view Parameter Description - fixed_ips for
details No
name string Virtual IP name No
description string Description No
az_id string Resource pool ID of virtual IP No
port_id string Port ID No
tag string Virtual IP tag No
binds list Virtual IP address binding information. For details, see
Parameter Description - binds. No
created_at string Time created No
updated_at string Last updated No
 Note
For common response parameters, view Response Format for details
Parameter Description - fixed_ips
Table 4.16.97 Parameter Description - fixed_ips¶
Parameter Type Value Returned Note
ip_address string Yes Virtual IP address
Parameter Description - binds
Table 4.16.98 Parameter Description - binds¶
Parameter Type Value Returned Note
id string Yes ID of the binding between
the VM and IP address
device_id string Yes Bound device ID
device_type string Yes Bound device type
device_port_id string Yes Port ID of the bound device
virtualip_id string Yes Virtual IP address ID
created_at string No Time created
updated_at string No Time updated
Response Example
[
{
"description": "",
"subnet_id": "1b4a29f1-6c51-441f-af36-97ba69ea1506",
"fixed_ips": [
{
"ip_address": "192.168.0.3"
}
],
"created_at": "2021-04-26T03:31:20.000000",
"updated_at": "",
"binds": [],
"tag": "",
"vpc_id": "c92f12ce-9088-474d-a7ea-b248131734d3",
"project_id": "d58775da112543679725a95deaa1f8ed",
"port_id": "79cfbd51-4b70-4836-9eee-75dae592d98a",
"id": "d4977ac7-fc01-45a0-afc9-9d86819e7976",
"az_id": "bb912da8-6bb7-4bc7-b581-6f965de2edc2",
"name": "tjc1test1"
}
]
4.16.5.4.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.5.4.2. Query List of Virtual IP Addresses (July 25, 2019)
4.16.5.4.2.1. Scenario¶
Scenario: Query virtual IPs
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
obtain the list of virtual IP addresses
Versions supported: SCP 6.8.90 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameter
floating_ip_bind.
4.16.5.4.2.2. URI¶
Table 4.16.99 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/virtualips Query Virtual IPs
Description
Table 4.16.100 Path Parameters¶
Parameter Location Type Description Required
id path string Virtual IP ID No
project_id path string Tenant ID No
subnet_id path string Subnet ID No
vpc_id path string VPC ID No
name path string Name No
az_id path string Resource pool ID No
port_id path string Port ID No
tag path string Tag No
description path string Description No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.5.4.2.3. Request¶
Response Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/virtualips
4.16.5.4.2.4. Response¶
Response Parameter
Table 4.16.101 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual IP ID No
project_id string Tenant ID No
vpc_id string VPC ID No
subnet_id string Subnet ID No
fixed_ips list(dict) Virtual IP address information. For details, see
Parameter Description - fixed_ips. No
name string Virtual IP name No
description string Description No
az_id string Resource pool ID of virtual IP No
port_id string Port ID No
tag string Virtual IP tag No
vm_binds list(dict)
Information of the binding between the virtual IP
address and VM. For details, see Parameter
Description - vm_binds.
No
floating_ip_bind dict
Information of the binding between the virtual IP
address and elastic IP address. For details, see
Parameter Description - floating_ip_bind.
No
created_at string Time created No
updated_at string Last updated No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Parameter Description - fixed_ips
Table 4.16.102 Parameter Description - fixed_ips¶
Parameter Type Value Returned Note
ip_address string Yes Virtual IP address
Parameter Description - vm_binds
Table 4.16.103 Parameter Description - vm_binds¶
Parameter Type Value Returned Note
id string Yes ID of the binding between
the VM and IP address
device_id string Yes Bound device ID
device_type string Yes Bound device type
device_port_id string Yes Port ID of the bound device
virtualip_id string Yes Virtual IP address ID
created_at string No Time created
updated_at string No Time updated
Parameter Description - floating_ip_bind
Table 4.16.104 Parameter Description - floating_ip_bind¶
Parameter Type Value Returned Note
floating_ip string No Bound elastic IP address
floating_ip_id string Yes ID of the bound elastic
IP address
Response Example
[
{
"floating_ip_bind": {
"floating_ip_id": "14ed36da-6e42-4e45-9969-c898a4a3821d",
"floating_ip": "192.168.2.3"
},
"description": "test",
"subnet_id": "45122f98-e6d9-4cab-bff8-2c8c4c277e8b",
"fixed_ips": [
{
"ip_address": "192.168.0.2"
}
],
"created_at": "2023-09-06T14:56:52.000000",
"updated_at": "2023-09-07T09:18:47.000000",
"tag": "",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"vpc_id": "81b30d25-302b-4dfa-a25a-55091a2a6729",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"port_id": "e717c47a-42ce-4abb-861a-58a00bc1afd2",
"id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"vm_binds": [
{
"virtualip_id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"device_port_id": "",
"id": "44d24417-05ca-4e30-9db4-2d713b63195c",
"device_type": "vm",
"device_id": "59e0d358-5d2a-4022-9ff4-7eed563df9ee"
},
{
"virtualip_id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"device_port_id": "",
"id": "78cbea4e-3151-418f-9186-f8f4b2808258",
"device_type": "vm",
"device_id": "b1539b98-200f-4291-a8e6-93ede5ef2e31"
}
],
"name": ""
}
]
4.16.5.4.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.5.5. Query a Specified Virtual IP
4.16.5.5.1. Query a Specified Virtual IP
4.16.5.5.1.1. Scenario¶
Scenario: Query a specified virtual IP
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP6.3.70 and later
4.16.5.5.1.2. URI¶
Table 4.16.105 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/virtualips/{virtualip_id} Query a Specified
Virtual IP
Description
Table 4.16.106 Path Parameters¶
Parameter Location Type Description Required
virtualip_id path string Virtual IP ID Yes
4.16.5.5.1.3. Request¶
Response Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/virtualips/d4977ac7-fc01-45a0-afc9-9d86819e7976
4.16.5.5.1.4. Response¶
Response Parameter
Table 4.16.107 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual IP ID Yes
subnet_id string Subnet ID Yes
project_id string Tenant ID Yes
fixed_ips list Assigned virtual IPs, view Parameter Description -
fixed_ips for reference Yes
vpc_id string VPC ID Yes
az_id string Resource pool ID of virtual IP Yes
port_id string Port ID Yes
name string Virtual IP name Yes
description string Description Yes
tag string Virtual IP tag Yes
binds list Virtual IP address binding. For details, see Parameter
Description - binds. Yes
created_at string Time created Yes
updated_at string Time updated Yes
 Note
Virtual IP cannot be associated currently, so the parameter binds will return no results.
 Note
For common response parameters, view Response Format for details
Parameter Description - fixed_ips
Table 4.16.108 Parameter Description - fixed_ips¶
Parameter Type Value Returned Note
ip_address string Yes Virtual IP address
Parameter Description - binds
Table 4.16.109 Parameter Description - binds¶
Parameter Type Value Returned Note
id string Yes ID of the binding between
the VM and IP address
device_id string Yes Bound device ID
device_type string Yes Bound device type
device_port_id string Yes Port ID of the bound device
virtualip_id string Yes Virtual IP address ID
created_at string No Time created
updated_at string No Time updated
Response Example
{
"message": "",
"code": 0,
"data": {
"description": "",
"subnet_id": "1b4a29f1-6c51-441f-af36-97ba69ea1506",
"fixed_ips": [
{
"ip_address": "192.168.0.3"
}
],
"created_at": "2021-04-26T03:31:20.000000",
"updated_at": "",
"binds": [],
"tag": "",
"vpc_id": "c92f12ce-9088-474d-a7ea-b248131734d3",
"project_id": "d58775da112543679725a95deaa1f8ed",
"port_id": "79cfbd51-4b70-4836-9eee-75dae592d98a",
"id": "d4977ac7-fc01-45a0-afc9-9d86819e7976",
"az_id": "bb912da8-6bb7-4bc7-b581-6f965de2edc2",
"name": "tjctest1"
}
}
4.16.5.5.1.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.5.5.2. Query Specified Virtual IP Address (20190725)
4.16.5.5.2.1. Scenario¶
Scenario: Query a specified virtual IP
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
obtain the details of a virtual IP address
Versions supported: SCP 6.8.90 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameter
floating_ip_bind.
4.16.5.5.2.2. URI¶
Table 4.16.110 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/virtualips/{virtualip_id} Query a Specified
Virtual IP
Description
Table 4.16.111 Path Parameters¶
Parameter Location Type Description Required
virtualip_id path string Virtual IP ID Yes
4.16.5.5.2.3. Request¶
Response Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/virtualips/25ce9647-28e7-428d-9414-528b4ca4324f
4.16.5.5.2.4. Response¶
Response Parameter
Table 4.16.112 Response Parameter¶
Parameter Type Description
Value
Returned
id string Virtual IP ID Yes
project_id string Tenant ID Yes
vpc_id string VPC ID Yes
subnet_id string Subnet ID Yes
fixed_ips list(dict) Virtual IP address information. For details, see
Parameter Description - fixed_ips. Yes
name string Virtual IP name Yes
description string Description Yes
az_id string Resource pool ID of virtual IP Yes
port_id string Port ID Yes
tag string Virtual IP tag Yes
vm_binds list(dict)
Information of the binding between the virtual IP
address and VM. For details, see Parameter
Description - vm_binds.
Yes
floating_ip_bind dict
Information of the binding between the virtual IP
address and elastic IP address. For details, see
Parameter Description - floating_ip_bind.
Yes
created_at string Time created No
updated_at string Last updated No
Parameter Description - fixed_ips
Table 4.16.113 Parameter Description - fixed_ips¶
Parameter Type Value Returned Note
ip_address string Yes Virtual IP address
Parameter Description - vm_binds
Table 4.16.114 Parameter Description - vm_binds¶
Parameter Type Value Returned Note
id string Yes ID of the binding between
the VM and IP address
device_id string Yes Bound device ID
device_type string Yes Bound device type
device_port_id string Yes Port ID of the bound device
virtualip_id string Yes Virtual IP address ID
created_at string No Time created
updated_at string No Time updated
Parameter Description - floating_ip_bind
Table 4.16.115 Parameter Description - floating_ip_bind¶
Parameter Type Value Returned Note
floating_ip string No Bound elastic IP address
floating_ip_id string Yes ID of the bound elastic
IP address
Response Example
{
"floating_ip_bind": {
"floating_ip_id": "14ed36da-6e42-4e45-9969-c898a4a3821d",
"floating_ip": "192.168.0.2"
},
"description": "test",
"subnet_id": "45122f98-e6d9-4cab-bff8-2c8c4c277e8b",
"fixed_ips": [
{
"ip_address": "192.168.0.2"
}
],
"created_at": "2023-09-06T06:56:52.000000",
"updated_at": "2023-09-07T01:18:47.000000",
"tag": "",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37",
"vpc_id": "81b30d25-302b-4dfa-a25a-55091a2a6729",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"port_id": "e717c47a-42ce-4abb-861a-58a00bc1afd2",
"id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"vm_binds": [
{
"virtualip_id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"device_port_id": "",
"id": "44d24417-05ca-4e30-9db4-2d713b63195c",
"device_type": "vm",
"device_id": "59e0d358-5d2a-4022-9ff4-7eed563df9ee"
},
{
"virtualip_id": "25ce9647-28e7-428d-9414-528b4ca4324f",
"device_port_id": "",
"id": "78cbea4e-3151-418f-9186-f8f4b2808258",
"device_type": "vm",
"device_id": "b1539b98-200f-4291-a8e6-93ede5ef2e31"
}
],
"name": ""
}
4.16.5.5.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.6. Ports
4.16.6.1. Query Ports
4.16.6.1.1. Scenario
Scenario: Query ports
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.0 and later
4.16.6.1.2. URI
Table 4.16.116 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/ports Query Ports
Parameter Description:
Table 4.16.117 Path Parameters¶
Parameter Location Type Description Required
ip_address body string IP addresses to be queried No
subnet_id body string Subnet ID No
az_id body string Resource pool ID No
project_id body string Tenant ID No
vpc_id body string VPC ID No
device_id body string Device ID No
vif_id body string Network ID (net0..n or device_key) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.6.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/ports?device_id=c7b2db93-fdb5-438e-8012-49e4f77de06c
4.16.6.1.4. Response
Response Parameter
Table 4.16.118 Response Parameter¶
Parameter Type Description
Value
Returned
id string Assigned IP No
name string Port name No
vpc_id string VPC ID No
subnet_id string Assigned subnet ID No
admin_status_up string Whether to enable the port No
device_owner string Owner of the associated device No
project_id string Tenant ID No
az_id string Resource pool ID No
device_id string Device ID No
device_type string Associated device type, view Device Type for
details. No
mac_address string MAC address of the port No
ips_info lis(dict) Assigned IP addresses, view Parameter
Description - ips_info for details. No
Parameter Description - ips_info:
Table 4.16.119 Parameter Description - ips_info¶
Parameter Type Required Description
ip_address string Assigned IP address of the same subnet Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": null,
"subnet_id": "39bfcb6d-b1cd-4c20-9294-0e969eaede9a",
"ips_info": [
{
"ip_address": "192.168.0.1"
}
],
"admin_status_up": true,
"device_owner": "network:router_interface",
"device_type": "vrouter",
"mac_address": "fa:16:3e:97:ae:89",
"vpc_id": "19556411-8f8e-47f1-96e6-48867acbf011",
"project_id": "d8618b1267444201be087bca0cce7209",
"id": "320223bf-e839-4359-bce1-138ba10c1117",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986",
"device_id": "2fd954f1-a76a-40e6-bbfa-b95980961423"
}
]
4.16.6.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.6.2. Query Ports
4.16.6.2.1. Scenario
Scenario: Query ports
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to obtain the port list
Versions supported: SCP SCP 6.9.0R1 and later
4.16.6.2.2. URI
Table 4.16.120 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/ports Query Ports
Parameter Description:
Table 4.16.121 Path Parameters¶
Parameter Location Type Description Required
ip_address query string IP addresses to be queried No
subnet_ids query string Subnet ID list strings, separated by
commas (,) No
az_id query string Resource pool ID No
project_id query string Tenant ID No
vpc_id query string VPC ID No
device_id query string Device ID No
vif_id query string Network ID (net0..n or device_key) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.6.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/ports?device_id=c7b2db93-fdb5-438e-8012-49e4f77de06c
4.16.6.2.4. Response
Response Parameter
Table 4.16.122 Response Parameter¶
Parameter Type Description
Value
Returned
id string Port ID No
name string Port name No
vpc_id string VPC ID No
subnet_id string Assigned subnet ID No
admin_status_up string Whether to enable the port No
device_owner string Owner of the associated device No
project_id string Tenant ID No
az_id string Resource pool ID No
device_id string Device ID No
device_name string Bound device name No
device_type string Associated device type, view Device Type for
details. No
mac_address string MAC address of the port No
ips_info lis(dict) Assigned IPs, view Parameter Description -
ips_info for details. No
Parameter Description - ips_info:
Table 4.16.123 Parameter Description - ips_info¶
Parameter Type Required Description
ip_address string Assigned IP address of the same subnet Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "",
"subnet_id": "c4129c9d-3312-4728-96fe-096ee58a108f",
"ips_info": [
{
"ip_address": "172.31.0.2"
}
],
"device_name": "VPC network-001_lzw_tenant_gateway",
"admin_status_up": 1,
"device_owner": "network:router_interface",
"device_type": "vrouter",
"mac_address": "fa:16:3e:f1:21:09",
"project_id": "dab6ff04131c4bd7a4d1cfb82649925c",
"id": "89111c76-1b92-43ea-9dda-a60e1aa973dd",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"device_id": "6f2242a5-5bc9-404a-b524-f6f84712114c"
},
{
"name": "",
"subnet_id": "c4129c9d-3312-4728-96fe-096ee58a108f",
"ips_info": [
{
"ip_address": "172.31.0.1"
}
],
"device_name": "VPC network-001_lzw_tenant_router",
"admin_status_up": 1,
"device_owner": "network:router_interface",
"device_type": "vrouter",
"mac_address": "fa:16:3e:f5:8e:c3",
"project_id": "dab6ff04131c4bd7a4d1cfb82649925c",
"id": "570cd247-7b7a-4a59-bb9d-61371d74a70d",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"device_id": "6d6af998-f8bd-4b61-99e1-a478cda9dc4b"
},
{
"name": "",
"subnet_id": "d491a03b-20ca-4cf9-a2c4-f3bb60635e70",
"ips_info": [
{
"ip_address": "192.168.0.1"
}
],
"device_name": "VPC network-001_lzw_tenant_router",
"admin_status_up": 1,
"device_owner": "network:router_interface",
"device_type": "vrouter",
"mac_address": "fa:16:3e:11:81:2c",
"project_id": "dab6ff04131c4bd7a4d1cfb82649925c",
"id": "3c34a672-2a7a-424d-b186-bdd4dc8bbc45",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"device_id": "6d6af998-f8bd-4b61-99e1-a478cda9dc4b"
}
]
4.16.6.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.6.3. Create a Port
4.16.6.3.1. Scenario
Scenario:
This interface can be called when a virtual network device needs to connect to the switch on the
subnet.
Create a port.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP 6.3.0 and later
4.16.6.3.2. URI
Table 4.16.124 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/ports Create a Port
Parameter Description:
None
4.16.6.3.3. Request
Request Parameter
Table 4.16.125 Response Parameter¶
Parameter Location Type Description Required
vpc_id body string Network ID Yes
device_id body string Device ID No
device_owner body string Owner of the associated device No
device_type body string Associated device type, view
Device Type for details. No
subnet_id body string Assigned subnet ID No
ips_info body list(dict)
Assigned IPs, view Parameter
Description - allocation_pools
for details.
No
mac_address body string MAC address of the port No
name body string Port name No
vif_id body string HCI ID of the port No
admin_status_up body int(0, 1) Whether to enable this
interface No
custom_gateway_ip body string Custom gateway IP No
Parameter Description - allocation_pools:
Table 4.16.126 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
Request Example
https://{SCP_IP}/janus/20180725/ports
{
"vpc_id": "19556411-8f8e-47f1-96e6-48867acbf011",
"device_id": "836c6ba5-5ca0-44fd-8ef6-cf316f68dd30",
"device_owner": "",
"device_type": "",
"subnet_id": "836c6ba5-5ca0-44fd-8ef6-cf316f68dd30",
"ips_info": [
{
"ip_address": "192.168.0.55"
}
],
"mac_address": "",
"name": "test",
"vif_id": "",
"admin_status_up": "",
"custom_gateway_ip": ""
}
4.16.6.3.4. Response
Response Parameter
Table 4.16.127 Response Parameter¶
Parameter Type Description
Value
Returned
id string Port ID Yes
vpc_id string Network ID Yes
project_id string Tenant ID Yes
subnet_id string Assigned subnet ID Yes
custom_gateway_ip string Custom gateway IP Yes
device_id string Device ID No
device_type string Associated device type, view Device Type for
details. No
mac_address string MAC address of the port No
name string Port name No
az_id string Resource pool ID No
admin_status_up string Whether to enable this interface No
external string Whether it is an external port No
vif_id string HCI ID of the port No
created_at string Time created No
updated_at string Time updated No
ips_info list(dict) Assigned IPs, view Parameter Description -
ips_info for details Yes
Parameter Description - ips_info:
Table 4.16.128 Parameter Description - ips_info¶
Parameter Type Required Description
ip_address string Assigned IP address of the same subnet Yes
Response Example:
{
"message": "",
"code": 0,
"data": {
"name": "eth0",
"subnet_id": "e54eeb16-ad77-4f28-bf3f-407189dab4a8",
"created_at": "2020-12-04T02:47:00.000000",
"custom_gateway_ip": null,
"updated_at": null,
"ips_info": [
{
"ip_address": "192.168.0.28"
}
],
"admin_status_up": true,
"mac_address": "fa:16:3e:15:3b:46",
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"id": "1b195b06-dc6c-4ae8-85e8-64117b0938e8",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986",
"device_id": "aa05bf0f-ef99-44f9-ad4a-fd62b31aded5"
}
}
4.16.6.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.6.4. Delete a Port
4.16.6.4.1. Scenario
Scenario:
This interface can be called when you need to disconnect a virtual network device from switch
on the subnet.
Delete a port.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP 6.3.0 and later
4.16.6.4.2. URI
Table 4.16.129 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/ports/{port_id} Delete port/disconnect the NFV device from
switch on the subnet
Parameter Description:
Table 4.16.130 API Path and Request Method¶
Parameter Location Type Description Required
port_id path string port_id Yes
4.16.6.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/ports/1b195b06-dc6c-4ae8-85e8-64117b0938e8
4.16.6.4.4. Response
Response Parameter
None
Response Example:
None
4.16.6.4.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.7. Line Type
4.16.7.1. Query line types
4.16.7.1.1. Scenario
Scenario: Query the list of line types
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.0 and later
4.16.7.1.2. URI
Table 4.16.131 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/linetypes Query line types
Parameter Description:
Table 4.16.132 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
type path string Type, view Line Type for details. No
available_only path boolean Whether to enable filtering No
az_id path string Resource pool ID No
 Warning
Common query parameters cannot be used for this interface.
 Note
Whether to enable filtering. You can enable this parameter to filter out types of lines that
support Elastic IP pool and quota creation.
4.16.7.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/linetypes?type=pub_service
4.16.7.1.4. Response
Response Parameter
Table 4.16.133 Response Parameter¶
Parameter Type Description
Value
Returned
linetypes list(dict) Line type, view Parameter Description - linetypes
for details Yes
total_size int Query results Yes
page_num int Current page Yes
page_size int Page size Yes
next_page_num int Next page, empty string indicates that the current
page is the last page Yes
 Warning
This interface cannot be used as the common response parameters. These parameters will be returned,
but they do not have any meaning.
Parameter Description - linetypes:
Table 4.16.134 Parameter Description - linetypes¶
Parameter Type Description Required
name string Name Yes
id string ID Yes
type string Type, view Line Type for details. Yes
description string Description No
created_at string Time created No
updated_at string Time updated No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"linetypes": [
{
"description": "Predefined line type, unable to be edited",
"created_at": "2020-11-26T11:51:13.000000",
"updated_at": null,
"type": "inner_linetype",
"id": "01356005-8975-4799-9c60-0b5fa806ebf3",
"name": "China_Mobile"
},
{
"description": "Predefined line type, unable to be edited",
"created_at": "2020-11-26T11:51:13.000000",
"updated_at": null,
"type": "inner_linetype",
"id": "0779c89e-dadb-4d1f-bb87-3f18883ca066",
"name": "CERNET"
}
],
"total_size": 0,
"next_page_num": "",
"page_num": 0,
"page_size": 0
}
4.16.7.1.4.1. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.8. Elastic IP Pool
4.16.8.1. Query Elastic IP Pools
Scenario: Query elastic IP pools
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP6.3.70 and later
4.16.8.1.1. URI
Table 4.16.135 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/floatingippools Query Elastic IP Pools
Parameter Description:
Table 4.16.136 Path Parameters¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID No
name path string Elastic IP pool name No
line_type_id path string Line type ID, view Query line types
for details. No
query path string Query name No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.8.1.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools?floatingip_pool_id=661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a
4.16.8.1.3. Response
Response Parameter
Table 4.16.137 Response Parameter¶
Parameter Type Description Required
id string Elastic IP pool ID No
name string Name No
line_type_id string Line type ID No
description string Description No
is_global int(0, 1)
Whether it applies to the whole platform
(whether it is associated with all the
resource pools automatically)
No
az_ids list(string)
Associated resource pools, when the elastic
IP pool is associated with all the resource
pools, the parameter will not return any
result
No
vlan int VLAN ID No
ip_count int Elastic IP count No
qos_downlink int(1000,
1023998976) Inbound bandwidth of elastic IP pool (Kbps) No
qos_uplink int(1000,
1023998976)
Outbound bandwidth of elastic IP pool
(Kbps) No
allocation_pools list(dict) Available IP ranges, view Parameter
Description - allocation_pools for details. No
Parameter Description - allocation_pools:
Table 4.16.138 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"is_global": 1,
"az_ids": [],
"description": "",
"vlan": 0,
"allocation_pools": [
{
"start": "100.0.0.1",
"end": "100.0.0.100"
}
],
"ip_count": 100,
"qos_downlink": 100000,
"qos_uplink": 100000,
"line_type_id": "d7125278-486a-4692-bec5-87911c9ee866",
"id": "30b5445f-099f-4ea5-9df3-e974684bb774",
"name": "China_Mobile_Zone1"
},
{
"is_global": 0,
"az_ids": [
"0b1695d7-8aa8-4efb-9d25-3c0312f0c5a1"
],
"description": "",
"vlan": null,
"allocation_pools": [],
"ip_count": 0,
"qos_downlink": 102400,
"qos_uplink": 102400,
"line_type_id": "d7125278-486a-4692-bec5-87911c9ee866",
"id": "be777f96-b4d3-4ca0-bdf5-0aa159ad5d75",
"name": "China_Telecom_Zone2"
}
]
4.16.8.1.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.8.2. Query Elastic IP Pools
Scenario: Query elastic IP pools
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP6.3.70 and later
4.16.8.2.1. URI
Table 4.16.139 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/floatingippools/{floatingippool_id} Query Elastic IP
Pools
Parameter Description:
Table 4.16.140 Path Parameters¶
Parameter Location Type Description Required
floatingippool_id path string Elastic IP ID Yes
4.16.8.2.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
4.16.8.2.3. Response
Response Parameter
Table 4.16.141 Response Parameter¶
Parameter Type Description Required
id string Elastic IP pool ID Yes
name string Name Yes
line_type_id string Line type ID Yes
description string Description Yes
is_global int(0, 1)
Whether it applies to the whole
platform (whether it is associated with
all the resource pools automatically)
Yes
az_ids list(string)
Associated resource pools, when the
elastic IP pool is associated with all the
resource pools, the parameter will not
return any result
Yes
vlan int VLAN ID Yes
ip_count int Elastic IP count Yes
ip_bind int Associated elastic IPs Yes
ip_used int Used elastic IPs Yes
allocated_bandwidth int Assigned bandwidth (Kbps) Yes
qos_downlink int(1000,
1023998976)
Inbound bandwidth of elastic IP pool
(Kbps) Yes
qos_uplink int(1000,
1023998976)
Outbound bandwidth of elastic IP pool
(Kbps) Yes
pool_in_kbps int Outbound bandwidth of elastic IP pool
(Kbps) Yes
pool_out_kbps int Inbound bandwidth of elastic IP pool
(Kbps) Yes
allocation_pools list(dict)
Available IP ranges, view Parameter
Description - allocation_pools for
details.
Yes
Parameter Description - allocation_pools:
Table 4.16.142 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "d9387ddb-a0b7-4870-af36-a0e7630517e1",
"name": "China_Telecom_Zone1",
"line_type_id": "1019851c-46f1-4adb-b6be-f5fde6be9ebd",
"description": "",
"is_global": 1,
"az_ids": [],
"vlan": 0,
"allocation_pools": [
{
"start": "10.10.110.1",
"end": "10.10.110.253"
}
],
"ip_count": 253,
"ip_bind": 0,
"ip_used": 0,
"allocated_bandwidth": 0,
"qos_uplink": 20000000,
"qos_downlink": 20000000,
"pool_in_kbps": 0,
"pool_out_kbps": 0
}
4.16.8.2.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.8.3. Create an Elastic IP Pool
Scenario: Create an elastic IP pool
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
 Note
After an elastic IP pool is created, you need to call the interface for creating elastic IP pool
subnet (view Create an Elastic IP Pool Subnet for details) to set IP range for the elastic IP pool.
Otherwise, it cannot be used.
4.16.8.3.1. URI
Table 4.16.143 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/floatingippools Create an Elastic IP
Pool
Parameter Description:
None
4.16.8.3.2. Request
Request Parameter
Table 4.16.144 Response Parameter¶
Parameter Location Type Description Required
name body string Elastic IP pool name Yes
line_type_id body string Line type ID, view Query line
types for details. Yes
description body string Description Yes
is_global body int(0, 1)
Whether it applies to the
whole platform (whether it is
associated with all the
resource pools automatically)
Yes
az_ids body list(string)
Associated resource pool,
when the elastic IP pool is
associated with all the
resource pools, the parameter
will not return any result
Yes
vlan body int VLAN ID Yes
qos_downlink body int(1000,
1023998976)
Inbound bandwidth of elastic
IP pool (Kbps) Yes
qos_uplink body int(1000,
1023998976)
Inbound bandwidth of elastic
IP pool (Kbps) Yes
 Note
1. Outbound and inbound bandwidth (qos_downlink, qos_uplink) must be the same.
2. The parameter is_global and az_ids cannot be invalid (is_global=0, az_ids=[]) at the same
time.
3. Number of elastic IPs cannot exceed 50.
Request Example
https://{SCP_IP}/janus/20180725/floatingippools
{
"name": "China_Telecom_Zone1",
"description": "China Telecom",
"is_global": 0,
"az_ids": [
"1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
],
"line_type_id": "1019851c-46f1-4adb-b6be-f5fde6be9ebd",
"qos_uplink": 2000000,
"qos_downlink": 2000000,
"vlan": 0
}
4.16.8.3.3. Response
Response Parameter
Table 4.16.145 Response Parameter¶
Parameter Type Value Returned Description
id string Elastic IP pool ID Yes
name string Elastic IP pool name Yes
line_type_id string Line type ID Yes
description string Description Yes
is_global int(0, 1)
Whether it applies to the whole
platform (whether it is associated with
all the resource pools automatically)
Yes
az_ids list(string)
Associated resource pool, when the
elastic IP pool is associated with all the
resource pools, the parameter will not
return any result
Yes
vlan int VLAN ID Yes
qos_downlink int(1000,
1023998976)
Inbound bandwidth of elastic IP pool
(Kbps) Yes
qos_uplink int(1000,
1023998976)
Inbound bandwidth of elastic IP pool
(Kbps) Yes
project_id string User ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "878c9ede-57dd-4b9d-93f8-c5781f514692",
"name": "China_Telecom_Zone1",
"line_type_id": "1019851c-46f1-4adb-b6be-f5fde6be9ebd",
"description": "China Telecom",
"is_global": 0,
"az_ids": [
"1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
],
"vlan": 0,
"qos_downlink": 2000000,
"qos_uplink": 2000000,
"project_id": "b9f644e5d4ed42358d287b19ea944e71"
}
4.16.8.3.4. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.8.4. Edit an Elastic IP Pool
Scenario: Edit an Elastic IP Pool
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
4.16.8.4.1. URI
Table 4.16.146 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/floatingippools/{floatingippool_id} Edit an Elastic
IP Pool
Parameter Description:
Table 4.16.147 Path Parameters¶
Parameter Location Type Description Required
floatingippool_id path string Elastic IP pool ID Yes
4.16.8.4.2. Request
Request Parameter
Table 4.16.148 Response Parameter¶
Parameter Location Type Description Required
name body string Elastic IP name No
line_type_id body string Line type ID, view Query line
types for details. No
description body string Description No
is_global body int(0, 1)
Whether it applies to the
whole platform (whether it is
associated with all the
resource pools automatically)
No
az_ids body list(string)
Associated resource pool,
when the elastic IP pool is
associated with all the
resource pools, the parameter
will not return any result
No
vlan body int VLAN ID No
qos_downlink body int(1000,
1023998976)
Inbound bandwidth of elastic
IP pool (Kbps) No
qos_uplink body int(1000,
1023998976)
Inbound bandwidth of elastic
IP pool (Kbps) No
 Note
1. Outbound and inbound bandwidth (qos_downlink, qos_uplink) must be the same.
2. The parameter is_global and az_ids cannot be invalid (is_global=0, az_ids=[]) at the same
time.
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-7d1dc6c5fd9a
{
"name": "China_Telecom_Zone1",
"description": "China Telecom",
"is_global": 0,
"az_ids": [
"1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
],
"line_type_id": "1019851c-46f1-4adb-b6be-f5fde6be9ebd",
"qos_uplink": 2000000,
"qos_downlink": 2000000,
"vlan": 0
}
4.16.8.4.3. Response
Response Parameter
Table 4.16.149 Response Parameter¶
Parameter Type Value Returned Description
id string Elastic IP pool ID Yes
name string Elastic IP pool name Yes
line_type_id string Line type ID Yes
description string Description Yes
is_global int(0, 1)
Whether it applies to the whole
platform (whether it is associated with
all the resource pools automatically)
Yes
az_ids list(string)
Associated resource pool, when the
elastic IP pool is associated with all the
resource pools, the parameter will not
return any result
Yes
vlan int VLAN ID Yes
qos_downlink int(1000,
1023998976)
Inbound bandwidth of elastic IP pool
(Kbps) Yes
qos_uplink int(1000,
1023998976)
Inbound bandwidth of elastic IP pool
(Kbps) Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "878c9ede-57dd-4b9d-93f8-c5781f514692",
"name": "China_Telecom_Zone1",
"line_type_id": "1019851c-46f1-4adb-b6be-f5fde6be9ebd",
"description": "China Telecom",
"is_global": 0,
"az_ids": [
"1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
],
"vlan": 0,
"qos_downlink": 2000000,
"qos_uplink": 2000000
}
4.16.8.4.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.8.5. Delete an Elastic IP pool
Scenario: Delete an elastic IP pool
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
 Note
1. If there exist allocated elastic IPs in the elastic IP pool, the IP pool cannot be deleted. Use
the interface Query List of Elastic IP Addresses to query whether there exist allocated
elastic IPs.
4.16.8.5.1. URI
Table 4.16.150 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/floatingippools/{floatingippool_id} Delete an
Elastic IP pool
Parameter Description:
Table 4.16.151 Path Parameters¶
Parameter Location Type Description Required
floatingippool_id path string Elastic IP pool ID Yes
4.16.8.5.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools?floatingippool_id=661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a
4.16.8.5.3. Response
Response Parameter
None
Response Example:
None
4.16.8.5.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.8.6. Query Elastic IP Pool Subnets
4.16.8.6.1. Scenario
Scenario: Query elastic IP pool subnets
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP6.3.70 and later
4.16.8.6.2. URI
Table 4.16.152 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/floatingippools/{floatingip_pool_id}/subnets Query Elastic IP
Pool Subnets
Parameter Description:
Table 4.16.153 Path Parameters¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID No
 Warning
Common query parameters cannot be used for this interface.
4.16.8.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a/subnets
4.16.8.6.4. Response
Response Parameter
Table 4.16.154 Response Parameter¶
Parameter Type Description Required
subnets list(dict) Elastic IP pool subnets, view Response Parameter for
details. Yes
Parameter Description - subnets:
Table 4.16.155 Response Parameter¶
Parameter Type Required Note
id string Subnet ID Yes
name string Subnet name Yes
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to tenants Yes
floatingip_pool_id string Elastic IP pool ID Yes
project_id string Tenant ID Yes
shared int(0, 1) Whether it is visible to all tenants Yes
ip_version int Internet protocol version, view Internet Protocol
Version for details Yes
enable_dhcp int(0, 1) Whether to enable DHCP Yes
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
allocation_pools list(dict) Subnet range, view Parameter Description -
allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.156 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Warning
Common response parameters cannot be used for this interface.
 Note
For common response parameters, view Response Format for details
Response Example:
{
"subnets": [
{
"status": "active",
"is_visible": 1,
"name": "88b47bc9-63b3-4e51-bed8-e70957da3ac3",
"enable_dhcp": 0,
"allocation_pools": [
{
"start": "10.10.110.1",
"end": "10.10.110.253"
}
],
"floatingip_pool_id": "d9387ddb-a0b7-4870-af36-a0e7630517e1",
"gateway_ip": "10.10.110.254",
"ip_version": 4,
"shared": 1,
"cidr": "10.10.110.0/24",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"netmask": "255.255.255.0",
"id": "bb648d94-41bb-4741-b400-63f7c44848ba"
}
]
}
4.16.8.6.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.8.7. Query Elastic IP Pool Subnet
4.16.8.7.1. Scenario
Scenario: Query elastic IP pool subnet
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
4.16.8.7.2. URI
Table 4.16.157 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/floatingippools/{floatingip_pool_id}/subnets/{floatingip_subnet_id}
Query
Elastic IP
Pool
Subnet
Parameter Description:
Table 4.16.158 API Path and Request Method¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID Yes
floatingip_subnet_id path string Elastic IP pool subnet
ID Yes
4.16.8.7.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/6733078a-3572-4680-a750-
e9d5eca630bc/subnets/1e5c4b98-0955-4ace-ac71-9cf4c4d1c209
4.16.8.7.4. Response
Response Parameter
Table 4.16.159 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to the its tenant No
floatingip_pool_id string Elastic IP pool ID Yes
project_id string Tenant ID Yes
ip_version int Internet protocol version, view Internet
Protocol Version for details Yes
enable_dhcp int(0, 1) Whether to enable DHCP No
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
shared int(0, 1) Whether it is visible to all tenants No
create_at string Time created Yes
update_at string Time updated Yes
allocation_pools list(dict) Subnet range, view Parameter Description -
allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.160 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"enable_dhcp": 0,
"created_at": "2020-12-28T07:14:11Z",
"updated_at": "2020-12-28T07:14:19Z",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"floatingip_pool_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"gateway_ip": "192.168.1.1",
"ip_version": 4,
"shared": 1,
"cidr": "192.168.1.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"netmask": "255.255.255.0",
"id": "1e5c4b98-0955-4ace-ac71-9cf4c4d1c209",
"name": "7481b187-aea5-4654-b4d4-ed16739cf5b8"
}
4.16.8.7.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.8.8. Create an Elastic IP Pool Subnet
4.16.8.8.1. Scenario
Scenario: Create an elastic IP pool subnet.
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
 Note
1. To create a subnet, you are recommended to use the IP ranges that start with 10, 172 or
192 as the subnet range. The following are the recommended subnet range:
a. For large-sized enterprises, use IP range starting with 10.
b. For medium-sized enterprises, use IP range starting with 172.
c. For small enterprises or individuals, use IP range starting with 192.
2. The IP range 10.251.251.0/24 is reserved for NFV devices and cannot be used as elastic
IP pool subnet.
3. Subnet range cannot overlap with elastic IP subnet range.
4. One tenant can create at most 20 subnets.
4.16.8.8.2. URI
Table 4.16.161 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/floatingippools/{floatingip_pool_id}/subnets
Create an
Elastic IP Pool
Subnet
Parameter Description:
Table 4.16.162 API Path and Request Method¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID Yes
4.16.8.8.3. Request
Request Parameter
Table 4.16.163 Response Parameter¶
Parameter Location Type Description Required
name body string Subnet name, the default name is
UUID if not passed No
description body string Description No
gateway_ip body string Gateway IP Yes
shared body int(0, 1) Whether it is visible to all tenants
(default: 1) No
is_visible body int(0, 1) Whether is is visible to all tenants
(default: 1) No
enable_dhcp body int(0, 1) Whether to enable DHCP (default:
0) No
netmask body string Netmask Yes
allocation_pools body list(dict)
Subnet range, view Parameter
Description - allocation_pools for
details.
Yes
 Warning
CIDR that consists of gateway_ip and netmask cannot be in the following IP ranges: 192.168.0.0/24 and
172.30.0.0/17
Parameter Description - allocation_pools:
Table 4.16.164 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a/subnets
{
"gateway_ip": "192.168.1.1",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"netmask": "255.255.255.0",
}
4.16.8.8.4. Response
Response Parameter
Table 4.16.165 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to the its tenant No
floatingip_pool_id string Elastic IP pool ID Yes
project_id string Tenant ID Yes
ip_version int Internet protocol version (supports IPv4) Yes
enable_dhcp int(0, 1) Whether to enable DHCP No
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
shared int(0, 1) Whether it is visible to all tenants No
create_at string Time created Yes
update_at string Time updated Yes
allocation_pools list(dict) Subnet range, view Parameter Description -
allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.166 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"enable_dhcp": 0,
"created_at": "2020-12-28T07:14:11Z",
"updated_at": "2020-12-28T07:14:19Z",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"floatingip_pool_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"gateway_ip": "192.168.1.1",
"ip_version": 4,
"shared": 1,
"cidr": "192.168.1.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"netmask": "255.255.255.0",
"id": "1e5c4b98-0955-4ace-ac71-9cf4c4d1c209",
"name": "7481b187-aea5-4654-b4d4-ed16739cf5b8"
}
4.16.8.8.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.8.9. Edit an Elastic IP Pool Subnet
Scenario: Edit an elastic IP pool subnet
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
4.16.8.9.1. URI
Table 4.16.167 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/floatingippools/{float_ip_pool_id}/subnets/{floatingip_subnet_id}
Edit an
Elastic IP
Pool
Subnet
Parameter Description:
Table 4.16.168 Path Parameters¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID Yes
floatingip_subnet_id path string Elastic IP pool subnet
ID Yes
4.16.8.9.2. Request
Request Parameter
Table 4.16.169 Response Parameter¶
Parameter Location Type Description Required
allocation_pools body list(dict)
Available IP ranges, view Parameter
Description - allocation_pools for
details.
Yes
name body string Name No
desc body string Description No
Parameter Description - allocation_pools:
Table 4.16.170 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a/subnets/d5ae0d43-4afc-4f27-a851-9989a7083d9d
{
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.250",
}
]
}
4.16.8.9.3. Response
Response Parameter
Table 4.16.171 Response Parameter¶
Parameter Type Description
Value
Returned
id string Subnet ID Yes
name string Subnet name Yes
status string Subnet status, view Subnet Status for details. Yes
is_visible int(0, 1) Whether the subnet is visible to the its tenant No
floatingip_pool_id string Elastic IP pool ID Yes
project_id string Tenant ID Yes
ip_version int Internet protocol version (supports IPv4) Yes
enable_dhcp int(0, 1) Whether to enable DHCP No
gateway_ip string Gateway IP Yes
netmask string Netmask Yes
cidr string Subnet CIDR Yes
shared int(0, 1) Whether it is visible to all tenants No
create_at string Time created Yes
update_at string Time updated Yes
allocation_pools list(dict) Subnet range, view Parameter Description -
allocation_pools for details. Yes
Parameter Description - allocation_pools:
Table 4.16.172 Parameter Description - allocation_pools¶
Parameter Type Description Value Returned
start string Start IP Yes
end string End IP Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"is_visible": 1,
"enable_dhcp": 0,
"created_at": "2020-12-28T07:14:11Z",
"updated_at": "2020-12-28T07:14:19Z",
"allocation_pools": [
{
"start": "192.168.1.2",
"end": "192.168.1.254"
}
],
"floatingip_pool_id": "6733078a-3572-4680-a750-e9d5eca630bc",
"gateway_ip": "192.168.1.1",
"ip_version": 4,
"shared": 1,
"cidr": "192.168.1.0/24",
"project_id": "de3c453465034a31a2e054c6e4250626",
"netmask": "255.255.255.0",
"id": "1e5c4b98-0955-4ace-ac71-9cf4c4d1c209",
"name": "7481b187-aea5-4654-b4d4-ed16739cf5b8"
}
4.16.8.9.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.8.10. Delete an Elastic IP Pool Subnet
Scenario: Delete an elastic IP pool subnet.
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
 Note
1. If the IP address in this subnet has been used, the subnet cannot be deleted.
4.16.8.10.1. URI
Table 4.16.173 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/floatingippools/{floatingip_pool_id}/subnets/{floatingip_subnet_id}
Delete an
Elastic IP
Pool
Subnet
Parameter Description:
Table 4.16.174 Path Parameters¶
Parameter Location Type Description Required
floatingip_pool_id path string Elastic IP pool ID Yes
floatingip_subnet_id path string Subnet ID Yes
4.16.8.10.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingippools/661ce7a4-5abe-4191-832c-
7d1dc6c5fd9a/subnets/d5ae0d43-4afc-4f27-a851-9989a7083d9d
4.16.8.10.3. Response
Response Parameter
None
Response Example:
None
4.16.8.10.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.9. Elastic IP
4.16.9.1. Query Elastic IP
4.16.9.1.1. Scenario
Scenario: Query Elastic IP
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP 6.3.0 and later
4.16.9.1.2. URI
Table 4.16.175 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/floatingips/{floatingip_id} Query Elastic
IP
Parameter Description:
Table 4.16.176 Path Parameters¶
Parameter Location Type Description Required
floatingip_id path string Elastic IP ID Yes
4.16.9.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingips/d5ae0d43-4afc-4f27-a851-9989a7083d9d
4.16.9.1.4. Response
Response Parameter
Table 4.16.177 Response Parameter¶
Parameter Type Description
Value
Returned
id string Elastic IP ID Yes
project_id string Tenant ID Yes
subnet_id string Associated subnet ID Yes
floating_ip string Assigned elastic IP address Yes
floatingip_pool_id string ID of the associated elastic IP pool Yes
floating_port_id string Elastic IP port ID Yes
sharedbandwidth_id
string
or
None
Shared bandwidth ID Yes
created_at string Time created No
updated_at
string
or
None
Time updated No
bandwidth dict View Parameter escription - bandwidth for
bandwidth configuration details. Yes
binding_info dict Bandwidth configuration, view Description of
binding_info for details. No
 Note
1. The parameter floatingip_pool_id is called floating_ip_pool_id in the versions earlier than
6.3.70
2. Elastic IP has two statuses: Associated, not associated. If the status is Associated, then the
parameter binding_info will be returned.
Parameter escription - bandwidth:
Table 4.16.178 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink int(0,
10485760) Outbound bandwidth of elastic IP (kbps) Yes
qos_downlink int(0,
10485760) Inbound bandwidth of elastic IP (kbps) Yes
Description of the parameter binding_info:
Table 4.16.179 Description of binding_info¶
Parameter Type
Value
Returned Description
router_id string Yes Router ID
status string Yes Status, view Elastic IP Association Status for
details.
bind_type string Yes Associated device type
ip_address string or
None Yes Internal IP address
port_id string or
None Yes Port ID of the internal IP address
vpc_id string Yes VPC ID of the associated device
bind_id string Yes Association ID
az_id string Yes Resource pool ID of the associated device
created_at string No Time created
updated_at string No Time updated
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"subnet_id": "8af58af8-51e7-469d-b169-fcba90c59bb4",
"created_at": "2020-11-19T02:59:39.000000",
"floating_port_id": "8081d873-f1b3-4aba-bbeb-a23ae79e149c",
"updated_at": null,
"floating_ip": "10.106.123.79",
"bandwidth": {
"qos_downlink": 100000,
"qos_uplink": 100000
},
"sharedbandwidth_id": null,
"id": "ac7d555c-5708-4ac0-8b73-17ceb342e712",
"floatingip_pool_id": "7af91739-e9c1-4704-8ec2-c757e264f6b3",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"binding_info": {
"router_id": "23f4a574-02d2-435c-aeb0-dcad508a2a1b",
"status": "active",
"bind_type": "vm",
"ip_address": "172.32.0.12",
"bind_id": "46e76815-689c-45ca-a74a-827e0f07f738",
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"port_id": "7b0a9b58-1b2a-484f-a5d0-dd22d6222075",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986"
}
}
}
4.16.9.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.9.2. Create an Elastic IP
4.16.9.2.1. Scenario
Scenario:
Create an elastic IP.
Assign IP address to the specified tenant from elastic IP pools.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP 6.3.0 and later
4.16.9.2.2. URI
Table 4.16.180 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/floatingips Create an Elastic IP
Parameter Description:
None
4.16.9.2.3. Request
Request Parameter
Table 4.16.181 Response Parameter¶
Parameter Location Type Description Required
project_id body string Tenant ID Yes
az_ids body list(string) IDs of the associated
resource pool No
floating_ip body string Specified elastic IP No
subnet_id body string Assigned elastic subnet ID No
line_type body string Line type of elastic IP pool No
floatingip_pool_id body string Elastic IP pool ID, view Query
Elastic IP Pools for details. No
sharedbandwidth_id body string Shared bandwidth ID No
bandwidth body dict
Bandwidth configuration,
view Parameter escription -
bandwidth for details.
No
Parameter escription - bandwidth:
Table 4.16.182 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink int(0,
10485760) Outbound bandwidth of elastic IP (kbps) Yes
qos_downlink int(0,
10485760) Inbound bandwidth of elastic IP (kbps) Yes
 Note
1. If the parameter sharedbandwidth_id is passed, then the shared bandwidth exists and
belongs to the tenant.
2. If the parameter sharedbandwidth_id is passed, then bandwidth is set to QoS of the
shared bandwidth by default.
3. If the parameter sharedbandwidth_id is not passed, then you need to set bandwidth.
Request Example
https://{SCP_IP}/janus/20180725/floatingips
{
"az_ids": [],
"floating_ip": "192.168.0.55",
"subnet_id": "0d26c0c9-532c-4bda-b10e-e383ff1044b7",
"line_type": "684c8345-62f4-4602-ba01-c90bc65c732b",
"floatingip_pool_id": "26b2c0c4-1a1e-4fdc-a837-063b303a120d",
"bandwidth": {
"qos_uplink": 10000,
"qos_downlink": 10000
},
"sharedbandwidth_id": "",
"project_id": "306f8205727949ef98cd0d689d90332b"
}
4.16.9.2.4. Response
Response Parameter
Table 4.16.183 Response Parameter¶
Parameter Type Description
Value
Returned
id string Elastic IP ID Yes
project_id string Tenant ID Yes
subnet_id string Associated subnet ID Yes
floating_ip string Assigned elastic IP address Yes
floatingip_pool_id string ID of the associated elastic IP pool Yes
port_id string Elastic IP port ID Yes
sharedbandwidth_id string Shared bandwidth ID Yes
created_at string Time created No
updated_at string Time updated No
bandwidth dict Bandwidth configuration, view Parameter
escription - bandwidth for details. Yes
Parameter escription - bandwidth:
Table 4.16.184 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink int(0,
10485760) Outbound bandwidth of elastic IP (kbps) Yes
qos_downlink int(0,
10485760) Inbound bandwidth of elastic IP (kbps) Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"subnet_id": "5bf5c6e5-ca0f-4641-8e2d-284fcb3f0398",
"created_at": "2020-12-03T02:59:59.442302",
"updated_at": null,
"floating_ip": "10.107.124.14",
"floatingip_pool_id": "66f33608-9c91-4e00-9aea-822fdaf9fb1d",
"bandwidth": {
"qos_downlink": 20000,
"qos_uplink": 20000
},
"sharedbandwidth_id": "cb861399-63eb-44b5-b048-621cd0c3ef30",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"port_id": "1bd55d42-d064-4cf0-ac22-ad2ecc548440",
"id": "d46425c8-ad41-406f-a4b1-4e784ac0ff2a"
}
4.16.9.2.4.1. Response Code¶
Success: 201
Errors: 400, 403, 404，500
4.16.9.3. Associate Elastic IP
4.16.9.3.1. Scenario
Scenario: Associate an elastic IP address with a VM, NFV device, or virtual IP address
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP 6.3.0 and later
4.16.9.3.2. URI
Table 4.16.185 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/floatingips/{floatingip_id}/binding Associate
Elastic IP
Parameter Description:
Table 4.16.186 Path Parameters¶
Parameter Location Type Description Required
floatingip_id path string Elastic IP ID Yes
4.16.9.3.2.1. Request¶
Request Parameter
Table 4.16.187 Response Parameter¶
Parameter Location Type Description Required
vpc_id body string VPC ID Yes
port_id body string Port ID of the VM, NFV device, or
virtual IP address No
ip_address body string IP address of the VM or NFV device, or
virtual IP address No
Request Example
https://{SCP_IP}/janus/20180725/floatingips/d5ae0d43-4afc-4f27-a851-9989a7083d9d/binding
{
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"port_id": "41a0f6d0-ab29-40a0-8b42-797b4437b942",
"ip_address": "192.168.0.55"
}
4.16.9.3.2.2. Response¶
Response Parameter
Table 4.16.188 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.9.3.3. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.9.4. Disassociate Elastic IP
4.16.9.4.1. Scenario
Scenario: Disassociate an elastic IP address from another resource
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP 6.3.0 and later
4.16.9.4.2. URI
Table 4.16.189 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/floatingips/{floatingip_id}/unbinding Disassociate
Elastic IP
Parameter Description:
Table 4.16.190 Path Parameters¶
Parameter Location Type Description Required
floatingip_id path string Elastic IP ID Yes
4.16.9.4.2.1. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingips/d5ae0d43-4afc-4f27-a851-9989a7083d9d/unbinding
4.16.9.4.3. Response
Response Parameter
Table 4.16.191 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.9.4.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.9.5. Edit Elastic IP Bandwidth
4.16.9.5.1. Scenario
Scenario: Edit elastic IP bandwidth
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write
permission
Versions supported: SCP6.3.70 and later
4.16.9.5.2. URI
Table 4.16.192 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/floatingips/{floatingip_id} Edit Elastic IP
Bandwidth
Parameter Description:
Table 4.16.193 Path Parameters¶
Parameter Location Type Description Required
floatingip_id path string Elastic IP ID Yes
4.16.9.5.3. Request
Request Parameter
Table 4.16.194 Response Parameter¶
Parameter Location Type Description Required
qos_uplink body int(0,
10485760)
Outbound bandwidth of the
assigned elastic IP (kbps) No
qos_downlink body int(0,
10485760)
Inbound bandwidth of the
assigned elastic IP (kbps) No
 Note
Outbound and inbound bandwidth must be the same. If only the value for one of the two is
configured, the other will be automatically set to the same value.
Request Example
https://{SCP_IP}/janus/20180725/floatingips/a047380ba-21b1-4437-8b0c-f113f9054fc8a
{
"qos_uplink": 20000,
"qos_downlink": 20000
}
4.16.9.5.4. Response
Response Parameter
Table 4.16.195 Response Parameter¶
Parameter Type Description
Value
Returned
id string Elastic IP ID Yes
project_id string Tenant ID Yes
subnet_id string Associated subnet ID Yes
floating_ip string Assigned elastic IP address Yes
floatingip_pool_id string ID of the associated elastic IP pool Yes
port_id string Elastic IP port ID Yes
sharedbandwidth_id string Shared bandwidth ID Yes
created_at string Time created No
updated_at string Time updated No
bandwidth dict Bandwidth configuration, view Parameter
escription - bandwidth for details. Yes
Parameter escription - bandwidth:
Table 4.16.196 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink int(0,
10485760) Outbound bandwidth of elastic IP (kbps) Yes
qos_downlink int(0,
10485760) Inbound bandwidth of elastic IP (kbps) Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"subnet_id": "5bf5c6e5-ca0f-4641-8e2d-284fcb3f0398",
"created_at": "2020-12-03T02:59:59.442302",
"updated_at": null,
"floating_ip": "10.107.124.14",
"floatingip_pool_id": "66f33608-9c91-4e00-9aea-822fdaf9fb1d",
"bandwidth": {
"qos_downlink": 20000,
"qos_uplink": 20000
},
"sharedbandwidth_id": "cb861399-63eb-44b5-b048-621cd0c3ef30",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"port_id": "1bd55d42-d064-4cf0-ac22-ad2ecc548440",
"id": "d46425c8-ad41-406f-a4b1-4e784ac0ff2a"
}
4.16.9.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.9.6. Delete Elastic IP
4.16.9.6.1. Scenario
Scenario: Delete elastic IP.
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP 6.3.0 and later
4.16.9.6.2. URI
Table 4.16.197 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/floatingips/{floatingip_id} Delete Elastic
IP
Parameter Description:
Table 4.16.198 Path Parameters¶
Parameter Location Type Description Required
floatingip_id path string Elastic IP ID Yes
4.16.9.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingips/d5ae0d43-4afc-4f27-a851-9989a7083d9d
4.16.9.6.4. Response
Response Parameter
None
Response Example:
None
4.16.9.6.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.9.7. Query List of Elastic IP Addresses
4.16.9.7.1. Query List of Elastic IP Addresses
4.16.9.7.1.1. Scenario¶
Scenario: Query the list of elastic IP addresses
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Write,
Elastic IP, and VM Creation permissions
Versions supported: SCP6.3.70 and later
4.16.9.7.1.2. URI¶
Table 4.16.199 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/floatingips Query Elastic IPs
Parameter Description:
Table 4.16.200 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID No
project_id path string Tenant ID No
floating_ip_pool_id path string ID of the associated elastic IP pool No
floating_ip path string Assigned elastic IP address No
bind_vpc_id path string VPC ID of the associated device No
bind_az_id path string Resource pool ID of the associated
device No
bind_type path string
Associated device type, view Type
of Elastic IP Associated Device for
details.
No
keywords path string Search elastic IP No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.9.7.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingips?floatingip_pool_id=aee07dd2-cb5a-44b2-a453-
5f624996432f
4.16.9.7.1.4. Response¶
Response Parameter
Table 4.16.201 Response Parameter¶
Parameter Type Description
Value
Returned
id string Elastic IP ID Yes
project_id string Tenant ID Yes
floating_ip string Assigned elastic IP address Yes
floatingip_pool_id string Associated elastic IP pool Yes
floating_port_id string Elastic IP port ID Yes
sharedbandwidth_id string ID of the associated shared bandwidth Yes
bandwidth dict Elastic IP bandwidth, view Parameter escription
- bandwidth for details. Yes
binding_info dict Association information, view Description of
binding_info for details. No
Parameter escription - bandwidth:
Table 4.16.202 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink_kbps int(0,
10485760)
Outbound bandwidth of the assigned
elastic IP (kbps) Yes
qos_downlink_kbps int(0,
10485760)
Inbound bandwidth of the assigned
elastic IP (kbps) Yes
Description of the parameter binding_info:
Table 4.16.203 Description of binding_info¶
Parameter Type
Value
Returned Note
router_id string Yes Router ID
status string Yes Association status, view Elastic IP Association Status for
details.
bind_type string Yes Associated device type, view Type of Elastic IP
Associated Device for details.
ip_address string Yes Internal IP
port_id string Yes LAN port ID
vpc_id string Yes VPC ID of the associated device
bind_id string Yes Association ID
az_id string Yes Resource pool ID of the associated device
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"floating_port_id": "8081d873-f1b3-4aba-bbeb-a23ae79e149c",
"floating_ip": "10.106.123.79",
"bandwidth": {
"qos_downlink_kbps": 100000,
"qos_uplink_kbps": 100000
},
"sharedbandwidth_id": "",
"id": "ac7d555c-5708-4ac0-8b73-17ceb342e712",
"floatingip_pool_id": "7af91739-e9c1-4704-8ec2-c757e264f6b3",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"binding_info": {
"router_id": "23f4a574-02d2-435c-aeb0-dcad508a2a1b",
"status": "active",
"bind_type": "vm",
"ip_address": "172.32.0.12",
"bind_id": "46e76815-689c-45ca-a74a-827e0f07f738",
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"port_id": "7b0a9b58-1b2a-484f-a5d0-dd22d6222075",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986"
}
}
]
4.16.9.7.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.9.7.2. Query List of Elastic IP Addresses (20190725)
4.16.9.7.2.1. Scenario¶
Scenario: Query the list of elastic IP addresses
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to obtain the EIP list for a VPC network
Versions supported: SCP 6.8.80 and later
 Note
Compared with version 20180725, the API version 20190725 adds the response parameter
device_name.
4.16.9.7.2.2. URI¶
Table 4.16.204 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/floatingips Query Elastic IPs
Parameter Description:
Table 4.16.205 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID No
project_id path string Tenant ID No
floating_ip_pool_id path string ID of the associated elastic IP pool No
floating_ip path string Assigned elastic IP address No
bind_vpc_id path string VPC ID of the associated device No
bind_az_id path string Resource pool ID of the associated
device No
bind_type path string
Associated device type, view Type
of Elastic IP Associated Device for
details.
No
keywords path string Search elastic IP No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.9.7.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/floatingips?floatingip_pool_id=aee07dd2-cb5a-44b2-a453-
5f624996432f
4.16.9.7.2.4. Response¶
Response Parameter
Table 4.16.206 Response Parameter¶
Parameter Type Description
Value
Returned
id string Elastic IP ID Yes
project_id string Tenant ID Yes
floating_ip string Assigned elastic IP address Yes
floatingip_pool_id string Associated elastic IP pool Yes
floating_port_id string Elastic IP port ID Yes
sharedbandwidth_id string ID of the associated shared bandwidth Yes
bandwidth dict Bandwidth for elastic IP. For details, see
Parameter escription - bandwidth Yes
binding_info dict Binding information. For details, see Description
of binding_info No
Parameter escription - bandwidth:
Table 4.16.207 Parameter escription - bandwidth¶
Parameter Type Description
Value
Returned
qos_uplink_kbps int(0,
10485760)
Outbound bandwidth of the assigned
elastic IP (kbps) Yes
qos_downlink_kbps int(0,
10485760)
Inbound bandwidth of the assigned
elastic IP (kbps) Yes
Description of the parameter binding_info:
Table 4.16.208 Description of binding_info¶
Parameter Type
Value
Returned Note
device_name string Yes Bound device name
router_id string Yes Router ID
status string Yes Association status, view Elastic IP Association
Status for details.
bind_type string Yes Associated device type, view Type of Elastic IP
Associated Device for details.
ip_address string or
None Yes Internal IP
port_id string or
None Yes LAN port ID
vpc_id string Yes VPC ID of the associated device
bind_id string Yes Association ID
az_id string Yes Resource pool ID of the associated device
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"floating_port_id": "8081d873-f1b3-4aba-bbeb-a23ae79e149c",
"floating_ip": "10.106.123.79",
"bandwidth": {
"qos_downlink_kbps": 100000,
"qos_uplink_kbps": 100000
},
"sharedbandwidth_id": "",
"id": "ac7d555c-5708-4ac0-8b73-17ceb342e712",
"floatingip_pool_id": "7af91739-e9c1-4704-8ec2-c757e264f6b3",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"binding_info": {
"router_id": "23f4a574-02d2-435c-aeb0-dcad508a2a1b",
"status": "active",
"bind_type": "vm",
"ip_address": "172.32.0.12",
"bind_id": "46e76815-689c-45ca-a74a-827e0f07f738",
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"port_id": "7b0a9b58-1b2a-484f-a5d0-dd22d6222075",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986"
}
}
]
4.16.9.7.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.10. Network Device
4.16.10.1. Query Network Devices
Scenario: Query network devices
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP 6.3.0 and later
4.16.10.1.1. URI
Table 4.16.209 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vnetdev/{vnetdev_id} Query Network
Devices
Parameter Description:
Table 4.16.210 Path Parameters¶
Parameter Location Type Description Required
vnetdev_id path string Network device ID Yes
4.16.10.1.2. Request
Request Parameter
None
Request Example
None
4.16.10.1.3. Response
Response Parameter
Table 4.16.211 Response Parameter¶
Parameter Type Description
Value
Returned
id string NFV device ID Yes
name string NFV name No
description string Description No
az_id string Resource pool ID No
encrypted int(0, 1) Whether it is encrypted No
cipher string Encryption algorithm, view Encryption
Algorithm of NFV Devices for details. No
cpus int Unique to NFV, the occupied CPU cores when
the device is running No
project_id string Tenant ID No
type string Supported NFV devices in VPC, view NFV
Devices in VPC for details No
vif_count int(4,
24) NFV device interfaces No
host_id string Node ID No
vm_type string Device type, view VM Type for details. No
status string Device status No
linked_amount int Number of connected devices No
network_type string Network type, view Network Type for details. No
network_id string Network ID No
ip_list string Interface IPs, JSON string No
classics_networks list(dict) Classic network, view Description of
classics_network for details. No
vpc_networks list(dict) VPC, view Description of vpc_networks for
details. No
storage_info string Storage information, view Parameter
Description - storage_info for details. No
auth_info dict Licensing, view Parameter Description -
auth_info for details No
location_info dict Deployment location, view Parameter
Description - location_info for details. No
vlinks_info list(dict) Virtual link, view Parameter Description -
vlinks_info for details No
extra_info dict Other information, view Parameter Description
- extra_info for details. No
Description of the parameter classics_network:
Table 4.16.212 Description of classics_network¶
Parameter Type Description
Value
Returned
port_type string Port type, view NFV Interfaces in Classic Network
for details. Yes
interface_name string Interface name, example: eth0 Yes
ipv4 string Interface IP Yes
mask string Interface netmask Yes
gateway string Gateway Yes
Description of the parameter vpc_networks:
Table 4.16.213 Description of vpc_networks¶
Parameter Type Description
Value
Returned
port_type string Port type, view NFV Interfaces in VPC for details. Yes
port_id string Interface ID, it may not exist, such as the LAN
interface in NGAF Yes
ips list(string) Subnet IPs Yes
port_name string Subnet port name Yes
subnet_id string Subnet ID Yes
fip string Elastic IP address No
fip_id string Elastic IP ID No
Parameter Description - auth_info:
Table 4.16.214 Parameter Description - auth_info¶
Parameter Type Description Value Returned
is_auth int(0, 1) Whether the
device is licensed No
auth_resource_name string Licensing name No
Parameter Description - storage_info:
Table 4.16.215 Parameter Description - storage_info¶
Parameter Type Description
Value
Returned
storage_id string Storage ID No
storage_tag_id string Storage tag ID (A value can be returned in
SCP 6.8.10 and later versions.) No
disk_total_mb int Total disk size (MB) No
disk_used_mb int Used disk size (MB) No
mem_total_mb int Total memory size (MB) No
mem_used_mb int Used memory size (MB) No
Parameter Description - location_info:
Table 4.16.216 Parameter Description - location_info¶
Parameter Type Description
Value
Returned
location int(0,
1) Whether the device runs on specified node only No
host_config string Run location configuration of NFV No
dh_id string Dedicated server group ID No
deploy_location string Deployment location, view NFV Location Deployed
in VPC for details No
deploy_mode string Deployment mode, view NFV Deployment Mode in
VPC for details. No
Parameter Description - vlinks_info:
Table 4.16.217 Parameter Description - vlinks_info¶
Parameter Type Description Value Returned
status string Status No
isbridge int(0, 1) Whether it is bridge No
name string Interface name No
id string Interface ID No
peer_device_id string Connected device ID No
peer_device_type string Connected device type No
Parameter Description - extra_info:
Table 4.16.218 Parameter Description - extra_info¶
Parameter Type Description Value Returned
peer_ha_device_id string HA peer device ID No
cssp_id string (Removed) Yes
ha int(0, 1) Whether to enable VM
failover No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"encrypted": 0,
"cpus": 2,
"id": "d6757edc-7bb3-495c-abd6-c5af6e96dd15",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986",
"extra_info": {
"ha": 1,
"peer_ha_device_id": "",
"cssp_id": ""
},
"ip_list": "{\"eth14\": [], \"eth1\": [\"192.168.1.16/24\"], \"eth13\": [], \"
eth12\": [], \"eth11\": [], \"eth10\": [], \"eth15\": [], \"eth0\": [\"172.32.0.34
/24\"]}",
"storage_info": {
"disk_used_mb": 792,
"mem_total_mb": 4096,
"disk_total_mb": 81920,
"mem_used_mb": 2252,
"storage_id": "e6fc6b25_vs_vol_rep3"
},
"vlinks_info": [
{
"status": "1",
"name": "eth0",
"peer_device_type": "dvs",
"peer_device_id": "8cdf5b97-c8d8-4dfb-9d35-efb838f9362c",
"isbridge": 1,
"id": "net0"
}
],
"vif_count": 16,
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"type": "vnet:dblb",
"status": "running",
"description": "",
"linked_amount": 3,
"classics_networks": [],
"cipher": "",
"host_id": "host-6c92bf5197e6",
"vm_type": "vm",
"auth_info": {
"is_auth": 0,
"auth_resource_name": "Database_Load_Balancer_Components"
},
"name": "DBLB_device2",
"network_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"location_info": {
"dh_id": "",
"deploy_location": "inner_dvs",
"host_config": "<Auto>",
"location": false,
"deploy_mode": "single"
},
"vpc_networks": [
{
"fip": "10.106.123.86",
"subnet_id": "8cdf5b97-c8d8-4dfb-9d35-efb838f9362c",
"ips": [
"172.32.0.34"
],
"port_name": "eth0",
"port_type": "manage_port",
"port_id": "45eaeec6-76c1-45cd-9024-436c83121ea8",
"fip_id": "a250455a-ec14-4331-a758-6744d8b3a95b"
}
],
"network_type": "vpc"
}
4.16.10.1.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.2. Deploy a Network Device
Scenario: Deploy a network device
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP 6.3.0 and later
4.16.10.2.1. URI
Table 4.16.219 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/vnetdev Deploy a Network
Device
Parameter Description:
None
4.16.10.2.2. Request
Request Parameter
Table 4.16.220 Response Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
name body string Network device name Yes
type body string Supported NFV devices in VPC, view NFV
Devices in VPC for details Yes
auth_info body string Licensing parameter, JSON string Yes
vpc_id body string VPC ID Yes
config_info body dict
NFV device parameters for creating VPC,
view Parameter Description - config_info
for details.
No
extra_info body dict
Configuration of other parameters, view
Parameter Description - extra_info for
details.
No
location body dict Deployment location, view Parameter
Description - location for details. No
Parameter Description - config_info:
Table 4.16.221 Parameter Description - config_info¶
Parameter Type Description Required
vif_count string NFV device interfaces No
storage_id string NFV storage ID (This parameter is available in SCP
6.8.10 and later versions.) No
storage_tag_id string NFV storage tag ID (This parameter is available in
SCP 6.8.10 and later versions.) No
networks list(dict) Network configuration, view Description of
config_info networks for details. No
Description of the parameter config_info networks:
Table 4.16.222 Description of config_info networks¶
Parameter Type Description Required
port_type string Port type, view NFV Interfaces in VPC for
details. Yes
subnet_id string Subnet ID Yes
floatingip_id object Floating IP ID No
ip_address string Elastic IP address No
custom_gateway_ip string Subnet port gateway No
Parameter Description - extra_info:
Table 4.16.223 Parameter Description - extra_info¶
Parameter Type Description Required
ha_enable int(0, 1) Whether to enable high
availability No
peer_ha_device_id string HA peer device ID No
cssp_id string (Removed) No
Parameter Description - location:
Table 4.16.224 Parameter Description - location¶
Parameter Type Description Required
dh_id string Dedicated server group ID No
deploy_location string Deployment location, view NFV Location Deployed
in VPC for details No
Request Example
https://{SCP_IP}/janus/20180725/vnetdev
{
"name": "DBLB_device",
"vpc_id": "cb367624-b91a-4463-b45a-b756c54857a2",
"auth_info": "{\"dev_type\":\"dblb_1Gbps_performance\"}",
"config_info": {
"vif_count": 16,
"networks": [
{
"port_type": "manage_port",
"subnet_id": "8cdf5b97-c8d8-4dfb-9d35-efb838f9362c",
"floatingip_id": "a250455a-ec14-4331-a758-6744d8b3a95b"
}
]
},
"type": "vnet:dblb",
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986",
"extra_info": {
"ha_enable": 0,
"cssp_id": "a250455a-ec14-4331-a758-6744d8b3a95b"
}
"location": {
"deploy_location": "",
"dh_id": ""
}
}
4.16.10.2.3. Response
Response Parameter
Table 4.16.225 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.2.4. Response Code
Success: 201
Errors: 400, 403, 404
4.16.10.3. Update Network Device Information
Scenario: Update network device information
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP 6.3.0 and later
4.16.10.3.1. URI
Table 4.16.226 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/vnetdev/{vnetdev_id} Update Network
Device Information
Parameter Description:
Table 4.16.227 Path Parameters¶
Parameter Location Type Description Required
vnetdev_id path string Network device ID Yes
4.16.10.3.2. Request
Request Parameter
Table 4.16.228 Response Parameter¶
Parameter Location Type Description Required
vnetdev_id body string Network device ID Yes
name body string Name No
auth_info body string Licensing information, JSON string No
recover_auth body int(0,
1) Whether to re-license the device No
peer_ha_device body string HA peer device ID No
disk_size body float Total size after expanding capacity No
cssp_id body string (Removed) No
reboot body int(0,
1) Whether to restart the device No
migrate_info body dict Migration location, view Parameter
Description - migrate_info for details. No
Parameter Description - migrate_info:
Table 4.16.229 Parameter Description - migrate_info¶
Parameter Type Description Required
project_id string Tenant ID Yes
az_id string Resource pool ID Yes
target_host_id string Destination node Yes
target_volume_id string Destination datastore Yes
target_volume_dir string Destination storage
directory No
priority_host_id string Migrate node first No
location int(0, 1) Whether the device runs
on specified node only No
Request Example
https://{SCP_IP}/janus/20180725/vnetdev/71ab08a6-5e35-449d-8e9d-ce015e127332
{
"vnetdev_id": "1420a8fb-8bca-4526-aa52-bd65bbc18e36",
"name": "test",
"auth_info": "",
"recover_auth": "",
"peer_ha_device": "c7b2db93-fdb5-438e-8012-49e4f77de06c",
"migrate_info": {
"project_id": "a4020e234e57481887b1e5ec72446a6f",
"az_id": "cd8378b2-7cd6-46e5-80eb-662111529986",
"target_host_id": "",
"target_volume_id": "",
"target_volume_dir": "",
"priority_host_id": "",
"location": 0
},
"disk_size": 11111112.2,
"cssp_id": "78842f26-a9cd-4412-9747-3d0a679cec96",
"reboot": 0
}
4.16.10.3.3. Response
Response Parameter
Table 4.16.230 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.3.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.4. Power Off Multiple Network Devices
Scenario: Power off multiple network devices
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP 6.3.0 and later
4.16.10.4.1. URI
Table 4.16.231 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/vnetdev/nfvs/stop Power Off Multiple
Network Devices
Parameter Description:
None
4.16.10.4.2. Request
Request Parameter
Table 4.16.232 Response Parameter¶
Parameter Location Type Description Required
vnetdev_ids body list(string) Network device IDs Yes
Request Example
https://{SCP_IP}/janus/20180725/vnetdev/nfvs/stop
{
"vnetdev_ids": [
"71ab08a6-5e35-449d-8e9d-ce015e127332",
"84acfc02-0cc2-4967-b79c-64bb93f30307"
]
}
4.16.10.4.3. Response
Response Parameter
Table 4.16.233 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.4.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.5. Power On Multiple Network Devices
Scenario: Power on multiple network devices
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP6.3.70 and later
4.16.10.5.1. URI
Table 4.16.234 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/vnetdev/nfvs/start Power On Multiple
Network Devices
Parameter Description:
None
4.16.10.5.2. Request
Request Parameter
Table 4.16.235 Response Parameter¶
Parameter Location Type Description Required
vnetdev_ids body list(string) Network device IDs Yes
Request Example
https://{SCP_IP}/janus/20180725/vnetdev/nfvs/stop
{
"vnetdev_ids": [
"71ab08a6-5e35-449d-8e9d-ce015e127332",
"84acfc02-0cc2-4967-b79c-64bb93f30307"
]
}
4.16.10.5.3. Response
Response Parameter
Table 4.16.236 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.5.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.6. Delete a Network Device
Scenario: Delete a network device
Roles supported: Super admin, system admin, and co-administrator with the Network Write permission
Versions supported: SCP 6.3.0 and later
4.16.10.6.1. URI
Table 4.16.237 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20180725/vnetdev/{vnetdev_id} Delete a
Network Device
Parameter Description:
Table 4.16.238 Path Parameters¶
Parameter Location Type Description Required
vnetdev_id path string Network device ID Yes
4.16.10.6.2. Request
Request Parameter
None
Request Example
None
4.16.10.6.3. Response
Response Parameter
Table 4.16.239 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.6.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.16.10.7. Deploy NFV for classic network
Scenario: Deploy NFV for the classic network
Roles supported: Super admin and co-administrator with the Network Configuration permission
Versions supported: SCP 6.3.80 and later
4.16.10.7.1. URI
Table 4.16.240 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-vnetdevs Deploy NFV for classic network
Parameter Description:
None
4.16.10.7.2. Request
Request Parameter
Table 4.16.241 Response Parameter¶
Parameter Location Type Description Required
name body string Device name No
type body string
View Classic Network NFV Device Type
for the NFV device types supported by
the classic network.
Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID No
image_id body string Image ID Yes
auth_info body string
View Description of Classic Network NFV
Licensing Parameters for licensing
parameters.
No
location body dict View Parameter Description - location for
deployment position. No
config_info body dict View Parameter Description - config_info
for configuration parameters. No
extra_info body dict View Parameter Description - extra_info
for additional parameters. No
 Note
1.auth_info is required for device types other than Monitor Center. The parameter is of the
string type. For details, see the request example. 2.When both config_info.storage_id and
location.storage_location are specified, only location.storage_location applies.
Parameter Description - location:
Table 4.16.242 Parameter Description - location¶
Parameter Type Description Required
storage_location string Storage location No
compute_location string Running location No
fixed_compute_location int(0, 1) Whether the device runs
on specified node only No
Parameter Description - config_info:
Table 4.16.243 Parameter Description - config_info¶
Parameter Type Description Required
vif_count int Number of network ports No
storage_id string NFV storage ID (This parameter is available in SCP
6.8.10 and later versions.) No
storage_tag_id string NFV storage tag ID (This parameter is available in
SCP 6.8.10 and later versions.) No
networks list(dict) View Description of config_info networks for the
network port list of connected devices. No
Description of the parameter config_info networks:
Table 4.16.244 Description of config_info networks¶
Parameter Type Description Required
id string Interface ID Yes
peer_device_id string ID of the connected peer network
device Yes
peer_device_type string Type of the connected peer network
device Yes
peer_port_id string Port ID of the connected peer network
device Yes
Parameter Description - extra_info:
Table 4.16.245 Parameter Description - extra_info¶
Parameter Type Description Required
ha_enable int(0,
1) Whether to enable high availability No
cssp_id string ID of Cloud Security Service Platform No
manage_network dict
View Parameter Description - extra_info
manage_network for management network port
information.
No
 Note
The manage_network parameter is required for access to Cloud Security Service Platform.
Parameter Description - extra_info manage_network:
Table 4.16.246 Parameter Description - extra_info manage_network¶
Parameter Type Description Required
vif_name string Network port name, such as eth0 and eth1 Yes
ip string Network port IP Yes
mask string Network port subnet mask Yes
gateway string Gateway Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-vnetdevs
{
"name": "AF0618123254",
"type": "vnet:af",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"image_id": "d83b0dec-00dc-491e-bf42-7b8b198f9b7e",
"auth_info":"{'dev_type':'af_bandwidth_100M','af_branch':0,'af_ssl_vpn'
:0,
'af_tamper':0,'af_users':0}",
"location": {
"storage_location": "1SANGFOR_ASAN-001-983f-4930-8000-2d33c04ffc92"
,
"compute_location": "host-001b21d61e70",
"fixed_compute_location": 1
},
"config_info": {
"vif_count": 4,
"networks": {
"id": "net0",
"peer_device_id": "424733f6-5cac-4041-8fd9-7b144d103d4f",
"peer_device_type": "vr",
"peer_port_id": "eth0"
}
},
"extra_info": {
"ha_enable": 1,
"cssp_id": "c2dcb25d-a9f3-410d-9ec3-d171b0d9396c",
"manage_network": {
"vif_name": "eth0",
"ip": "192.168.0.1",
"mask": "255.255.255.0",
"gateway": "192.168.0.253"
}
}
}
4.16.10.7.3. Response
Response Parameter
Table 4.16.247 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a4020e234e57481887b1e5ec72446a6f"
}
4.16.10.7.4. Response Code
Success: 201
Errors: 400, 403, 500
4.16.10.8. Delete NFV devices for classic network
4.16.10.8.1. Scenario
Scenario: Delete NFV devices for the classic network
Roles supported: Super admin and co-administrator with the Network Configuration permission
Versions supported: SCP 6.3.80 and later
4.16.10.8.2. URI
Table 4.16.248 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/classic-vnetdevs/{vnetdev_id} Delete NFV devices
for classic network
Parameter Description:
Parameter Location Type Description Required
vnetdev_id path string Device ID Yes
force body int(0, 1)
Whether to force
deletion
No
4.16.10.8.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/classic-vnetdevs/22653f0a-7946-4525-bf67-
096e3901db14
4.16.10.8.4. Response
Response Parameter
Table 4.16.249 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "54b815be-d86d-41dc-902b-333c25a4b263"
}
4.16.10.8.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.9. Obtain SSO configuration information
4.16.10.9.1. Scenario
Scenario: Obtain SSO configuration information
Roles supported: Admin, tenant, and co-administrator with the PERM_NET_READ permission.
Versions supported: SCP 6.7.32 and later
4.16.10.9.2. URI
Table 4.16.250 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vnetdev/{nfv_id}/sso Obtain SSO configuration
information
Parameter Description:
Table 4.16.251 Path Parameters¶
Parameter Location Type Description Required
nfv_id path string NFV device ID Yes
sso_type path string
Type of the page to be opened. Valid
values: web:web console, sso: device
configuration page
Yes
4.16.10.9.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/vnetdev/b4ff8ef5-4cef-478e-a6ae-0c8f60f4b999/sso?sso_type=sso
4.16.10.9.4. Response
Response Parameter
Table 4.16.252 Response Parameter¶
Parameter Type Description
Value
Returned
protocol string Protocol type No
support_browser list(dict) View Parameter Description - support_browser
for the supported browser. No
url string SSO URL No
port int Accessed port No
token string Token for logging in to Cloud Security Service
Platform for logging in to a third-party device No
code string Return code. Valid values: ‘success’ and ‘fail’ Yes
Parameter Description - support_browser:
Table 4.16.253 Parameter Description - support_browser¶
Parameter Type Description Value Returned
version list Browser version Yes
type string Browser type Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"url": "/clu~552e1145-b387-47f8-b878-4283b0d29683/proxy~732447899623
2/6E1BFD7D40D3238B4318F745462E3FDA~jumphttps-37215D98~http~ipdefault-portdef
ault/proxy.html?vmname=%E4%B8%8A%E7%BD%91%E8%A1%8C%E4%B8%BA%E7%AE%A1%E7%90%8
60317174818",
"code": "success",
"protocol": "https",
"port": 4480,
"support_browser": [
{
"version": [
10
],
"type": "IE"
}
]
}
}
4.16.10.9.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.10.10. Query the NFV device list
4.16.10.10.1. Scenario
Scenario: Query the NFV device list
Roles supported: Admin, tenant, and co-administrator with the PERM_NET_READ permission.
Versions supported: SCP 6.7.32 and later
4.16.10.10.2. URI
Table 4.16.254 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/vnetdev/nfvs Query the NFV device
list
Parameter Description:
Table 4.16.255 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID No
encrypted path int Whether it is encrypted No
project_id path string Tenant ID No
status path string Device status No
host_id path string ID of the running node No
name path string NFV name No
vm_type path string Device Type No
description path string Description No
network_type path string Network type, which can be VPC
or classic network No
4.16.10.10.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/vnetdev/nfvs
4.16.10.10.4. Response
Response Parameter
Table 4.16.256 Response Parameter¶
Parameter Location Type Description Required
id path string NFV device ID No
az_id path string Resource pool ID No
encrypted path int Whether it is encrypted No
cpus path int Number of CPU cores occupied
during running (specifc for NFV) No
project_id path string Tenant ID No
type path string Number of NFV devices supported
by VPC No
ifs_amount path int Number of network ports on the
NFV device No
status path string Device status No
host_id path string ID of the running node No
name path string NFV name No
vm_type path string Device Type No
description path string Description No
linked_amount path int Number of connected devices No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"total_size": 2,
"data": [
{
"id": "68ca035d-be27-4f12-80af-5c66fdb65bc8",
"status": "running",
"project_id": "7e3e6748c1cd4a5fae4764714694f153",
"description": "111",
"name": "ADC 0305103908",
"encrypted": 0,
"ifs_amount": 4,
"cpus": 2,
"host_id": "host-00505697f4a8",
"linked_amount": 4,
"type": "vnet:ad",
"network_type": "classic",
"az_id": "a7253918-7a15-4c65-9a60-739c1dfa3673",
"vm_type": "vm"
},
{
"id": "8426ff19-d62d-4e7b-8f6d-79cb4218988a",
"status": "running",
"project_id": "7e3e6748c1cd4a5fae4764714694f153",
"description": "",
"name": "NGAF 0306101531",
"encrypted": 0,
"ifs_amount": 6,
"cpus": 2,
"host_id": "host-00505697f4a8",
"linked_amount": 2,
"type": "vnet:af",
"network_type": "classic",
"az_id": "a7253918-7a15-4c65-9a60-739c1dfa3673",
"vm_type": "vm"
}
],
"next_page_num": "",
"page_num": 0,
"page_size": 100
}
}
4.16.10.10.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.11. Shared Services
4.16.11.1. Query Shared Services
Scenario: Query shared services
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP 6.3.0 and later
4.16.11.1.1. URI
Table 4.16.257 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/public-services Get shared services
Parameter Description:
Table 4.16.258 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID No
name path string Name No
service_ip path string IP No
service_domain path string Domain name No
service_type path string Type No
tag path string Service tag No
keywords path string
Search keywords. Supports
searching name, domain name or IP
address
No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.11.1.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/public-services?az_id=f6f18ab6-42ab-4110-82ef-e2bd17fcd7de
4.16.11.1.3. Response
Response Parameter
Table 4.16.259 Response Parameter¶
Parameter Type Description
Value
Returned
id string Service ID No
name string Service name No
description string Service description No
service_ip string Shared service IP No
service_domain string Domain name No
az_ids list(string) Resource pool IDs No
is_global int(0, 1) Whether it is used by all
resource pools No
auto_enable int(0, 1) Whether to activate the
service for tenants No
protocol string Protocol type No
port string Port number No
status string or None Status No
project_id string Tenant ID No
tag string Service tag No
service_type string Service type No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": null,
"is_global": 1,
"az_ids": [],
"name": "Database_Services",
"service_ip": "9.9.9.10",
"service_domain": "dmp.local.cloud.scp",
"port": "",
"tag": "6c1c6b32-7f5b-4bc3-8431-3146ef50b595",
"auto_enable": 1,
"service_type": "dmp",
"protocol": "all",
"project_id": "cf92f8d651c24ed6938b186e252ee0bc",
"id": "00512815-aa36-4c93-9c27-197bb9efbb96",
"description": "The predefined DMP service cannot be edited."
}
]
4.16.11.1.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.11.2. Create Shared Service
Scenario: Create a shared service
Roles supported: Super administrator and platform administrator with permission to create a shared
service
Versions supported: SCP 6.10.0 and later
4.16.11.2.1. URI
Table 4.16.260 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/public-services Create Shared
Service
Parameter Description:
Table 4.16.261 Parameter Description¶
Parameter Location Type Description Required
name body string Name Yes
service_ip body string IP Yes
service_domain body string Domain name Yes
is_global body int(0, 1) Whether it is used by all resource
pools. 0:no, 1: yes No
auto_enable body int(0, 1) Whether to automatically enable
it for tenants. 0: no, 1: yes No
az_ids body list(string) List of resource pool IDs No
port body list(string) Port number No
protocol body string
Shared service protocol type. For
details, see Parameter
Description - protocol.
No
Parameter Description - protocol:
Table 4.16.262 Parameter Description - protocol¶
Value Description
tcp TCP
udp UDP
all All
Request Example
https://{SCP_IP}/janus/20180725/public-services
{
"name": "test",
"service_ip": "198.51.100.42",
"service_domain": "www.test.com",
"is_global": 1,
"auto_enable": 0,
"port": [
"1-25000"
],
"protocol": ""
}
4.16.11.2.2. Response
Response Parameter
Table 4.16.263 Response Parameter¶
Parameter Type Description
Value
Returned
id string Service ID No
name string Service name No
description string Service description No
service_ip string Shared service IP No
service_domain string Domain name No
az_ids list(string) Resource pool IDs No
is_global int(0, 1) Whether it is used by all resource pools. 0:no, 1:
yes No
auto_enable int(0, 1) Whether to automatically enable it for tenants.
0: no, 1: yes No
protocol string Shared service protocol type. For details, see
Parameter Description - protocol. No
port string Port number No
status string Shared service status. For details, see
Parameter Description - status. No
project_id string Tenant ID No
tag string Service tag No
service_type string Service type. For details, see Parameter
Description - advance-service-type-table. No
Parameter Description - service_type:
Table 4.16.264 Parameter Description - advance-service-type-table¶
Value Description
cssp Cloud Security Service Platform
dmp Database management platform
nas File Storage
oss Object storage
snmp_trap SNMP Trap
skyops SkyOPS
app_nest App Nest
ahc Cloud Interconnect Platform
Parameter Description - status:
Table 4.16.265 Parameter Description - status¶
Value Description
active Available
lost Lost
stopped Stopped
offline Offline
server_error Service error
login_error Login exception
unauthed Unauthenticated
error Error
building Building
disable Disabled
Response Example:
{
"message": "",
"code": 0,
"data": {
"status": null,
"is_global": false,
"protocol": "all",
"description": null,
"az_names": [],
"service_ip": "9.2.91.91",
"service_domain": "www.test.com",
"port": null,
"tag": "",
"auto_enable": true,
"service_type": "",
"az_ids": [],
"project_id": "84deca406df04589b6bc76406c0a2bea",
"id": "ba9818a9-dc91-43ee-83c4-a45ebd1633e7",
"name": "test"
}
}
4.16.11.2.3. Response Code
Success: 201
Error: 400, 401, 404, 409, 500, 503
4.16.11.3. Delete Shared Service
Scenario: Delete a shared service
Roles supported: Super administrator and platform administrator with permission to delete a shared
service
Versions supported: SCP 6.10.0 and later
4.16.11.3.1. URI
Table 4.16.266 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/public-services/{publicservice_id}
Delete
Shared
Service
Parameter Description:
Table 4.16.267 Parameter Description¶
Parameter Location Type Description Required
publicservice_id path string Shared service
ID Yes
Request Example
https://{SCP_IP}/janus/20180725/public-services/ba9818a9-dc91-43ee-83c4-a45ebd1633e7
4.16.11.3.2. Response
Response Parameter
None
Response Example:
None
4.16.11.3.3. Response Code
Normal: 204
Errors: 400, 401, 404, 500, 503
4.16.11.4. Query Tenants Associated with Shared Services
Scenario: Query tenants associated with shared services
Roles supported: Super admin, system admin, and co-administrator with the Network Read permission
Versions supported: SCP 6.3.0 and later
4.16.11.4.1. URI
Table 4.16.268 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/publicservices/{
publicservice_id}/bindings
Obtain tenants
associated with shared
services
Parameter Description:
Table 4.16.269 Path Parameters¶
Parameter Location Type Description Required
publicservice_id path string Resource pool
ID Yes
project_id path string Tenant ID No
az_id path string Resource pool
ID No
vpc_id path string VPC ID No
status path string Status No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.11.4.1.1. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/public-services/00512815-aa36-4c93-9c27-
197bb9efbb96/bindings
4.16.11.4.2. Response
Response Parameter
Table 4.16.270 Response Parameter¶
Parameter Type Description
Value
Returned
id string Association ID No
az_id string Resource pool ID No
project_id string Tenant ID No
vpc_id string VPC ID No
publicservice_id string Service ID No
status string Status of shared service No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "active",
"publicservice_id": "00512815-aa36-4c93-9c27-197bb9efbb96",
"vpc_id": "12af9eee-8f4c-4ece-af86-4ea76edbb6f9",
"project_id": "9d14d076b59045b1b0aaca04cfaaa657",
"id": "6533082a-8ca1-4280-a297-4603286a4c9c",
"az_id": "611f1b34-c727-4925-854e-07bc8607f681"
}
]
4.16.11.4.2.1. Response Code¶
OK: 200
Errors: 400, 403, 404
4.16.11.5. Create Shared Service Binding
Scenario: Create a shared service binding
Roles supported: Super administrator and platform administrator with permission to create binding
relationship for shared services
Versions supported: SCP 6.10.0 and later
4.16.11.5.1. URI
Table 4.16.271 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/public-services/{publicservice_id}/bindings Create Shared
Service Binding
Parameter Description:
Table 4.16.272 Path Parameters¶
Parameter Location Type Description Required
publicservice_id path string Shared service
ID Yes
4.16.11.5.1.1. Request¶
Request Parameter
Table 4.16.273 Parameter Description¶
Parameter Location Type Description Required
project_id body string Tenant ID Yes
vpc_id body string VpcID Yes
Request Example
https://{SCP_IP}/janus/20180725/public-services/00512815-aa36-4c93-9c27-
197bb9efbb96/bindings
{
"vpc_id": "3f4d7ee4-5b03-4da8-a5da-1d9d2b4eea02",
"project_id": "4891210ed9b54c349cce7297c3d82fad"
}
4.16.11.5.2. Response
Response Parameter
Table 4.16.274 Response Parameter¶
Parameter Type Description Value Returned
task_id string Creation task ID Yes
Response Example:
{
"code": 0,
"message": "string",
"data": {
"task_id": "ca432Fdf-3EB1-F7ea-16A1-DBF0F1f1"
}
}
4.16.11.5.2.1. Response Code¶
Success: 201
Error: 400, 401, 404, 409, 500, 503
4.16.11.6. Delete Shared Service Binding
Scenario: Delete a shared service binding
Roles supported: Super administrator and platform administrator with permission to delete binding
relationship for shared services
Versions supported: SCP 6.10.0 and later
4.16.11.6.1. URI
Table 4.16.275 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/public-services/bindings/{servicebind_id} Delete Shared
Service Binding
Parameter Description:
Table 4.16.276 Path Parameters¶
Parameter Location Type Description Required
servicebind_id path string Shared service
binding ID Yes
4.16.11.6.1.1. Request¶
Request Parameter
None
Request Example
None
4.16.11.6.2. Response
Response Parameter
Table 4.16.277 Response Parameter¶
Parameter Type Description Value Returned
task_id string Deletion task ID Yes
Response Example:
{
"code": 0,
"message": "string",
"data": {
"task_id": "ca432Fdf-3EB1-F7ea-16A1-DBF0F1f1"
}
}
4.16.11.6.2.1. Response Code¶
OK: 200
Errors: 400, 401, 404, 500, 503
4.16.12. Device Connections
4.16.12.1. Create device connection
Scenario: Create a device connection
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.3.80 and later
4.16.12.1.1. URI
Table 4.16.278 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/links/action Create device
connection
Parameter Description:
None
4.16.12.1.2. Request
Request Parameter
Table 4.16.279 Response Parameter¶
Parameter Location Type Description Required
action body string View Device Connection Operation Types
for details. Yes
src body dict View Parameter Description - commonmetric
for the start node. Yes
dst body dict View Parameter Description - commonmetric
for the end node. Yes
Parameter Description - src and dst:
Table 4.16.280 Parameter Description - common-metric¶
Parameter Type Description Required
device_id string Device ID Yes
vif string Interface ID No
 Note
1. When the device is an edge, the value of vif is the same as that of vlan_group.id in Query
List of Classic Network Edges.
2. When the device is a VM or NFV, the value of vif is net0, net1, net2, or netn.
3. When the device is a router, the value of vif is the same as that of id in the response
parameter vifs of the API for querying the list of classic network routers. For details, see
Query List of Classic Network Routers.
4. When the device is a switch, do not pass in the vif parameter.
Request Example
https://{SCP_IP}/janus/20180725/links/action
{
"action": "create",
"src": {
"device_id": "1bd17520-6155-4faa-af9d-0831d9fc0e9b",
"vif": "net0",
},
"dst": {
"device_id": "00d3c312-16a7-4190-8cec-fdea86b4402b",
"vif": "net0"
}
}
4.16.12.1.3. Response
Response Parameter
Table 4.16.281 Response Parameter¶
Parameter Type Description
Value
Returned
src dict View Parameter Description - common-metric for the
start node. Yes
dst dict View Parameter Description - common-metric for the
start node. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"src": {
"device_id": "1bd17520-6155-4faa-af9d-0831d9fc0e9b",
"vif": "net0",
},
"dst": {
"device_id": "00d3c312-16a7-4190-8cec-fdea86b4402b",
"vif": "net0"
}
}
4.16.12.1.4. Response Code
Success: 201
Errors: 400, 401, 403, 500
4.16.12.2. Remove device connection
Scenario: Cancel a device connection
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.3.80 and later
4.16.12.2.1. URI
Table 4.16.282 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/links/action Remove device
connection
Parameter Description:
None
4.16.12.2.2. Request
Request Parameter
Table 4.16.283 Response Parameter¶
Parameter Location Type Description Required
action body string View Device Connection Operation Types
for details. Yes
src body dict View Parameter Description - commonmetric
for the start node. Yes
dst body dict View Parameter Description - commonmetric
for the end node. Yes
Parameter Description - src and dst:
Table 4.16.284 Parameter Description - common-metric¶
Parameter Type Description Required
device_id string Device ID Yes
vif string Interface ID No
 Note
1. When the device is an edge, the value of vif is the same as that of vlan_group.id in Query
List of Classic Network Edges.
2. When the device is a VM or NFV, the value of vif is net0, net1, net2, or netn.
3. When the device is a router, the value of vif is the same as that of id in the response
parameter vifs of the API for querying the list of classic network routers. For details, see
Query List of Classic Network Routers.
4. When the device is a switch, do not pass in the vif parameter.
Request Example
https://{SCP_IP}/janus/20180725/links/action
{
"action": "delete",
"src": {
"device_id": "1bd17520-6155-4faa-af9d-0831d9fc0e9b",
"vif": "net0",
},
"dst": {
"device_id": "00d3c312-16a7-4190-8cec-fdea86b4402b",
"vif": "net0"
}
}
4.16.12.2.3. Response
Response Parameter
None
4.16.12.2.4. Response Code
Normal: 204
Errors: 400, 401, 403, 500
4.16.13. Direct Connections
4.16.13.1. Create direct connection
4.16.13.1.1. Scenario
Scenario: Create a direct connection
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.3.88 and later
4.16.13.1.2. URI
Table 4.16.285 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/network/privatelines Create direct
connection
Parameter Description:
None
4.16.13.1.3. Request
Request Parameter
Table 4.16.286 Response Parameter¶
Parameter Location Type Description Required
name body string Direct connection name Yes
subnet_id body string ID of the subnet bound
to the direct connection Yes
description body string Direct connection
description No
project_id body string Tenant ID No
az_id body string Resource pool ID No
vpc_id body string
VPC ID of the subnet
bound to the direct
connection
No
virtual_interface body string Virtual interface ID No
vlan body int(0,
4094) VLAN ID No
ignore_vlan_conflict body int(0, 1) Whether to ignore the
VLAN conflict No
 Note
1. Tenants cannot pass in the following parameters virtual_interface, vlan, and
ignore_vlan_conflict.
2. A value must be passed in for both or neither of virtual_interface and vlan.
3. When vlan is set to 0, the value of ignore_vlan_conflict must be 1.
4. When administrators call this API, project_id is required.
Request Example
https://{SCP_Endpoint}/janus/20180725/network/privatelines
{
"name": "privateline",
"project_id": "f93eebef20c245b89550410245d2ab8c",
"az_id": "ce2a2e5a-013e-4d36-be63-e5988d09e105",
"subnet_id": "8e4403f3-4d8b-48e8-8406-891c654d81a6",
"virtual_interface": "33f8a986-1b2c-4728-a5d2-25356ac55900",
"vlan": 6,
"ignore_vlan_conflict": 1
}
4.16.13.1.4. Response
Response Parameter
Table 4.16.287 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "3d865258-30eb-477a-907d-ba1c1c14d3bd"
}
4.16.13.1.5. Response Code
Success: 201
Errors: 400, 403, 500
4.16.13.2. Delete direct connection
4.16.13.2.1. Scenario
Scenario: Delete a direct connection
Roles supported: Super administrator, system administrator, and co-administrator with the Network
Configuration permission
Versions supported: SCP 6.3.88 and later
4.16.13.2.2. URI
Table 4.16.288 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/network/privatelines/{privateline_id}
Delete
direct
connection
Parameter Description:
Table 4.16.289 Path Parameters¶
Parameter Location Type Description Required
privateline_id path string
Direct
connection ID
Yes
4.16.13.2.3. Request
Request Parameter
Table 4.16.290 Response Parameter¶
Parameter Location Type Description Required
force body int(0, 1) Whether to forcibly delete the
direct connection Yes
Request Example
https://{SCP_Endpoint}/janus/20180725/network/privatelines/02125146-87bc-49c5-85ea-
6e48d2314e95
{
"force": 1
}
4.16.13.2.4. Response
Response Parameter
Table 4.16.291 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "c1101c7b-8c20-4330-b730-723a14edc4be"
}
4.16.13.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.13.3. Query direct connection details
4.16.13.3.1. Scenario
Scenario: Query direct connection details
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.88 and later
4.16.13.3.2. URI
Table 4.16.292 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/network/privatelines/{privateline_id}
Query direct
connection
details
Parameter Description:
Table 4.16.293 Path Parameters¶
Parameter Location Type Description Required
privateline_id path string
Direct
connection ID
Yes
4.16.13.3.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/network/privatelines/99e8526c-4923-4186-9173-
f60070153946
4.16.13.3.4. Response
Response Parameter
Table 4.16.294 Response Parameter¶
Parameter Type Description
Value
Returned
id string Direct connection ID Yes
name string Direct connection name Yes
description string Direct connection description Yes
created_at string Creation time of the direct connection Yes
updated_at string Last edition time of the direct connection Yes
project_id string Tenant ID Yes
status string View Classic Network Direct Connect Status for
direct connection statuses. Yes
az_id string Resource pool ID Yes
vpc_id string VPC ID of the subnet bound to the direct
connection Yes
subnet_id string ID of the subnet bound to the direct connection Yes
virtual_interface string Virtual interface ID Yes
vlan int VLAN ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"status": "active",
"virtual_interface": "33f8a986-1b2c-4728-a5d2-25356ac55900",
"description": "",
"subnet_id": "27908ae3-1cb3-4761-ab68-c1fda7771707",
"created_at": "2022-03-03T16:16:27",
"vlan": 2,
"updated_at": "2022-03-03T16:17:09",
"vpc_id": "ff3752b1-b746-4766-8df7-bad2eff97890",
"project_id": "52d8955b25374d28b6a2916f5efc57b5",
"id": "99e8526c-4923-4186-9173-f60070153946",
"az_id": "ce2a2e5a-013e-4d36-be63-e5988d09e105",
"name": "privateline_2"
}
4.16.13.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.13.4. Query list of direct connections
4.16.13.4.1. Scenario
Scenario: Query the list of direct connections
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.88 and later
4.16.13.4.2. URI
Table 4.16.295 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/network/privatelines Query list of direct
connections
Parameter Description:
Table 4.16.296 Path Parameters¶
Parameter Location Type Description Required
name path string Direct connection name No
project_id path string Tenant ID No
status path string
View Classic Network Direct
Connect Status for direct
connection statuses.
No
az_id path string Resource pool ID No
vpc_id path string
VPC ID of the subnet bound to
the direct connection
No
subnet_id path string
ID of the subnet bound to the
direct connection
No
virtual_interface path string Virtual interface ID No
vlan path string VLAN ID No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.13.4.3. Request
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/network/privatelines?az_id=ce2a2e5a-013e-4d36-be63-
e5988d09e105
4.16.13.4.4. Response
Response Parameter
Table 4.16.297 Response Parameter¶
Parameter Type Description
Value
Returned
id string Direct connection ID No
name string Direct connection name No
description string Direct connection description No
created_at string Creation time of the direct connection No
updated_at string Last edition time of the direct connection No
project_id string Tenant ID No
status string View Classic Network Direct Connect Status for
direct connection statuses. No
az_id string Resource pool ID No
vpc_id string VPC ID of the subnet bound to the direct
connection No
subnet_id string ID of the subnet bound to the direct connection No
virtual_interface string Virtual interface ID No
vlan int VLAN ID No
 Note
View Common Response Parameter Format for common API response parameters.
Response example:
[
{
"status": "active",
"virtual_interface": "33f8a986-1b2c-4728-a5d2-25356ac55900",
"description": "",
"subnet_id": "8e4403f3-4d8b-48e8-8406-891c654d81a6",
"created_at": "2022-03-03T16:15:24",
"vlan": 6,
"updated_at": "2022-03-03T16:16:48",
"vpc_id": "44dc2223-171a-4403-8419-fe7fba0eb629",
"project_id": "f93eebef20c245b89550410245d2ab8c",
"id": "72d79395-d6bc-4575-bcb3-e3d173e1b81d",
"az_id": "ce2a2e5a-013e-4d36-be63-e5988d09e105",
"name": "privateline"
},
{
"status": "active",
"virtual_interface": "33f8a986-1b2c-4728-a5d2-25356ac55900",
"description": "",
"subnet_id": "27908ae3-1cb3-4761-ab68-c1fda7771707",
"created_at": "2022-03-03T16:16:27",
"vlan": 2,
"updated_at": "2022-03-03T16:17:09",
"vpc_id": "ff3752b1-b746-4766-8df7-bad2eff97890",
"project_id": "52d8955b25374d28b6a2916f5efc57b5",
"id": "99e8526c-4923-4186-9173-f60070153946",
"az_id": "ce2a2e5a-013e-4d36-be63-e5988d09e105",
"name": "privateline_2"
}
]
4.16.13.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.13.5. Edit Direct Connection
4.16.13.5.1. Scenario
Scenario: Edit a direct connection
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.3.88 and later
4.16.13.5.2. URI
Table 4.16.298 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/network/privatelines/{privateline_id} Edit Direct
Connection
Parameter Description:
Table 4.16.299 Path Parameters¶
Parameter Location Type Description Required
privateline_id path string
Direct
connection ID
Yes
4.16.13.5.3. Request
Request Parameter
Table 4.16.300 Response Parameter¶
Parameter Location Type Description Required
name body string Direct connection
name No
description body string Direct connection
description No
virtual_interface body string Virtual interface ID No
vlan body int(0, 4094) VLAN ID No
ignore_vlan_conflict body int(0, 1) Whether to ignore
the VLAN conflict No
Request Example
https://{SCP_Endpoint}/janus/20180725/network/privatelines/02125146-87bc-49c5-85ea-
6e48d2314e95
{
"name": "privateline",
"description": "privateline-description"
}
4.16.13.5.4. Response
Response Parameter
Table 4.16.301 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "f912fe49-9190-4a87-8e32-bdb2fa49e7e9"
}
4.16.13.5.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.14. Virtual Interfaces
4.16.14.1. Query list of virtual interfaces
4.16.14.1.1. Scenario
Scenario: Query the list of virtual interfaces
Roles supported: Supper administrator and other administrators with the PERM_NET_READ permission
Versions supported: SCP 6.3.88 and later
4.16.14.1.2. URI
Table 4.16.302 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/network/virtual_interfaces Query list of virtual
interfaces
Parameter Description:
Table 4.16.303 Path Parameters¶
Parameter Location Type Description Required
name path string Edge name No
az_id path string Resource pool ID No
status path string Gateway status No
type path string Gateway type No
device_type path string Type of the edge associated
with the gateway No
device_id path string ID of the edge associated
with the gateway No
vlan path string VLAN ID No
vlan_group_id path string Port group ID No
binds_num path string Number of devices bound to
the edge No
4.16.14.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/network/virtual_interfaces
4.16.14.1.4. Response
Response Parameter
Table 4.16.304 Response Parameter¶
Parameter Location Type Description Required
id path string Edge ID No
name path string Edge name No
az_id path string Resource pool ID No
type path string Gateway type No
device_type path string
Type of the edge
associated with the
gateway
No
device_id path string ID of the edge associated
with the gateway No
vlan path int VLAN ID No
vlan_group_id path string or None Port group ID No
status path string Resource pool status No
created_at path string Data creation time No
updated_at path string Data modification time No
binds_num path int Number of devices bound
to the edge No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"total_size": 2,
"data": [
{
"status": "active",
"binds_num": 2,
"name": "sunhao4",
"vlan_group_id": null,
"created_at": "2022-02-18T09:18:14.000000",
"vlan": "",
"updated_at": "2022-02-18T09:18:14.000000",
"device_type": "bvs",
"type": "privateline",
"id": "237ff952-0cd4-4b87-8f8b-a00d5e0e3c5f",
"az_id": "60579b44-d726-4b0d-91bc-b4a0cfd89604",
"device_id": "cb872d35-59db-462b-9fe0-ddc860c04509"
},
{
"status": "active",
"binds_num": 0,
"name": "",
"vlan_group_id": "da2a7de1",
"created_at": "2022-03-06T08:05:41.000000",
"vlan": 0,
"updated_at": "2022-03-06T08:05:43.000000",
"device_type": "bvs",
"type": "external",
"id": "50c964bb-ead0-4155-a054-89b07a408a10",
"az_id": "60579b44-d726-4b0d-91bc-b4a0cfd89604",
"device_id": "cb872d35-59db-462b-9fe0-ddc860c04509"
}
],
"next_page_num": "",
"page_num": 0,
"page_size": 100
}
}
4.16.14.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.14.2. Query virtual interface details
4.16.14.2.1. Scenario
Scenario: Query virtual interface details
Roles supported: Supper administrator and other administrators with the PERM_NET_READ permission
Versions supported: SCP 6.3.88 and later
4.16.14.2.2. URI
Table 4.16.305 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/network/virtual_interfaces/{virtual_interface_id}
Query virtual
interface
details
Parameter Description:
Table 4.16.306 Path Parameters¶
Parameter Location Type Description Required
virtual_interface_id path string Edge ID Yes
details path int(0, 1) Whether to display
the binding details No
4.16.14.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/network/virtual_interfaces/3c14843d-06b3-4ec5-a7ee-
1911487b3573
4.16.14.2.4. Response
Response Parameter
Table 4.16.307 Response Parameter¶
Parameter Type Description
Value
Returned
virtual_interface_info dict
View Parameter Description -
virtual_interface_info for the outgoing
interface information.
Yes
Parameter Description - virtual_interface_info:
Table 4.16.308 Parameter Description - virtual_interface_info¶
Parameter Type Description
Value
Returned
id string Device ID Yes
name string Edge name Yes
az_id string Resource pool ID Yes
type string Gateway type Yes
device_type string Type of the edge associated with the gateway Yes
device_id string ID of the edge associated with the gateway Yes
vlan int or
None VLAN ID Yes
vlan_group_id
string
or
None
Port group ID Yes
status string Gateway status Yes
created_at string Data creation time No
updated_at string Data modification time No
binds_num int Number of gateways bound to the edge No
binds list(dict) View Parameter Description - binds for the list of
gateways bound to the edge. No
auto_created string Whether the gateway is created automatically No
Parameter Description - binds:
Table 4.16.309 Parameter Description - binds¶
Parameter Type Description Value Returned
id string Item ID Yes
virtual_interface string Gateway ID Yes
device_id string ID of gateway bound to the
edge Yes
device_type string Type of gateway bound to the
edge Yes
interface_id string Interface ID of gateway bound
to the edge Yes
vlan_group_id string Port group ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"virtual_interface_info": {
"status": "active",
"auto_created": false,
"name": "sunhao4",
"vlan_group_id": null,
"created_at": "2022-02-18T09:18:14.000000",
"vlan": null,
"updated_at": "2022-02-18T09:18:14.000000",
"binds": [
{
"virtual_interface": "237ff952-0cd4-4b87-8f8b-a00d5e0e3c
5f",
"vlan_group_id": "b14d2962",
"interface_id": "12345678",
"device_type": "dvs",
"id": "32754215-4667-494f-8fd5-06e8fedfa108",
"device_id": "f43bec69-2a12-4cfe-9d38-f04fa08b598f"
},
{
"virtual_interface": "237ff952-0cd4-4b87-8f8b-a00d5e0e3c
5f",
"vlan_group_id": "e0470d65",
"interface_id": "12345678",
"device_type": "dvs",
"id": "c1b04d6c-7718-4cca-81e5-8d41df2b1604",
"device_id": "28d66fa8-957d-4653-8ade-db95b9434553"
}
],
"device_type": "bvs",
"binds_num": 2,
"type": "privateline",
"id": "237ff952-0cd4-4b87-8f8b-a00d5e0e3c5f",
"az_id": "60579b44-d726-4b0d-91bc-b4a0cfd89604",
"device_id": "cb872d35-59db-462b-9fe0-ddc860c04509"
}
}
}
4.16.14.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.14.3. Create virtual interface
4.16.14.3.1. Scenario
Scenario: Create a virtual interface
Roles supported: Super administrator and other administrators with the PERM_NET_WRITE permission
Versions supported: SCP 6.3.88 and later
4.16.14.3.2. URI
Table 4.16.310 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/network/virtual_interfaces Create virtual
interface
4.16.14.3.3. Request
Request Parameter
Table 4.16.311 Description of Body Parameter¶
Parameter Location Type Description Required
az_id body string Resource pool ID Yes
type body string Gateway type Yes
device_type body string
Type of the edge
associated with the
gateway
Yes
device_id body string ID of the edge associated
with the gateway Yes
vlan body int(0, 4094) VLAN ID No
name body string Edge name Yes
Request Example
https://{SCP_IP}/janus/20180725/network/virtual_interfaces
{
"az_id": "674a5c29-7b75-46ea-8c13-0f82d9093098",
"type": "privateline",
"device_type": "dvs",
"device_id": "dced7703-b6e4-499c-8114-f7854ba4caf6",
"name": "Gateway",
}
4.16.14.3.4. Response
Response Parameter
Table 4.16.312 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "3d865258-30eb-477a-907d-ba1c1c14d3bd"
}
4.16.14.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.14.4. Edit virtual interface
4.16.14.4.1. Scenario
Scenario: Edit a virtual interface
Roles supported: Super administrator and other administrators with the PERM_NET_WRITE permission
Versions supported: SCP 6.3.88 and later
4.16.14.4.2. URI
Table 4.16.313 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/network/virtual_interfaces/{virtual_interface_id} Edit virtual
interface
Parameter Description:
Table 4.16.314 Path Parameters¶
Parameter Location Type Description Required
virtual_interface_id path string Edge ID Yes
4.16.14.4.3. Request
Request Parameter
Table 4.16.315 Description of Body Parameter¶
Parameter Location Type Description Required
device_type body string
Type of the edge
associated with the
gateway
No
device_id body string ID of the edge associated
with the gateway No
vlan body int(0, 4094) VLAN ID No
name body string Edge name No
Request Example
https://{SCP_IP}/janus/20180725/network/virtual_interfaces/3c14843d-06b3-4ec5-a7ee-
1911487b3573
{
"device_type": "dvs",
"device_id": "dced7703-b6e4-499c-8114-f7854ba4caf6",
"name": "Gateway"
}
4.16.14.4.4. Response
Response Parameter
Table 4.16.316 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b908ebcb-e46c-4a35-a8a6-6f6c33ad1b5d"
}
4.16.14.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.14.5. Delete virtual interface
4.16.14.5.1. Scenario
Scenario: Delete a virtual interface
Roles supported: Super administrator and other administrators with the PERM_NET_WRITE permission
Versions supported: SCP 6.3.88 and later
4.16.14.5.2. URI
Table 4.16.317 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/network/virtual_interfaces/{virtual_interface_id}
Delete
virtual
interface
Parameter Description:
Table 4.16.318 Path Parameters¶
Parameter Location Type Description Required
virtual_interface_id path string Edge ID Yes
4.16.14.5.3. Request
Request Parameter
Table 4.16.319 Description of Body Parameter¶
Parameter Location Type Description Required
force body string Whether to forcibly delete the
virtual interface No
Request Example
https://{SCP_IP}/janus/20180725/network/virtual_interfaces/3c14843d-06b3-4ec5-a7ee-
1911487b3573
4.16.14.5.4. Response
Response Parameter
Table 4.16.320 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "00ed8f05-cfcf-4e29-8463-a56b485fd858"
}
4.16.14.5.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.15. DNAT for VPC
4.16.15.1. Common Parameters for DNAT
4.16.15.1.1. Bulk Operation Identifier Type
Table 4.16.321 Bulk Operation Identifier Type¶
Value Description
delete Bulk delete
enable Bulk enable
disable Bulk disable
4.16.15.1.2. Protocols
Table 4.16.322 Protocols¶
Value Description
tcp tcp
udp udp
icmp icmp
any All
4.16.15.2. Create DNAT Rule
4.16.15.2.1. Scenario
Scenario: Create a DNAT rule
Roles supported: Super administrator, tenant, and co-administrator with the PERM_NET_WRITE
permission
Versions supported: SCP6.7.35 and later
4.16.15.2.2. URI
Table 4.16.323 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/dnat_maps Create DNAT Rule
4.16.15.2.3. Request
Request Parameter
Table 4.16.324 Description of Body Parameter¶
Parameter Location Type Description Required
vpc_id body string VPC network ID Yes
description body string Description No
enable body string Whether the tenant is enabled Yes
src_ip_range body list Src IP Yes
protocol body string Protocols Yes
map_info body dict DNAT information. For details, see
Parameter Description - map_info. Yes
Parameter Description - map_info:
Table 4.16.325 Parameter Description - map_info¶
Parameter Type Description Required
external dict View Parameter Description - external for pre-NAT
information. Yes
internet dict View Parameter Description - internet lists for post-NAT
information. Yes
Parameter Description - external:
Table 4.16.326 Parameter Description - external¶
Parameter Type Description Required
ips list List of pre-NAT IP
addresses Yes
port_range string Original port No
Parameter Description - internet:
Table 4.16.327 Parameter Description - internet¶
Parameter Type Description Required
ip string Mapped IP address No
port_range string Mapped port No
port_id string Resource ID No
Request Example
https://{SCP_IP}/janus/20180725/dnat_maps
{
"vpc_id": "c6abea06-e3fd-4dad-b7be-a1ea827a9799",
"description": "22",
"enable": 1,
"src_ip_range": ["10.103.245.1-10.103.245.100"],
"protocol": "tcp",
"map_info": {
"external": {
"ips": ["10.132.3.1"],
"port_range": [61,62]
},
"internet": {
"ip": "10.132.5.1",
"port_range": [40]
}
}
}
4.16.15.2.4. Response
Response Parameter
Table 4.16.328 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "3d865258-30eb-477a-907d-ba1c1c14d3bd"
}
4.16.15.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.15.3. Edit destination NAT
4.16.15.3.1. Scenario
Scenario: Edit a DNAT rule
Roles supported: Super administrator, tenant, and co-administrator with the PERM_NET_WRITE
permission
Versions supported: SCP6.7.35 and later
4.16.15.3.2. URI
Table 4.16.329 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20180725/dnat_maps/{portmap_id} Edit destination
NAT
Parameter Description:
Table 4.16.330 Path Parameters¶
Parameter Location Type Description Required
portmap_id path string DNAT ID Yes
4.16.15.3.3. Request
Request Parameter
Table 4.16.331 Description of Body Parameter¶
Parameter Location Type Description Required
vpc_id body string VPC network ID Yes
description body string Description No
enable body string Whether the tenant is enabled No
src_ip_range body list Src IP No
protocol body string Protocols No
map_info body dict DNAT information. For details, see
Parameter Description - map_info. No
Parameter Description - map_info:
Table 4.16.332 Parameter Description - map_info¶
Parameter Type Description Required
external dict View Parameter Description - external for pre-NAT
information. Yes
internet dict View Parameter Description - internet for post-NAT
information. Yes
Parameter Description - external:
Table 4.16.333 Parameter Description - external¶
Parameter Type Description Required
ips list List of pre-NAT IP
addresses Yes
port_range string Original port No
Parameter Description - internet:
Table 4.16.334 Parameter Description - internet¶
Parameter Type Description Required
ip string Mapped IP address No
port_range string Mapped port No
port_id string Resource ID No
Request Example
https://{SCP_IP}/janus/20180725/dnat_maps/1449c54c-357b-4aab-8790-37741398d583
{
"vpc_id": "c6abea06-e3fd-4dad-b7be-a1ea827a9799",
"description": "99",
"src_ip_range": ["10.103.245.1-10.103.245.100"],
"map_info": {
"external": {
"ips": ["10.132.4.1"],
"port_range": [61]
},
"internet": {
"ip": "192.168.0.3",
"port_range": [70]
}
}
}
4.16.15.3.4. Response
Response Parameter
Table 4.16.335 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b908ebcb-e46c-4a35-a8a6-6f6c33ad1b5d"
}
4.16.15.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.15.4. Bulk operations on destination NAT
4.16.15.4.1. Scenario
Scenario: Perform bulk operations on DNAT rules
Roles supported: Super administrator, tenant, and co-administrator with the PERM_NET_WRITE
permission
Versions supported: SCP6.7.35 and later
4.16.15.4.2. URI
Table 4.16.336 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/dnat_maps/action Bulk operations on
destination NAT
Parameter Description:
None
4.16.15.4.3. Request
Request Parameter
Table 4.16.337 Description of Body Parameter¶
Parameter Type Description Required
vpc_id string VPC network ID Yes
portmap_ids list(string) DNAT ID list Yes
action string View Bulk Operation Identifier Type for bulk
operation identifier type. Yes
Request Example
https://{SCP_IP}/janus/20180725/dnat_maps/action
{
"vpc_id": "3839f30b-6318-4572-b4ff-ee8f24ccff22",
"action": "delete",
"portmap_ids": [
"88b04caf-87ee-4372-b5af-8a42c0c80983",
"34de43a6-c0ee-403f-b593-79fb845cc1e7"
]
}
4.16.15.4.4. Response
Response Parameter
Table 4.16.338 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.16.15.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.16.15.5. Query DNAT List
4.16.15.5.1. Scenario
Scenario: Query DNAT list
Roles supported: Super administrator, tenant, and co-administrator with the PERM_NET_Read
permission
Versions supported: SCP6.7.35 and later
4.16.15.5.2. URI
Table 4.16.339 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/dnat_maps Query DNAT List
Parameter Description:
Table 4.16.340 Path Parameters¶
Parameter Location Type Description Required
enable path int(0,
1) Whether the tenant is enabled No
az_id path string Resource pool ID No
project_id path string Tenant ID No
vpc_id path string VPC network ID Yes
src_ip_range path string Src IP No
protocol path string View Protocols for protocols. No
external_ip path string Pre-NAT IP address No
external_port_range path string Original port No
internet_ip path string Mapped IP address No
internet_port_range path string Mapped port No
port_id path string Resource ID (not supported) No
4.16.15.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/dnat_maps?vpc_id=6a8bc428-6c4d-4fd0-8cb1-1ca97e8ffe0f
4.16.15.5.4. Response
Response Parameter
Table 4.16.341 Response Parameter¶
Parameter Type Description
Value
Returned
id string DNAT ID Yes
enable int(0, 1) Whether the tenant is enabled Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
vpc_id string VPC network ID Yes
src_ip_range list(string) Src IP Yes
protocol string View Protocols for protocols. Yes
description string Description Yes
map_info dict DNAT information. For details, see Parameter
Description - map_info. Yes
Parameter Description - map_info:
Table 4.16.342 Parameter Description - map_info¶
Parameter Type Description
Value
Returned
external dict View Parameter Description - external for pre-NAT
information. Yes
internet dict View Parameter Description - internet for post-DNAT
information. Yes
Parameter Description - external:
Table 4.16.343 Parameter Description - external¶
Parameter Type Description Value Returned
ips list(string) List of pre-NAT IP
addresses Yes
port_range list(string) Original port Yes
Parameter Description - internet:
Table 4.16.344 Parameter Description - internet¶
Parameter Type Description Value Returned
ip string Mapped IP address Yes
port_range list(string) Mapped port Yes
port_id string Resource ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"enable": 1,
"protocol": "tcp",
"description": "1232",
"src_ip_range": [
"192.168.0.113"
],
"map_info": {
"external": {
"ips": [
"10.168.0.7",
"10.168.0.8",
"10.168.0.10"
],
"port_range": [
"66",
"67-68"
]
},
"internet": {
"ip": "192.168.0.188",
"port_id": "",
"port_range": [
"88",
"97-98"
]
}
},
"vpc_id": "6a8bc428-6c4d-4fd0-8cb1-1ca97e8ffe0f",
"project_id": "f93eebef20c245b89550410245d2ab8c",
"id": "5e5d8503-0c96-4c03-b59f-61f51915f40d",
"az_id": "a4cdd017-e3da-46f4-b134-4b4fbf7c2380"
},
{
"enable": 1,
"protocol": "any",
"description": "",
"src_ip_range": [
"192.168.1.111",
"192.168.0.112/24",
"192.168.0.113-192.168.1.116"
],
"map_info": {
"external": {
"ips": [
"10.168.0.1"
],
"port_range": [
""
]
},
"internet": {
"ip": "192.168.0.66",
"port_id": "",
"port_range": [
""
]
}
},
"vpc_id": "6a8bc428-6c4d-4fd0-8cb1-1ca97e8ffe0f",
"project_id": "f93eebef20c245b89550410245d2ab8c",
"id": "affba335-5a4d-401f-9aca-7dc4243eafae",
"az_id": "a4cdd017-e3da-46f4-b134-4b4fbf7c2380"
}
]
4.16.15.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.15.6. Query DNAT Details
4.16.15.6.1. Scenario
Scenario: Query DNAT details
Roles supported: Super administrator, tenant, and co-administrator with the PERM_NET_Read
permission
Versions supported: SCP6.7.35 and later
4.16.15.6.2. URI
Table 4.16.345 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/dnat_maps/{portmap_id} Query DNAT Details
Parameter Description:
Table 4.16.346 Path Parameters¶
Parameter Location Type Description Required
portmap_id path string DNAT ID Yes
vpc_id path string VPC network ID Yes
4.16.15.6.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/dnat_maps/5e5d8503-0c96-4c03-b59f-61f51915f40d?
vpc_id=832818d6-b459-4e42-8745-f618893f7c2c
4.16.15.6.4. Response
Response Parameter
Table 4.16.347 Response Parameter¶
Parameter Type Description
Value
Returned
id string DNAT ID Yes
enable int(0, 1) Whether the tenant is enabled Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
vpc_id string VPC network ID Yes
src_ip_range list(string) Src IP Yes
protocol string View Protocols for protocols. Yes
description string Description Yes
map_info dict DNAT information. For details, see Parameter
Description - map_info. Yes
created_at string or
None Time of DNAT rule creation Yes
updated_at string or
None Last modified time of DNAT rule Yes
priority int or
None Priority Yes
status string Status Yes
task_status string Task status Yes
Parameter Description - map_info:
Table 4.16.348 Parameter Description - map_info¶
Parameter Type Description
Value
Returned
external dict View Parameter Description - external for pre-NAT
information. Yes
internet dict View Parameter Description - internet for post-NAT
information. Yes
Parameter Description - external:
Table 4.16.349 Parameter Description - external¶
Parameter Type Description Value Returned
ips list(string) List of pre-NAT IP
addresses Yes
port_range list(string) Original port Yes
Parameter Description - internet:
Table 4.16.350 Parameter Description - internet¶
Parameter Type Description Value Returned
ip string Mapped IP address Yes
port_range list(string) Mapped port Yes
port_id string Resource ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "active",
"enable": 1,
"protocol": "udp",
"description": "",
"src_ip_range": [
"192.168.0.113-192.168.1.116"
],
"created_at": "2022-05-17T01:56:51.000000",
"updated_at": "2022-05-19T07:56:21.000000",
"map_info": {
"external": {
"ips": [
"10.168.0.11"
],
"port_range": [
"999"
]
},
"internet": {
"ip": "192.168.9.63",
"port_id": "",
"port_range": [
"999"
]
}
},
"priority": null,
"project_id": "f93eebef20c245b89550410245d2ab8c",
"vpc_id": "6a8bc428-6c4d-4fd0-8cb1-1ca97e8ffe0f",
"task_status": "",
"id": "577e668f-1454-4ba9-ab35-7ce6ec6e9c39",
"az_id": "a4cdd017-e3da-46f4-b134-4b4fbf7c2380"
}
4.16.15.6.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.16.16. Classic Network
4.16.16.1. Classic Network - Routers
4.16.16.1.1. Query List of Classic Network Routers
4.16.16.1.1.1. Scenario¶
Scenario: Query the list of routers in the classic network
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.3.80 and later
4.16.16.1.1.2. URI¶
Table 4.16.351 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-routers Query the list of routers in the
classic network
Parameter Description:
Table 4.16.352 Path Parameters¶
Parameter Location Type Description Required
name path string Router name No
az_id path string Resource pool ID No
dh_id path string
Dedicated server group
ID
No
host_id path string Node ID No
project_id path string Tenant ID No
4.16.16.1.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/classic-routers?az_id=bb912da8-6bb7-4bc7-b581-
6f965de2edc2
4.16.16.1.1.4. Response¶
Response Parameter
Table 4.16.353 Response Parameter¶
Parameter Type Description
Value
Returned
id string Router ID No
name string Router name No
description string Description No
az_id string Resource pool ID No
dh_id string Dedicated server group ID No
host_id string Node ID No
project_id string Tenant ID No
device_type string Device Type No
ha_enable int(0, 1) Whether to enable high availability No
vifs list(dict) View Parameter Description - vifs for the interface
list. No
Parameter Description - vifs:
Table 4.16.354 Parameter Description - vifs¶
Parameter Type Description
Value
Returned
id string Interface ID No
name string Name No
description string Description No
enable int(0, 1) Whether the tenant is enabled No
ipv4 string IPv4 address No
ipv4_mask string IPv4 netmask No
ipv6_prefix_len string IPv6 prefix length No
ipv6 string IPv6 address No
mac string MAC address No
peer_device_id string ID of the connected peer network
device No
peer_device_type string Type of the connected peer
network device No
peer_vlink_id string ID of the connection to peer
network device No
 Note
1. peer_vlink_id can be an interface ID or a port ID.
2. For common response parameters, view Response Format for details
Response example:
[
{
"vifs": [
{
"ipv6_prefix_len": "",
"enable": 1,
"description": "10.100.110.1",
"peer_vlink_id": "",
"ipv4_mask": "255.255.255.0",
"ipv4": "10.100.110.1",
"peer_device_id": "",
"mac": "FE:FD:FE:DF:81:33",
"peer_device_type": "",
"ipv6": "",
"id": "vriad2094dc",
"name": "eth0"
},
{
"ipv6_prefix_len": "",
"enable": 1,
"description": "",
"peer_vlink_id": "",
"ipv4_mask": "255.255.240.0",
"ipv4": "10.132.20.2",
"peer_device_id": "",
"mac": "FE:FD:FE:B8:0C:EE",
"peer_device_type": "",
"ipv6": "",
"id": "vriff580def",
"name": "eth1"
}
],
"name": "Router 1",
"ha_enable": 0,
"dh_id": "",
"device_type": "vrouter",
"host_id": "host-a0369f033a73",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"id": "424733f6-5cac-4041-8fd9-7b144d103d4f",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"description": ""
}
]
4.16.16.1.1.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.1.2. Query Details of Classic Network Router
4.16.16.1.2.1. Scenario¶
Scenario: Query the details of a router in the classic network
Roles supported: Administrator, system administrator, tenant, and co-administrator with the network
read permission
Versions supported: SCP 6.7.0 and later
4.16.16.1.2.2. URI¶
Table 4.16.355 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-routers/{router_id} Query Details of Classic
Network Router
Parameter Description:
Table 4.16.356 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.1.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/classic-routers/67abd96b-05a8-4e34-9003-a90887ac6c19
4.16.16.1.2.4. Response¶
Response Parameter
Table 4.16.357 Response Parameter¶
Parameter Type Description
Value
Returned
id string Router ID Yes
project_id string Tenant ID Yes
az_id string Resource pool/communication domain ID Yes
name string Name Yes
description string Description Yes
host_id list(string) ID of the running node Yes
dns_enable int(1,3) DNS proxy status. 1: Enabled, 2:
Transparent proxy, 3: Disabled Yes
dns_config dict
View Parameter Description - dns_config
for the configuration of the preferred DNS
and alternate DNS. This parameter takes
effect when DNS proxy is enabled.j
Yes
ha_enable int(0, 1) Whether HA is enabled Yes
schedule_type int(0, 2)
Router scheduling mode. 0: By specified
node list, 1: Automatic, 2: By scheduling
domain
Yes
schedule_run_hosts list(string) Node list. This parameter takes effect when
schedule_type is set to 0. Yes
schedule_domain_id string
ID of the scheduling domain associated with
the router. This parameter is left blank in
versions earlier than SCP 6.7.0.
Yes
vr_type string Router type. Valid values: vrouter and
dvrouter. Yes
Parameter Description - dns_config:
Table 4.16.358 Parameter Description - dns_config¶
Parameter Type Description Value Returned
major string Preferred DNS No
minor string Alternate DNS No
 Note
1. For common response parameters, view Response Format for details
Response example:
{
"ha_enable": 1,
"dns_config": {
"major": "1.1.1.1",
"minor": "2.2.2.2"
},
"schedule_domain_id": "9c69567c-043c-4742-bc3f-518851934a9d",
"description": "tttt",
"dns_enable": 3,
"vr_type": "vrouter",
"project_id": "8940b2c4d1d04db8b42069028a9ebddf",
"schedule_run_hosts": [
"host-00505691b206"
],
"host_id": [
"host-00505691b206"
],
"schedule_type": 1,
"id": "67abd96b-05a8-4e34-9003-a90887ac6c19",
"az_id": "77c86858-0875-4429-a2ce-254bcf7fa564",
"name": "Router 0805131259"
}
4.16.16.1.2.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.1.3. Edit Router in Classic Network
4.16.16.1.3.1. Scenario¶
Scenario: Edit a router in the classic network
Roles supported: Administrator, system administrator, tenant, and co-administrator with the network
configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.1.3.2. URI¶
Table 4.16.359 API Path and Request Method¶
REST VERB PATH Description
PUT /classicrouters/{router_id} Edit Router in Classic
Network
Parameter Description:
Table 4.16.360 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.1.3.3. Request¶
Request Parameter
Table 4.16.361 Response Parameter¶
Parameter Location Type Description Required
name body string Router name Yes
description body string Description No
direct_route_over_pbr body int(0, 1)
Whether direct routing
has a higher priority
than policy-based
routing
No
dns_enable body int(1, 3)
DNS proxy status. 1:
Enabled, 2: Transparent
proxy, 3: Disabled
No
dns_config body dict
View Parameter
Description -
dns_config for the
configuration of the
preferred DNS and
alternate DNS. This
parameter takes effect
when DNS proxy is
enabled.
No
schedule_type body int(0, 2)
Router scheduling
mode. 0: By specified
node list, 1: Automatic,
2: By scheduling
domain
No
schedule_run_hosts body list(string)
Node list. This
parameter takes effect
when schedule_type is
set to 0.
No
schedule_domain_id body string
ID of the scheduling
domain associated with
the router. This
parameter takes effect
when schedule_type is
set to 2.
No
Parameter Description - dns_config:
Table 4.16.362 Parameter Description - dns_config¶
Parameter Type Description Value Returned
major string Preferred DNS No
minor string Alternate DNS No
Request Example
https://{SCP_Endpoint}/janus/20180725/classicrouters/67abd96b-05a8-4e34-9003-a90887ac6c19
{
"name": "xxxx",
"description": "test1 router",
"direct_route_over_pbr": 0,
"dns_enable": 1,
"dns_config": {
"major": "1.1.1.1",
"minor": "3.3.3.3"
},
"schedule_domain_id": "7fc6ad61-b58c-4758-ac08-1a0fbb9f11c8"
}
4.16.16.1.3.4. Response¶
Response Parameter
None
4.16.16.1.3.5. Response Code¶
Normal: 204
Errors: 400, 403, 404, 500
4.16.16.1.4. Delete Router in Classic Network
4.16.16.1.4.1. Scenario¶
Scenario: Delete a router in the classic network
Roles supported: Administrator, system administrator, tenant, and co-administrator with the network
configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.1.4.2. URI¶
Table 4.16.363 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/classic-routers/{router_id} Delete Router in
Classic Network
Parameter Description:
Table 4.16.364 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.1.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_Endpoint}/janus/20180725/classic-routers/67abd96b-05a8-4e34-9003-a90887ac6c19
4.16.16.1.4.4. Response¶
None
4.16.16.1.4.5. Response Code¶
Normal: 204
Errors: 400, 403, 404, 500
4.16.16.1.5. Create Router in Classic Network
4.16.16.1.5.1. Scenario¶
Scenario: Create a router in the classic network
Roles supported: Administrator, system administrator, tenant, and co-administrator with the network
configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.1.5.2. URI¶
Table 4.16.365 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/classic-routers Create Router in Classic
Network
Parameter Description:
None
4.16.16.1.5.3. Request¶
Request Parameter
Table 4.16.366 Response Parameter¶
Parameter Location Type Description Required
az_id body string
Resource pool/communication
domain ID
Yes
name body string Router name No
project_id body string Tenant ID No
id body string Router ID No
description body string Description No
dh_id body string Scheduling domain No
ifs_count body
int(1,
128)
Number of interfaces No
type body string
Router type. Valid values: dvrouter
and vrouter
No
Request Example
https://{SCP_Endpoint}/janus/20180725/classic-routers
{
"az_id": "77c86858-0875-4429-a2ce-254bcf7fa564",
"name": "Router 0805131259",
"project_id": "8940b2c4d1d04db8b42069028a9ebddf",
"id": "67abd96b-05a8-4e34-9003-a90887ac6c19",
"description": "tttt",
"dh_id": "9c69567c-043c-4742-bc3f-518851934a9d",
"ifs_count": 3,
"type": "vrouter"
}
4.16.16.1.5.4. Response¶
Response Parameter
Table 4.16.367 Response Parameter¶
Parameter Type Description
Value
Returned
az_id string Resource pool/communication domain ID Yes
name string Router name Yes
project_id string Tenant ID Yes
id string Router ID Yes
description string Description Yes
status string Router status Yes
vr_type string Router type. Valid values: vrouter and
dvrouter. Yes
 Note
1. For common response parameters, view Response Format for details
Response example:
{
"status": "active",
"description": "tttt",
"vr_type": "vrouter",
"project_id": "8940b2c4d1d04db8b42069028a9ebddf",
"id": "67abd96b-05a8-4e34-9003-a90887ac6c66",
"az_id": "77c86858-0875-4429-a2ce-254bcf7fa564",
"name": "Router 0805131266"
}
4.16.16.1.5.5. Response Code¶
Success: 201
Errors: 400, 403, 404, 500
4.16.16.2. Classic Network - Edges
4.16.16.2.1. Query List of Classic Network Edges
4.16.16.2.1.1. Scenario¶
Scenario: Query the list of classic network edges
Roles supported: Super administrator and co-administrator with the network read permission
Versions supported: SCP 6.3.80 and later
4.16.16.2.1.2. URI¶
Table 4.16.368 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-bvswitches Query List of Classic Network
Edges
Parameter Description:
Table 4.16.369 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
az_id path string Resource pool ID No
project_id path string Tenant ID No
enable path int Whether the edge is available. (0:
Unavailable, 1: Available) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.2.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-bvswitches?
project_id=cf92f8d651c24ed6938b186e252ee0bc
4.16.16.2.1.4. Response¶
Response Parameter
Table 4.16.370 Response Parameter¶
Parameter Type Description
Value
Returned
id string Edge ID No
name string Edge name No
description string Edge description No
az_id string Resource pool ID No
project_id string Tenant ID No
enable int Whether the edge is available. (0: Unavailable, 1:
Available) No
vlan_group list(dict) View Parameter Description - vlan_group for the list of
connected port groups. No
phy_if list(dict) View Parameter Description - phy_if for the list of
bridged interfaces. No
Parameter Description - vlan_group:
Table 4.16.371 Parameter Description - vlan_group¶
Parameter Type Description Value Returned
id string Port group ID No
name string Name No
count int Number of devices connected to this
port group No
type string Port group type No
vlan_id string VLAN ID of access port group No
pvid int pvid No
vlan_range string VLAN ID range of trunk port group No
Parameter Description - phy_if:
Table 4.16.372 Parameter Description - phy_if¶
Parameter Type Description Value Returned
port string Bridged interface ID No
host_id string Host ID No
status int Interface status No
type string Interface type No
vlan_id string VLAN ID of the
interface No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"enable": 1,
"name": "Edge 1",
"phy_if": [
{
"status": 1,
"host_id": "host-6c92bf58b580",
"type": "phy-if",
"port": "eth0",
"vlan_id": 0
}
],
"vlan_group": [
{
"count": 17,
"name": "Trunk_All",
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "12345678",
"vlan_id": ""
},
{
"count": 0,
"name": "acmp-vpc-trunk-20201026205428",
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "7efcc4d4",
"vlan_id": ""
},
{
"count": 2,
"name": "acmp-pub-trunk-20201115213908",
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "05a04b80",
"vlan_id": ""
}
],
"project_id": "cf92f8d651c24ed6938b186e252ee0bc",
"id": "ff4e2349-f7f4-4590-a942-8048fc390601",
"az_id": "bb912da8-6bb7-4bc7-b581-6f965de2edc2",
"description": ""
}
]
4.16.16.2.1.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.2.2. Query List of Classic Network Edges
4.16.16.2.2.1. Scenario¶
Scenario: Query the list of classic network edges
Roles supported: Super administrator and co-administrator with permission to obtain the edge list
Versions supported: SCP SCP 6.9.0R1 and later
4.16.16.2.2.2. URI¶
Table 4.16.373 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/classic-bvswitches Query List of Classic Network
Edges
Parameter Description:
Table 4.16.374 Path Parameters¶
Parameter Location Type Description Required
ids path list(string) Edge ID list strings, separated by
commas (,) No
name path string Name No
az_id path string Resource pool ID No
project_id path string Tenant ID No
enable path int(0, 1) Whether the edge is available. (0:
Unavailable, 1: Available) No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.2.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/classic-bvswitches?
project_id=cf92f8d651c24ed6938b186e252ee0bc
4.16.16.2.2.4. Response¶
Response Parameter
Table 4.16.375 Response Parameter¶
Parameter Type Description
Value
Returned
id string Edge ID Yes
name string Edge name Yes
description string Edge description Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
enable int Whether the edge is available. (0: Unavailable, 1:
Available) Yes
vlan_group list(dict) List of connected port groups. For details, see
Parameter Description - vlan_group Yes
phy_if list(dict) View Parameter Description - phy_if for the list of
bridged interfaces. Yes
Parameter Description - vlan_group:
Table 4.16.376 Parameter Description - vlan_group¶
Parameter Type Description
Value
Returned
id string Port group ID Yes
name string Name Yes
count int Number of devices connected to this port group Yes
type string Port group type Yes
vlan_id string VLAN ID of access port group Yes
pvid int pvid Yes
vlan_range string VLAN ID range of trunk port group Yes
default int(0, 1) Whether it is the default port group Yes
links list(dict) List of devices connected to this port. For details, see
Parameter Description - vlan_group.links Yes
Parameter Description - vlan_group.links:
Table 4.16.377 Parameter Description - vlan_group.links¶
Parameter Type Description
Value
Returned
id string ID of the connected device Yes
name string Name of the connected device Yes
type string Type of the connected device Yes
vif_id string Network ID Yes
vlink_id string ID of the switch port connecting to the
device Yes
ipv4 string IPv4 address list strings, separated by
commas (,) Yes
ipv4mask string Netmask Yes
ipv6 string IPv6 address list strings, separated by
commas (,) Yes
ipv6_prefix_len string IPv6 prefix length Yes
Parameter Description - phy_if:
Table 4.16.378 Parameter Description - phy_if¶
Parameter Type Description Value Returned
port string Bridged interface ID Yes
host_id string Host ID Yes
status int Interface status Yes
type string Interface type Yes
vlan_id string VLAN ID of the
interface Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"enable": 1,
"name": "Shared service edge",
"phy_if": [
{
"status": 1,
"host_id": "host-005056b26706",
"type": "phy-if",
"port": "eth1",
"vlan_id": 0
},
{
"status": 1,
"host_id": "host-005056b25ce5",
"type": "phy-if",
"port": "eth1",
"vlan_id": 0
},
{
"status": 1,
"host_id": "host-005056b20e8c",
"type": "phy-if",
"port": "eth1",
"vlan_id": 0
}
],
"vlan_group": [
{
"count": 0,
"name": "Trunk_All",
"links": [],
"default": 1,
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "7f47991e-90fa-4634-9dbc-aac2559b2b31",
"vlan_id": ""
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "6a5b5046-8063-4a62-ad53-ff4a2e53733e",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"description": ""
},
{
"enable": 1,
"name": "Edge 1",
"phy_if": [
{
"status": 1,
"host_id": "host-005056b26706",
"type": "phy-if",
"port": "eth0",
"vlan_id": 0
},
{
"status": 1,
"host_id": "host-005056b25ce5",
"type": "phy-if",
"port": "eth0",
"vlan_id": 0
},
{
"status": 1,
"host_id": "host-005056b20e8c",
"type": "phy-if",
"port": "eth0",
"vlan_id": 0
}
],
"vlan_group": [
{
"count": 6,
"name": "Trunk_All",
"links": [
{
"ipv6_prefix_len": "",
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "d0654237-b8da-4a35-81bc-dbbcdd78f8d4",
"ipv4": "",
"ipv6": "",
"type": "dvs",
"id": "a782e3b1-b96c-464b-bfed-eb6ceab37644",
"vlink_id": "b7e46e6d-f0c6-421d-9d9f-de7ed08dd832",
"name": "Switch-001"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "f61cbd7c-6b5c-4946-ae53-fb121ec9f197",
"ipv4": "",
"ipv6": "",
"type": "dvs",
"id": "99ff3efe-c071-4f63-a4fc-aa8d8184a2bf",
"vlink_id": "744ffdc2-7bd6-4502-8b61-5d69b99902c0",
"name": "Default classic network gateway 1-switch to
edge"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "net0",
"ipv4": "",
"ipv6": "",
"type": "vm",
"id": "c3403023-2db3-49be-a8a7-1132e7fef720",
"vlink_id": "15b8f541-f9ad-427d-a1fd-2c706e891e37",
"name": "Hybrid cloud test"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "255.255.240.0",
"vif_id": "net0",
"ipv4": "10.131.132.234",
"ipv6": "",
"type": "vm",
"id": "602911bb-e794-415e-a78e-033423b5ec6e",
"vlink_id": "71dbdccc-d1e2-487b-8761-de2f98d16d5f",
"name": "swagger file server"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "255.255.240.0",
"vif_id": "net0",
"ipv4": "10.131.132.243",
"ipv6": "",
"type": "vm",
"id": "fd6add49-d446-4f11-a5f0-ce0fb2fce111",
"vlink_id": "7e22ef97-225e-4cf1-a1c3-a62e1a2c6bc2",
"name": "ahc"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "255.255.240.0",
"vif_id": "net1",
"ipv4": "10.131.132.244",
"ipv6": "",
"type": "vm",
"id": "fd6add49-d446-4f11-a5f0-ce0fb2fce111",
"vlink_id": "0178710a-ba25-41d1-9326-85505b9960a8",
"name": "ahc"
}
],
"default": 1,
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "968af15e-c72e-46d6-91d6-332b27d626fe",
"vlan_id": ""
},
{
"count": 0,
"name": "acmp-vpc-trunk-20230726152331",
"links": [],
"default": 0,
"pvid": 1,
"vlan_range": "all",
"type": "trunk",
"id": "605f6aeb-3efd-4e5a-adbe-99227044cbfc",
"vlan_id": ""
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "d450882d-dfab-42c9-be7e-9b892467e744",
"id": "d450882d-dfab-42c9-be7e-9b892467e744",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"description": ""
}
]
4.16.16.2.2.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3. Classic Network - Switches
4.16.16.3.1. Query List of Switches in Classic Network
4.16.16.3.1.1. Scenario¶
Scenario: Query the list of switches in the classic network
Roles supported: Super administrator and co-administrator with the network read permission, tenant and
tenant co-administrator with the network read permission
Versions supported: SCP 6.3.80 and later
4.16.16.3.1.2. URI¶
Table 4.16.379 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-dvswitches Query List of Switches in
Classic Network
Parameter Description:
Table 4.16.380 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
az_id path string Resource pool
ID No
project_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-dvswitches?
project_id=cf92f8d651c24ed6938b186e252ee0bc
4.16.16.3.1.4. Response¶
Response Parameter
Table 4.16.381 Response Parameter¶
Parameter Type Description Value Returned
id string Switch ID No
name string Switch name No
description string Switch description No
az_id string Resource pool ID No
project_id string Tenant ID No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": ".Subnet 4",
"project_id": "cf92f8d651c24ed6938b186e252ee0bc",
"description": "",
"az_id": "bb912da8-6bb7-4bc7-b581-6f965de2edc2",
"id": "d51e9c7f-0bde-4a86-b8a0-4a2754399b8c"
},
{
"name": "VPC_tjc2_NFV management subnet",
"project_id": "cf92f8d651c24ed6938b186e252ee0bc",
"description": "",
"az_id": "bb912da8-6bb7-4bc7-b581-6f965de2edc2",
"id": "e6ecf68d-9822-454e-98a3-07a5e5823037"
}
]
4.16.16.3.1.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3.2. Query List of Switches in Classic Network
4.16.16.3.2.1. Scenario¶
Scenario: Query the list of switches in the classic network
Roles supported: Super administrator and co-administrator with the network read permission, tenant and
tenant co-administrator with the network read permission
Versions supported: SCP 6.3.80 and later
4.16.16.3.2.2. URI¶
Table 4.16.382 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/classic-dvswitches Query List of Switches in
Classic Network
Parameter Description:
Table 4.16.383 Path Parameters¶
Parameter Location Type Description Required
ids path list(string) Switch ID list strings are separated
by commas (,) No
name path string Name No
az_id path string Resource pool ID No
project_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/classic-dvswitches?
project_id=cf92f8d651c24ed6938b186e252ee0bc
4.16.16.3.2.4. Response¶
Response Parameter
Table 4.16.384 Response Parameter¶
Parameter Type Description
Value
Returned
id string Switch ID No
name string Switch name No
description string Switch description No
az_id string Resource pool ID No
project_id string Tenant ID No
vlan_group list(dict) View Parameter Description - vlan_group for the list of
connected port groups. Yes
Parameter Description - vlan_group:
Table 4.16.385 Parameter Description - vlan_group¶
Parameter Type Description
Value
Returned
id string Port group ID Yes
name string Name Yes
count int Number of devices connected to this port group Yes
type string Port group type Yes
native_vlan_id int Default VLAN ID Yes
vlan_range string VLAN ID range of trunk port group Yes
default int(0, 1) Whether it is the default port group Yes
links list(dict) List of devices connected to this port. For details,
see Parameter Description - vlan_group.links Yes
Parameter Description - vlan_group.links:
Table 4.16.386 Parameter Description - vlan_group.links¶
Parameter Type Description
Value
Returned
id string ID of the connected device Yes
name string Name of the connected device Yes
type string Type of the connected device Yes
vif_id string Network ID Yes
vlink_id string ID of the switch port connecting to the
device Yes
ipv4 string IPv4 address list strings, separated by
commas (,) Yes
ipv4mask string Netmask Yes
ipv6 string IPv6 address list strings, separated by
commas (,) Yes
ipv6_prefix_len string IPv6 prefix length Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"description": "",
"vlan_group": [
{
"count": 0,
"name": "default",
"links": [],
"default": 1,
"native_vlan_id": 1,
"vlan_range": "1-4094",
"type": "trunk",
"id": "12345678"
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "973bb384-3a55-4cf2-8559-229a0e861f8c",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"name": "Update switch-002"
},
{
"description": "",
"vlan_group": [
{
"count": 3,
"name": "default",
"links": [
{
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "968af15e-c72e-46d6-91d6-332b27d626fe",
"ipv4": "",
"ipv6": "",
"type": "bvs",
"id": "d450882d-dfab-42c9-be7e-9b892467e744",
"vlink_id": "744ffdc2-7bd6-4502-8b61-5d69b99902c0",
"name": "Edge 1"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "255.255.255.0",
"vif_id": "net0",
"ipv4": "192.168.0.2",
"ipv6": "",
"type": "vm",
"id": "da15787b-a434-4978-bc52-dd1b86c898dd",
"vlink_id": "36354017-c8ff-430f-ae17-9724217e365f",
"name": "Virtual machine connected to the classic network
switch-001"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "255.255.255.0",
"vif_id": "net1",
"ipv4": "192.168.1.2",
"ipv6": "",
"type": "vm",
"id": "da15787b-a434-4978-bc52-dd1b86c898dd",
"vlink_id": "11262a00-5b15-455c-b80e-4ef23806a2dd",
"name": "Virtual machine connected to the classic network
switch-001"
}
],
"default": 1,
"native_vlan_id": 1,
"vlan_range": "1-4094",
"type": "trunk",
"id": "12345678"
}
],
"project_id": "dab6ff04131c4bd7a4d1cfb82649925c",
"id": "99ff3efe-c071-4f63-a4fc-aa8d8184a2bf",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"name": "Default classic network gateway 1-switch to edge"
},
{
"description": "",
"vlan_group": [
{
"count": 2,
"name": "default",
"links": [
{
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "968af15e-c72e-46d6-91d6-332b27d626fe",
"ipv4": "",
"ipv6": "",
"type": "bvs",
"id": "d450882d-dfab-42c9-be7e-9b892467e744",
"vlink_id": "b7e46e6d-f0c6-421d-9d9f-de7ed08dd832",
"name": "Edge 1"
},
{
"ipv6_prefix_len": "",
"ipv4mask": "",
"vif_id": "net1",
"ipv4": "",
"ipv6": "",
"type": "vm",
"id": "c3403023-2db3-49be-a8a7-1132e7fef720",
"vlink_id": "fb5a36c9-c482-49f5-945d-c0bc2a98ed5f",
"name": "Hybrid cloud test"
}
],
],
"default": 1,
"native_vlan_id": 1,
"vlan_range": "1-4094",
"type": "trunk",
"id": "12345678"
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "a782e3b1-b96c-464b-bfed-eb6ceab37644",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"name": "Switch-001"
},
{
"description": "",
"vlan_group": [
{
"count": 0,
"name": "default",
"links": [],
"default": 1,
"native_vlan_id": 1,
"vlan_range": "1-4094",
"type": "trunk",
"id": "12345678"
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "ae99b04d-fce1-4538-aa1f-1137bbd671d5",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"name": "Switch 0805100620"
},
{
"description": "",
"vlan_group": [
{
"count": 0,
"name": "default",
"links": [],
"default": 1,
"native_vlan_id": 1,
"vlan_range": "1-4094",
"type": "trunk",
"id": "12345678"
}
],
"project_id": "5e16208dd5b54f1793a24459be728d92",
"id": "f819f34e-068c-4522-8b5c-414f1da7d495",
"az_id": "e6c1a8cb-b04e-47ee-8700-fe30441aca70",
"name": "Switch 0805095508"
}
]
4.16.16.3.2.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3.3. Create Switch in Classic Network
4.16.16.3.3.1. Scenario¶
Scenario: Create a switch in the classic network
Roles supported: Super administrator and platform administrator with the network configuration
permission, tenant and tenant co-administrator with the network configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.3.3.2. URI¶
Table 4.16.387 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-dvswitches Create Switch in Classic
Network
Parameter Description:
Table 4.16.388 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
az_id path string Resource pool
ID No
project_id path string Tenant ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-dvswitches?
project_id=cf92f8d651c24ed6938b186e252ee0bc
4.16.16.3.3.4. Response¶
Response Parameter
Table 4.16.389 Response Parameter¶
Parameter Type Description Value Returned
id string Switch ID No
name string Switch name No
description string Switch description No
az_id string Resource pool ID No
project_id string Tenant ID No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"project_id": "3441fb181f6345589b3fd4b304fd5f24",
"id": "985cb5b0-3185-4b57-b8cc-799358f42fbe",
"az_id": "90f4c710-f4a4-4b1d-b5f9-54536ec5b74a",
"name": "Switch 0803141128"
}
4.16.16.3.3.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3.4. Query Details of Switches in Classic Network
4.16.16.3.4.1. Scenario¶
Scenario: Query the details of switches in the classic network
Roles supported: Super administrator and platform administrator with the network read permission,
tenant and tenant co-administrator with the network read permission
Versions supported: SCP 6.7.0 and later
4.16.16.3.4.2. URI¶
Table 4.16.390 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-dvswitches/{dvswitch_id}
Query Details of
Switches in Classic
Network
Parameter Description:
Table 4.16.391 Path Parameters¶
Parameter Location Type Description Required
dvswitch_id path string Switch ID Yes
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-dvswitches/c3b917b2-dc62-4a54-83f4-ebba212ecdd0
4.16.16.3.4.4. Response¶
Response Parameter
Table 4.16.392 Response Parameter¶
Parameter Type Description
Value
Returned
id string Switch ID Yes
project_id string Tenant ID Yes
az_id string
Resource
pool/communication
domain ID
Yes
name string Switch name Yes
bcst_storm suppression_enable int
Whether to enable
broadcast storm
suppression
Yes
bcst_storm suppression_threshold int
Transfer rate threshold
for broadcast storm
suppression
Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"bcst_storm suppression_enable": 0,
"name": "Switch 0803141128",
"bcst_storm suppression_threshold": 0,
"project_id": "3441fb181f6345589b3fd4b304fd5f24",
"id": "985cb5b0-3185-4b57-b8cc-799358f42fbe",
"az_id": "90f4c710-f4a4-4b1d-b5f9-54536ec5b74a"
}
4.16.16.3.4.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3.5. Edit Switch in Classic Network
4.16.16.3.5.1. Scenario¶
Scenario: Edit a switch in the classic network
Roles supported: Super administrator and platform administrator with the network configuration
permission, tenant and tenant co-administrator with the network configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.3.5.2. URI¶
Table 4.16.393 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classic-dvswitches/{dvswitch_id} Edit Switch in
Classic Network
Parameter Description:
Table 4.16.394 Path Parameters¶
Parameter Location Type Description Required
dvswitch_id path string Switch ID Yes
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.5.3. Request¶
Request Parameter
Table 4.16.395 Response Parameter¶
Parameter Location Type Description Required
name body string Name No
bcst_storm suppression_enable body string
Whether to
enable broadcast
storm
suppression
No
bcst_storm suppression_threshold body string
Transfer rate
threshold for
broadcast storm
suppression
No
Request Example
https://{SCP_IP}/janus/20180725/classic-dvswitches/b349d442-7312-422b-b2ad-ae5127823606
.. code-block:: json
{
“name”: “tjcdvs”,
“bcst_storm suppression_enable”: 0
}
4.16.16.3.5.4. Response¶
Response Parameter
Table 4.16.396 Response Parameter¶
Parameter Type Description
Value
Returned
id string Switch ID Yes
project_id string Tenant ID Yes
az_id string
Resource
pool/communication
domain ID
Yes
name string Switch name Yes
bcst_storm suppression_enable int
Whether to enable
broadcast storm
suppression
Yes
bcst_storm suppression_threshold int
Transfer rate threshold
for broadcast storm
suppression
Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"bcst_storm suppression_enable": 0,
"name": "tjcdvs",
"bcst_storm suppression_threshold": 1118,
"project_id": "3441fb181f6345589b3fd4b304fd5f24",
"id": "e70514f8-2597-4c9e-b76f-28f066de66d9",
"az_id": "90f4c710-f4a4-4b1d-b5f9-54536ec5b74a"
}
4.16.16.3.5.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.3.6. Delete Switch in Classic Network
4.16.16.3.6.1. Scenario¶
Scenario: Delete a switch in the classic network
Roles supported: Super administrator and platform administrator with the network configuration
permission, tenant and tenant co-administrator with the network configuration permission
Versions supported: SCP 6.7.0 and later
4.16.16.3.6.2. URI¶
Table 4.16.397 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/classic-dvswitches/{dvswitch_id} Delete Switch in
Classic Network
Parameter Description:
Table 4.16.398 Path Parameters¶
Parameter Location Type Description Required
dvswitch_id path string Switch ID Yes
force path intstring Whether to force
deletion No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.16.3.6.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-dvswitches/b349d442-7312-422b-b2ad-ae5127823606
.. code-block:: params
{
“force”: 1
}
4.16.16.3.6.4. Response¶
Response Parameter
None
4.16.16.3.6.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.4. Classic Network - Static Route of Router
4.16.16.4.1. Create Static Route on Classic Network Router
4.16.16.4.1.1. Scenario¶
Scenario: Create a static route on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.4.1.2. URI¶
Table 4.16.399 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-routers/{router_id}/sroute Create Static Route on
Classic Network Router
Parameter Description:
Table 4.16.400 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.4.1.3. Request¶
Request Parameter
Table 4.16.401 Response Parameter¶
Parameter Location Type Description Required
destination body string Destination IP address of the static route Yes
netmask body string Destination address netmask of the static
route Yes
nexthop body string Next-hop address of the static route Yes
intf_name body string
Interface name (If no value is passed in,
the underlying protocol automatically
selects a proper interface.)
No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/e1aa0227-e3ed-410d-808f-7d80e970fad3/sroute
{
"destination": "103.19.41.24",
"netmask": "255.255.240.0",
"nexthop": "10.103.104.13"
}
4.16.16.4.1.4. Response¶
Response Parameter
Table 4.16.402 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string
ID of the static route configuration (For
HCI 6.7.0 and later versions, the value is
in the UUID format. For versions earlier
than HCI 6.7.0, the value is a character
string.)
Yes
destination body string Destination IP address of the static route Yes
netmask body string Destination address netmask of the static
route Yes
nexthop body string Next-hop address of the static route Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"destination": "103.20.46.24",
"nexthop": "10.103.245.23",
"netmask": "255.255.240.0",
"project_id": "7e3e6748c1cd4a5fae4764714694f153",
"id": "132ae957-8e2c-4c54-9885-2c4f4eab48e0",
"az_id": "9e1fe3d5-5ae9-463c-b777-6f6f27c457ca"
}
4.16.16.4.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.4.2. Edit Static Route on Classic Network Router
4.16.16.4.2.1. Scenario¶
Scenario: Edit a static route on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.4.2.2. URI¶
Table 4.16.403 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/sroute/{sroute_id}
Edit Static Route on
Classic Network
Router
Parameter Description:
Table 4.16.404 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
sroute_id path string Static route ID Yes
4.16.16.4.2.3. Request¶
Request Parameter
Table 4.16.405 Response Parameter¶
Parameter Location Type Description Required
destination body string
Destination IP address of
the static route
No
netmask body string
Destination address
netmask of the static
route
No
nexthop body string
Next-hop address of the
static route
No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/7d9eb96b-7ac8-470d-9c7e-
55fc1aa1dc4a/sroute/192.168.0.66|255.255.255.0|10.103.245.198||
{
"destination": "103.19.41.24",
"nexthop": "10.103.104.13"
}
4.16.16.4.2.4. Response¶
Response Parameter
Table 4.16.406 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "c1101c7b-8c20-4330-b730-723a14edc4be"
}
4.16.16.4.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.4.3. Delete Static Route on Classic Network Router
4.16.16.4.3.1. Scenario¶
Scenario: Delete a static route on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.4.3.2. URI¶
Table 4.16.407 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/classicrouters/{
router_id}/sroute/{sroute_id}
Delete Static Route
on Classic Network
Router
Parameter Description:
Table 4.16.408 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
sroute_id path string Static route ID Yes
4.16.16.4.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/7d9eb96b-7ac8-470d-9c7e-
55fc1aa1dc4a/sroute/192.168.0.66|255.255.255.0|10.103.245.198||
4.16.16.4.3.4. Response¶
Response Parameter
Table 4.16.409 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "c1101c7b-8c20-4330-b730-723a14edc4be"
}
4.16.16.4.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.4.4. Query Details of Static Route on Classic Network Router
4.16.16.4.4.1. Scenario¶
Scenario: Query details of a static route on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.10 and later
4.16.16.4.4.2. URI¶
Table 4.16.410 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/sroute/{sroute_id}
Query Details of Static
Route on Classic
Network Router
Parameter Description:
Table 4.16.411 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
sroute_id path string Static route ID Yes
4.16.16.4.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/e1aa0227-e3ed-410d-808f-
7d80e970fad3/sroute/6a52f1f0-d01e-42af-bca6-1c29ad236502
4.16.16.4.4.4. Response¶
Response Parameter
Table 4.16.412 Response Parameter¶
Parameter Type Description
Value
Returned
id string
ID of the static route configuration (For HCI 6.7.0 and
later versions, the value is in the UUID format. For
versions earlier than HCI 6.7.0, the value is a character
string.)
Yes
destination string Destination IP address of the static route Yes
netmask string Destination address netmask of the static route Yes
nexthop string Next-hop address of the static route Yes
intf string Interface ID Yes
intf_name string Interface name Yes
ttl string TTL of the static route Yes
type string Route type. Valid value: static. (Only static routes are
supported currently.) Yes
ip_version int IP protocol. Valid values: 4 and 6 Yes
protocol string Service protocol. Valid values: tcp, udp, icmp, and other No
 Note
For common response parameters, view Response Format for details
Response example:
{
"intf": "5a131cce-4b48-4989-bc34-f56fd1c7639a",
"protocol": "",
"nexthop": "10.103.245.109",
"netmask": "255.255.240.0",
"intf_name": "",
"ttl": "",
"ip_version": 4,
"destination": "103.176.29.24",
"type": "static",
"id": "6a52f1f0-d01e-42af-bca6-1c29ad236502"
}
4.16.16.4.4.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.4.5. Query List of Static Routes on Classic Network Router
4.16.16.4.5.1. Scenario¶
Scenario: Query the list of static routes on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.10 and later
4.16.16.4.5.2. URI¶
Table 4.16.413 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/sroutes
Query List of Static Routes
on Classic Network Router
Parameter Description:
Table 4.16.414 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.4.5.3. Request¶
Request Parameter
Table 4.16.415 Response Parameter¶
Parameter Location Type Description Required
destination body string Destination IP address of
the static route No
netmask body string Destination address
netmask of the static route No
nexthop body string Next-hop address of the
static route No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/7d9eb96b-7ac8-470d-9c7e-55fc1aa1dc4a/sroutes
4.16.16.4.5.4. Response¶
Response Parameter
Table 4.16.416 Response Parameter¶
Parameter Type Description
Value
Returned
id string
ID of the static route configuration (For HCI 6.7.0 and
later versions, the value is in the UUID format. For
versions earlier than HCI 6.7.0, the value is a character
string.)
No
destination string Destination IP address of the static route No
netmask string Destination address netmask of the static route No
nexthop string Next-hop address of the static route No
intf string Interface ID No
intf_name string Interface name No
ttl string TTL of the static route No
type string Route type. Valid value: static. (Only static routes are
supported currently.) No
ip_version int IP protocol. Valid values: 4 and 6 No
protocol string Service protocol. Valid values: tcp, udp, icmp, and other No
 Note
View Common Response Parameter Format for common API response parameters.
Response example:
[
{
"intf": "",
"protocol": "",
"nexthop": "",
"netmask": "0.0.0.0",
"intf_name": "--",
"ttl": "",
"ip_version": 0,
"destination": "0.0.0.0",
"type": "static",
"id": "0.0.0.0|0.0.0.0|||"
},
{
"intf": "",
"protocol": "",
"nexthop": "10.103.245.198",
"netmask": "255.255.255.0",
"intf_name": "eth0",
"ttl": "",
"ip_version": 0,
"destination": "10.100.23.10",
"type": "static",
"id": "10.100.23.10|255.255.255.0|10.103.245.198||"
}
]
4.16.16.4.5.5. Response Code¶
OK: 200
Errors: 400, 403, 404, 500
4.16.16.5. Classic Network - Router ACL
4.16.16.5.1. Create ACL Rule on Classic Network Router
4.16.16.5.1.1. Scenario¶
Scenario: Create an ACL rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.5.1.2. URI¶
Table 4.16.417 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-routers/{router_id}/acls Create ACL Rule on Classic
Network Router
Parameter Description:
Table 4.16.418 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.5.1.3. Request¶
Request Parameter
Table 4.16.419 Response Parameter¶
Parameter Location Type Description Required
action body string
View ACL Rule Actions of
Classic Network for ACL rule
actions.
Yes
enable body int(0,1) Whether the tenant is enabled Yes
description body string Description Yes
service_ids body list(string) List of service IDs Yes
src body dict View Parameter Description -
src for the source information. Yes
dst body dict
View Parameter Description -
dst for the destination
information.
Yes
resource_group_id body string Resource priority group. This
parameter is reserved. No
position body string
Position of the ACL rule. Valid
values: bottom and top. This
parameter is applicable to HCI
6.7.0 and later.
No
Parameter Description - src:
Table 4.16.420 Parameter Description - src¶
Parameter Type Description Required
type string View Src or Dst Types of Classic Network for
source types. Yes
ip_range list(string) IP range No
vif_ids list(string) List of interface IDs No
Parameter Description - dst:
Table 4.16.421 Parameter Description - dst¶
Parameter Type Description Required
type string View Src or Dst Types of Classic Network for
destination types. Yes
ip_range list(string) IP range No
vif_ids list(string) List of interface IDs No
 Note
Parameter Description - src dst
When a value is passed in for src or dst: If type is set to all, there is no need to pass in the
ip_range and vif_ids parameters. If type is set to ip, only the ip_range parameter can be
passed in. If type is set to vif, only the vif_ids parameter can be passed in.
Value formats of ip_range
Examples: IP address: 192.168.1.2; IP range: 192.168.2.3-192.168.2.10; Subnet:
192.168.1.0/24
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/fd6e40df-100c-4265-ae12-e83377bcccb6/acls
{
"enable": 0,
"action": "reject",
"description": "666",
"service_ids": [
"10000000-0000-0000-0000-0f4c85a4c7a9"
],
"src": {
"type": "vif",
"vif_ids": [
"ef80f446-7657-45b4-911c-344f2d32b15e"
]
},
"dst": {
"type": "ip",
"ip_range": ["192.168.1.2"]
}
}
4.16.16.5.1.4. Response¶
Response Parameter
Table 4.16.422 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string ACL ID Yes
enable body int(0,1) Whether the tenant is enabled Yes
description body string Description Yes
action body string ACL action Yes
service_ids body list(string) List of service IDs Yes
src body dict View Parameter Description -
src for the source information. Yes
dst body dict
View Parameter Description -
dst for the destination
information.
Yes
resource_group_id body string Resource priority group. This
parameter is reserved. No
position body string Position of the ACL rule No
Parameter Description - src:
Table 4.16.423 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
source types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
Parameter Description - dst:
Table 4.16.424 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
destination types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"service_ids": [
"10000000-0000-0000-0000-0f4c85a4c7a9"
],
"enable": 0,
"description": "666",
"src": {
"type": "vif",
"ip_range": null,
"vif_ids": [
"ef80f446-7657-45b4-911c-344f2d32b15e"
]
},
"dst": {
"type": "ip",
"ip_range": [
"192.168.1.2"
],
"vif_ids": null
},
"action": "reject",
"id": "b7e05f88-8e53-40a0-8f19-53c061dafd02"
}
4.16.16.5.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.5.2. Edit ACL Rule on Classic Network Router
4.16.16.5.2.1. Scenario¶
Scenario: Edit an ACL rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.5.2.2. URI¶
Table 4.16.425 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/acls/{acl_id}
Edit ACL Rule on Classic
Network Router
Parameter Description:
Table 4.16.426 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
acl_id path string ACL ID Yes
4.16.16.5.2.3. Request¶
Request Parameter
Table 4.16.427 Response Parameter¶
Parameter Location Type Description Required
action body string
View ACL Rule Actions of
Classic Network for ACL rule
actions.
No
enable body int(0,1) Whether the tenant is enabled No
description body string Description No
service_ids body list(string) List of service IDs No
src body dict
View Parameter Description -
src for the source information.
No
dst body dict
View Parameter Description -
dst for the destination
information.
No
Parameter Description - src:
Table 4.16.428 Parameter Description - src¶
Parameter Type Description Required
type string View Src or Dst Types of Classic Network for
source types. Yes
ip_range list(string) IP range No
vif_ids list(string) List of interface IDs No
Parameter Description - dst:
Table 4.16.429 Parameter Description - dst¶
Parameter Type Description Required
type string View Src or Dst Types of Classic Network for
destination types. Yes
ip_range list(string) IP range No
vif_ids list(string) List of interface IDs No
 Note
Parameter Description - src dst
When a value is passed in for src or dst: If type is set to all, there is no need to pass in the
ip_range and vif_ids parameters. If type is set to ip, only the ip_range parameter can be
passed in. If type is set to vif, only the vif_ids parameter can be passed in.
Value formats of ip_range
Examples: IP address: 192.168.1.2; IP range: 192.168.2.3-192.168.2.10; Subnet:
192.168.1.0/24
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/0e2443a5-b293-4365-9eda6f199d2eafd9/
acls/3702940d-b758-414c-873d-6d252e00b119
{
"enable": 0,
"action": "drop",
"description": "test",
"service_ids": [
"10000000-0000-0000-0000-18372bb4d44e"
]
}
4.16.16.5.2.4. Response¶
Response Parameter
Table 4.16.430 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "c1101c7b-8c20-4330-b730-723a14edc4be"
}
4.16.16.5.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.5.3. Query ACL on Classic Network Router
4.16.16.5.3.1. Scenario¶
Scenario: Query the ACL on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.10 and later
4.16.16.5.3.2. URI¶
Table 4.16.431 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-routers/{router_id}/acls Query ACL on Classic
Network Router
Parameter Description:
Table 4.16.432 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
description path string ACL description No
action path string
View ACL Rule Actions of Classic
Network for ACL rule action.
No
enable path
int(0,
1)
Whether the tenant is enabled No
default path
int(0,
1)
Whether the ACL is predefined No
priority path int ACL rule priority No
index path int ACL index No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.5.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/fd6e40df-100c-4265-ae12-e83377bcccb6/acls
4.16.16.5.3.4. Response¶
Response Parameter
Table 4.16.433 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string ACL ID No
description body string Description No
action body string View ACL Rule Actions of Classic
Network for ACL rule actions. No
service_ids body list(string) List of service IDs No
src body dict View Parameter Description - src for
the source information. No
dst body dict View Parameter Description - dst for
the destination information. No
index body int ACL index No
default body int(0,1) Whether the ACL is predefined No
priority body int ACL rule priority No
enable body int(0,1) Whether the tenant is enabled No
Parameter Description - src:
Table 4.16.434 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
source types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
Parameter Description - dst:
Table 4.16.435 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
destination types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
 Note
1.View Common Response Parameter Format for common API response parameters. 2.For
HCI 6.7.0 and later versions, you only need to focus on the value sorting but not the value of
priority.
Response example:
[
{
"service_ids": [
"10000000-0000-0000-0000-080d410a17e1",
"10000000-0000-0000-0000-26cca0dbf9d2",
"10000000-0000-0000-0000-5c5bfbc3718b",
"10000000-0000-0000-0000-5c6570118ab9",
"10000000-0000-0000-0000-72d219ec733a",
"10000000-0000-0000-0000-9014e92defce"
],
"enable": 0,
"description": "2",
"src": {
"type": "all",
"ip_range": null,
"vif_ids": null
},
"default": 0,
"index": 29,
"dst": {
"type": "vif",
"ip_range": null,
"vif_ids": [
"c977cc2b-9212-4744-985d-3f7057c401c5"
]
},
"priority": 244998208,
"action": "permit",
"id": "5058ea83-5ac7-474d-8ef9-a039cafe5768"
},
{
"service_ids": [
"10000000-0000-0000-0000-080d410a17e1",
"10000000-0000-0000-0000-26cca0dbf9d2",
"10000000-0000-0000-0000-5c5bfbc3718b",
"10000000-0000-0000-0000-5c6570118ab9",
"10000000-0000-0000-0000-72d219ec733a",
"10000000-0000-0000-0000-9014e92defce"
],
"enable": 1,
"description": "1",
"src": {
"type": "ip",
"ip_range": [
"192.168.1.2",
"192.168.2.3-192.168.2.10"
],
"vif_ids": null
},
"default": 0,
"index": 28,
"dst": {
"type": "vif",
"ip_range": null,
"vif_ids": [
"943d7038-b048-4d41-b7be-c6cc1cce63f4",
"c977cc2b-9212-4744-985d-3f7057c401c5"
]
},
"priority": 244997952,
"action": "permit",
"id": "ffbe9262-7326-48a0-a6a0-720c8b39a21e"
}
]
4.16.16.5.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.5.4. Query ACL Details of Classic Network Router
4.16.16.5.4.1. Scenario¶
Scenario: Query the ACL details of the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.10 and later
4.16.16.5.4.2. URI¶
Table 4.16.436 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/acls/{acl_id}
Query ACL Details of
Classic Network Router
Parameter Description:
Table 4.16.437 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
acl_id path string ACL ID Yes
4.16.16.5.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/0e2443a5-b293-4365-9eda-
6f199d2eafd9/acls/3702940d-b758-414c-873d-6d252e00b119
4.16.16.5.4.4. Response¶
Response Parameter
Table 4.16.438 Response Parameter¶
Parameter Type Description
Value
Returned
id string ACL ID Yes
description string Description Yes
action string View ACL Rule Actions of Classic Network
for ACL rule actions. Yes
service_ids list(string) List of service IDs Yes
src dict View Parameter Description - src for the
source information. Yes
dst dict View Parameter Description - dst for the
destination information. Yes
index int ACL index Yes
default int(0,1) Whether the ACL is predefined Yes
priority int ACL rule priority Yes
enable int(0,1) Whether the tenant is enabled Yes
resource_group_id string Resource priority group Yes
Parameter Description - src:
Table 4.16.439 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
source types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
Parameter Description - dst:
Table 4.16.440 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Src or Dst Types of Classic Network for
destination types. Yes
ip_range list(string) or
None IP range Yes
vif_ids list(string) or
None List of interface IDs Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"resource_group_id": "3f64cac0-eec9-47ac-b7f8-80e7316b3cda",
"enable": 0,
"description": "2",
"service_ids": [
"10000000-0000-0000-0000-080d410a17e1",
"10000000-0000-0000-0000-26cca0dbf9d2",
"10000000-0000-0000-0000-5c5bfbc3718b",
"10000000-0000-0000-0000-5c6570118ab9",
"10000000-0000-0000-0000-72d219ec733a",
"10000000-0000-0000-0000-9014e92defce"
],
"default": 0,
"index": 29,
"dst": {
"type": "vif",
"ip_range": null,
"vif_ids": [
"c977cc2b-9212-4744-985d-3f7057c401c5"
]
},
"priority": 244998208,
"action": "permit",
"src": {
"type": "all",
"ip_range": null,
"vif_ids": null
},
"id": "5058ea83-5ac7-474d-8ef9-a039cafe5768"
}
4.16.16.5.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.5.5. Delete ACL Rule on Classic Network Router
4.16.16.5.5.1. Scenario¶
Scenario: Delete an ACL rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.10 and later
4.16.16.5.5.2. URI¶
Table 4.16.441 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/classicrouters/{
router_id}/acls/{acl_id}
Delete ACL Rule on
Classic Network Router
Parameter Description:
Table 4.16.442 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
acl_id path string ACL ID Yes
4.16.16.5.5.3. Request¶
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/0e2443a5-b293-4365-9eda-
6f199d2eafd9/acls/3702940d-b758-414c-873d-6d252e00b119
4.16.16.5.5.4. Response¶
Response Parameter
Table 4.16.443 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "6ab9d5d4-0cc8-4c39-9d1e-9e45aa0e66c5"
}
4.16.16.5.5.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.6. Classic Network - Router ACL Service
4.16.16.6.1. Query List of ACL Services on Classic Network Router
4.16.16.6.1.1. Scenario¶
Scenario: Query the list of ACL services on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.10 and later
4.16.16.6.1.2. URI¶
Table 4.16.444 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-routers/{router_id}/aclservices
Query List of ACL Services on
Classic Network Router
Parameter Description:
Table 4.16.445 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
name path string Service name No
group_name path string Group name No
default path int(0,1) Whether it is a
predefined service No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.6.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/fd6e40df-100c-4265-ae12-e83377bcccb6/aclservices
4.16.16.6.1.4. Response¶
Response Parameter
Table 4.16.446 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string Service ID No
name body string Service name No
group_name body string Group name No
group_id body string Group ID No
default body int(0,1) Whether it is a predefined service No
protocol_info body dict
View Parameter Description -
protocol_info for the protocol
information.
No
Parameter Description - protocol_info:
Table 4.16.447 Parameter Description - protocol_info¶
Parameter Type Description Value Returned
protocol string Protocol type Yes
icmp_code int or None Code of the ICMP
protocol Yes
icmp_type int or None Type of the ICMP
protocol Yes
port_range string or None Port range Yes
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response example:
[
{
"name": "123",
"default": 0,
"group_name": "Custom service",
"group_id": "",
"id": "58073e64-a280-496e-934c-57520dd58c88",
"protocol_info": [
{
"icmp_code": null,
"port_range": "1",
"icmp_type": null,
"protocol": 6
}
]
},
{
"name": "ah",
"default": 1,
"group_name": "VPN",
"group_id": "10000000-0000-0000-0000-a407d40891d9",
"id": "10000000-0000-0000-0000-080d410a17e1",
"protocol_info": [
{
"icmp_code": null,
"port_range": null,
"icmp_type": null,
"protocol": 51
}
]
}
]
4.16.16.6.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.7. Classic Network - Router DNAT Rules
4.16.16.7.1. Query List of DNAT Rules on Classic Network Router
4.16.16.7.1.1. Scenario¶
Scenario: Query the list of DNAT rules on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.1.2. URI¶
Table 4.16.448 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dnats
Query List of DNAT Rules on
Classic Network Router
Parameter Description:
Table 4.16.449 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
src_port_id path string Incoming interface ID No
ignore_acl path
int(0,
1)
Whether to bypass ACL. 0: No,
1: Yes
No
enable path
int(0,
1)
Whether the tenant is enabled No
protocol path int Protocol type No
src_ip_range path string Source IP (fuzzy match) No
dst_ip_range path string Destination IP (fuzzy match) No
trans_ip path string Mapped IP address No
dst_port path string Original port No
trans_port path string Mapped port No
resource_group_id path string
ID of the resource priority
group. This parameter is
reserved and unavailable
currently.
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.7.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-37c3219e1beb/dnats
4.16.16.7.1.4. Response¶
Response Parameter
Table 4.16.450 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string DNAT rule ID No
description body string Description No
az_id body string Resource pool ID No
project_id body string Tenant ID No
src_port_id body string Incoming interface ID No
ignore_acl body int(0, 1) Whether to bypass ACL. 0:
No, 1: Yes No
enable body int(0, 1) Whether the tenant is enabled No
src_ip_range body list(string) Src IP No
protocol body int Protocol type No
map_info body dict View Parameter Description -
map_info for DNAT details. No
resource_group_id body string ID of the resource priority
group No
Parameter Description - map_info:
Table 4.16.451 Parameter Description - map_info¶
Parameter Type Description
Value
Returned
external dict View Parameter Description - external for the pre-NAT
information. Yes
internet dict View Parameter Description - internet for the post-NAT
information. Yes
Parameter Description - external:
Table 4.16.452 Parameter Description - external¶
Parameter Type Description Value Returned
ips list(string) Destination IP before NAT Yes
port int Original port No
Parameter Description - internet:
Table 4.16.453 Parameter Description - internet¶
Parameter Type Description Value Returned
ip string Destination IP after NAT Yes
port int Mapped port No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response example:
[
{
"resource_group_id": "",
"enable": 1,
"protocol": 0,
"description": "1",
"src_port_id": "vric2a45aeb",
"src_ip_range": [
"10.10.10.12"
],
"map_info": {
"external": {
"ips": [
""
],
"port": null
},
"internet": {
"ip": "11.11.11.25",
"port": null
}
},
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"id": "nat_be5d9945",
"az_id": "183f82bf-7a3d-459b-8e77-ba7710c097f5",
"ignore_acl": 0
},
{
"resource_group_id": "",
"enable": 1,
"protocol": 0,
"description": "1",
"src_port_id": "vric2a45aeb",
"src_ip_range": [
"10.10.10.12"
],
"map_info": {
"external": {
"ips": [
""
],
"port": null
},
"internet": {
"ip": "11.11.11.25",
"port": null
}
},
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"id": "nat_f3ce2e85",
"az_id": "183f82bf-7a3d-459b-8e77-ba7710c097f5",
"ignore_acl": 0
}
]
4.16.16.7.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.7.2. Query Details of DNAT Rule on Classic Network Router
4.16.16.7.2.1. Scenario¶
Scenario: Query details of a DNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
read permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.2.2. URI¶
Table 4.16.454 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dnats/{dnat_id}
Query Details of DNAT
Rule on Classic Network
Router
Parameter Description:
Table 4.16.455 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dnat_id path string DNAT rule ID Yes
4.16.16.7.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-
37c3219e1beb/dnats/nat_f3ce2e85
4.16.16.7.2.4. Response¶
Response Parameter
Table 4.16.456 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string DNAT rule ID Yes
description body string Description Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
src_port_id body string Incoming interface ID Yes
ignore_acl body int(0, 1) Whether to bypass ACL. 0:
No, 1: Yes Yes
enable body int(0, 1) Whether the tenant is enabled Yes
src_ip_range body list(string) Src IP Yes
protocol body int Protocol type Yes
map_info body dict View Parameter Description -
map_info for DNAT details. Yes
resource_group_id body string ID of the resource priority
group Yes
Parameter Description - map_info:
Table 4.16.457 Parameter Description - map_info¶
Parameter Type Description
Value
Returned
external dict View Parameter Description - external for the pre-NAT
information. Yes
internet dict View Parameter Description - internet for the post-NAT
information. Yes
Parameter Description - external:
Table 4.16.458 Parameter Description - external¶
Parameter Type Description Value Returned
ips list(string) Destination IP before NAT Yes
port int Original port No
Parameter Description - internet:
Table 4.16.459 Parameter Description - internet¶
Parameter Type Description Value Returned
ip string Destination IP after NAT Yes
port int Mapped port No
 Note
For common response parameters, view Response Format for details
Response example:
{
"resource_group_id": "",
"enable": 1,
"protocol": 0,
"description": "1",
"src_port_id": "vric2a45aeb",
"src_ip_range": [
"10.10.10.12"
],
"map_info": {
"external": {
"ips": [
""
],
"port": null
},
"internet": {
"ip": "11.11.11.25",
"port": null
}
},
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"id": "nat_f3ce2e85",
"az_id": "183f82bf-7a3d-459b-8e77-ba7710c097f5",
"ignore_acl": 0
}
4.16.16.7.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.7.3. Create DNAT Rule on Classic Network Router
4.16.16.7.3.1. Scenario¶
Scenario: Create a DNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.3.2. URI¶
Table 4.16.460 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-routers/{router_id}/dnats Create DNAT Rule on
Classic Network Router
Parameter Description:
Table 4.16.461 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.7.3.3. Request¶
Request Parameter
Table 4.16.462 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
src_port_id body string Incoming interface ID Yes
ignore_acl body int(0, 1) Whether to bypass ACL. 0: No,
1: Yes Yes
enable body int(0, 1) Whether the tenant is enabled Yes
src_ip_range body list(string) Src IP Yes
protocol body int Protocol type Yes
priority body string Priority of the DNAT rule.
Valid values: bottom and top No
map_info body dict View Parameter Description -
map_info for DNAT details. Yes
resource_group_id body string
ID of the resource priority
group. This parameter is
unavailable currently.
No
Parameter Description - map_info:
Table 4.16.463 Parameter Description - map_info¶
Parameter Type Description Required
external dict View Parameter Description - external for the pre-NAT
information. Yes
internet dict View Parameter Description - internet for the post-NAT
information. Yes
Parameter Description - external:
Table 4.16.464 Parameter Description - external¶
Parameter Type Description Required
ips list(string) Destination IP before NAT Yes
port int Original port No
Parameter Description - internet:
Table 4.16.465 Parameter Description - internet¶
Parameter Type Description Required
ip string Destination IP after NAT Yes
port int Mapped port No
 Note
Parameter Description - protocol
When protocol is set to 6 (TCP) or 17 (UDP), you must specify map_info.external.port and
map_info.internet.port. When protocol is set to 0 (All) or 1 (ICMP), you cannot specify
map_info.external.port or map_info.internet.port.
Parameter Description - priority
When priority is set to top, the priority of the DNAT rule is 1 (the highest priority). When
priority is set to bottom, the DNAT rule has the lowest priority.
Parameter Descriptions - ips and src_ip_range
When map_info.external.ips is set to a null string, the DNAT rule applies to all destination
IP addresses. When src_ip_range is set to a null string, the DNAT rule applies to all source
IP addresses.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-37c3219e1beb/dnats
{
"enable": 1,
"description": "1",
"protocol": 0,
"src_ip_range": [
"10.10.10.12"
],
"src_port_id": "vric2a45aeb",
"map_info": {
"external": {
"ips": [
""
]
},
"internet": {
"ip": "11.11.11.25"
}
},
"ignore_acl": 0
}
4.16.16.7.3.4. Response¶
Response Parameter
Table 4.16.466 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string DNAT rule ID Yes
description body string Description No
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
src_port_id body string Incoming interface ID No
ignore_acl body int(0, 1) Whether to bypass ACL. 0:
No, 1: Yes Yes
enable body int(0, 1) Whether the tenant is enabled Yes
src_ip_range body list(string) Src IP Yes
protocol body int Protocol type Yes
map_info body dict View Parameter Description -
map_info for DNAT details. Yes
resource_group_id body string ID of the resource priority
group No
priority body string Priority of the DNAT rule No
Parameter Description - map_info:
Table 4.16.467 Parameter Description - map_info¶
Parameter Type Description
Value
Returned
external dict View Parameter Description - external for the pre-NAT
information. Yes
internet dict View Parameter Description - internet for the post-NAT
information. Yes
Parameter Description - external:
Table 4.16.468 Parameter Description - external¶
Parameter Type Description Value Returned
ips list(string) Destination IP before NAT Yes
port int Original port No
Parameter Description - internet:
Table 4.16.469 Parameter Description - internet¶
Parameter Type Description Value Returned
ip string Destination IP after NAT Yes
port int Mapped port No
 Note
For common response parameters, view Response Format for details
Response example:
{
"enable": 1,
"protocol": 0,
"ignore_acl": 0,
"src_port_id": "vric2a45aeb",
"src_ip_range": [
"10.10.10.12"
],
"map_info": {
"external": {
"ips": [
""
]
},
"internet": {
"ip": "11.11.11.25"
}
},
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"id": "nat_472014d7",
"az_id": "183f82bf-7a3d-459b-8e77-ba7710c097f5",
"description": "1"
}
4.16.16.7.3.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.7.4. Edit DNAT Rule on Classic Network Router
4.16.16.7.4.1. Scenario¶
Scenario: Edit a DNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.4.2. URI¶
Table 4.16.470 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/dnats/{dnat_id}
Edit DNAT Rule on
Classic Network Router
Parameter Description:
Table 4.16.471 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dnat_id path string DNAT rule ID Yes
4.16.16.7.4.3. Request¶
Request Parameter
Table 4.16.472 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
src_port_id body string Incoming interface ID No
ignore_acl body int(0, 1)
Whether to bypass ACL. 0:
No, 1: Yes
No
enable body int(0, 1)
Whether the tenant is
enabled
No
src_ip_range body list(string) Src IP No
protocol body int Protocol type No
map_info body dict
View Parameter Description
- map_info for DNAT details.
No
Parameter Description - map_info:
Table 4.16.473 Parameter Description - map_info¶
Parameter Type Description Required
external dict View Parameter Description - external for the pre-NAT
information. No
internet dict View Parameter Description - internet for the post-NAT
information. No
Parameter Description - external:
Table 4.16.474 Parameter Description - external¶
Parameter Type Description Required
ips list(string) Destination IP before NAT No
port int Original port No
Parameter Description - internet:
Table 4.16.475 Parameter Description - internet¶
Parameter Type Description Required
ip string Destination IP after NAT No
port int Mapped port No
 Note
Parameter Description - protocol
When protocol is changed from 0 (All) or 1 (ICMP) to 6 (TCP) or 17 (UDP), you must
specify map_info.external.port and map_info.internet.port. When protocol is changed
from another value to 0 (All) or 1 (ICMP), you cannot specify map_info.external.port or
map_info.internet.port.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-
37c3219e1beb/dnats/nat_6c5b65ed
{
"protocol": 1,
"map_info": {
"external": {
"ips": ["11.11.11.255"]
}
}
}
4.16.16.7.4.4. Response¶
Response Parameter
Table 4.16.476 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "33fc2c3b-3b49-4ffc-a31a-4ad0d365481e"
}
4.16.16.7.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.7.5. Bulk Delete DNAT Rules on Classic Network Router
4.16.16.7.5.1. Scenario¶
Scenario: Bulk delete DNAT rules on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.5.2. URI¶
Table 4.16.477 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/dnats/actions/bulk-delete
Bulk Delete DNAT
Rules on Classic
Network Router
Parameter Description:
Table 4.16.478 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
Request Parameter
Table 4.16.479 Response Parameter¶
Parameter Location Type Description Required
nat_ids body list(string) IDs of NAT rules Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-
37c3219e1beb/dnats/actions/bulk-delete
{
"nat_ids": ["nat_472014d7"]
}
4.16.16.7.5.3. Response¶
Response Parameter
Table 4.16.480 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "286db296-1bcb-4ffe-b59a-4f577ee17f54"
}
4.16.16.7.5.4. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.7.6. Bulk Move DNAT Rules on Classic Network Router
4.16.16.7.6.1. Scenario¶
Scenario: Bulk move DNAT rules on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.7.6.2. URI¶
Table 4.16.481 API Path and Request Method¶
REST
VERB PATH Description
PUT /classic-routers/{router_id}/dnats/actions/bulk-shift Bulk Move DNAT Rules on
Classic Network Router
Parameter Description:
Table 4.16.482 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.7.6.3. Request¶
Request Parameter
Table 4.16.483 Response Parameter¶
Parameter Location Type Description Required
nat_ids body list(string) IDs of NAT rules Yes
relative_pos body string Movement direction. Valid values:
before and after Yes
 Note
Parameter Description - nat_ids
1.DNAT rule IDs in the NAT ID list must be sorted in ascending order by priority. 2.The
DNAT rule with the highest priority cannot be moved down. The DNAT rule with the
lowest priority cannot be moved up. 3.You are advised to use nat_ids for HCI versions
earlier than 6.7.0 as well as 6.7.0 R5 and later versions.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c78933fa-15cf-46e4-bcf5-
37c3219e1beb/dnats/actions/bulk-shift
{
"nat_ids": ["nat_472014d7"],
"relative_pos": "after"
}
4.16.16.7.6.4. Response¶
Response Parameter
Table 4.16.484 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "77476bbe-92f5-4afb-8ad3-dc5d3d7c2411"
}
4.16.16.7.6.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.8. Classic Network - Router SNAT Rules
4.16.16.8.1. Create SNAT Rule on Classic Network Router
4.16.16.8.1.1. Scenario¶
Scenario: Create a SNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.1.2. URI¶
Table 4.16.485 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-routers/{router_id}/snats Create SNAT Rule on
Classic Network Router
Parameter Description:
Table 4.16.486 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.8.1.3. Request¶
Request Parameter
Table 4.16.487 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
dst_port_id body string HCI ID of the gateway Yes
enable body int(0,1) Whether the tenant is enabled Yes
map_info body dict
View Parameter Description -
map_info for the pre-NAT
source IP address and port.
Yes
dst_ip_range body list(string) Dst IP Yes
priority body dict Priority of the SNAT rule. Valid
values: top and bottom No
trans_type body int
Type of mapped source IP
address. Valid values: 64, 128,
and 256
Yes
static_ip body string Static IP address No
resource_group_id body string ID of the resource priority
group (unavailable currently) No
Parameter Description - map_info:
Table 4.16.488 Parameter Description - map_info¶
Parameter Type Description Required
external list(string) Source IP address before
SNAT Yes
internet string Source IP address after
SNAT Yes
 Note
Parameter Description - trans_type
Type of mapped source IP address. 64: Translated IP address; 128: An outgoing interface
IP; 256: A static IP address. The port remains unchanged.
Value formats of dst_ip_range and external
Examples: IP address: 192.168.1.2; IP range: 192.168.2.3-192.168.2.10; Subnet:
192.168.1.0/24; All: leave the two parameters blank
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-17f108d0d6f8/snats
{
"enable": 1,
"description": "test_create_snat",
"dst_port_id": "vric80637bc",
"map_info": {
"external": ["192.168.16.3"],
"internet": "192.168.36.254"
},
"dst_ip_range": ["192.168.36.254"],
"trans_type": 128,
"static_ip": "192.10.13.23",
"priority": "bottom"
}
4.16.16.8.1.4. Response¶
Response Parameter
Table 4.16.489 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string SNAT rule ID Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
enable body int(0,1) Whether the tenant is enabled Yes
dst_ip_range body list(string) Dst IP Yes
map_info body dict View Parameter Description -
map_info for SNAT details. Yes
description body string Description No
dst_port_id body string HCI ID of the gateway No
trans_type body int Type of mapped source IP No
static_ip body string Static IP address No
priority body string Priority of the SNAT rule No
Parameter Description - map_info:
Table 4.16.490 Parameter Description - map_info¶
Parameter Type Description Value Returned
external list(string) Source IP address
before SNAT Yes
internet string Source IP address
after SNAT Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"enable": 1,
"description": "test_create_snat",
"dst_ip_range": [
"192.168.36.254"
],
"map_info": {
"external": [
"192.168.16.3"
],
"internet": "192.168.36.254"
},
"static_ip": "192.10.13.23",
"priority": "bottom",
"trans_type": 128,
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"dst_port_id": "vric80637bc",
"id": "nat_0a3d6214",
"az_id": "86e7e192-f2d2-48d9-9ac4-03d792fd12be"
}
4.16.16.8.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.8.2. Edit SNAT Rule on Classic Network Router
4.16.16.8.2.1. Scenario¶
Scenario: Edit a SNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.2.2. URI¶
Table 4.16.491 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/snats/{snat_id}
Edit SNAT Rule on
Classic Network Router
Parameter Description:
Table 4.16.492 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
snat_id path string SNAT rule ID Yes
4.16.16.8.2.3. Request¶
Request Parameter
Table 4.16.493 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
dst_port_id body string HCI ID of the gateway No
enable body int(0,1)
Whether the tenant is
enabled
No
map_info body dict
View Parameter Description
- map_info for pre-NAT and
post-NAT source IP
addresses.
No
dst_ip_range body list(string) Dst IP No
trans_type body int
Type of mapped source IP
address. Valid values: 64,
128, and 256
No
static_ip body string Static IP address No
Parameter Description - map_info:
Table 4.16.494 Parameter Description - map_info¶
Parameter Type Description Required
external list(string) Source IP address before
SNAT No
internet string Source IP address after
SNAT No
 Note
Parameter Description - trans_type
Type of mapped source IP address. 64: Translated IP address; 128: An outgoing interface
IP; 256: A static IP address. The port remains unchanged.
Value formats of dst_ip_range and external
Examples: IP address: 192.168.1.2; IP range: 192.168.2.3-192.168.2.10; Subnet:
192.168.1.0/24; All: leave the two parameters blank
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-
17f108d0d6f8/snats/nat_1c8cae68
{
"description": "update_test",
"enable": 0,
"map_info": {
"external": ["192.0.0.12"],
"internet": "192.168.66.25"
},
"trans_type": 64,
"dst_ip_range": ["192.168.13.22"]
}
4.16.16.8.2.4. Response¶
Response Parameter
Table 4.16.495 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "029f56c1-d6e9-4dd7-9237-3fff478ffe4d"
}
4.16.16.8.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.8.3. Query List of SNAT Rules on Classic Network Router
4.16.16.8.3.1. Scenario¶
Scenario: Query the list of SNAT rules on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.3.2. URI¶
Table 4.16.496 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/snats
Query List of SNAT Rules on
Classic Network Router
Parameter Description:
Table 4.16.497 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dst_port_id body string HCI ID of the gateway No
enable body int(0,1)
Whether the tenant is
enabled
No
src_ip_range body list(string)
Source IP address (fuzzy
match, corresponding to
the parameter external)
No
dst_ip_range body list(string)
Destination IP address
(fuzzy match)
No
static_ip body string Static IP address No
trans_ip body string
IP address after SNAT
(corresponding to the
parameter internet)
No
trans_type body int
Type of mapped source IP
address. Valid values: 64,
128, and 256
No
resource_group_id body string
ID of the resource priority
group (unavailable
currently)
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.8.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-17f108d0d6f8/snats
4.16.16.8.3.4. Response¶
Response Parameter
Table 4.16.498 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string SNAT rule ID No
description body string Description No
az_id body string Resource pool ID No
project_id body string Tenant ID No
dst_port_id body string HCI ID of the gateway No
enable body int(0,1) Whether the tenant is enabled No
map_info body dict View Parameter Description -
map_info for SNAT details. No
dst_ip_range body list(string) Dst IP No
trans_type body int Type of mapped source IP No
static_ip body string Static IP address No
resource_group_id body string ID of the resource priority
group No
Parameter Description - map_info:
Table 4.16.499 Parameter Description - map_info¶
Parameter Type Description Value Returned
external list(string) Source IP address
before SNAT Yes
internet string Source IP address
after SNAT Yes
Response example:
[
{
"resource_group_id": "",
"enable": 0,
"description": "update_test",
"dst_ip_range": [
"192.168.13.22"
],
"map_info": {
"external": [
"192.0.0.12"
],
"internet": "192.168.66.25"
},
"static_ip": "",
"trans_type": 64,
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"dst_port_id": "vric80637bc",
"id": "nat_b5c4992b",
"az_id": "86e7e192-f2d2-48d9-9ac4-03d792fd12be"
},
{
"resource_group_id": "",
"enable": 0,
"description": "2",
"dst_ip_range": [
"192.168.36.3"
],
"map_info": {
"external": [
"192.168.36.3"
],
"internet": "192.168.36.3"
},
"static_ip": "192.10.13.23",
"trans_type": 128,
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"dst_port_id": "vric80637bc",
"id": "nat_4774a207",
"az_id": "86e7e192-f2d2-48d9-9ac4-03d792fd12be"
},
]
4.16.16.8.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.8.4. Query Details of SNAT Rule on Classic Network Router
4.16.16.8.4.1. Scenario¶
Scenario: Query details of an SNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
read permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.4.2. URI¶
Table 4.16.500 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/snats/{snat_id}
Query Details of SNAT
Rule on Classic
Network Router
Parameter Description:
Table 4.16.501 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
snat_id path string ACL ID Yes
4.16.16.8.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-
17f108d0d6f8/snats/nat_b5c4992b
4.16.16.8.4.4. Response¶
Response Parameter
Table 4.16.502 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string SNAT rule ID Yes
description body string Description Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
dst_port_id body string HCI ID of the gateway Yes
enable body int(0,1) Whether the tenant is enabled Yes
map_info body dict View Parameter Description -
map_info for SNAT details. Yes
dst_ip_range body list(string) Dst IP Yes
trans_type body int Type of mapped source IP Yes
static_ip body string Static IP address Yes
resource_group_id body string ID of the resource priority
group No
Parameter Description - map_info:
Table 4.16.503 Parameter Description - map_info¶
Parameter Type Description Value Returned
external list(string) Source IP address
before SNAT Yes
internet string Source IP address
after SNAT Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"resource_group_id": "",
"enable": 0,
"description": "update_test",
"dst_ip_range": [
"192.168.13.22"
],
"map_info": {
"external": [
"192.0.0.12"
],
"internet": "192.168.66.25"
},
"static_ip": "",
"trans_type": 64,
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"dst_port_id": "vric80637bc",
"id": "nat_b5c4992b",
"az_id": "86e7e192-f2d2-48d9-9ac4-03d792fd12be"
}
4.16.16.8.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.8.5. Bulk Delete SNAT Rules on Classic Network Router
4.16.16.8.5.1. Scenario¶
Scenario: Bulk delete SNAT rules on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.5.2. URI¶
Table 4.16.504 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/snats/actions/bulk-delete
Bulk Delete SNAT
Rules on Classic
Network Router
Parameter Description:
Table 4.16.505 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.8.5.3. Request¶
Request Parameter
Table 4.16.506 Description of Body Parameter¶
Parameter Type Description Required
nat_ids list(string) IDs of NAT rules Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-
17f108d0d6f8/snats/actions/bulk-delete
{
"nat_ids": [
"nat_e51be013",
"nat_78328c1e"
]
}
4.16.16.8.5.4. Response¶
Response Parameter
Table 4.16.507 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "6ab9d5d4-0cc8-4c39-9d1e-9e45aa0e66c5"
}
4.16.16.8.5.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.8.6. Move SNAT Rule on Classic Network Router
4.16.16.8.6.1. Scenario¶
Scenario: Move an SNAT rule on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.20 and later
4.16.16.8.6.2. URI¶
Table 4.16.508 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/snats/actions/bulk-shift
Move SNAT Rule on
Classic Network
Router
Parameter Description:
Table 4.16.509 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.8.6.3. Request¶
Request Parameter
Table 4.16.510 Description of Body Parameter¶
Parameter Type Description Required
nat_ids list(string) IDs of NAT rules Yes
relative_pos string Movement direction. Valid values: before
and after Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-
17f108d0d6f8/snats/actions/bulk-shift
{
"nat_ids": [
"nat_78328c1e",
"nat_c16d41d1"
],
"relative_pos": "after"
}
4.16.16.8.6.4. Response¶
Response Parameter
Table 4.16.511 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "6ab9d5d4-0cc8-4c39-9d1e-9e45aa0e66c5"
}
4.16.16.8.6.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.9. Classic Network - DHCP Address Pool on Router
4.16.16.9.1. Create DHCP Address Pool on Classic Network Router
4.16.16.9.1.1. Scenario¶
Scenario: Create a DHCP address pool on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.30 and later
4.16.16.9.1.2. URI¶
Table 4.16.512 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classic-routers/{router_id}/dhcps Create DHCP Address Pool
on Classic Network Router
Parameter Description:
Table 4.16.513 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.9.1.3. Request¶
Request Parameter
Table 4.16.514 Response Parameter¶
Parameter Location Type Description Required
port_id body string
ID of the router interface on which
the DHCP configuration takes
effect
Yes
min_ip body string Start IP of the IP range Yes
max_ip body string End IP of the IP range Yes
netmask body string Netmask Yes
gateway body string Gateway Yes
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease (60-31536000) No
status body string Status. Valid values: 0 and 1 No
vlan body string VLAN ID (not supported currently) No
description body string Description (not supported
currently) No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/588d1809-e02c-46ad-acc5-5f161eeb4e2d/dhcps
{
"port_id": "vri00c209ce",
"min_ip": "192.168.6.25",
"max_ip": "192.168.6.25",
"netmask": "255.255.240.0",
"gateway": "192.168.6.252",
"major_dns": "192.168.8.29",
"minor_dns": "192.168.8.252",
"major_wins": "192.168.89.253",
"minor_wins": "192.168.89.254",
"status": 0
}
4.16.16.9.1.4. Response¶
Response Parameter
Table 4.16.515 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of DHCP
configuration Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
port_id body string
ID of the router interface on
which the DHCP
configuration takes effect
Yes
min_ip body string Start IP of the IP range Yes
max_ip body string End IP of the IP range Yes
netmask body string Netmask Yes
gateway body string Gateway Yes
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease No
status body string Status No
vlan body string VLAN ID (no return result
currently) No
description body string Description (no return result
currently) No
 Note
For common response parameters, view Response Format for details
Response example:
{
"status": 0,
"minor_wins": "192.168.89.254",
"min_ip": "192.168.6.25",
"max_ip": "192.168.6.25",
"gateway": "192.168.6.252",
"major_wins": "192.168.89.253",
"netmask": "255.255.240.0",
"minor_dns": "192.168.8.252",
"major_dns": "192.168.8.29",
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"port_id": "vribf124026",
"id": "dhcpf2cfa3d3",
"az_id": "67beb48a-b62c-40d4-8611-883a66b61141"
}
4.16.16.9.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.9.2. Edit DHCP Address Pool on Classic Network Router
4.16.16.9.2.1. Scenario¶
Scenario: Edit a DHCP address pool on the classic network router
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the
Network Configuration permission
Versions supported: SCP 6.8.30 and later
4.16.16.9.2.2. URI¶
Table 4.16.516 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}
Edit DHCP Address Pool
on Classic Network
Router
Parameter Description:
Table 4.16.517 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string
HCI ID of DHCP
configuration
Yes
4.16.16.9.2.3. Request¶
Request Parameter
Table 4.16.518 Response Parameter¶
Parameter Location Type Description Required
port_id body string
ID of the router interface on
which the DHCP configuration
takes effect
No
min_ip body string Start IP of the IP range No
max_ip body string End IP of the IP range No
netmask body string Netmask No
gateway body string Gateway No
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease (60-31536000) No
status body string Status. Valid values: 0 and 1 No
vlan body string
VLAN ID (not supported
currently)
No
description body string
Description (not supported
currently)
No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/588d1809-e02c-46ad-acc5-
5f161eeb4e2d/dhcps/dhcpf2cfa3d3
{
"port_id": "vribf124026",
"min_ip": "192.100.7.96",
"max_ip": "192.100.7.196",
"netmask": "255.255.240.0",
"gateway": "192.100.7.196",
"minor_dns": "192.168.88.25",
"major_wins": "192.168.89.2",
"minor_wins": "192.168.89.25",
"lease": 40000,
"status": 1
}
4.16.16.9.2.4. Response¶
Response Parameter
Table 4.16.519 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of DHCP
configuration Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
port_id body string
ID of the router interface on
which the DHCP
configuration takes effect
No
min_ip body string Start IP of the IP range No
max_ip body string End IP of the IP range No
netmask body string Netmask No
gateway body string Gateway No
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease No
status body string Status No
vlan body string VLAN ID (no return result
currently) No
description body string Description (no return result
currently) No
 Note
For common response parameters, view Response Format for details
Response example:
{
"status": 1,
"minor_wins": "192.168.89.25",
"min_ip": "192.100.7.96",
"max_ip": "192.100.7.196",
"gateway": "192.100.7.196",
"major_wins": "192.168.89.2",
"netmask": "255.255.240.0",
"minor_dns": "192.168.88.25",
"major_dns": "192.168.8.29",
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"port_id": "vribf124026",
"id": "dhcpf2cfa3d3",
"az_id": "67beb48a-b62c-40d4-8611-883a66b61141",
"lease": 40000
}
4.16.16.9.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.9.3. Query List of DHCP Address Pools on Classic Network Router
4.16.16.9.3.1. Scenario¶
Scenario: Query the list of DHCP address pools on the classic network router
Roles supported: Super admin, system admin, tenant, and co-administrator with the Network Read
permission
Versions supported: SCP 6.8.30 and later
4.16.16.9.3.2. URI¶
Table 4.16.520 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dhcps
Query List of DHCP Address
Pools on Classic Network
Router
Parameter Description:
Table 4.16.521 Path Parameters¶
Parameter Location Type Description Required
port_id body string
ID of the router interface on
which the DHCP configuration
takes effect
No
port_name body string
Name of the router interface on
which the DHCP configuration
takes effect
No
min_ip body string Start IP of the IP range No
max_ip body string End IP of the IP range No
netmask body string Netmask No
gateway body string Gateway No
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease No
status body string Status. Valid values: 0 and 1 No
vlan body string
VLAN ID (not supported
currently)
No
description body string
Description (not supported
currently)
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.9.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/3443c22e-b30e-457f-bdda-17f108d0d6f8/dhcps
4.16.16.9.3.4. Response¶
Response Parameter
Table 4.16.522 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of DHCP configuration No
az_id body string Resource pool ID No
project_id body string Tenant ID No
port_id body string
ID of the router interface on
which the DHCP configuration
takes effect
No
port_name body string
Name of the router interface on
which the DHCP configuration
takes effect
No
min_ip body string Start IP of the IP range No
max_ip body string End IP of the IP range No
netmask body string Netmask No
gateway body string Gateway No
major_dns body string Preferred DNS No
minor_dns body string Alternate DNS No
major_wins body string Preferred WINS No
minor_wins body string Alternate WINS No
lease body int Lease No
status body string Status No
vlan body string VLAN ID (null string returned by
default) No
description body string Description (null string returned
by default) No
Response example:
[
{
"status": 0,
"minor_wins": "192.168.89.254",
"min_ip": "192.168.6.253",
"max_ip": "192.168.6.255",
"description": "",
"vlan": "",
"id": "dhcp06269b75",
"major_wins": "192.168.89.253",
"netmask": "255.255.240.0",
"port_name": "eth0",
"minor_dns": "192.168.88.254",
"major_dns": "192.168.88.253",
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"port_id": "vri57afcc8d",
"gateway": "192.168.6.255",
"az_id": "67beb48a-b62c-40d4-8611-883a66b61141",
"lease": 3600
},
{
"status": 0,
"minor_wins": "192.168.89.254",
"min_ip": "192.168.6.253",
"max_ip": "192.168.6.254",
"description": "",
"vlan": "",
"id": "dhcpc2d52a8e",
"major_wins": "192.168.89.253",
"netmask": "255.255.255.0",
"port_name": "eth1",
"minor_dns": "192.168.88.254",
"major_dns": "192.168.88.253",
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"port_id": "vrid9475f92",
"gateway": "192.168.6.252",
"az_id": "67beb48a-b62c-40d4-8611-883a66b61141",
"lease": 3600
},
]
4.16.16.9.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.9.4. Query Details of DHCP Address Pool on Classic Network Router
4.16.16.9.4.1. Scenario¶
Scenario: Query details of the DHCP address pool on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
read permission
Versions supported: SCP 6.8.30 and later
4.16.16.9.4.2. URI¶
Table 4.16.523 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}
Query Details of DHCP
Address Pool on Classic
Network Router
Parameter Description:
Table 4.16.524 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string
HCI ID of DHCP
configuration
Yes
4.16.16.9.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/588d1809-e02c-46ad-acc5-
5f161eeb4e2d/dhcps/dhcpc2d52a8e
4.16.16.9.4.4. Response¶
Response Parameter
Table 4.16.525 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of DHCP configuration Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
port_id body string
ID of the router interface on
which the DHCP configuration
takes effect
Yes
port_name body string
Name of the router interface on
which the DHCP configuration
takes effect
Yes
min_ip body string Start IP of the IP range Yes
max_ip body string End IP of the IP range Yes
netmask body string Netmask Yes
gateway body string Gateway Yes
major_dns body string Preferred DNS Yes
minor_dns body string Alternate DNS Yes
major_wins body string Preferred WINS Yes
minor_wins body string Alternate WINS Yes
lease body int Lease Yes
status body string Status Yes
vlan body string VLAN ID (null string returned by
default) Yes
description body string Description (null string returned
by default) Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"status": 0,
"minor_wins": "192.168.89.254",
"min_ip": "192.168.6.253",
"max_ip": "192.168.6.254",
"description": "",
"vlan": "",
"id": "dhcpc2d52a8e",
"major_wins": "192.168.89.253",
"netmask": "255.255.255.0",
"port_name": "eth1",
"minor_dns": "192.168.88.254",
"major_dns": "192.168.88.253",
"project_id": "f9dd5c04a2844b31803fc3be61c86259",
"port_id": "vrid9475f92",
"gateway": "192.168.6.252",
"az_id": "67beb48a-b62c-40d4-8611-883a66b61141",
"lease": 3600
}
4.16.16.9.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.9.5. Bulk Delete DHCP Address Pools on Classic Network Router
4.16.16.9.5.1. Scenario¶
Scenario: Bulk delete DHCP address pools on the classic network router
Roles supported: Super administrator, system administrator, tenant, and administrator with the network
configuration permission
Versions supported: SCP 6.8.30 and later
4.16.16.9.5.2. URI¶
Table 4.16.526 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/dhcps/actions/bulk-delete
Bulk Delete DHCP
Address Pools on Classic
Network Router
Parameter Description:
Table 4.16.527 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.9.5.3. Request¶
Request Parameter
Table 4.16.528 Description of Body Parameter¶
Parameter Type Description Required
dhcp_ids list(string) DHCP configuration IDs (Value range: 1-
100) Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/588d1809-e02c-46ad-acc5-
5f161eeb4e2d/dhcps/actions/bulk-delete
{
"dhcp_ids": [
"dhcpc2d52a8e",
"dhcp06269b75"
]
}
4.16.16.9.5.4. Response¶
Response Parameter
Table 4.16.529 Response Parameter¶
Parameter Type Description
Value
Returned
vrouter list View Parameter Description - vrouter for returned values
of the bulk operation. Yes
Parameter Description - vrouter:
Table 4.16.530 Parameter Description - vrouter¶
Parameter Type Description Value Returned
failed_id string Failure ID Yes
failed_msg string Failure message Yes
 Note
For common response parameters, view Response Format for details
Response example:
Example 1: Bulk deletion of DHCP address pools succeeded.
{
"vrouter": []
}
Example 2: Bulk deletion of DHCP address pools failed. (The value passed in for dhcp_id does not exist.)
{
"vrouter": [
{
"failed_id": "dhcpc2d52a8e",
"failed_msg": "The specified DHCP address pool does not exist on
the router (Router_DHCP_test)."
},
{
"failed_id": "dhcp06269b75",
"failed_msg": "The specified DHCP address pool does not exist on
the router (Router_DHCP_test)."
}
]
}
4.16.16.9.5.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.9.6. Query Status List of DHCP on Classic Network Router
4.16.16.9.6.1. Scenario¶
Scenario: Query the status list of DHCP on a classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
obtain the status list of DHCP on a classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.9.6.2. URI¶
Table 4.16.531 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/status
Query Status List of
DHCP on Classic
Network Router
Parameter Description:
Table 4.16.532 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
ipmac_id path string
ID of the IP/MAC binding
configuration
No
ip path string Allocated IP No
port_id path string
ID of the router interface on
which the DHCP configuration
takes effect
No
port_name path string
Name of the router interface on
which the DHCP configuration
takes effect
No
host_name path string Node name No
mac path string Bound MAC address No
bind path int Number of bound devices No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.9.6.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/9eb452a4-f302-4ae5-b798-
be782f8e788a/dhcps/c8f2dee4-3338-4ef0-9bd6-4b54ca007785/status
4.16.16.9.6.4. Response¶
Response Parameter
Table 4.16.533 Response Parameter¶
Parameter Location Type Description
Value
Returned
dhcp_id body string DHCP ID No
ipmac_id body string ID of the IP/MAC binding
configuration No
ip body string Allocated IP No
port_id body string
ID of the router interface on which
the DHCP configuration takes
effect
No
port_name body string
Name of the router interface on
which the DHCP configuration
takes effect
No
host_name body string Node name No
mac body string Bound MAC address No
bind body int Number of bound devices No
start_time body string Start time (Example: 2021-10-25
23:59:59) No
expiration_time body string Expiration time (Example: 2021-10-
26 23:59:59) No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response example:
[
{
"ipmac_id": "89a18b2a-c829-4e5e-8cbc-3b3a161b0187",
"bind": 1,
"start_time": "2022-10-24 15:55:34",
"dhcp_id": "c8f2dee4-3338-4ef0-9bd6-4b54ca007785",
"mac": "fe:fc:fe:fb:26:b9",
"port_name": "eth1",
"host_name": "",
"ip": "192.168.1.106",
"expiration_time": "2022-10-25 15:55:34",
"port_id": "e3ff9f08-08fa-425d-9742-93f2ba1c80b8"
},
{
"ipmac_id": "b408dee1-c8e0-4a2b-a4db-01ac12783ad0",
"bind": 1,
"start_time": "2022-10-30 16:47:33",
"dhcp_id": "c8f2dee4-3338-4ef0-9bd6-4b54ca007785",
"mac": "fe:fc:fe:31:bd:14",
"port_name": "eth1",
"host_name": "",
"ip": "192.168.1.116",
"expiration_time": "2022-10-31 16:47:33",
"port_id": "e3ff9f08-08fa-425d-9742-93f2ba1c80b8"
}
]
4.16.16.9.6.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.10. Classic Network - Router DHCP IP/MAC Binding
4.16.16.10.1. Query List of DHCP IP/MAC Binding Configurations on Classic Network Router
4.16.16.10.1.1. Scenario¶
Scenario: Query the list of DHCP IP/MAC binding configurations on the classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
obtain the list of DHCP IP/MAC binding configurations on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.10.1.2. URI¶
Table 4.16.534 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/ipmacs
Query List of DHCP IP/MAC
Binding Configurations on
Classic Network Router
Parameter Description:
Table 4.16.535 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
description path string Description No
ip path string Bound IP No
mac path string Bound MAC address No
host_name path string
Name of the bound
node
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.10.1.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/9eb452a4-f302-4ae5-b798-
be782f8e788a/dhcps/c8f2dee4-3338-4ef0-9bd6-4b54ca007785/ipmacs
4.16.16.10.1.4. Response¶
Response Parameter
Table 4.16.536 Response Parameter¶
Parameter Location Type Description Value Returned
id body string
ID of the IP/MAC
binding
configuration
No
description body string Description No
ip body string Bound IP No
mac body string Bound MAC
address No
host_name body string Name of the bound
node No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response example:
[
{
"id": "89a18b2a-c829-4e5e-8cbc-3b3a161b0187",
"ip": "192.168.1.107",
"mac": "",
"host_name": "107",
"description": ""
},
{
"id": "a5dc5a3e-a3ca-4c23-859b-48dffe67631c",
"ip": "192.168.1.108",
"mac": "fe:fc:fe:fb:26:b8",
"host_name": "108",
"description": ""
}
]
4.16.16.10.1.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.10.2. Query Details of DHCP IP/MAC Binding Configurations on Classic Network Router
4.16.16.10.2.1. Scenario¶
Scenario: Query details of DHCP IP/MAC binding configurations on the classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
obtain details of DHCP IP/MAC binding configurations on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.10.2.2. URI¶
Table 4.16.537 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/ipmacs/{ipmac_id}
Query Details of DHCP
IP/MAC Binding
Configurations on Classic
Network Router
Parameter Description:
Table 4.16.538 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
ipmac_id path string
ID of the IP/MAC
binding
configuration
Yes
4.16.16.10.2.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/9eb452a4-f302-4ae5-b798-
be782f8e788a/dhcps/7e1d10bf-ac3a-442d-adcf-3674e08f0cb5/ipmacs/f6837850-f626-4c2c-
8d28-e122c85783b5
4.16.16.10.2.4. Response¶
Response Parameter
Table 4.16.539 Response Parameter¶
Parameter Location Type Description Value Returned
id body string
ID of the IP/MAC
binding
configuration
Yes
description body string Description Yes
ip body string Bound IP Yes
mac body string Bound MAC
address Yes
host_name body string Name of the bound
node Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"id": "ba44086b-7703-4bac-88ae-4b080a0a64bb",
"ip": "192.168.1.112",
"mac": "fe:fc:fe:fb:26:10",
"host_name": "lo1",
"description": "desc1"
}
4.16.16.10.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.10.3. Create DHCP IP/MAC Binding Configuration on Classic Network Router
4.16.16.10.3.1. Scenario¶
Scenario: Create a DHCP IP/MAC binding on the classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
create DHCP IP/MAC binding on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.10.3.2. URI¶
Table 4.16.540 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/ipmacs
Create DHCP IP/MAC
Binding Configuration on
Classic Network Router
Parameter Description:
Table 4.16.541 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
4.16.16.10.3.3. Request¶
Request Parameter
Table 4.16.542 Response Parameter¶
Parameter Location Type Description Required
ip body string Bound IP (Only IPv4 addresses are
supported currently.) Yes
description body string Description (This parameter takes effect
only for HCI 6.7.0 and later versions.) No
mac body string Bound MAC address No
host_name body string Name of the bound node No
 Note
1.A value must be passed in for either the mac parameter or the host_name parameter. 2.The
description parameter takes effect only for HCI 6.7.0 and later versions.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/0f7942ae-1a98-47d1-8840-
a7e8dee4be58/dhcps/2d17e66b-4638-4461-abd0-4cb2b5a12964/ipmacs
{
"ip": "192.166.0.116",
"host_name": "localhost",
"mac": "fe:fc:fe:fb:26:11"
}
4.16.16.10.3.4. Response¶
Response Parameter
Table 4.16.543 Response Parameter¶
Parameter Location Type Description Value Returned
id body string
ID of the IP/MAC
binding
configuration
Yes
dhcp_id body string DHCP ID Yes
ip body string Bound IP Yes
mac body string Bound MAC
address No
host_name body string Name of the bound
node No
description body string Description No
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"ip": "192.166.0.116",
"dhcp_id": "2d17e66b-4638-4461-abd0-4cb2b5a12964",
"mac": "fe:fc:fe:fb:26:11",
"host_name": "localhost",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"id": "dae46b7b-6940-4853-8ef4-632e1a97757b",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37"
}
4.16.16.10.3.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.10.4. Edit DHCP IP/MAC Binding Configuration on Classic Network Router
4.16.16.10.4.1. Scenario¶
Scenario: Edit DHCP IP/MAC binding configurations on the classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
edit DHCP IP/MAC binding configurations on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.10.4.2. URI¶
Table 4.16.544 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/ipmacs/{ipmac_id}
Edit DHCP IP/MAC
Binding Configuration
on Classic Network
Router
Parameter Description:
Table 4.16.545 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
ipmac_id path string
ID of the IP/MAC
binding
configuration
Yes
4.16.16.10.4.3. Request¶
Request Parameter
Table 4.16.546 Response Parameter¶
Parameter Location Type Description Required
ip body string
Bound IP (Only IPv4 addresses are
supported currently.)
No
description body string
Description (This parameter takes
effect only for HCI 6.7.0 and later
versions.)
No
mac body string Bound MAC address No
host_name body string Name of the bound node No
 Note
1.The description parameter takes effect only for HCI 6.7.0 and later versions.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/9eb452a4-f302-4ae5-b798-
be782f8e788a/dhcps/7e1d10bf-ac3a-442d-adcf-3674e08f0cb5/ipmacs/f6837850-f626-4c2c-
8d28-e122c85783b5
{
"ip": "192.166.0.117",
"mac": "fe:fc:fe:fb:26:e1",
"host_name": "test1"
}
4.16.16.10.4.4. Response¶
Response Parameter
Table 4.16.547 Response Parameter¶
Parameter Location Type Description Value Returned
id body string
ID of the IP/MAC
binding
configuration
Yes
dhcp_id body string DHCP ID Yes
ip body string Bound IP Yes
mac body string Bound MAC
address No
host_name body string Name of the bound
node No
description body string Description No
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"ip": "192.166.0.117",
"dhcp_id": "2d17e66b-4638-4461-abd0-4cb2b5a12964",
"mac": "fe:fc:fe:fb:26:e1",
"host_name": "test1",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"id": "dae46b7b-6940-4853-8ef4-632e1a97757b",
"az_id": "26da7a90-3937-43d1-8ae7-1d58d9909f37"
}
4.16.16.10.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.10.5. Bulk Delete DHCP IP/MAC Binding Configurations on Classic Network Router
4.16.16.10.5.1. Scenario¶
Scenario: Bulk delete DHCP IP/MAC binding entries on the classic network router
Roles supported: Super administrator, tenant, and administrator and co-administrator with permission to
bulk delete DHCP IP/MAC binding entries on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.10.5.2. URI¶
Table 4.16.548 API Path and Request Method¶
REST
VERB PATH Description
POST
/janus/20180725/classicrouters/{
router_id}/dhcps/{dhcp_id}/ipmacs/actions/bulkdelete
Bulk Delete DHCP
IP/MAC Binding
Configurations on
Classic Network
Router
Parameter Description:
Table 4.16.549 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
dhcp_id path string DHCP ID Yes
Request Parameter
Table 4.16.550 Response Parameter¶
Parameter Location Type Description Required
ipmac_ids body list(string)
ID of the IP/MAC
binding
configuration
Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/0f7942ae-1a98-47d1-8840-
a7e8dee4be58/dhcps/2d17e66b-4638-4461-abd0-4cb2b5a12964/ipmacs/actions/bulk-delete
{
"ipmac_ids": ["dc04203c-67a9-4c1b-80f4-8445d434e961"]
}
4.16.16.10.5.3. Response¶
Response Parameter
Table 4.16.551 Response Parameter¶
Parameter Type Description
Value
Returned
failed_ipmacs list(dict)
View Parameter Description - failed_ipmacs for
information about IP/MAC configurations that failed
to be deleted.
Yes
Parameter Description - failed_ipmacs:
Table 4.16.552 Parameter Description - failed_ipmacs¶
Parameter Type Description Value Returned
failed_id string Failure ID No
failed_msg string Cause No
 Note
For common response parameters, view Response Format for details
Response example:
{
"failed_ipmacs": []
}
4.16.16.10.5.4. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.11. Classic Network - Router Interface
4.16.16.11.1. Bulk Create Interfaces on Classic Network Router
4.16.16.11.1.1. Scenario¶
Scenario: Bulk create interfaces on the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to bulk create interfaces on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.11.1.2. URI¶
Table 4.16.553 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/ports/actions/bulk-create
Bulk Create
Interfaces on
Classic Network
Router
Parameter Description:
Table 4.16.554 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.11.1.3. Request¶
Request Parameter
Table 4.16.555 Response Parameter¶
Parameter Location Type Description Required
count body int(1, 10) Total interfaces created Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/86b3f902-0e1c-4f65-88d4-
721298612c0d/ports/actions/bulk-create
{
"count": 2
}
4.16.16.11.1.4. Response¶
Response Parameter
Table 4.16.556 Response Parameter¶
Parameter Location Type Description Value Returned
ids body list(string) List of interface IDs Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
count body int Total interfaces
created Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"count": 2,
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"ids": [
"5fb7f3a3-5163-473b-bd7a-093bd4b81aba",
"1811c73d-ed98-41d3-95cd-dc147079242d"
],
"az_id": "a408c069-3147-40be-8404-3216ab6a2629"
}
4.16.16.11.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.11.2. Edit Interface of Classic Network Router
4.16.16.11.2.1. Scenario¶
Scenario: Edit an interface of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to edit interfaces of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.11.2.2. URI¶
Table 4.16.557 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classic-routers/{router_id}/ports/{port_id}
Edit Interface of
Classic Network
Router
Parameter Description:
Table 4.16.558 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
port_id path string Interface ID Yes
4.16.16.11.2.3. Request¶
Request Parameter
Table 4.16.559 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
ipv4 body string
IPv4 address of the
interface
No
ipv4_mask body string
IP netmask of the
interface
No
enable body int(0, 1)
Whether the interface is
enabled (The return value
of status contains the
details and interface list.)
No
secondary_ipv4s body list(string)
IP addresses and
netmasks of secondary
interfaces
No
ipv6 body string
IPv6 address of the
interface (unavailable
currently)
No
ipv6_prefix_len body string
IPv6 prefix length
(unavailable currently)
No
secondary_ipv6s body list(string)
IP addresses and
netmasks of secondary
interfaces (unavailable
currently)
No
device_id body string
HCI ID of the connected
network device (If a null
string is passed in, the
network device is
disconnected.)
Yes
device_type body string
Type of the connected
network device (If a null
string is passed in, the
network device is
disconnected.)
Yes
link_id body string
Port or VLAN ID of the
connected network
device
No
 Note
Parameter Description - device_type
Valid values of device_type include dvs, bvs, and vnet. When no network device is
connected or the network device is disconnected, a null string must be passed in for both
device_id and device_type.
Parameter Description - link_id
When a device of the bvs type is connected, a value must be passed in for link_id. When a
device of the dvs or vnet type is connected, you do not need to specify link_id.
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/bbf0bb28-2307-4a56-a195-ca537324f867
Example 1: Edit an interface (no device connected or disconnected from device)
{
"enable": 1,
"description": "Interface editing test",
"ipv4": "192.80.1.3",
"ipv4_mask": "255.255.255.0",
"secondary_ipv4s": [
"192.70.1.3/255.255.255.0"
],
"device_id": "",
"device_type": ""
}
Example 2: Edit an interface (connected to a switch)
{
"enable": 0,
"description": "Interface editing test (connected to a switch)",
"ipv4": "192.105.33.6",
"ipv4_mask": "255.255.240.0",
"secondary_ipv4s": [
"10.106.33.6/255.255.240.0"
],
"device_id": "074afad8-367f-45ea-82f9-76a18715b7a7",
"device_type": "dvs"
}
4.16.16.11.2.4. Response¶
Response Parameter
Table 4.16.560 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "9c3794fa-23a9-47bd-ae8b-c14ec2a8ffd9"
}
4.16.16.11.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.11.3. Query Interface List of Classic Network Router
4.16.16.11.3.1. Scenario¶
Scenario: Query the interface list of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to query the interface list of a classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.11.3.2. URI¶
Table 4.16.561 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classic-routers/{router_id}/ports Query Interface List of
Classic Network Router
Parameter Description:
Table 4.16.562 Path Parameters¶
Parameter Location Type Description Required
name body string Interface name No
description body string Description No
link_id body string
ID of connection to
peer
No
link_name body string
Name of connection to
peer
No
device_id body string Peer device ID No
device_name body string Peer device name No
device_type body string Peer device type No
status body int Status No
ipv4 body string
IPv4 address of the
interface
No
ipv4_mask body string
IP netmask of the
interface
No
ipv6 body string
IPv6 address of the
interface
No
ipv6_prefix_len body string IPv6 prefix length No
mac body string
MAC address of the
interface
No
mtu body int MTU No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.11.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963a-c51a4a273e11/ports
4.16.16.11.3.4. Response¶
Response Parameter
Table 4.16.563 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of the interface No
name body string Interface name No
description body string Description No
az_id body string Resource pool ID No
project_id body string Tenant ID No
link_id body string ID of connection to peer No
link_name body string Name of connection to peer No
device_id body string Peer device ID No
device_name body string Peer device name No
device_type body string Peer device type No
status body int Status No
ipv4 body string IPv4 address of the interface No
ipv4_mask body string IP netmask of the interface No
ipv6 body string IPv6 address of the interface (A
null string is returned by default.) No
ipv6_prefix_len body string IPv6 prefix length (A null string is
returned by default.) No
mac body string MAC address of the interface No
mtu body int MTU No
Response example:
[
{
"status": 1,
"ipv6_prefix_len": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"description": "Interface editing test",
"ipv4": "192.80.1.3",
"link_id": "",
"mtu": 1500,
"device_id": "",
"mac": "fe:fd:fe:33:91:5e",
"link_name": "",
"ipv4_mask": "255.255.255.0",
"device_type": "",
"ipv6": "",
"device_name": "",
"id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"name": "eth0"
},
{
"status": 1,
"ipv6_prefix_len": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"description": "Editing test 88",
"ipv4": "192.169.0.255",
"link_id": "dbc2ff14-60ce-4bc1-9cf9-78184e9fe15f",
"mtu": 1500,
"device_id": "dfdcfb22-feab-4745-ae53-6055a1d8f881",
"mac": "fe:fd:fe:1b:37:1e",
"link_name": "",
"ipv4_mask": "255.255.240.0",
"device_type": "bvs",
"ipv6": "",
"device_name": "",
"id": "30f58417-b138-4e18-bbf0-4173634c1407",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"name": "eth1"
}
]
4.16.16.11.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.11.4. Query Interface Details of Classic Network Router
4.16.16.11.4.1. Scenario¶
Scenario: Query interface details of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to query interface details of a classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.11.4.2. URI¶
Table 4.16.564 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/ports/{port_id}
Query Interface Details
of Classic Network
Router
Parameter Description:
Table 4.16.565 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
port_id path string HCI ID of the interface Yes
4.16.16.11.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/30f58417-b138-4e18-bbf0-4173634c1407
4.16.16.11.4.4. Response¶
Response Parameter
Table 4.16.566 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string Interface ID Yes
name body string Interface name Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
description body string
Description (This parameter is
available for HCI 6.7.0 and later
versions. For versions earlier
than HCI 6.7.0, a null string is
returned.)
Yes
link_id body string ID of connection to peer Yes
link_name body string Name of connection to peer Yes
device_id body string Peer device ID Yes
device_name body string Peer device name Yes
device_type body string Peer device type Yes
status body int Status Yes
ipv4 body string IPv4 address of the interface Yes
ipv4_mask body string IP netmask of the interface Yes
ipv6 body string
IPv6 address of the interface (A
null string is returned by
default.)
Yes
ipv6_prefix_len body string IPv6 prefix length (A null string
is returned by default.) Yes
mac body string MAC address of the interface Yes
mtu body int MTU Yes
gateway body string Gateway (A null string is
returned by default.) Yes
router_id body string ID of the router where the
interface resides Yes
router_type body string
Type of the router where the
interface resides (In the classic
network, the value is vrouter by
default.)
Yes
secondary_ipv4s body list(string) IPv4 addresses and netmasks of
secondary interfaces Yes
secondary_ipv6s body list(string) IPv6 addresses and netmasks of
secondary interfaces Yes
dhcp6_reply_flag body string Whether DHCPv6 reply is
enabled for vslink Yes
dhcp_reply_flag body string Whether DHCP reply is enabled
for vslink Yes
location body list(string) Run location of the device
where the interface resides Yes
vlan_group_id body string Port group ID Yes
parent_port_id body string ID of parent interface of VLAN
subinterface Yes
vlan body string VLAN ID of the interface Yes
dhcpv6use body string
Whether the interface is
associated with a DHCPv6 IP
address pool
Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"router_id": "64e974d3-46e5-4977-963a-c51a4a273e11",
"secondary_ipv6s": [],
"link_id": "dbc2ff14-60ce-4bc1-9cf9-78184e9fe15f",
"device_type": "bvs",
"secondary_ipv4s": [
"192.170.0.2/255.255.255.0"
],
"device_name": "",
"gateway": "",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"ipv6_prefix_len": "",
"vlan_group_id": "",
"dhcp_reply_flag": "",
"id": "30f58417-b138-4e18-bbf0-4173634c1407",
"link_name": "",
"parent_port_id": "",
"ipv4": "192.169.0.255",
"ipv6": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"location": [],
"status": 1,
"dhcpv6use": "",
"description": "Editing test 88",
"vlan": "",
"mac": "fe:fd:fe:1b:37:1e",
"dhcp6_reply_flag": "",
"device_id": "dfdcfb22-feab-4745-ae53-6055a1d8f881",
"name": "eth1",
"mtu": "",
"ipv4_mask": "255.255.240.0",
"router_type": "vrouter"
}
4.16.16.11.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.11.5. Bulk Delete Interfaces of Classic Network Router
4.16.16.11.5.1. Scenario¶
Scenario: Bulk delete interfaces of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to bulk delete interfaces of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.11.5.2. URI¶
Table 4.16.567 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/ports/actions/bulk-delete
Bulk Delete
Interfaces of Classic
Network Router
Parameter Description:
Table 4.16.568 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.11.5.3. Request¶
Request Parameter
Table 4.16.569 Description of Body Parameter¶
Parameter Type Description Required
port_ids list(string) Interface IDs (Value range: 1-100.) Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/588d1809-e02c-46ad-acc5-
5f161eeb4e2d/ports/actions/bulk-delete
{
"port_ids":[
"1811c73d-ed98-41d3-95cd-dc147079242d",
"5fb7f3a3-5163-473b-bd7a-093bd4b81aba"
]
}
4.16.16.11.5.4. Response¶
Response Parameter
Table 4.16.570 Response Parameter¶
Parameter Type Description
Value
Returned
vrouter list View Parameter Description - vrouter for returned values
of the bulk operation. Yes
Parameter Description - vrouter:
Table 4.16.571 Parameter Description - vrouter¶
Parameter Type Description Value Returned
failed_id string Failure ID Yes
failed_msg string Failure message Yes
 Note
For common response parameters, view Response Format for details
Response example:
Example: Bulk interface deletion succeeded
{
"vrouter": []
}
4.16.16.11.5.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.12. Classic Network - VLAN Subinterface on Router
4.16.16.12.1. Create VLAN Subinterface on Classic Network Router
4.16.16.12.1.1. Scenario¶
Scenario: Create a VLAN subinterface on the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to create a VLAN subinterface on the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.12.1.2. URI¶
Table 4.16.572 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/ports/vlans
Create VLAN Subinterface
on Classic Network Router
Parameter Description:
Table 4.16.573 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.12.1.3. Request¶
Request Parameter
Table 4.16.574 Response Parameter¶
Parameter Location Type Description Required
port_id body string Interface ID on SCP Yes
vlan body int VLAN ID of the interface Yes
enable body int(0, 1) Status of the interface Yes
ipv4 body string IPv4 address of the interface No
ipv4_mask body string IP netmask of the interface No
description body string Description No
mac body string
MAC address of the interface (This
parameter is supported for HCI
6.7.0 and later versions.)
No
mtu body int MTU (unavailable currently) No
gateway body string Gateway for VLAN subinterface
(unavailable currently) No
ipv6 body string IPv6 address of the interface
(unavailable currently) No
ipv6_prefix_len body string IPv6 prefix length (unavailable
currently) No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/vlans
{
"port_id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"vlan": 256,
"enable": 0,
"description": "VLAN subinterface creation test",
"ipv4": "10.124.239.111",
"ipv4_mask": "255.255.255.0",
"mac": "fe:fd:fe:b9:aa:ca"
}
4.16.16.12.1.4. Response¶
Response Parameter
Table 4.16.575 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string HCI ID of the VLAN
subinterface Yes
port_id body string Interface ID on SCP Yes
vlan body int VLAN ID of the interface Yes
enable body int(0, 1) Status of the interface Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
ipv4 body string IPv4 address of the
interface No
ipv4_mask body string IP netmask of the
interface No
ipv6 body string IPv6 address of the
interface No
ipv6_prefix_len body string IPv6 prefix length No
description body string Description No
mac body string MAC address of the
interface No
mtu body int MTU No
gateway body string Gateway for the VLAN
subinterface No
 Note
For common response parameters, view Response Format for details
Response example:
{
"ipv6_prefix_len": "",
"enable": 0,
"description": "VLAN subinterface creation test",
"vlan": 256,
"mac": "fe:fd:fe:b9:aa:ca",
"ipv4": "10.124.239.111",
"ipv6": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"port_id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"id": "bf9f3ffb-4e00-4ac3-bfc6-7171607d46f4",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"ipv4_mask": "255.255.255.0"
}
4.16.16.12.1.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.16.12.2. Edit VLAN Subinterface of Classic Network Router
4.16.16.12.2.1. Scenario¶
Scenario: Edit a VLAN subinterface of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to edit a VLAN subinterface of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.12.2.2. URI¶
Table 4.16.576 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/classicrouters/{
router_id}/ports/vlans/{vlan_id}
Edit VLAN
Subinterface of Classic
Network Router
Parameter Description:
Table 4.16.577 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
vlan_id path string
VLAN subinterface
ID
Yes
4.16.16.12.2.3. Request¶
Request Parameter
Table 4.16.578 Response Parameter¶
Parameter Location Type Description Required
description body string Description No
ipv4 body string
IPv4 address of the
interface
No
ipv4_mask body string
IP netmask of the
interface
No
enable body int(0, 1) Status of the interface No
secondary_ipv4s body list(string)
IP addresses and
netmasks of secondary
interfaces
No
ipv6 body string
IPv6 address of the
interface (unavailable
currently)
No
ipv6_prefix_len body string
IPv6 prefix length
(unavailable currently)
No
secondary_ipv6s body list(string)
IP addresses and
netmasks of secondary
interfaces (unavailable
currently)
No
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/vlans/c3aa82f0-8795-4dfe-a31f-6b1448716f76
{
"description": "VLAN editing test",
"enable": 1,
"ipv4": "199.169.0.3",
"ipv4_mask": "255.255.255.0",
"secondary_ipv4s": [
"3.3.3.22/255.255.255.0"
]
}
4.16.16.12.2.4. Response¶
Response Parameter
Table 4.16.579 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "bc2c8fe5-8289-4b7f-a7b1-fabc8378dc3f"
}
4.16.16.12.2.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.12.3. Query List of VLAN Subinterfaces of Classic Network Router
4.16.16.12.3.1. Scenario¶
Scenario: Query the list of VLAN subinterfaces of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to query the list of VLAN subinterfaces of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.12.3.2. URI¶
Table 4.16.580 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/ports/vlans
Query List of VLAN
Subinterfaces of Classic
Network Router
Parameter Description:
Table 4.16.581 Path Parameters¶
Parameter Location Type Description Required
name body string Interface name No
description body string Description No
link_id body string ID of connection to peer No
link_name body string Name of connection to peer No
device_id body string Peer device ID No
device_name body string Peer device name No
device_type body string Peer device type No
status body int Status No
ipv4 body string IPv4 address of the interface No
ipv4_mask body string IP netmask of the interface No
ipv6 body string
IPv6 address of the interface
(unavailable currently)
No
ipv6_prefix_len body string
IPv6 prefix length (unavailable
currently)
No
mac body string MAC address of the interface No
mtu body int MTU No
vlan body string VLAN ID of the interface No
parent_port_id body string
ID of parent interface of VLAN
subinterface
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.16.12.3.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/vlans
4.16.16.12.3.4. Response¶
Response Parameter
Table 4.16.582 Response Parameter¶
Parameter Location Type Description Value Returned
id body string HCI ID of the
interface No
name body string Interface name No
description body string Description No
az_id body string Resource pool ID No
project_id body string Tenant ID No
link_id body string ID of connection to
peer No
link_name body string Name of connection
to peer No
device_id body string Peer device ID No
device_name body string Peer device name No
device_type body string Peer device type No
status body int Status No
ipv4 body string IPv4 address of the
interface No
ipv4_mask body string IP netmask of the
interface No
ipv6 body string IPv6 address of the
interface No
ipv6_prefix_len body string IPv6 prefix length No
mac body string MAC address of the
interface No
mtu body int MTU No
vlan body int VLAN ID of the
interface No
parent_port_id body string ID of parent interface
of VLAN subinterface No
Response example:
[
{
"status": 1,
"ipv6_prefix_len": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"description": "VLAN editing test",
"ipv4": "199.169.0.3",
"vlan": 22,
"link_id": "",
"device_name": "",
"device_id": "",
"mac": "fe:fd:fe:b9:aa:cc",
"link_name": "",
"parent_port_id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"ipv4_mask": "255.255.255.0",
"device_type": "",
"ipv6": "",
"mtu": 1500,
"id": "c3aa82f0-8795-4dfe-a31f-6b1448716f76",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"name": "eth0.22"
},
{
"status": 1,
"ipv6_prefix_len": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"description": "Create VLAN subinterface 3",
"ipv4": "10.103.239.111",
"vlan": 23,
"link_id": "",
"device_name": "",
"device_id": "",
"mac": "fe:fd:fe:b9:aa:cd",
"link_name": "",
"parent_port_id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"ipv4_mask": "255.255.255.0",
"device_type": "",
"ipv6": "",
"mtu": 1500,
"id": "f1955729-073b-45ce-806a-2fe4a7245aed",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"name": "eth0.23"
}
]
4.16.16.12.3.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.12.4. Query Details of VLAN Subinterface of Classic Network Router
4.16.16.12.4.1. Scenario¶
Scenario: Query details of a VLAN subinterface of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to query details of a VLAN subinterface of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.12.4.2. URI¶
Table 4.16.583 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/classicrouters/{
router_id}/ports/vlans/{vlan_id}
Query Details of VLAN
Subinterface of Classic
Network Router
Parameter Description:
Table 4.16.584 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
vlan_id path string
VLAN subinterface
ID
Yes
4.16.16.12.4.3. Request¶
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/64e974d3-46e5-4977-963ac51a4a273e11/
ports/vlans/c3aa82f0-8795-4dfe-a31f-6b1448716f76
4.16.16.12.4.4. Response¶
Response Parameter
Table 4.16.585 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string VLAN subinterface ID Yes
name body string VLAN subinterface name Yes
az_id body string Resource pool ID Yes
project_id body string Tenant ID Yes
description body string
Description (This parameter is
available for HCI 6.7.0 and later
versions. For versions earlier
than HCI 6.7.0, a null string is
returned.)
Yes
link_id body string ID of connection to peer Yes
link_name body string Name of connection to peer Yes
device_id body string Peer device ID Yes
device_name body string Peer device name Yes
device_type body string Peer device type Yes
status body int Status Yes
ipv4 body string IPv4 address of the interface Yes
ipv4_mask body string IP netmask of the interface Yes
ipv6 body string
IPv6 address of the interface (A
null string is returned by
default.)
Yes
ipv6_prefix_len body string IPv6 prefix length (A null string
is returned by default.) Yes
mac body string MAC address of the interface Yes
mtu body int MTU Yes
gateway body int Gateway (A null string is
returned by default.) Yes
router_id body string ID of the router where the
interface resides Yes
interface resides
router_type body string
Type of the router where the
interface resides (In the classic
network, the value is vrouter by
default.)
Yes
secondary_ipv4s body list(string) IPv4 addresses and netmasks of
secondary interfaces Yes
secondary_ipv6s body list(string) IPv6 addresses and netmasks of
secondary interfaces Yes
dhcp6_reply_flag body string Whether DHCPv6 reply is
enabled for vslink Yes
dhcp_reply_flag body string Whether DHCP reply is enabled
for vslink Yes
location body list(string) Run location of the device
where the interface resides Yes
vlan_group_id body string Port group ID Yes
parent_port_id body string ID of parent interface of VLAN
subinterface Yes
vlan body int VLAN ID of the interface Yes
dhcpv6use body string
Whether the interface is
associated with a DHCPv6 IP
address pool
Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"router_id": "64e974d3-46e5-4977-963a-c51a4a273e11",
"secondary_ipv6s": [],
"link_id": "",
"device_type": "",
"secondary_ipv4s": [
"3.3.3.22/255.255.255.0"
],
"device_name": "",
"gateway": "",
"az_id": "a408c069-3147-40be-8404-3216ab6a2629",
"ipv6_prefix_len": "",
"vlan_group_id": "",
"dhcp_reply_flag": "",
"id": "c3aa82f0-8795-4dfe-a31f-6b1448716f76",
"link_name": "",
"parent_port_id": "bbf0bb28-2307-4a56-a195-ca537324f867",
"ipv4": "199.169.0.3",
"ipv6": "",
"project_id": "b7e01b4b6c384ae8aab91515b7061bac",
"location": [],
"status": 1,
"dhcpv6use": "",
"description": "VLAN editing test",
"vlan": 22,
"mac": "fe:fd:fe:b9:aa:cc",
"dhcp6_reply_flag": "",
"device_id": "",
"name": "eth0.22",
"mtu": "",
"ipv4_mask": "255.255.255.0",
"router_type": "vrouter"
}
4.16.16.12.4.5. Response Code¶
OK: 200
Errors: 400, 403, 500
4.16.16.12.5. Bulk Delete VLAN Subinterfaces of Classic Network Router
4.16.16.12.5.1. Scenario¶
Scenario: Bulk delete VLAN subinterfaces of the classic network router
Roles supported: Super administrator, tenant, and custom administrator and co-administrator with
permission to bulk delete VLAN subinterfaces of the classic network router
Versions supported: SCP 6.8.50 and later
4.16.16.12.5.2. URI¶
Table 4.16.586 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/classicrouters/{
router_id}/ports/vlans/actions/bulk-delete
Bulk Delete VLAN
Subinterfaces of
Classic Network
Router
Parameter Description:
Table 4.16.587 Path Parameters¶
Parameter Location Type Description Required
router_id path string Router ID Yes
4.16.16.12.5.3. Request¶
Request Parameter
Table 4.16.588 Description of Body Parameter¶
Parameter Type Description Required
vlan_ids list(string) Interface IDs (Value range: 1-100.) Yes
Request Example
https://{SCP_IP}/janus/20180725/classic-routers/c170d7d6-8cb9-4c59-9ad5-
8cd99a3dfdf4/ports/vlans/actions/bulk-delete
{
"port_ids":[
"7787627d-8ee6-4fb6-9d5c-8e4d1caa29f7",
"5fb7f3a3-5163-473b-bd7a-093bd4b81aba"
]
}
4.16.16.12.5.4. Response¶
Response Parameter
Table 4.16.589 Response Parameter¶
Parameter Type Description
Value
Returned
vrouter list View Parameter Description - vrouter for returned values
of the bulk operation. Yes
Parameter Description - vrouter:
Table 4.16.590 Parameter Description - vrouter¶
Parameter Type Description Value Returned
failed_id string Failure ID Yes
failed_msg string Failure message Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"vrouter": []
}
4.16.16.12.5.5. Response Code¶
Success: 201
Errors: 400, 403, 500
4.16.17. ACL Management for VPC
4.16.17.1. ACL Public Parameters for VPC
4.16.17.1.1. ACL action
Table 4.16.591 ACL action¶
Value Description
permit Allow
drop Drop
reject Deny
4.16.17.1.2. ACL Type
Table 4.16.592 ACL Type¶
Value Description
public_network Public network
public_service Shared Services
high_risk_port Risky port
external_traffic External traffic
individual Custom
traffic_and_port High-risk port and external traffic
default Default policy
4.16.17.1.3. Source/destination type
Table 4.16.593 Source/destination type¶
Value Description
ip Specified IP/IP range
all All
vif Gateway
network Network
4.16.17.2. Query the List of ACL Services in VPC
4.16.17.2.1. Scenario
Scenario: Query the list of ACL services in VPC
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to query the service list on a VPC router
Versions supported: SCP 6.8.80 and later
4.16.17.2.2. URI
Table 4.16.594 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vpcs/{vpc_id}/acl-services Query the List of ACL Services
in VPC
Parameter Description:
Table 4.16.595 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
name path string Service name No
group_name path string Group name No
type path string Service type No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.17.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/vpcs/fd220b5c-f419-44b6-8943-0dcea8d99a07/acl-services
4.16.17.2.4. Response
Response Parameter
Table 4.16.596 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string Service ID No
name body string Service name No
group_name body string Group name No
group_id body string Group ID No
type body string Service type. The default value for
predefined services is system. No
protocol_info body list View Parameter Description -
protocol_info for protocol details. No
Parameter Description - protocol_info:
Table 4.16.597 Parameter Description - protocol_info¶
Parameter Type Description Value Returned
protocol string Protocol type Yes
icmp_code int Code of the ICMP
protocol Yes
icmp_type int Type of the ICMP
protocol Yes
port_range string Port range Yes
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response example:
[
{
"name": "ssh",
"group_name": "",
"group_id": "",
"type": "safe",
"id": "8dbaf627-3a77-48e9-bb29-a964f5ccd2be",
"protocol_info": [
{
"icmp_code": 0,
"port_range": "22",
"icmp_type": 0,
"protocol": 6
}
]
},
{
"name": "smb",
"group_name": "",
"group_id": "",
"type": "safe",
"id": "2c75d860-ec2a-4109-b19f-8a840529ed33",
"protocol_info": [
{
"icmp_code": 0,
"port_range": "445",
"icmp_type": 0,
"protocol": 6
}
]
},
]
4.16.17.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.17.3. Query VPC ACL
4.16.17.3.1. Scenario
Scenario: Query VPC ACL
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to query ACL on a VPC network router
Versions supported: SCP 6.8.80 and later
4.16.17.3.2. URI
Table 4.16.598 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vpcs/{vpc_id}/acls Query VPC ACL
Parameter Description:
Table 4.16.599 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
description path string ACL description No
action path string View ACL action for ACL action details. No
enable path int(0,
1) Whether the tenant is enabled No
index path int ACL index No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.16.17.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/vpcs/c95cd26a-efaa-4fa8-aeb2-6b140689c16e/acls
4.16.17.3.4. Response
Response Parameter
Table 4.16.600 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string ACL ID No
description body string Description No
action body string View ACL action for ACL action
details. No
service_ids body list(string) List of service IDs No
src body dict View Parameter Description - src for
source information details. No
dst body dict View Parameter Description - dst for
destination information details. No
index body int ACL index No
default body int(0,1) Whether the ACL is predefined No
priority body int ACL rule priority No
enable body int(0,1) Whether the tenant is enabled No
acl_type body string View ACL Type for ACL type details. No
Parameter Description - src:
Table 4.16.601 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Source/destination type for source type
details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of interface IDs Yes
network_name string Network name (returned for the specified
network) No
Parameter Description - dst:
Table 4.16.602 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Source/destination type for destination
type details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of interface IDs Yes
network_name string Network name (returned for the specified
network) No
 Note
1.View Common Response Parameter Format for common response parameters in the API
list.
Response example:
[
{
"src": {
"network_name": "sunhao11",
"type": "network",
"ip_range": [
"172.16.0.0/24"
],
"vif_ids": []
},
"enable": 1,
"description": "Priority test",
"index": 4,
"default": 0,
"dst": {
"network_name": "Subnet 1",
"type": "network",
"ip_range": [
"192.168.0.0/24"
],
"vif_ids": []
},
"priority": 3,
"action": "drop",
"acl_type": "individual",
"id": "ad2d9cc2-cca7-46a7-88ec-67fd58444157",
"service_ids": [
"01f152f9-73fe-4106-8bb2-78c093d0cb8d",
"2c75d860-ec2a-4109-b19f-8a840529ed33",
"10000000-0000-0000-0000-b5bb7c29a3ab",
"10000000-0000-0000-0000-60550aac10a2",
"10000000-0000-0000-0000-38d48cbcff9c",
"10000000-0000-0000-0000-c53ac35b3008",
"10000000-0000-0000-0000-5115cb56b4ec"
]
},
{
"src": {
"network_name": "Subnet 1",
"type": "network",
"ip_range": [
"192.168.0.0/24"
],
"vif_ids": []
},
"enable": 1,
"description": "Test",
"index": 5,
"default": 0,
"dst": {
"type": "vif",
"ip_range": [],
"vif_ids": [
"7c1dcebd-91a4-4e84-9e49-3d6d4e08a757"
]
},
"priority": 4,
"action": "permit",
"acl_type": "individual",
"id": "f37d5ba4-e324-4ad5-9365-3f255a430784",
"service_ids": [
"8dbaf627-3a77-48e9-bb29-a964f5ccd2be",
"2c75d860-ec2a-4109-b19f-8a840529ed33",
"01f152f9-73fe-4106-8bb2-78c093d0cb8d",
"21946329-b07e-419f-8cdb-51432ff34227"
]
}
]
4.16.17.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.17.4. Query the ACL Details in VPC
4.16.17.4.1. Scenario
Scenario: Query the ACL details in VPC
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to query ACL details on a VPC network router
Versions supported: SCP 6.8.80 and later
4.16.17.4.2. URI
Table 4.16.603 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/vpcs/{vpc_id}/acls/{acl_id} Query the ACL Details in
VPC
Parameter Description:
Table 4.16.604 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
acl_id path string ACL ID Yes
4.16.17.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/vpcs/c95cd26a-efaa-4fa8-aeb2-6b140689c16e/acls/cc6aaeda-
0cf2-4acf-9237-dd1e0192f3fe
4.16.17.4.4. Response
Response Parameter
Table 4.16.605 Response Parameter¶
Parameter Type Description
Value
Returned
id string ACL ID Yes
description string Description Yes
action string View ACL action for ACL action details. Yes
service_ids list(string) List of service IDs Yes
src dict View Parameter Description - src for source
information details. Yes
dst dict View Parameter Description - dst for destination
information details. Yes
index int ACL index Yes
default int(0,1) Whether the ACL is predefined Yes
priority int ACL rule priority Yes
enable int(0,1) Whether the tenant is enabled Yes
acl_type string View ACL Type for ACL type details. Yes
Parameter Description - src:
Table 4.16.606 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Source/destination type for source type
details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of interface IDs Yes
network_name string Network name (returned for the specified
network) No
Parameter Description - dst:
Table 4.16.607 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Source/destination type for destination
type details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of interface IDs Yes
network_name string Network name (returned for the specified
network) No
 Note
For common response parameters, view Response Format for details
Response example:
{
"src": {
"network_name": "sunhao11",
"type": "network",
"ip_range": [
"172.16.0.0/24"
],
"vif_ids": []
},
"enable": 1,
"description": "Priority test",
"index": 4,
"default": 0,
"dst": {
"network_name": "Subnet 1",
"type": "network",
"ip_range": [
"192.168.0.0/24"
],
"vif_ids": []
},
"priority": 3,
"action": "drop",
"acl_type": "individual",
"id": "ad2d9cc2-cca7-46a7-88ec-67fd58444157",
"service_ids": [
"01f152f9-73fe-4106-8bb2-78c093d0cb8d",
"2c75d860-ec2a-4109-b19f-8a840529ed33",
"10000000-0000-0000-0000-b5bb7c29a3ab",
"10000000-0000-0000-0000-60550aac10a2",
"10000000-0000-0000-0000-38d48cbcff9c",
"10000000-0000-0000-0000-c53ac35b3008",
"10000000-0000-0000-0000-5115cb56b4ec"
]
}
4.16.17.4.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.17.5. Create ACL Rule for VPC
4.16.17.5.1. Scenario
Scenario: Create ACL rule for VPC
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to create ACL rules for VPC
Versions supported: SCP 6.8.80 and later
4.16.17.5.2. URI
Table 4.16.608 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/vpcs/{vpc_id}/acls Create ACL Rule for VPC
Parameter Description:
Table 4.16.609 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
4.16.17.5.3. Request
Request Parameter
Table 4.16.610 Response Parameter¶
Parameter Location Type Description Required
action body string View ACL action for ACL action
details. Yes
description body string Description Yes
service_ids body list(string) List of service IDs Yes
src body dict View Parameter Description - src for
source information details. Yes
dst body dict View Parameter Description - dst for
destination information details. Yes
acl_type body string ACL type. The value can only be
individual currently. Yes
Parameter Description - src:
Table 4.16.611 Parameter Description - src¶
Parameter Type Description Required
type string View Source/destination type for source type
details. Yes
ip_range list(string) IP range No
Parameter Description - dst:
Table 4.16.612 Parameter Description - dst¶
Parameter Type Description Required
type string View Source/destination type for destination type
details. Yes
ip_range list(string) IP range No
 Note
Parameter Description - src dst
If the type parameter is set to all or vif, there is no need to pass in a value for the ip_range
parameter. If the type parameter is set to network, the value of the ip_range parameter
must be the subnet CIDR of the VPC, such as 192.168.1.0/24. If the type parameter is set
to ip, the value of the ip_range parameter must be a single IP address (such as
192.168.6.6) or an IP range (such as 192.168.6.7-192.168.6.66).
Parameter Description - action
For HCI 6.7.0 and later, the action can be “reject”.
Request Example
https://{SCP_IP}/janus/20180725/vpcs/365d8848-1243-4c3e-8c17-bad9d65c3b27/acls
{
"action": "permit",
"description": "test",
"service_ids": [
"10000000-0000-0000-0000-34929d1ccae9"
],
"acl_type": "individual",
"src": {
"type": "ip",
"ip_range": [
"192.168.0.69."
]
},
"dst": {
"type": "ip",
"ip_range": [
"192.168.0.70-192.168.0.88"
]
}
}
4.16.17.5.4. Response
Response Parameter
Table 4.16.613 Response Parameter¶
Parameter Location Type Description
Value
Returned
id body string ACL ID Yes
project_id body string Tenant ID Yes
enable body int(0,1) Whether the tenant is enabled No
description body string Description No
action body string ACL action No
service_ids body list(string) List of service IDs No
src body dict View Parameter Description - src for
source information details. Yes
dst body dict View Parameter Description - dst for
destination information details. Yes
Parameter Description - src:
Table 4.16.614 Parameter Description - src¶
Parameter Type Description
Value
Returned
type string View Source/destination type for source type
details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of VPC gateway IDs Yes
Parameter Description - dst:
Table 4.16.615 Parameter Description - dst¶
Parameter Type Description
Value
Returned
type string View Source/destination type for destination type
details. Yes
ip_range list(string) IP range Yes
vif_ids list(string) List of VPC gateway IDs Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"id": "ef3c048c-a7a6-4f0a-9deb-ce968eb5db0e",
"project_id": "ef3c048c-a7a6-4f0a-9deb-ce968eb5db0e",
"action": "permit",
"enable": 1,
"description": "test",
"service_ids": [
"10000000-0000-0000-0000-34929d1ccae9"
],
"src": {
"type": "ip",
"ip_range": [
"192.168.0.69."
]
},
"dst": {
"type": "ip",
"ip_range": [
"192.168.0.70-192.168.0.88"
]
}
}
4.16.17.5.5. Response Code
Success: 201
Errors: 400, 403, 500
4.16.17.6. Edit ACL Rule for VPC
4.16.17.6.1. Scenario
Scenario: Edit ACL rule for VPC
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to edit ACL rules for VPC
Versions supported: SCP 6.8.80 and later
4.16.17.6.2. URI
Table 4.16.616 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/vpcs/{vpc_id}/acls/{acl_id} Edit ACL Rule for VPC
Parameter Description:
Table 4.16.617 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
acl_id path string ACL ID Yes
4.16.17.6.3. Request
Request Parameter
Table 4.16.618 Response Parameter¶
Parameter Location Type Description Required
action body string
View ACL action for ACL
action details.
No
enable body int(0,1) Whether the tenant is enabled No
description body string Description No
service_ids body list(string) List of service IDs No
src body dict
View Parameter Description -
src for source information
details.
No
dst body dict
View Parameter Description -
dst for destination information
details.
No
Parameter Description - src:
Table 4.16.619 Parameter Description - src¶
Parameter Type Description Required
type string View Source/destination type for source type
details. Yes
ip_range list(string) IP range No
Parameter Description - dst:
Table 4.16.620 Parameter Description - dst¶
Parameter Type Description Required
type string View Source/destination type for destination type
details. Yes
ip_range list(string) IP range No
 Note
Parameter Description - src dst
If the type parameter is set to all or vif, there is no need to pass in a value for the ip_range
parameter. If the type parameter is set to network, the value of the ip_range parameter
must be the subnet CIDR of the VPC, such as 192.168.1.0/24. If the type parameter is set
to ip, the value of the ip_range parameter must be a single IP address (such as
192.168.6.6) or an IP range (such as 192.168.6.7-192.168.6.66).
Parameter Description - action
For HCI 6.7.0 and later, the action can be “reject”.
Request Example
https://{SCP_IP}/janus/20180725/vpcs/365d8848-1243-4c3e-8c17-bad9d65c3b27/acls/ef3c048ca7a6-
4f0a-9deb-ce968eb5db0e
{
"src": {
"type": "network",
"ip_range": [
"192.168.0.6/24"
]
},
"dst": {
"type": "vif"
}
}
4.16.17.6.4. Response
Response Parameter
Table 4.16.621 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "6bf0a363-061d-4ebd-801f-2a21f218b2d2"
}
4.16.17.6.5. Response Code
OK: 200
Errors: 400, 403, 500
4.16.17.7. Delete ACL Rule for VPC
4.16.17.7.1. Scenario
Scenario: Delete ACL rule for VPC
Roles supported: Super administrator, tenant, and custom administrator and tenant co-administrator
with permission to delete ACL rules for VPC
Versions supported: SCP 6.8.80 and later
4.16.17.7.2. URI
Table 4.16.622 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/vpcs/{vpc_id}/acls/{acl_id} Delete ACL Rule for
VPC
Parameter Description:
Table 4.16.623 Path Parameters¶
Parameter Location Type Description Required
vpc_id path string VPC ID Yes
acl_id path string ACL ID Yes
4.16.17.7.3. Request
None
Request Example
https://{SCP_IP}/janus/20180725/vpcs/365d8848-1243-4c3e-8c17-bad9d65c3b27/acls/357fd33b-
631f-4496-99b5-8883add63987
4.16.17.7.4. Response
Response Parameter
Table 4.16.624 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response example:
{
"task_id": "f0cd53e4-0b33-469e-93df-8d3e6fd18b71"
}
4.16.17.7.5. Response Code
Success: 201
Errors: 400, 403, 500
4.16.18. Virtual Switches
4.16.18.1. Common Parameters for Virtual Switch
4.16.18.1.1. Port group type
Table 4.16.625 Port group type¶
Value Description
trunk Trunk type
access Access type
4.16.18.1.2. Virtual Switch Status
Table 4.16.626 Virtual Switch Status¶
Value Description
Finish Completed
Failure Failure
Doing Ongoing
CreateFailure Creation failed
UpdateFailure Update failed
DeleteFailure Deletion failed
4.16.18.1.3. Virtual Switch Usage
Table 4.16.627 Virtual Switch Usage¶
Value Description
Mgmt Management network
Vs Storage network
Business VM network
Vxlan Overlay network
Tercom aDesk communication network
Extstorage External storage network
4.16.18.1.4. Virtual Switch Interface Member
Table 4.16.628 Virtual Switch Interface Member¶
Value Description
PhyIface Physical interface
Bond Aggregate interface
VfBond VF aggregate interface
VlanIface VLAN subinterface
4.16.18.1.5. Virtual Switch Interface Aggregation Mode
Table 4.16.629 Virtual Switch Interface Aggregation Mode¶
Value Description
BalanceRR Round robin (static link aggregation)
ActiveBackup Active/Standby (static link aggregation)
BalanceXOR Balanced (static link aggregation)
LACP LACP (dynamic link aggregation)
VsBond Virtual storage non-standard link aggregation
4.16.18.1.6. Virtual Switch Interface Hash Policy
Table 4.16.630 Virtual Switch Interface Hash Policy¶
Value Description
Layer2 L2 load balancer (static link aggregation)
Layer23 L3 load balancer (static link aggregation)
Layer34 L4 load balancer (static link aggregation)
LACPLayer2 LACP L2 load balancer (dynamic link aggregation)
LACPLayer23 LACP L3 load balancer (dynamic link aggregation)
LACPLayer34 LACP L4 load balancer (dynamic link aggregation)
4.16.18.2. Create Virtual Switch
Scenario: Create a virtual switch
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.2.1. URI
Table 4.16.631 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20221230/vswitches/ Create Virtual Switch
Parameter Description:
None
4.16.18.2.2. Request
Request Parameter
Table 4.16.632 Body Parameter¶
Parameter Type Description Required
name string Virtual switch name Yes
description string Virtual switch description No
roles string Usage. For details, see Virtual Switch Usage. Yes
configs array Virtual switch interface configuration. For details, see
Parameter Description - config. Yes
Parameter Description - config
Table 4.16.633 Parameter Description - config¶
Parameter Type Description Required
az_id string Resource pool ID Yes
host_id string Node unique identifier Yes
qos object Virtual switch maximum bandwidth limit. For
details, see Parameter Description - qos. No
service_iface_configs array
List of interface configuration items. For
details, see Parameter Description -
service_iface_configs.
Yes
ifaces array List of virtual switch interface members. For
details, see Parameter Description - ifaces. Yes
Parameter Description - qos
Table 4.16.634 Parameter Description - qos¶
Parameter Type Description Required
enable boolean QoS status No
speed integer Interface speed No
mgmt_egress_limit_mbps integer
Upper limit of
management interface
traffic
No
vxlan_egress_limit_mbps integer Upper limit of overlay
network interface traffic No
vs_egress_limit_mbps integer Upper limit of storage
network interface traffic No
business_egress_limit_mbps integer
Upper limit of edgeconnected
interface
traffic
No
Parameter Description - service_iface_configs
Table 4.16.635 Parameter Description - service_iface_configs¶
Parameter Type Description Required
role string Role Yes
ip string IP address Yes
netmask string Netmask Yes
gateway string Gateway IP address No
vlan_id integer VLAN network ID No
mtu integer Interface MTU Yes
Parameter Description - ifaces
Table 4.16.636 Parameter Description - ifaces¶
Parameter Type Description Required
iface_id string Interface ID Yes
Request Example
https://{SCP_IP}/janus/20221230/vswitches
{
"name": "string",
"description": "string",
"roles": [
"Mgmt"
],
"configs": [
{
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"host_id": "string",
"qos": {
"enable": true,
"mgmt_egress_limit_mbps": 0,
"vxlan_egress_limit_mbps": 0,
"vs_egress_limit_mbps": 0,
"business_egress_limit_mbps": 0
},
"service_iface_configs": [
{
"role": "Mgmt",
"ip": "198.51.100.42",
"netmask": "198.51.100.42",
"gateway": "198.51.100.42",
"vlan_id": 0,
"mtu": 0
}
],
"ifaces": [
{
"iface_id": "string"
}
]
}
]
}
4.16.18.2.3. Response
Response Parameter
Table 4.16.637 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.2.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.18.3. Query List of Virtual Switches
Scenario: Query the list of virtual switches
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.3.1. URI
Table 4.16.638 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20221230/vswitches Query List of Virtual Switches
Parameter Description:
Table 4.16.639 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.18.3.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20221230/vswitches?az_id=a71d1f62-5ec8-4bd1-9e1c-1b292ca09611
4.16.18.3.3. Response
Response Parameter
Table 4.16.640 Response Parameter¶
Parameter Type Description Required
id string Virtual switch ID No
name string Virtual switch name No
az_ids list(string) Resource pool ID No
description string Description No
state string Virtual switch status. For details, see Virtual Switch
Status. No
roles list(string) Usage. For details, see Virtual Switch Usage. No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"total_size": 0,
"page_num": 0,
"page_size": 0,
"next_page_num": "string",
"data": [
{
"id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"az_ids": [
"3fa85f64-5717-4562-b3fc-2c963f66afa6"
],
"name": "string",
"description": "string",
"state": "Finish",
"roles": [
"Mgmt"
]
}
]
}
}
4.16.18.3.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.18.4. Query Virtual Switch Details
Scenario: Query virtual switch details
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.4.1. URI
Table 4.16.641 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20221230/vswitches/{vs_id} Query Virtual Switch
Details
Parameter Description:
Table 4.16.642 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.4.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85ed-a5f56738263c
4.16.18.4.3. Response
Response Parameter
Table 4.16.643 Response Parameter¶
Parameter Type Description Required
id string Virtual switch ID Yes
name string Virtual switch name Yes
description string Virtual switch description No
state string Virtual switch status. For details, see Virtual Switch
Status. Yes
roles string Usage. For details, see Virtual Switch Usage. Yes
configs array Virtual switch interface configuration. For details, see
Parameter Description - config. Yes
Parameter Description - config
Table 4.16.644 Parameter Description - config¶
Parameter Type Description Required
az_id string Resource pool ID Yes
host_id string Node unique identifier Yes
qos object Virtual switch maximum bandwidth limit. For
details, see Parameter Description - qos. No
service_iface_configs array
List of interface configuration items. For
details, see Parameter Description -
service_iface_configs.
Yes
ifaces array List of virtual switch interface members. For
details, see Parameter Description - ifaces. Yes
Parameter Description - qos
Table 4.16.645 Parameter Description - qos¶
Parameter Type Description Required
enable boolean QoS status No
speed integer Interface speed No
mgmt_egress_limit_mbps integer
Upper limit of
management interface
traffic
No
vxlan_egress_limit_mbps integer Upper limit of overlay
network interface traffic No
vs_egress_limit_mbps integer Upper limit of storage
network interface traffic No
business_egress_limit_mbps integer
Upper limit of edgeconnected
interface
traffic
No
Parameter Description - service_iface_configs
Table 4.16.646 Parameter Description - service_iface_configs¶
Parameter Type Description Required
role string Role Yes
ip string IP address Yes
netmask string Netmask Yes
gateway string Gateway IP address No
vlan_id integer VLAN network ID No
mtu integer Interface MTU Yes
Parameter Description - ifaces
Table 4.16.647 Parameter Description - ifaces¶
Parameter Type Description Required
iface_id string Interface ID Yes
iface_name string Interface name Yes
iface_type string Interface type. For details, see Virtual Switch Interface
Member. Yes
bond_mode string Aggregation mode. For details, see Virtual Switch
Interface Aggregation Mode. No
hash_policy integer Hash policy. For details, see Virtual Switch Interface
Hash Policy. No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"name": "string",
"description": "string",
"state": "Finish",
"roles": [
"Mgmt"
],
"configs": [
{
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"host_id": "string",
"qos": {
"enable": true,
"speed": 0,
"mgmt_egress_limit_mbps": 0,
"vxlan_egress_limit_mbps": 0,
"vs_egress_limit_mbps": 0,
"business_egress_limit_mbps": 0
},
"service_iface_configs": [
{
"role": "Mgmt",
"ip": "198.51.100.42",
"netmask": "198.51.100.42",
"gateway": "198.51.100.42",
"vlan_id": 0,
"mtu": 0
}
],
"ifaces": [
{
"iface_id": "string",
"ifname": "string",
"iftype": "PhyIface",
"bond_mode": "BalanceRR",
"hash_policy": "Layer2"
}
]
}
]
}
}
4.16.18.4.4. Response Code
OK: 200
Error: 400, 401, 403, 404, 500
4.16.18.5. Edit Virtual Switch
Scenario: Edit a virtual switch
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.5.1. URI
Table 4.16.648 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20221230/vswitches/{vs_id} Edit Virtual Switch
Parameter Description:
Table 4.16.649 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.5.2. Request
Request Parameter
Table 4.16.650 Body Parameter¶
Parameter Type Description Required
name string Virtual switch name No
description string Virtual switch description No
roles string Usage. For details, see Virtual Switch Usage. No
configs array Virtual switch interface configuration. For details, see
Parameter Description - config. No
Parameter Description - config
Table 4.16.651 Parameter Description - config¶
Parameter Type Description Required
az_id string Resource pool ID Yes
host_id string Node unique identifier Yes
qos object Virtual switch maximum bandwidth limit. For
details, see Parameter Description - qos. No
service_iface_configs array
List of interface configuration items. For
details, see Parameter Description -
service_iface_configs.
Yes
ifaces array List of virtual switch interface members. For
details, see Parameter Description - ifaces. Yes
Parameter Description - qos
Table 4.16.652 Parameter Description - qos¶
Parameter Type Description Required
enable boolean QoS status No
speed integer Interface speed No
mgmt_egress_limit_mbps integer
Upper limit of
management interface
traffic
No
vxlan_egress_limit_mbps integer Upper limit of overlay
network interface traffic No
vs_egress_limit_mbps integer Upper limit of storage
network interface traffic No
business_egress_limit_mbps integer
Upper limit of edgeconnected
interface
traffic
No
Parameter Description - service_iface_configs
Table 4.16.653 Parameter Description - service_iface_configs¶
Parameter Type Description Required
role string Role Yes
ip string IP address Yes
netmask string Netmask Yes
gateway string Gateway IP address No
vlan_id integer VLAN network ID No
mtu integer Interface MTU Yes
Parameter Description - ifaces
Table 4.16.654 Parameter Description - ifaces¶
Parameter Type Description Required
iface_id string Interface ID Yes
Request Example
https://{SCP_IP}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85ed-a5f56738263c
{
"name": "string",
"description": "string",
"roles": [
"Mgmt"
],
"configs": [
{
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"host_id": "string",
"qos": {
"enable": true,
"mgmt_egress_limit_mbps": 0,
"vxlan_egress_limit_mbps": 0,
"vs_egress_limit_mbps": 0,
"business_egress_limit_mbps": 0
},
"service_iface_configs": [
{
"role": "Mgmt",
"ip": "198.51.100.42",
"netmask": "198.51.100.42",
"gateway": "198.51.100.42",
"vlan_id": 0,
"mtu": 0
}
],
"ifaces": [
{
"iface_id": "string"
}
]
}
]
}
4.16.18.5.3. Response
Response Parameter
Table 4.16.655 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.5.4. Response Code
OK: 200
Error: 400, 404, 403, 500
4.16.18.6. Delete Virtual Switch
Scenario: Delete a virtual switch
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.6.1. URI
Table 4.16.656 API Path and Request Method¶
REST VERB PATH Description
DELETE /janus/20221230/vswitches/{vs_id} Delete Virtual Switch
Parameter Description:
Table 4.16.657 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.6.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85ed-a5f56738263c
4.16.18.6.3. Response
Response Parameter
Table 4.16.658 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.6.4. Response Code
OK: 200
Error: 400, 404, 403, 500
4.16.18.7. Create Port Group
Scenario: Create a port group
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.7.1. URI
Table 4.16.659 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20221230/vswitches/{vs_id}/vlangroups/actions Create
Port Group
Parameter Description:
Table 4.16.660 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.7.2. Request
Request Parameter
Table 4.16.661 Response Parameter¶
Parameter Type Description Required
actions string Interface behavior. The value create indicates creating a
port group. Yes
az_id string Resource pool ID of the port group Yes
name string Port group name Yes
description string Port description No
type string Port group type. For details, see Port group type. Yes
vlan_info object VLAN information. For details, see Parameter
Description - vlan_info. Yes
Parameter Description - vlan_info
Table 4.16.662 Parameter Description - vlan_info¶
Parameter Type Description Required
pvid integer The default VLAN ID of the trunk, which is required if
type is set to trunk. No
vlan_range string Port group VLAN ID, which is required if type is set to
trunk. No
vlan integer VLAN ID of the access type, which is required if type is
set to access. No
Request Example
https://{{ip}}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85eda5f56738263c/
vlangroups/actions
{
"action": "create",
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"name": "string",
"description": "string",
"type": "trunk",
"vlan_info": {
"pvid": 0,
"vlan_range": "string"
}
}
4.16.18.7.3. Response
Response Parameter
Table 4.16.663 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.7.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.18.8. Query Port Group List
Scenario: Query port group list
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.8.1. URI
Table 4.16.664 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20221230/vswitches/{vs_id}/vlangroups Query Port
Group List
Parameter Description:
Table 4.16.665 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
az_id path string Resource pool ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.16.18.8.2. Request
Request Parameter
None
Request Example
https://{{ip}}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85ed-a5f56738263c/vlangroups?
az_id=faaddc8b-4bb3-412a-b6e3-f6f09f0bfd5a
4.16.18.8.3. Response
Response Parameter
Table 4.16.666 Response Parameter¶
Parameter Type Description Required
az_id string Resource pool ID of the port group No
vlangroup_id string Port group ID No
name string Port group name No
description string Port description No
type string Port group type. For details, see Port group type. No
vlan_info object VLAN information. For details, see Parameter
Description - vlan_info. No
Parameter Description - vlan_info
Table 4.16.667 Parameter Description - vlan_info¶
Parameter Type Description Required
pvid integer The default VLAN ID of the trunk, which is required if
type is set to trunk. No
vlan_range string Port group VLAN ID, which is required if type is set to
trunk. No
vlan integer VLAN ID of the access type, which is required if type is
set to access. No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"total_size": 0,
"page_num": 0,
"page_size": 0,
"next_page_num": "string",
"data": [
{
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"vlangroup_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"name": "string",
"description": "string",
"type": "trunk",
"vlan_info": {
"pvid": 0,
"vlan_range": "string",
"vlan": 0
}
}
]
}
}
4.16.18.8.4. Response Code
OK: 200
Errors: 400, 403, 500
4.16.18.9. Bulk Delete Port Groups
Scenario: Bulk delete port groups
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.9.1. URI
Table 4.16.668 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20221230/vswitches/{vs_id}/vlangroups/actions Bulk Delete
Port Groups
Parameter Description:
Table 4.16.669 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.9.2. Request
Request Parameter
Table 4.16.670 Response Parameter¶
Parameter Type Description Required
actions string Interface behavior. The value bulk-delete indicates bulk
deleting port groups. Yes
vlangroups array List of IDs of port groups to be deleted. For details, see
Parameter Description - vlangroups. Yes
Parameter Description - vlangroups
Table 4.16.671 Parameter Description - vlangroups¶
Parameter Type Description Required
az_id string Resource pool ID of the port group Yes
vlangroup_id string Port group ID Yes
Request Example
https://{{ip}}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85eda5f56738263c/
vlangroups/actions
{
"action": "bulk-delete",
"vlangroups": [
{
"az_id": "43e0ba76-10ec-4398-b4c2-651854cfed51",
"vlangroup_id": "b0d1a441-6a6f-446d-ac1c-c5c7a7ae0203"
},
{
"az_id": "43e0ba76-10ec-4398-b4c2-651854cfed51",
"vlangroup_id": "a31bd290-470a-48bc-9e93-dacbd01e5b80"
}
]
}
4.16.18.9.3. Response
Response Parameter
Table 4.16.672 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.9.4. Response Code
OK: 200
Error: 400, 404, 403, 500
4.16.18.10. Modify Port Group
Scenario: Modify a port group
Roles supported: administrator
Versions supported: SCP 6.11.1 and later
4.16.18.10.1. URI
Table 4.16.673 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20221230/vswitches/{vs_id}/vlangroups/actions Modify
Port Group
Parameter Description:
Table 4.16.674 Path Parameters¶
Parameter Location Type Description Required
vs_id path string Virtual switch ID Yes
4.16.18.10.2. Request
Request Parameter
Table 4.16.675 Response Parameter¶
Parameter Type Description Required
actions string Interface behavior. The value update indicates
modifying a port group. Yes
az_id string Resource pool ID of the port group Yes
vlangroup_id string Port group ID Yes
name string Port group name No
description string Port description No
type string Port group type. For details, see Port group type. No
vlan_info object VLAN information. For details, see Parameter
Description - vlan_info. No
Parameter Description - vlan_info
Table 4.16.676 Parameter Description - vlan_info¶
Parameter Type Description Required
pvid integer The default VLAN ID of the trunk, which is required if
type is set to trunk. No
vlan_range string Port group VLAN ID, which is required if type is set to
trunk. No
vlan integer VLAN ID of the access type, which is required if type is
set to access. No
Request Example
https://{{ip}}/janus/20221230/vswitches/db8e09de-abbf-4ab8-85eda5f56738263c/
vlangroups/actions
{
"action": "update",
"az_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"vlangroup_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"name": "string",
"description": "string",
"type": "trunk",
"vlan_info": {
"pvid": 0,
"vlan_range": "string"
}
}
4.16.18.10.3. Response
Response Parameter
Table 4.16.677 Response Parameter¶
Parameter Type Description Required
task_id string Asynchronous task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"code": 200,
"message": "Description",
"data": {
"task_id": "string"
}
}
4.16.18.10.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.17. Datastores
4.17.1. Description of Common Datastore Management Parameters
4.17.1.1. Datastore Type
Table 4.17.1 Datastore Type¶
Value Description
sharedisk Shared disk
4.17.1.2. Datastore Status
Table 4.17.2 Datastore Status¶
Value Description
creating Creating
available Available
deleting Deleting
deleted Moved to Recycle Bin
error Abnormal
error_deleting Error occurred while deleting datastore
4.17.2. Query Datastore List
4.17.2.1. Scenario
Scenario: Query the datastore list
Roles supported: Super admin and system admin
Versions supported: SCP6.3.70 and later
4.17.2.2. URI
Table 4.17.3 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/volumes Query Datastore List
4.17.2.2.1. Description
Table 4.17.4 Path Parameters¶
Parameter Location Type Description Required
name path string Datastore
name No
volume_type path string
Datastore
type, view:
Datastore
Type for
details.
No
status path string
Datastore
status, view:
Datastore
Status for
details.
No
user_id path string Datastore
creator ID No
project_id path string Tenant ID No
az_id path string Resource pool
ID No
storage_id path string Storage ID No
target_id path int Target ID No
 Note
When volume_type is sharedisk, az_id, storage_id, target_id can be used to identify the
unique shared disk.
For common path parameters details, see Common Path Parameter Format.
4.17.2.3. Request
4.17.2.3.1. Response Parameter
None
4.17.2.3.2. Request Example
Query the list of tenant datastores:https://{SCP_Endpoint}/janus/20180725/volumes?
project_id=b9f644e5d4ed42358d287b19ea944e71
Query the list of available shared datastores:https://{SCP_Endpoint}/janus/20180725/volumes?
status=available&volume_type=sharedisk
4.17.2.4. Response
4.17.2.4.1. Response Parameter
Table 4.17.5 Response Parameter¶
Parameter Type Description Value Returned
id string Datastore ID No
name string Datastore name No
description string Description No
size int Datastore size (GB) No
volume_type string
Datastore type,
view: Datastore
Type for details.
No
status string
Datastore status,
view: Datastore
Status for details.
No
user_id string Datastore creator ID No
project_id string Tenant ID No
az_id string Resource pool ID No
storage_id string Storage ID No
target_id string Target ID No
disk_id string Disk ID No
created_at string Time created No
updated_at string Time updated No
 Note
1. If you call Edit VM interface to mount a shared disk to the VM, the storage_id in disks can
be passed in to the datastore ID or disk ID;
2. For common response parameters, view Response Format for details
4.17.2.4.2. Response Example
[
{
"status": "available",
"user_id": "ac31898e787447c483b48d3e7832f697",
"description": "Create shared disk-01 for testing",
"created_at": "2021-04-25T04:17:30.000000",
"target_id": "206",
"updated_at": "2021-04-25T04:17:58.000000",
"disk_id": "361f40f51b040ca0847f024f38cbebdae",
"name": "Create_shared_disk-01_for_testing",
"volume_type": "sharedisk",
"storage_id": "71295054_vs_vol_rep2",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"id": "9fda7ed9-0a2a-4fa3-8941-c6580e4a6f3e",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"size": 1
},
{
"status": "available",
"user_id": "ac31898e787447c483b48d3e7832f697",
"description": "Create shared disk-02 for testing",
"created_at": "2021-04-23T09:58:01.000000",
"target_id": "205",
"updated_at": "2021-04-23T09:58:38.000000",
"disk_id": "360e903d6a04cad08f1101f12fd8228c4",
"name": "Create_shared_disk-02_for_testing",
"volume_type": "sharedisk",
"storage_id": "71295054_vs_vol_rep2",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"id": "c3ae3ac1-4da5-40a8-9cd3-1d28fdd6dd71",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"size": 1
}
]
4.17.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.17.3. Query Datastore Details
4.17.3.1. Scenario
Scenario: Query datastore details
Roles supported: Super admin and system admin
Versions supported: SCP6.3.70 and later
4.17.3.2. URI
Table 4.17.6 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/volumes/{volume_id} Query Datastore Details
4.17.3.2.1. Description
Table 4.17.7 Path Parameters¶
Parameter Location Type Description Required
volume_id path string Datastore ID Yes
4.17.3.3. Request
4.17.3.3.1. Response Parameter
None
4.17.3.3.2. Request Example
Query datastore details:https://{SCP_Endpoint}/janus/20180725/volumes/c3ae3ac1-4da5-40a8-9cd3-
1d28fdd6dd71
4.17.3.4. Response
4.17.3.4.1. Response Parameter
Table 4.17.8 Response Parameter¶
Parameter Type Description Value Returned
id string Datastore ID No
name string Datastore name No
description string Description No
size int Datastore size (GB) No
volume_type string
Datastore type,
view: Datastore
Type for details.
No
status string
Datastore status,
view: Datastore
Status for details.
No
user_id string Datastore creator ID No
project_id string Tenant ID No
az_id string Resource pool ID No
storage_id string Storage ID No
target_id string Target ID No
disk_id string Disk ID No
created_at string Time created No
updated_at string Time updated No
 Note
1. If you call Edit VM interface to mount a shared disk to the VM, the storage_id in disks can
be passed in to the datastore ID or disk ID;
2. For common response parameters, view Response Format for details
4.17.3.4.2. Response Example
{
"status": "available",
"user_id": "ac31898e787447c483b48d3e7832f697",
"description": "create_share_disk",
"created_at": "2021-04-23T09:58:01.000000",
"target_id": "205",
"updated_at": "2021-04-23T09:58:38.000000",
"disk_id": "360e903d6a04cad08f1101f12fd8228c4",
"name": "create_share_disk",
"volume_type": "sharedisk",
"storage_id": "71295054_vs_vol_rep2",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"id": "c3ae3ac1-4da5-40a8-9cd3-1d28fdd6dd71",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b",
"size": 1
}
4.17.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.17.4. Create Datastore
4.17.4.1. Scenario
Scenario: Create a datastore, only shared datastores can be created.
Roles supported: Super admin and system admin
Versions supported: SCP6.3.70 and later
4.17.4.2. URI
Table 4.17.9 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/volumes Create Datastore
4.17.4.2.1. Description
None
4.17.4.3. Request
4.17.4.3.1. Response Parameter
Table 4.17.10 Response Parameter¶
Parameter Location Type Description Required
name body string Datastore
name Yes
description body string Description No
az_id body string Resource pool
ID Yes
size body int(1, 64512) Datastore size
(GB) Yes
volume_type body string
Datastore
type, view:
Datastore
Type for
details.
Yes
project_id body string Tenant ID No
storage_id body string Storage ID No
count body string
Number of
created shared
disks (This
parameter is
available in
SCP 6.8.30
and later
versions.)
No
 Note
1. When the datastore type is shared disk:
If you do not specify a storage ID, the system will automatically schedule the VS
storage ID to create a shared disk.
Only ID of VS storage can be specified to create datastores. The Query Storage
List interface can be called to query the corresponding VS storage.
2. The selected resource pool must have a storage tag for VS storage, otherwise the creation
will fail.
4.17.4.3.2. Request Example
Create volume: https://{SCP_Endpoint}/janus/20180725/volumes
{
"name": "create_share_disk",
"description": "create_share_disk",
"size": 1,
"volume_type": "sharedisk",
"az_id": "1c13ef3e-a049-4fc8-bc01-a2b5b279d46b"
}
4.17.4.4. Response
4.17.4.4.1. Response Parameter
Table 4.17.11 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task IDV Yes
 Note
1. After sending the request for creating datastores, you can call the Query Task Information
interface to get task progress. The datastore ID is object_id of the corresponding response
parameter.
2. For common response parameters, view Response Format for details
4.17.4.4.2. Response Example
{
"task_id": "54b815be-d86d-41dc-902b-333c25a4b263"
}
4.17.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.17.5. Delete Datastore
4.17.5.1. Scenario
Scenario: Delete datastore
Roles supported: Super admin and system admin
Versions supported: SCP6.3.70 and later
4.17.5.2. URI
Table 4.17.12 Request Path and Method¶
REST VERB PATH Description
DELETE /janus/20180725/volumes/{volume_id} Delete Datastore
4.17.5.2.1. Description
Table 4.17.13 Path Parameters¶
Parameter Location Type Description Required
volume_id path string Datastore ID Yes
4.17.5.3. Request
4.17.5.3.1. Response Parameter
Table 4.17.14 Response Parameter¶
Parameter Location Type Description Required
force body int(0, 1) Whether to
force deletion Yes
 Note
When force is 0, it indicates soft deletion. In this case, quota for datastores with specific
storage tags will not be deallocated. Only when the datastore is completely deleted (force=1)
will the corresponding quota be deallocated.
4.17.5.3.2. Request Example
{
"force": 1
}
4.17.5.4. Response
4.17.5.4.1. Response Parameter
Table 4.17.15 Response Parameter¶
Parameter Location Type Description Required
task_id path string Tenant ID Yes
 Note
For common response parameters, view Response Format for details
4.17.5.4.2. Response Example
{
"task_id": "5957a45c-53a7-438c-9bce-4e7bf248c56c"
}
4.17.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.18. Scheduling Policies
4.18.1. Common Scheduling Policy Parameters
4.18.1.1. Scheduling policy type
Table 4.18.1 Scheduling policy type¶
Value Description
same_host VM affinity
mutex_host VM Anti-Affinity
mutex_group VM group anti-affinity
same_domain VM-host affinity
4.18.1.2. Types of Scheduling Policy Members
Table 4.18.2 Types of Scheduling Policy Members¶
Value Description
server_group VM group
server Virtual machine
NFV Network Device
4.18.1.3. Types of Scheduling Policy Destinations
Table 4.18.3 Types of Scheduling Policy Destinations¶
Value Description
host_group Node group
4.18.2. Query scheduling policy details
4.18.2.1. Scenario
Scenario: Query scheduling policy details
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
scheduling policies
Versions supported: SCP 6.7.32 and later
4.18.2.2. URI
Table 4.18.4 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/schedule-policies/{policy_id} Query scheduling
policy details
Parameter Description:
Table 4.18.5 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
4.18.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies/38caf9fa-31d7-4469-a964-d08e9b62bdf4
4.18.2.4. Response
Response Parameter
Table 4.18.6 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
type string View Scheduling policy type for scheduling policy
types. Yes
force int(0, 1) Scheduling mode. 0: Prefer to run on the same node,
1: Must run on the same node Yes
enable int(0, 1) Whether the tenant is enabled Yes
status string Policy status Yes
task_status string Task status Yes
region_id string Data center ID (This parameter is reserved and must
be left blank.) Yes
az_id string Resource pool ID Yes
project_id string Tenant ID Yes
created_at string Time created Yes
updated_at string Time updated Yes
members list(dict) View Parameter Description - members for members. Yes
destination list(dict) View Parameter Description - destination for the
scheduling destination. Yes
Parameter Description - members:
Table 4.18.7 Parameter Description - members¶
Parameter Type Description
Value
Returned
id string Group member ID Yes
type string View Types of Scheduling Policy Members for member
types. Yes
Parameter Description - destination:
Table 4.18.8 Parameter Description - destination¶
Parameter Type Description
Value
Returned
id string Destination ID Yes
type string View Types of Scheduling Policy Destinations for
destination types. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "normal",
"enable": 1,
"force": 1,
"region_id": "",
"created_at": "2022-04-15T05:52:25.000000",
"destination": [
{
"type": "host_group",
"id": "b1722170-bca3-403d-95ca-027f32941fd7"
}
],
"updated_at": "2022-04-15T05:52:25.000000",
"project_id": "946262284bbf46f2905a000e9b7bc5eb",
"members": [
{
"type": "server_group",
"id": "6035d861-004a-4b53-8e74-ad246fdb47a7"
}
],
"task_status": "",
"type": "same_domain",
"id": "38caf9fa-31d7-4469-a964-d08e9b62bdf4",
"az_id": "f10ce205-b45f-4af2-9cbd-e1247e82db0c",
"name": "222222222"
}
4.18.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.18.3. Query list of scheduling policies
4.18.3.1. Scenario
Scenario: Query the list of scheduling policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
scheduling policies
Versions supported: SCP 6.7.32 and later
4.18.3.2. URI
Table 4.18.9 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/schedule-policies Query list of scheduling
policies
Parameter Description:
Table 4.18.10 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
type path string View Scheduling policy type for
scheduling policy types. No
force path int(0,
1)
Scheduling mode. 0: Prefer to run on
the same node, 1: Must run on the
same node
No
enable path int(0,
1) Whether the tenant is enabled No
az_id path string Resource pool ID No
member_id path string Member ID No
destination_id path string Destination ID No
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
4.18.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies?name=222222222&type=same_domain
4.18.3.4. Response
Response Parameter
Table 4.18.11 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID No
name string Name No
type string View Scheduling policy type for scheduling policy
types. No
force int(0, 1) Scheduling mode. 0: Prefer to run on the same node,
1: Must run on the same node No
enable int(0, 1) Whether the tenant is enabled No
status string Policy status No
task_status string Task status No
region_id string Data center ID (This parameter is reserved and must
be left blank.) No
az_id string Resource pool ID No
project_id string Tenant ID No
created_at string Time created No
updated_at string Time updated No
members list(dict) View Parameter Description - members for members. No
destination list(dict) View Parameter Description - destination for the
scheduling destination. No
Parameter Description - members:
Table 4.18.12 Parameter Description - members¶
Parameter Type Description
Value
Returned
id string Group member ID Yes
type string View Types of Scheduling Policy Members for member
types. Yes
Parameter Description - destination:
Table 4.18.13 Parameter Description - destination¶
Parameter Type Description
Value
Returned
id string Destination ID Yes
type string View Types of Scheduling Policy Destinations for
destination types. Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "normal",
"enable": 1,
"force": 1,
"region_id": "",
"created_at": "2022-04-15T05:52:25.000000",
"destination": [
{
"type": "host_group",
"id": "b1722170-bca3-403d-95ca-027f32941fd7"
}
],
"updated_at": "2022-04-15T05:52:25.000000",
"project_id": "946262284bbf46f2905a000e9b7bc5eb",
"members": [
{
"type": "server_group",
"id": "6035d861-004a-4b53-8e74-ad246fdb47a7"
}
],
"task_status": "",
"type": "same_domain",
"id": "38caf9fa-31d7-4469-a964-d08e9b62bdf4",
"az_id": "f10ce205-b45f-4af2-9cbd-e1247e82db0c",
"name": "222222222"
}
]
4.18.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.18.4. Create scheduling policy
4.18.4.1. Scenario
Scenario: Create a scheduling policy
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.18.4.2. URI
Table 4.18.14 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/schedule-policies Create scheduling
policy
Parameter Description:
None
4.18.4.3. Request
Request Parameter
Table 4.18.15 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
type string View Scheduling policy type for scheduling policy
types. Yes
force int(0, 1) Scheduling mode. 0: Prefer to run on the same node, 1:
Must run on the same node Yes
enable int(0, 1) Whether the tenant is enabled Yes
region_id string Data center ID (This parameter is reserved and must
be left blank.) No
az_id string Resource pool ID Yes
members list(dict) View Parameter Description - members for members. Yes
destination list(dict) View Parameter Description - destination for the
scheduling destination. No
Parameter Description - members:
Table 4.18.16 Parameter Description - members¶
Parameter Type Description Required
id string Group member ID Yes
type string View Types of Scheduling Policy Members for member
types. Yes
Parameter Description - destination:
Table 4.18.17 Parameter Description - destination¶
Parameter Type Description Required
id string Destination ID Yes
type string View Types of Scheduling Policy Destinations for
destination types. Yes
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
2. Tenants cannot use policies configured with VM-host affinity policy type (same_domain).
3. When type is set to same_host or mutex_host, members must be VMs or NFVs, and the
number of members must be in the range of 2 to 100.
4. When type is set to mutex_group, members must be VM groups, and the number of
members must be in the range of 2 to 100.
5. When type is set to same_domain, members must be VM groups, and the number of
members must be 1.
6. When type is set to same_domain or mutex_group, the value of force must be 1.
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies
{
"name": "test1",
"type": "same_domain",
"force": 0,
"enable": 0,
"az_id": "2465a6f1-419e-4a8e-a90d-a1762b7d961e",
"members": [
{
"id": "bcc729d0-7019-4b60-aa52-6ff754fb743b",
"type": "server_group"
}
],
"destination": [
{
"id": "58344531-87bb-432c-8cdb-5ddb5bf3ab97",
"type": "host_group"
}
]
}
4.18.4.4. Response
Response Parameter
Table 4.18.18 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b604eac1-a89c-49e2-8c78-5b07c4255f3c"
}
4.18.4.5. Response Code
Success: 201
Errors: 400, 403, 500
4.18.5. Bulk delete scheduling policies
4.18.5.1. Scenario
Scenario: Bulk delete scheduling policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.18.5.2. URI
Table 4.18.19 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/schedule-policies/action Bulk delete
scheduling policies
Parameter Description:
None
4.18.5.3. Request
Request Parameter
Table 4.18.20 Description of Body Parameter¶
Parameter Type Description Required
policy_ids list(string) List of scheduling policy IDs Yes
action string Action (in lowercase). Currently, the value can
only be delete. Yes
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies/action
{
"action": "delete",
"policy_ids": ["38caf9fa-31d7-4469-a964-d08e9b62bdf4"]
}
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
4.18.5.4. Response
Response Parameter
Table 4.18.21 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.18.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.18.6. Edit scheduling policy
4.18.6.1. Scenario
Scenario: Edit a scheduling policy
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.18.6.2. URI
Table 4.18.22 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/schedule-policies/{policy_id}
Edit
scheduling
policy
Parameter Description:
Table 4.18.23 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.18.6.3. Request
Request Parameter
Table 4.18.24 Description of Body Parameter¶
Parameter Type Description Required
name string Name No
type string View Scheduling policy type for scheduling policy
types. No
force int(0, 1) Scheduling mode. 0: Prefer to run on the same node, 1:
Must run on the same node No
enable int(0, 1) Whether the tenant is enabled No
members list(dict) View Parameter Description - members for members. No
destination list(dict) View Parameter Description - destination for the
scheduling destination. No
Parameter Description - members:
Table 4.18.25 Parameter Description - members¶
Parameter Type Description Required
id string Group member ID Yes
type string View Types of Scheduling Policy Members for member
types. Yes
Parameter Description - destination:
Table 4.18.26 Parameter Description - destination¶
Parameter Type Description Required
id string Destination ID Yes
type string View Types of Scheduling Policy Destinations for
destination types. Yes
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
2. Tenants cannot use policies configured with VM-host affinity policy type (same_domain).
3. When type is set to same_host or mutex_host, members must be VMs or NFVs, and the
number of members must be in the range of 2 to 100.
4. When type is set to mutex_group, members must be VM groups, and the number of
members must be in the range of 2 to 100.
5. When type is set to same_domain, members must be VM groups, and the number of
members must be 1.
6. When type is set to same_domain or mutex_group, the type cannot be changed. When
type is set to another value, you must also modify the value of members or destination
when you change the type.
7. When type is set to same_domain or mutex_group, the value of force must be 1.
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies
{
"name": "test2"
}
4.18.6.4. Response
Response Parameter
Table 4.18.27 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "cf9e026c-ab3a-4882-89f7-c4f54da91001"
}
4.18.6.5. Response Code
Success: 201
Errors: 400, 403, 500
4.19. Scheduling Groups
4.19.1. Common Scheduling Group Parameters
4.19.1.1. Scheduling Group Types
Table 4.19.1 Scheduling Group Types¶
Value Description
server VM group
host Node group
4.19.1.2. Types of Scheduling Group Members
Table 4.19.2 Types of Scheduling Group Members¶
Value Description
host Node
server Virtual machine
NFV Network Device
4.19.2. Query Scheduling Group Details
4.19.2.1. Scenario
Scenario: Query scheduling group details
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
scheduling policies
Versions supported: SCP 6.7.32 and later
4.19.2.2. URI
Table 4.19.3 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/schedule-groups/{group_id} Query Scheduling
Group Details
Parameter Description:
Table 4.19.4 Path Parameters¶
Parameter Location Type Description Required
group_id path string Scheduling group
ID Yes
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
4.19.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/schedule-groups/b967dd73-9334-42d9-8c5d-7e6a3a146b5c
4.19.2.4. Response
Response Parameter
Table 4.19.5 Response Parameter¶
Parameter Type Description
Value
Returned
id string Scheduling group ID Yes
name string Name Yes
description string Description Yes
type string View Scheduling Group Types for scheduling group
types. Yes
project_id string Tenant ID Yes
region_id string Data center ID (This parameter is reserved and must
be left blank.) Yes
az_id string Resource pool ID Yes
task_status string Task status Yes
created_at string Time created Yes
updated_at string Time updated Yes
policy_ids list(string) List of scheduling policy IDs Yes
members list(dict) View Parameter Description - members for group
members. Yes
extra_info dict View Parameter Description - extra_info for the
scheduling destination. Yes
Parameter Description - members:
Table 4.19.6 Parameter Description - members¶
Parameter Type Description
Value
Returned
id string Group member ID Yes
type string View Types of Scheduling Group Members for types
of group members. Yes
Parameter Description - extra_info:
Table 4.19.7 Parameter Description - extra_info¶
Parameter Type Description Value Returned
fault_domain int Whether it is a fault
domain No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"created_at": "2022-04-13T07:50:22.000000",
"project_id": "7e3e6748c1cd4a5fae4764714694f153",
"region_id": "",
"description": "11111111111",
"updated_at": "2022-04-13T07:50:23.000000",
"name": "1111111",
"members": [
{
"type": "server",
"id": "42bf0d33-a9cb-4489-b7f2-a5591469a132"
}
],
"task_status": "",
"policy_ids": [
"d28157fb-b2bd-453c-aeb3-e75c7c9b661d"
],
"type": "server",
"id": "b967dd73-9334-42d9-8c5d-7e6a3a146b5c",
"az_id": "d8ec0139-fa60-4cc2-a0be-2d384e80ac70",
"extra_info": {
"fault_domain": 0
}
}
4.19.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.19.3. Query list of scheduling groups
4.19.3.1. Scenario
Scenario: Query the list of scheduling groups
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
scheduling policies
Versions supported: SCP 6.7.32 and later
4.19.3.2. URI
Table 4.19.8 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/schedule-groups Query list of
scheduling groups
Parameter Description:
Table 4.19.9 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
type path string View Scheduling Group Types for
scheduling group types. No
task_status path string Task status No
az_id path string Resource pool ID No
project_id path string Tenant ID No
policy_id path string Scheduling policy ID No
member_id path string Group member ID No
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
2. For common path parameters, view Common Path Parameter Format for details.
4.19.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/schedule-groups?name=1111111
4.19.3.4. Response
Response Parameter
Table 4.19.10 Response Parameter¶
Parameter Type Description
Value
Returned
id string Scheduling group ID No
name string Name No
description string Description No
type string View Scheduling Group Types for scheduling group
types. No
project_id string Tenant ID No
region_id string Data center ID (This parameter is reserved and must
be left blank.) No
az_id string Resource pool ID No
task_status string Task status No
created_at string Time created No
updated_at string Time updated No
policy_ids list(string) List of scheduling policy IDs No
members list(dict) View Parameter Description - members for group
members. No
extra_info dict View Parameter Description - extra_info for the
scheduling destination. No
Parameter Description - members:
Table 4.19.11 Parameter Description - members¶
Parameter Type Description
Value
Returned
id string Group member ID Yes
type string View Types of Scheduling Group Members for types
of group members. Yes
Parameter Description - extra_info:
Table 4.19.12 Parameter Description - extra_info¶
Parameter Type Description Value Returned
fault_domain int Whether it is a fault
domain No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"created_at": "2022-04-13T07:50:22.000000",
"project_id": "7e3e6748c1cd4a5fae4764714694f153",
"region_id": "",
"description": "11111111111",
"updated_at": "2022-04-13T07:50:23.000000",
"name": "1111111",
"members": [
{
"type": "server",
"id": "42bf0d33-a9cb-4489-b7f2-a5591469a132"
}
],
"task_status": "",
"policy_ids": [
"d28157fb-b2bd-453c-aeb3-e75c7c9b661d"
],
"type": "server",
"id": "b967dd73-9334-42d9-8c5d-7e6a3a146b5c",
"az_id": "d8ec0139-fa60-4cc2-a0be-2d384e80ac70",
"extra_info": {
"fault_domain": 0
}
}
]
4.19.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.19.4. Create scheduling group
4.19.4.1. Scenario
Scenario: Create a scheduling group
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.19.4.2. URI
Table 4.19.13 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/schedule-groups
Create
scheduling
group
Parameter Description:
None
4.19.4.3. Request
Request Parameter
Table 4.19.14 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
description string Description Yes
type string View Scheduling Group Types for scheduling group
types. Yes
region_id string Data center ID (This parameter is reserved and must
be left blank.) No
az_id string Resource pool ID Yes
members list(dict) View Parameter Description - members for group
members. Yes
Parameter Description - members:
Table 4.19.15 Parameter Description - members¶
Parameter Type Description Required
id string Group member ID Yes
type string View Types of Scheduling Group Members for types
of group members. Yes
 Note
1. Only VMs running on the same node (same host_id values) can be added to a VM group.
2. VMs in the lost state or stored in the local storage cannot be used in scheduling policies or
added to VM groups.
3. Tenants cannot create node groups.
4. Scheduling groups can be created only when the tenant has a dedicated resource pool.
Request Example
https://{SCP_IP}/janus/20180725/schedule-groups
{
"name": "test_1",
"type": "server",
"az_id": "d8ec0139-fa60-4cc2-a0be-2d384e80ac70",
"description": "sunhao_test",
"members": [
{
"type": "server",
"id": "42bf0d33-a9cb-4489-b7f2-a5591469a132"
}
]
}
4.19.4.4. Response
Response Parameter
Table 4.19.16 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b133112c-a5e3-445f-b958-b74a067db2ee"
}
4.19.4.5. Response Code
Success: 201
Errors: 400, 403, 500
4.19.5. Bulk delete scheduling groups
4.19.5.1. Scenario
Scenario: Bulk delete scheduling groups
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.19.5.2. URI
Table 4.19.17 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/schedule-groups/action Bulk delete
scheduling groups
Parameter Description:
None
4.19.5.3. Request
Request Parameter
Table 4.19.18 Description of Body Parameter¶
Parameter Type Description Required
group_ids list(string) List of scheduling group IDs Yes
action string Action (in lowercase). Currently, the value can
only be delete. Yes
Request Example
https://{SCP_IP}/janus/20180725/schedule-groups/action
{
"action": "delete",
"group_ids": ["f1670693-c70d-4794-babd-6d76fb6be94e"]
}
 Note
1. This API can be called only when the tenant has a dedicated resource pool.
2. The group with nodes in the fault domain cannot be deleted.
4.19.5.4. Response
Response Parameter
Table 4.19.19 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.19.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.19.6. Update scheduling group
4.19.6.1. Scenario
Scenario: Update a scheduling group
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure scheduling policies
Versions supported: SCP 6.7.32 and later
4.19.6.2. URI
Table 4.19.20 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/schedule-groups/{group_id}
Update
scheduling
group
Parameter Description:
Table 4.19.21 Path Parameters¶
Parameter Location Type Description Required
group_id path string ID Yes
4.19.6.3. Request
Request Parameter
Table 4.19.22 Description of Body Parameter¶
Parameter Type Description Required
name string Name No
description string Description No
members list(dict) View Parameter Description - members for group
members. No
Parameter Description - members:
Table 4.19.23 Parameter Description - members¶
Parameter Type Description Required
id string Group member ID Yes
type string View Types of Scheduling Group Members for types
of group members. Yes
 Note
1. VM group update is supported only for VMs running on the same node.
2. VMs in the lost state or stored in the local storage cannot be used in scheduling policies or
added to VM groups.
3. The group with nodes in the fault domain cannot be edited.
Request Example
https://{SCP_IP}/janus/20180725/schedule-groups/55041077-b360-4e6c-9a2a-12f7be208a0c
{
"name": "test2",
"description": "Update scheduling group",
}
4.19.6.4. Response
Response Parameter
Table 4.19.24 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "cf9e026c-ab3a-4882-89f7-c4f54da91001"
}
4.19.6.5. Response Code
Success: 201
Errors: 400, 403, 500
4.20. Backup Policies
4.20.1. Query backup policies
4.20.1.1. Scenario
Scenario: Query backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
backup policies or CDP policies
Versions supported: SCP 6.3.83 and later
4.20.1.2. URI
Table 4.20.1 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/backup-policies/{policy_id} Query backup
policies
Parameter Description:
Table 4.20.2 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.20.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/4797f6ba-8949-4a9c-85ac-99c803b6ae1b
4.20.1.4. Response
Response Parameter
Table 4.20.3 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
description string Description Yes
enable int(0, 1) Whether the tenant is enabled Yes
type string Backup type. Valid values: local and cdp Yes
trigger_cron string
Trigger time (Cron expression). For details,
visit https://www.gairuo.com/p/cronexpression-
sheet.
Yes
project_id string Tenant ID Yes
user_id string User ID Yes
region_id string Data center ID. This parameter is not
supported for a private cloud. Yes
az_id string Resource pool ID Yes
vault_id string Backup repository ID Yes
resources list(dict) View Parameter Description - resources for
the backup object list. Yes
scheduled_operation dict
View Parameter Description -
scheduled_operation for scheduled
operations.
Yes
Parameter Description - resources:
Table 4.20.4 Parameter Description - resources¶
Parameter Type Description
Value
Returned
id string Resource ID Yes
type string Resource type Yes
extra_info dict View Parameter Description - extra_info for additional
parameters. No
Parameter Description - extra_info:
Table 4.20.5 Parameter Description - extra_info¶
Parameter Type
Value
Returned Description
enable int(0, 1) Yes Whether to enable a VM. Default value: 1
iolog_storage_id string No ID of the repository where IO activity logs are
stored. This parameter is specific to CDP.
iolog_capacity_gb int No Maximum space for IO activity logs (GB). This
parameter is specific to CDP.
iolog_buffer_gb int No Upper limit of the cache for IO activity logs
(GB). This parameter is specific to CDP.
Parameter Description - scheduled_operation:
Table 4.20.6 Parameter Description - scheduled_operation¶
Parameter Type
Value
Returned Description
duration_hours int No
Maximum duration of a backup task. -1
indicates no limit. This parameter is specific
to scheduled backup.
enable_timeout_cancel int(0,
1) No
Whether to enable automatic backup
cancellation upon timeout. This parameter is
specific to scheduled backup.
interval_hours int No Interval for creating baseline backups. This
parameter is specific to CDP.
iolog_interval_ms int No Interval for storing IO activity logs (ms). This
parameter is specific to CDP.
iolog_retention_hour int No Retention duration of IO activity logs (h).
This parameter is specific to CDP.
warn_times_limit int No RPO warning threshold. This parameter is
specific to CDP.
times_limit int No
Period for the RPO warning count. An alert is
triggered if 3 warnings are generated within
this period. This parameter is specific to
CDP.
alert_threshold int No RPO alert threshold. This parameter is
specific to CDP.
retention dict No View Parameter Description - retention for
backup retention configurations.
scheduled_full_backup dict No
View Parameter Description -
scheduled_full_backup for configurations of
scheduled full backup.
scheduled_auto_archive dict No
View Parameter Description -
scheduled_auto_archive for configurations of
scheduled automatic archiving.
Parameter Description - retention:
Table 4.20.7 Parameter Description - retention¶
Parameter Type Value Returned Description
all string Yes Duration for retaining all backups
day string Yes Time setting for retaining one backup
each day
week string Yes Time setting for retaining one backup
each week
month string Yes Time setting for retaining one backup
each month
year string Yes Time setting for retaining one backup
each year
Parameter Description - scheduled_full_backup:
Table 4.20.8 Parameter Description - scheduled_full_backup¶
Parameter Type
Value
Returned Description
enable int(0,
1) Yes
Whether to enable scheduled full backup. When this
parameter is set to 0, other parameters do not take
effect. When this parameter is set to 1, other
parameters use the default values.
months string No Month in which full backup is performed
day string No Specific day in a week on which full backup is performed
hour string No Time at which full backup is performed
week string No First or last week of the selected month in which full
backup is performed
Parameter Description - scheduled_auto_archive:
Table 4.20.9 Parameter Description - scheduled_auto_archive¶
Parameter Type
Value
Returned Description
enable int(0,
1) Yes Whether to enable automatic archiving
storage_id string No ID of the datastore to which backups are
archived
months string No Month in which archiving is performed
day string No Specific day in a week on which archiving is
performed
hour string No Archiving time
week string No First or last week of the selected month in which
backups are archived
retention string No Retention period for the archived backups
expiration string No Time when the archived data is deleted
enable_compress int(0,
1) No Whether to compress the archives. 1: Compress,
0: Do not compress.
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"enable": 1,
"user_id": "a0df37fbfc9e4f8c801fd9b26f814c04",
"region_id": "",
"name": "Scheduled backup",
"trigger_cron": "0 0 23 ? * 5",
"vault_id": "9617816f_vs_vol_rep2",
"resources": [
{
"type": "server",
"id": "36b0663e-35a7-4e31-8344-b9d2168f4f79",
"extra_info": {
"enable": 1
}
}
],
"scheduled_operation": {
"scheduled_auto_archive": {
"week": "",
"enable": 0,
"hour": "",
"months": "",
"expiration": "",
"storage_id": "",
"enable_compress": 0,
"day": "",
"retention": ""
},
"scheduled_full_backup": {
"week": "last",
"enable": 1,
"day": "5",
"hour": "22",
"months": "1,2,3,4,5,6,7,8,9,10,11,12"
},
"duration_hours": 48,
"retention": {
"week": "-1",
"all": "1,m",
"month": "-1",
"day": "-1",
"year": "-1"
},
"enable_timeout_cancel": 0
},
"project_id": "a2022eb3582042faad9cfb8a2dac3cd0",
"type": "local",
"id": "b29e5080-b0a6-486e-aa5d-cd40d15b9d29",
"az_id": "cb49660a-2906-46bf-aa39-701bb0e1cb66",
"description": ""
}
}
4.20.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.20.2. Query backup policy list
4.20.2.1. Scenario
Scenario: Query the backup policy list
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
backup policies or CDP policies
Versions supported: SCP 6.3.83 and later
4.20.2.2. URI
Table 4.20.10 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/backup-policies Query backup policy list
Parameter Description:
Table 4.20.11 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
enable path int(0, 1) Whether the tenant is enabled No
type path string Backup type. Valid values: ‘local’ and
‘cdp’ No
project_id path string Tenant ID No
user_id path string User ID No
az_id path string Resource pool ID No
vault_id path string ID of the backup repository No
resource_id path string Resource ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.20.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/backup-policies?type=local&enable=1
4.20.2.4. Response
Response Parameter
Table 4.20.12 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID No
name string Name No
description string Description No
enable int(0, 1) Whether the tenant is enabled No
type string Backup type. Valid values: local and cdp No
trigger_cron string
Trigger time (Cron expression). For details,
visit https://www.gairuo.com/p/cronexpression-
sheet.
No
project_id string Tenant ID No
user_id string User ID No
region_id string Data center ID. This parameter is not
supported for a private cloud. No
az_id string Resource pool ID No
vault_id string Backup repository ID No
resources list(dict) View Parameter Description - resources for
the backup object list. No
scheduled_operation dict
View Parameter Description -
scheduled_operation for scheduled
operations.
No
Parameter Description - resources:
Table 4.20.13 Parameter Description - resources¶
Parameter Type Description
Value
Returned
id string Resource ID Yes
type string Resource type Yes
extra_info dict View Parameter Description - extra_info for additional
parameters. No
Parameter Description - extra_info:
Table 4.20.14 Parameter Description - extra_info¶
Parameter Type
Value
Returned Description
enable int(0, 1) Yes Whether to enable a VM. Default value: 1
iolog_storage_id string No ID of the repository where IO activity logs are
stored. This parameter is specific to CDP.
iolog_capacity_gb int No Maximum space for IO activity logs (GB). This
parameter is specific to CDP.
iolog_buffer_gb int No Upper limit of the cache for IO activity logs
(GB). This parameter is specific to CDP.
Parameter Description - scheduled_operation:
Table 4.20.15 Parameter Description - scheduled_operation¶
Parameter Type
Value
Returned Description
duration_hours int No
Maximum duration of a backup task. -1
indicates no limit. This parameter is specific
to scheduled backup.
enable_timeout_cancel int(0,
1) No
Whether to enable automatic backup
cancellation upon timeout. This parameter is
specific to scheduled backup.
interval_hours int No Interval for creating baseline backups. This
parameter is specific to CDP.
iolog_interval_ms int No Interval for storing IO activity logs (ms). This
parameter is specific to CDP.
iolog_retention_hour int No Retention duration of IO activity logs (h).
This parameter is specific to CDP.
warn_times_limit int No RPO warning threshold. This parameter is
specific to CDP.
times_limit int No
Period for the RPO warning count. An alert is
triggered if 3 warnings are generated within
this period. This parameter is specific to
CDP.
alert_threshold int No RPO alert threshold. This parameter is
specific to CDP.
retention dict No View Parameter Description - retention for
backup retention configurations.
scheduled_full_backup dict No
View Parameter Description -
scheduled_full_backup for configurations of
scheduled full backup.
scheduled_auto_archive dict No
View Parameter Description -
scheduled_auto_archive for configurations of
scheduled automatic archiving.
Parameter Description - retention:
Table 4.20.16 Parameter Description - retention¶
Parameter Type Value Returned Description
all string Yes Duration for retaining all backups
day string Yes Time setting for retaining one backup
each day
week string Yes Time setting for retaining one backup
each week
month string Yes Time setting for retaining one backup
each month
year string Yes Time setting for retaining one backup
each year
Parameter Description - scheduled_full_backup:
Table 4.20.17 Parameter Description - scheduled_full_backup¶
Parameter Type
Value
Returned Description
enable int(0,
1) Yes
Whether to enable scheduled full backup. When this
parameter is set to 0, other parameters do not take
effect. When this parameter is set to 1, other
parameters use the default values.
months string No Month in which full backup is performed
day string No Specific day in a week on which full backup is performed
hour string No Time at which full backup is performed
week string No First or last week of the selected month in which full
backup is performed
Parameter Description - scheduled_auto_archive:
Table 4.20.18 Parameter Description - scheduled_auto_archive¶
Parameter Type
Value
Returned Description
enable int(0,
1) Yes Whether to enable automatic archiving
storage_id string No ID of the datastore to which backups are
archived
months string No Month in which archiving is performed
day string No Specific day in a week on which archiving is
performed
hour string No Archiving time
week string No First or last week of the selected month in which
backups are archived
retention string No Retention period for the archived backups
expiration string No Time when the archived data is deleted
enable_compress int(0,
1) No Whether to compress the archives. 1: Compress,
0: Do not compress.
 Note
View Common Response Parameter Format for common response parameters in the API list.
Response Example:
{
"message": "",
"code": 0,
"data": {
"total_size": 2,
"data": [
{
"enable": 1,
"user_id": "a0df37fbfc9e4f8c801fd9b26f814c04",
"region_id": "",
"name": "Scheduled backup",
"trigger_cron": "0 0 23 ? * 5",
"vault_id": "9617816f_vs_vol_rep2",
"resources": [
{
"type": "server",
"id": "36b0663e-35a7-4e31-8344-b9d2168f4f79",
"extra_info": {
"enable": 1
}
}
}
],
"scheduled_operation": {
"scheduled_auto_archive": {
"week": "",
"enable": 0,
"hour": "",
"months": "",
"expiration": "",
"storage_id": "",
"enable_compress": 0,
"day": "",
"retention": ""
},
"scheduled_full_backup": {
"week": "last",
"enable": 1,
"day": "5",
"hour": "22",
"months": "1,2,3,4,5,6,7,8,9,10,11,12"
},
"duration_hours": 48,
"retention": {
"week": "-1",
"all": "1,m",
"month": "-1",
"day": "-1",
"year": "-1"
},
"enable_timeout_cancel": 0
},
"project_id": "a2022eb3582042faad9cfb8a2dac3cd0",
"type": "local",
"id": "b29e5080-b0a6-486e-aa5d-cd40d15b9d29",
"az_id": "cb49660a-2906-46bf-aa39-701bb0e1cb66",
"description": ""
},
{
"enable": 1,
"user_id": "a0df37fbfc9e4f8c801fd9b26f814c04",
"region_id": "",
"name": "CDP policy",
"trigger_cron": "",
"vault_id": "9617816f_vs_vol_rep2",
"resources": [
{
"type": "server",
"id": "fa8b1fd7-c318-4dcf-a264-056e0a0b6dcf",
"extra_info": {
"iolog_storage_id": "9617816f_vs_vol_rep2",
"iolog_buffer_gb": 2,
"enable": 1,
"iolog_capacity_gb": 100
}
}
],
"scheduled_operation": {
"times_limit": 3600,
"alert_threshold": 1800,
"scheduled_auto_archive": {
"week": "",
"enable": 0,
"hour": "",
"months": "",
"expiration": "",
"storage_id": "",
"enable_compress": 0,
"day": "",
"retention": ""
},
"scheduled_full_backup": {
"week": "last",
"enable": 1,
"day": "5",
"hour": "",
"months": "1,2,3,4,5,6,7,8,9,10,11,12"
},
"iolog_retention_hour": 24,
"iolog_interval_ms": 5000,
"warn_times_limit": 600,
"interval_hours": 1,
"retention": {
"week": "2,w",
"all": "3,d",
"month": "-1",
"day": "1,w",
"year": "-1"
"year": "-1"
}
},
"project_id": "a2022eb3582042faad9cfb8a2dac3cd0",
"type": "cdp",
"id": "84332c41-6239-410f-b16a-8fd563ac68a4",
"az_id": "cb49660a-2906-46bf-aa39-701bb0e1cb66",
"description": ""
}
],
"next_page_num": "",
"page_num": 0,
"page_size": 100
}
}
4.20.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.20.3. Bulk delete backup policies
4.20.3.1. Scenario
Scenario: Bulk delete backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to write
backup policies or CDP policies. Only the administrator can delete CDP policies.
Versions supported: SCP 6.3.83 and later
4.20.3.2. URI
Table 4.20.19 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/backup-policies/delete Bulk delete backup
policies
Parameter Description:
None
4.20.3.3. Request
Request Parameter
Table 4.20.20 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) IDs of backup policies Yes
delete_backup_files body int(0, 1)
Whether to delete backup
files created by backup
policies
Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/delete
{
"policy_ids": ["52891685-e631-4f09-833d-c30976d791f3"],
"delete_backup_files": 1
}
4.20.3.4. Response
Response Parameter
Table 4.20.21 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "d5ae0d43-4afc-4f27-a851-9989a7083d9d"
}
4.20.3.5. Response Code
OK: 200
Errors: 400, 403, 409, 500
4.20.4. Bulk execute backup policies
4.20.4.1. Scenario
Scenario: Bulk execute backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to write
backup policies or CDP policies. Only the administrator can delete CDP policies.
Versions supported: SCP 6.3.83 and later
4.20.4.2. URI
Table 4.20.22 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/backup-policies/execute Bulk execute backup
policies
Parameter Description:
None
4.20.4.3. Request
Request Parameter
Table 4.20.23 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) IDs of backup
policies Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/execute
{
"policy_ids": ["52891685-e631-4f09-833d-c30976d791f3"]
}
4.20.4.4. Response
Response Parameter
Table 4.20.24 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b1ca936a-ba70-4b1a-b1ca-9f2de7ae323e"
}
4.20.4.5. Response Code
OK: 200
Errors: 400, 403, 404，500
4.20.5. Bulk archive backup policies
4.20.5.1. Scenario
Scenario: Bulk archive backups created by backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to write
backup policies or CDP policies. Only the administrator can delete CDP policies.
Versions supported: SCP 6.3.83 and later
4.20.5.2. URI
Table 4.20.25 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/backup-policies/archive Bulk archive backup
policies
Parameter Description:
None
4.20.5.3. Request
Request Parameter
Table 4.20.26 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) IDs of backup
policies Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/archive
{
"policy_ids": ["52891685-e631-4f09-833d-c30976d791f3"]
}
4.20.5.4. Response
Response Parameter
Table 4.20.27 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "ebc50fb5-cd66-4c18-a5a0-a3b1575eb554"
}
4.20.5.5. Response Code
OK: 200
Errors: 400, 403, 404，500
4.20.6. Bulk enable backup policies
4.20.6.1. Scenario
Scenario: Bulk enable backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to write
backup policies or CDP policies. Only the administrator can delete CDP policies.
Versions supported: SCP 6.3.83 and later
4.20.6.2. URI
Table 4.20.28 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/backup-policies/enable Bulk enable backup
policies
Parameter Description:
None
4.20.6.3. Request
Request Parameter
Table 4.20.29 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) IDs of backup
policies Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/enable
{
"policy_ids": ["52891685-e631-4f09-833d-c30976d791f3"]
}
4.20.6.4. Response
Response Parameter
Table 4.20.30 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "7f46efad-9e17-4ae3-b42b-867334e9944a"
}
4.20.6.5. Response Code
OK: 200
Errors: 400, 403, 404，500
4.20.7. Bulk disable backup policies
4.20.7.1. Scenario
Scenario: Bulk disable backup policies
Roles supported: Administrator, system administrator, tenant, and other roles with permission to write
backup policies or CDP policies. Only the administrator can delete CDP policies.
Versions supported: SCP 6.3.83 and later
4.20.7.2. URI
Table 4.20.31 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/backup-policies/disable Bulk disable backup
policies
Parameter Description:
None
4.20.7.3. Request
Request Parameter
Table 4.20.32 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) IDs of backup
policies Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/disable
{
"policy_ids": ["52891685-e631-4f09-833d-c30976d791f3"]
}
4.20.7.4. Response
Response Parameter
Table 4.20.33 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "2ea4caf4-069d-4656-beb5-7ece370b0d00"
}
4.20.7.5. Response Code
OK: 200
Errors: 400, 403, 404，500
4.20.8. Create backup policy
4.20.8.1. Scenario
Scenario: Create a backup policy
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure backup policies or CDP policies
Versions supported: SCP 6.3.83 and later
4.20.8.2. URI
Table 4.20.34 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/backup-policies Create backup
policy
Parameter Description:
Table 4.20.35 Path Parameters¶
Parameter Type Description Required
name string Name Yes
description string Description Yes
enable int(0, 1) Whether the tenant is enabled Yes
type string Backup type. Valid values: local and cdp Yes
trigger_cron string
Trigger time (Cron expression). For details,
visit https://www.gairuo.com/p/cronexpression-
sheet.
Yes
project_id string Tenant ID Yes
user_id string User ID Yes
region_id string Data center ID. This parameter is not
supported for a private cloud. No
az_id string Resource pool ID Yes
vault_id string Backup repository ID No
resources list(dict) View Parameter Description - resources for
the backup object list. Yes
scheduled_operation dict
View Parameter Description -
scheduled_operation for scheduled
operations.
Yes
Parameter Description - resources:
Table 4.20.36 Parameter Description - resources¶
Parameter Type Description Required
id string Resource ID Yes
type string Resource type Yes
extra_info dict View Parameter Description - extra_info for additional
parameters. No
Parameter Description - extra_info:
Table 4.20.37 Parameter Description - extra_info¶
Parameter Type Required Description
enable int(0, 1) Yes Whether to enable a VM. Default value: 1
iolog_storage_id string No
ID of the repository where IO activity logs are
stored. This parameter is specific to CDP and
required.
iolog_capacity_gb int No Maximum space for IO activity logs (GB). This
parameter is specific to CDP and required.
iolog_buffer_gb int No Upper limit of the cache for IO activity logs (GB).
This parameter is specific to CDP and required.
Parameter Description - scheduled_operation:
Table 4.20.38 Parameter Description - scheduled_operation¶
Parameter Type Required Description
duration_hours int No
Maximum duration of a backup task. -1
indicates no limit. This parameter is specific
to scheduled backup.
enable_timeout_cancel int(0,
1) No
Whether to enable automatic backup
cancellation upon timeout. This parameter is
specific to scheduled backup.
interval_hours int No Interval for creating baseline backups. This
parameter is specific to CDP.
iolog_interval_ms int No Interval for storing IO activity logs (ms). This
parameter is specific to CDP.
iolog_retention_hour int No Retention duration of IO activity logs (h). This
parameter is specific to CDP.
warn_threshold int No RPO warning threshold. This parameter is
specific to CDP.
warn_times_limit int No
Period for calculating RPO warning count. An
alert is triggered if 3 warnings are generated
within this period. This parameter is specific
to CDP.
alert_threshold int No RPO alert threshold. This parameter is
specific to CDP.
retention dict Yes View Parameter Description - retention for
backup retention configurations.
scheduled_full_backup dict No
View Parameter Description -
scheduled_full_backup for configurations of
scheduled full backup. This feature is not
supported for tenants.
scheduled_auto_archive dict No
View Parameter Description -
scheduled_auto_archive for configurations of
scheduled automatic archiving. This feature
is not supported for tenants.
Parameter Description - retention:
Table 4.20.39 Parameter Description - retention¶
Parameter Type Required Description
all string Yes Duration for retaining all backups
day string No Time setting for retaining one backup each
day
week string No Time setting for retaining one backup each
week
month string No Time setting for retaining one backup each
month
year string No Time setting for retaining one backup each
year
 Note
1.Values of parameters related to retention must be character strings and match the regular
expression ^d{1,4},[d,w,m,y]$. Description of the regular expression: The number preceding
the comma in front of the square bracket ([) must consist of 1 to 4 digits, while the letter after
the comma must be d, w, m, or y. Correct example: 12,d. Incorrect example: 36000,w
Parameter Description - scheduled_full_backup:
Table 4.20.40 Parameter Description - scheduled_full_backup¶
Parameter Type Required Description
enable int(0, 1) Yes
Whether to enable scheduled full backup. When this
parameter is set to 0, you do not need to specify other
parameters in the list.
months string No Month in which full backup is performed
day string No Specific day in a week on which full backup is
performed
hour string No Time at which full backup is performed
week string No First or last week of the selected month in which full
backup is performed
Parameter Description - scheduled_auto_archive:
Table 4.20.41 Parameter Description - scheduled_auto_archive¶
Parameter Type Required Description
enable int(0, 1) Yes
Whether to enable automatic archiving. When
this parameter is set to 0, you do not need to
specify other parameters in the list.
storage_id string No ID of the datastore to which backups are
archived
months string No Month in which archiving is performed
day string No Specific day in a week on which archiving is
performed
hour string No Archiving time
week string No First or last week of the selected month in which
backups are archived
retention string No Retention period for the archived backups
expiration string No Time when the archived data is deleted
enable_compress int(0, 1) No Whether to compress the archives
Request Example
https://{SCP_IP}/janus/20180725/backup-policies
Example 1: Create scheduled backup policy
{
"trigger_cron": "0 0 23 ? * 5",
"user_id": "f002ebd5be12460396fad88956d021f9",
"description": "Scheduled backup 2",
"name": "Scheduled backup 2",
"enable": 1,
"type": "local",
"vault_id": "f9ba1eb4_vs_vol_rep2",
"az_id": "80e10802-91b3-40f7-a52c-557aeed6f9b4",
"scheduled_operation": {
"scheduled_auto_archive": {
"enable": 1,
"week": "first",
"hour": "7",
"day": "2",
"retention": "12,m",
"months": "1,2,3,4,5,6,7,8,9,10",
"expiration": "36,m",
"storage_id": "364cf71bff780438a8499f6297e31177b",
"enable_compress": 1
},
"scheduled_full_backup": {
"week": "first",
"enable": 1,
"day": "1",
"hour": "2",
"months": "11,10,12,1,2,4,7,9,8"
},
"duration_hours": 48,
"enable_timeout_cancel": 0,
"retention": {
"week": "2,m",
"all": "1,m",
"year": "-1",
"day": "-1",
"month": "-1"
}
},
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"resources": [
{
"type": "server",
"id": "0115f25e-7626-4d8f-bc6d-47c77b5402a5"
}
]
}
Example 2: Create CDP policy
{
"trigger_cron": "",
"user_id": "f002ebd5be12460396fad88956d021f9",
"description": "CDP backup 1",
"name": "CDP backup 1",
"enable": 1,
"vault_id": "364cf71bff780438a8499f6297e31177b",
"az_id": "80e10802-91b3-40f7-a52c-557aeed6f9b4",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "cdp",
"scheduled_operation": {
"scheduled_auto_archive": {
"enable": 1,
"week": "last",
"day": "6",
"hour": "22",
"months": "1,2,3,4,5,6,7,8,9,10",
"storage_id": "f9ba1eb4_vs_vol_rep2",
"enable_compress": 0,
"expiration": "36,m",
"retention": "12,m"
},
"scheduled_full_backup": {
"week": "last",
"enable": 1,
"day": "5",
"hour": "22",
"months": "5,6,8,9,10,11,12"
},
"warn_times_limit": 3600,
"alert_threshold": 1800,
"iolog_retention_hour": 72,
"iolog_interval_ms": 5000,
"warn_threshold": 600,
"interval_hours": 12,
"retention": {
"all": "1,m"
}
},
"resources": [
{
"type": "server",
"id": "f7447ce9-3189-4110-82b7-c542cd888e7d",
"extra_info": {
"enable": 1,
"iolog_storage_id": "364cf71bff780438a8499f6297e31177b",
"iolog_capacity_gb": 100
}
}
]
}
4.20.8.3. Response
Response Parameter
Table 4.20.42 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "0c51a34a-ba4e-4f26-9007-7a54727dcb94"
}
}
4.20.8.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.20.9. Update backup policy
4.20.9.1. Scenario
Scenario: Update a backup policy
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
backup policies or CDP policies
Versions supported: SCP 6.3.83 and later
4.20.9.2. URI
Table 4.20.43 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/backup-policies/{policy_id} Update backup
policy
Parameter Description:
Table 4.20.44 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Backup
policy ID Yes
4.20.9.3. Request
Request Parameter
Table 4.20.45 Body Parameter¶
Parameter Type Description Required
name string Name No
description string Description No
enable int(0, 1) Whether the tenant is enabled No
type string Backup type. Valid values: local and cdp Yes
trigger_cron string
Trigger time (Cron expression). For details,
visit https://www.gairuo.com/p/cronexpression-
sheet.
No
vault_id string Backup repository ID No
resources list(dict) View Parameter Description - resources for
the backup object list. No
scheduled_operation dict
View Parameter Description -
scheduled_operation for scheduled
operations.
No
 Note
1.Tenants cannot edit the value of vault_id. 2.Only a null string (default value) is allowed for
trigger_cron when editing a CDP policy.
Parameter Description - resources:
Table 4.20.46 Parameter Description - resources¶
Parameter Type Description Required
id string Resource ID Yes
type string Resource type Yes
extra_info dict View Parameter Description - extra_info for additional
parameters. No
Parameter Description - extra_info:
Table 4.20.47 Parameter Description - extra_info¶
Parameter Type Required Description
enable int(0, 1) Yes Whether to enable a VM. Default value: 1
iolog_storage_id string No ID of the repository where IO activity logs are
stored. This parameter is specific to CDP.
iolog_capacity_gb int No Maximum space for IO activity logs (GB). This
parameter is specific to CDP.
iolog_buffer_gb int No Upper limit of the cache for IO activity logs
(GB). This parameter is specific to CDP.
 Note
1.When editing a CDP policy, if a new backed-up VM is selected, iolog_storage_id and
iolog_capacity_gb in extra_info are required.
Parameter Description - scheduled_operation:
Table 4.20.48 Parameter Description - scheduled_operation¶
Parameter Type Required Description
duration_hours int No
Maximum duration of a backup task. -1
indicates no limit. This parameter is specific
to scheduled backup.
enable_timeout_cancel int(0,
1) No
Whether to enable automatic backup
cancellation upon timeout. This parameter is
specific to scheduled backup.
interval_hours int No Interval for creating baseline backups. This
parameter is specific to CDP.
iolog_interval_ms int No Interval for storing IO activity logs (ms). This
parameter is specific to CDP.
iolog_retention_hour int No Retention duration of IO activity logs (h). This
parameter is specific to CDP.
warn_threshold int No RPO warning threshold. This parameter is
specific to CDP.
warn_times_limit int No
Period for calculating RPO warning count. An
alert is triggered if 3 warnings are generated
within this period. This parameter is specific
to CDP.
alert_threshold int No RPO alert threshold. This parameter is
specific to CDP.
retention dict No View Parameter Description - retention for
backup retention configurations.
scheduled_full_backup dict No
View Parameter Description -
scheduled_full_backup for configurations of
scheduled full backup.
scheduled_auto_archive dict No
View Parameter Description -
scheduled_auto_archive for configurations of
scheduled automatic archiving.
 Note
1.Tenants cannot edit the values of scheduled_full_backup and scheduled_auto_archive. 2.Pay
attention to the parameters that are specific to different backup policies as stated in the
description column. For example, duration_hours is specific to scheduled backup. Therefore, it
cannot be used when editing a CDP policy. 3.The value of interval_hours must be less than or
equal to that of iolog_retention_hour.
Parameter Description - retention:
Table 4.20.49 Parameter Description - retention¶
Parameter Type Required Description
all string Yes Duration for retaining all backups
day string No Time setting for retaining one backup each
day
week string No Time setting for retaining one backup each
week
month string No Time setting for retaining one backup each
month
year string No Time setting for retaining one backup each
year
 Note
1.Values of parameters related to retention must be character strings and match the regular
expression ^d{1,4},[d,w,m,y]$. Description of the regular expression: The number preceding
the comma in front of the square bracket ([) must consist of 1 to 4 digits, while the letter after
the comma must be d, w, m, or y. Correct example: 12,d. Incorrect example: 36000,w
Parameter Description - scheduled_full_backup:
Table 4.20.50 Parameter Description - scheduled_full_backup¶
Parameter Type Required Description
enable int(0, 1) Yes
Whether to enable scheduled full backup. When this
parameter is set to 0, you do not need to specify other
parameters in the list.
months string No Month in which full backup is performed
day string No Specific day in a week on which full backup is
performed
hour string No Time at which full backup is performed
week string No First or last week of the selected month in which full
backup is performed
 Note
1.When enable is set to 0, full backup is not enabled. In such cases, we recommend that you
do not specify other parameters.
Parameter Description - scheduled_auto_archive:
Table 4.20.51 Parameter Description - scheduled_auto_archive¶
Parameter Type Required Description
enable int(0, 1) Yes Whether to enable automatic archiving
storage_id string No ID of the datastore to which backups are
archived
months string No Month in which archiving is performed
day string No Specific day in a week on which archiving is
performed
hour string No Archiving time
week string No First or last week of the selected month in
which backups are archived
retention string No Retention period for the archived backups
expiration string No Time when the archived data is deleted
enable_compress int(0, 1) No Whether to compress the archives
 Note
1.When enable is set to 0, automatic archiving is not enabled. In such cases, we recommend
that you do not specify other parameters.
Request Example
https://{SCP_IP}/janus/20180725/backup-policies/922d5bb4-6b86-4215-94df-66693f575e6b
Example 1: Update scheduled backup policy
{
"type": "local",
"name": "Update scheduled backup policy",
"description": "Test 777",
"enable": 1
}
Example 2: Specify parameters related to scheduled_operation and resources to update a scheduled
backup policy.
{
"type": "local",
"name": "Update scheduled backup policy 2",
"description": "Update test",
"enable": 1,
"resources": [
{
"type": "server",
"id": "46e18ede-ff0a-458b-86b2-7504c075e385",
"extra_info": {
"enable": 1
}
}
],
"scheduled_operation": {
"retention": {
"week": "5,m",
"all": "1,m",
"year": "-1",
"day": "-1",
"month": "-1"
},
"scheduled_full_backup": {
"week": "first",
"enable": 1,
"day": "1",
"hour": "3",
"months": "1,2,3,7,8,9,10,11,12"
}
}
}
Example 3: Update CDP policy
{
"type": "cdp",
"name": "Update CDP policy",
"description": "Update test",
"enable": 1
}
Example 2: Specify parameters related to scheduled_operation and resources to update a CDP policy.
{
"name": "Update CDP policy",
"type": "cdp",
"resources": [
{
"type": "server",
"id": "5577a0fb-f78d-47dc-967c-e4ddafd24c4e",
"extra_info": {
"iolog_storage_id": "e18c29b4_vs_vol_rep2",
"iolog_buffer_gb": 4,
"enable": 1,
"iolog_capacity_gb": 120
}
}
],
"scheduled_operation": {
"alert_threshold": 1800,
"warn_threshold": 600,
"scheduled_full_backup": {
"week": "first",
"enable": 1,
"day": "1",
"hour": "3",
"months": "1,2,3,7,8,9,10,11"
},
"iolog_retention_hour": 24,
"iolog_interval_ms": 5000,
"warn_times_limit": 3600,
"interval_hours": 2,
"retention": {
"week": "-1",
"all": "1,m",
"year": "-1",
"day": "-1",
"month": "-1"
}
}
}
4.20.9.4. Response
Response Parameter
Table 4.20.52 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "0c51a34a-ba4e-4f26-9007-7a54727dcb94"
}
}
4.20.9.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21. Alerts
4.21.1. Common Alert Parameters
4.21.1.1. Alert object type
Table 4.21.1 Alert object type¶
Value Description
vm Virtual machine
host Node
vnet Virtual network
eip_pool Elastic IP pool
eip Elastic IP
sn License key
image Image
cluster Cluster
site Site
link Link
sharedbw Shared bandwidth
auto_scale_group AS group
other Other
4.21.1.2. Alert Severity
Table 4.21.2 Alert Severity¶
Value Description
p1 Low
p2 Medium
p3 Critical
4.21.1.3. Alert Statuses
Table 4.21.3 Alert Statuses¶
Value Description
open Pending
ack Confirmed
close Resolved
4.21.1.4. Alert Notification Methods
Table 4.21.4 Alert Notification Methods¶
Value Description
email Email
sms SMS
Table 4.21.5 Alert Severity¶
Value Description
p1 Critical
p2 Medium
p3 Low
Table 4.21.6 Alert Policy Type¶
Value Description
inner Built-in
custom Specified
Table 4.21.7 Alert Policy Rule Operators¶
Value Description
eq equal to
ne not equal to
gt greater than
lt smaller than
ge not smaller than
le not greater than
Table 4.21.8 Alert Metric Measurement Methods¶
Value Description
“” Real-time value
mean Average
remaining_time Time remaining
Table 4.21.9 Alert Metric Resource Group Type¶
Value Description
platform Platform
net Network
storage Storage
host Node
vm Virtual machine
Table 4.21.10 Alert Metric Objects¶
Value Description
platform_cluster Platform cluster
daas aDesk VDI
oss Object storage
site Site
dmp Database management platform
link Link
sn License key
asec aSecurity
third_part_service Other
eip Elastic IP
sharedbw Shared bandwidth
vnet Virtual network
eip_pool Elastic IP pool
storage Storage
quota Quota
host Node
vm Virtual machine
4.21.2. Query alert list
4.21.2.1. Scenario
Scenario: Query the alert list
Roles supported: Super administrator and co-administrator with the alert read permission, tenant and
tenant co-administrator with the alert read permission
Versions supported: SCP 6.3.83 and later
4.21.2.2. URI
Table 4.21.11 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/alarms Query alert list
Parameter Description:
Table 4.21.12 Path Parameters¶
Parameter Location Type Description Required
object_id path string Alert object ID No
object_type path string View Alert object type for alert object
types. No
az_id path string Resource pool ID No
project_id path string Tenant ID No
level path string Alert severity. Example: informational
or emergency No
begin_time path datetime Alert start time. Example: 2021-05-
25 01:27:32 No
end_time path datetime Alert end time. Example: 2021-05-25
01:27:32 No
page_num path int Current page No
page_size path int Maximum number of entries each page No
fields path string Fields to be returned No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.21.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarms?level=informational
4.21.2.4. Response
Response Parameter
Table 4.21.13 Response Parameter¶
Parameter Type Description Value Returned
id int Alert ID No
object_id string Alert object ID No
object_name string Alert name No
object_type string Alert object type No
level string Severity No
description string Alert content (description) No
title string Alert title No
az_id string Resource pool ID No
project_id string Tenant ID No
unread_id int ID of unread alert. -1 indicates that
the alert is read. No
start_time Datetime Alert start time No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"total_size": 631,
"data": [
{
"description": "The receiving optical power of the optical modul
e on the interface (Eth11) is too low. Please check whether the cable is unp
lugged or whether the optical attenuation of the optical module on the switc
h is too high.",
"level": "informational",
"start_time": "2021-07-06T20:39:50",
"object_type": "host",
"object_id": "laser_rx_power_low_alarmeth11",
"object_name": "Interface (Eth11) on node (10.106.1.162)",
"az_id": "644e07b5-55b5-4f20-9fb7-22ee2fea7137",
"title": "Alert on NIC Optical Module Exception",
"project_id": "3d462e3d9bcf422792090f877f4ee9c6",
"id": 1114,
"unread_id": 1114
}
]
}
4.21.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.3. Alerts
4.21.3.1. View List of Realtime Alerts
4.21.3.1.1. Scenario
Scenario: Query the list of realtime alerts
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to query the list of realtime alerts (for SDK)
Versions supported: SCP 6.9.0 and later
4.21.3.1.2. URI
Table 4.21.14 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/alarms View List of Realtime Alerts
Parameter Description:
Table 4.21.15 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Alert policy ID No
object_type path string Alert object type No
object_id path string Alert object ID No
level path string Alert severity. For details, see Alert
Severity No
status path string Alert status. For details, see Alert
Statuses No
start_time path datetime Alert start time. Example: 2021-05-
25 01:27:32 No
end_time path datetime Alert end time. Example: 2021-05-25
01:27:32 No
az_ids path list Resource pool list No
 Note
1.View Common Path Parameter Format for common path parameters. 2.Since the alerts in
resolved status are in the list of all lists, status of these alerts cannot be passed to the status
parameter.
4.21.3.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/alarms?object_id=host-005056b20b3b
4.21.3.1.4. Response
Response Parameter
Table 4.21.16 Response Parameter¶
Parameter Type Description
Value
Returned
id string Realtime alert ID No
level string Alert severity. For details, see Alert Severity No
policy_id string Alert policy ID No
policy_name string Alert policy name No
user_id string User ID No
project_id string Tenant ID No
start_time Datetime Start time No
updated_at Datetime Last update time No
object_type string Object type No
object_id string Object ID No
object_name string Object name No
az_id string Resource pool ID No
az_name string Resource pool name No
description string Description No
alarm_advice string Recommendations No
converge_count int Alert count No
status string Alert status. For details, see Alert Statuses No
remark string Remarks No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "open",
"remark": "",
"user_id": "cb086d2d2d7d430b93f7230072435454",
"description": "The CPU usage of the node (10.131.136.37) is 66.35%,
higher than 50%.",
"level": "p1",
"start_time": "2023-05-17 17:30:46",
"object_type": "host",
"updated_at": "2023-05-23 10:25:46",
"object_id": "host-005056b20b3b",
"policy_name": "sunhao_test",
"alarm_advice": "High CPU usage may affect the performance and stabi
lity of the business services running on the node. The way to reduce the CPU
usage is as follows:\n1. Shut down unused VMs or network devices;\n2. Migrat
e some VMs or network devices to other idle nodes;\n3. If the CPU usage is s
till high after the above operations are performed, it is recommended to exp
and the cluster by adding more nodes to ensure stability.",
"converge_count": 4172,
"object_name": "10.131.136.37",
"az_name": "10.131.140.11",
"project_id": "7b5a0cd057d446d6a2df8d5fdc91e95e",
"id": "7adf0fc8-b72c-4abc-b069-1c6b8a2a2900",
"az_id": "e60f553c-7c23-438d-ba63-5d84e2719dc5",
"policy_id": "5096cb3a-dae3-4860-b738-bffe1d227a96"
},
{
"status": "ack",
"remark": "888",
"user_id": "cb086d2d2d7d430b93f7230072435454",
"description": "CPU underclocking happened on the node (10.131.136.3
7).",
"level": "p2",
"start_time": "2023-05-06 15:02:31",
"object_type": "host",
"updated_at": "2023-05-23 10:08:45",
"object_id": "host-005056b20b3b",
"policy_name": "Host CPU Underclocking",
"alarm_advice": "",
"converge_count": 172,
"object_name": "10.131.136.37",
"az_name": "10.131.140.11",
"project_id": "7b5a0cd057d446d6a2df8d5fdc91e95e",
"id": "7608afd4-fb78-464c-9ee6-32969f5ac4f4",
"az_id": "e60f553c-7c23-438d-ba63-5d84e2719dc5",
"policy_id": "5a433827-4f69-4f00-8751-2494685a8cb1"
}
]
4.21.3.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.3.2. View Realtime Alert Details
4.21.3.2.1. Scenario
Scenario: View realtime alert details
Roles supported: super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with the permission to query details of a realtime alert (for SDK)
Versions supported: SCP 6.9.0 and later
4.21.3.2.2. URI
Table 4.21.17 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/alarms/{alarm_id} View Realtime Alert Details
Parameter Description:
Table 4.21.18 Path Parameters¶
Parameter Location Type Description Required
alarm_id path string Alert ID Yes
 Note
1.This API also supports passing in ID of a historical alert ID to query its details.
4.21.3.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/alarms/d9ca5141-3764-45cb-bbed-cea9c301fe77
4.21.3.2.4. Response
Response Parameter
Table 4.21.19 Response Parameter¶
Parameter Type Description
Value
Returned
id string Realtime alert ID Yes
level string Alert severity. For details, see Alert Severity Yes
policy_id string Alert policy ID Yes
policy_name string Alert policy name Yes
user_id string User ID Yes
project_id string Tenant ID Yes
start_time Datetime Start time Yes
updated_at Datetime Last update time Yes
object_type string Object type Yes
object_id string Object ID Yes
object_name string Object name Yes
az_id string Resource pool ID Yes
az_name string Resource pool name Yes
description string Description Yes
alarm_advice string Recommendations Yes
converge_count int Alert count Yes
status string Alert status. For details, see Alert Statuses Yes
remark string Remarks Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "open",
"remark": "",
"user_id": "cb086d2d2d7d430b93f7230072435454",
"description": "The storage network interface of the virtual datastore 1
uses a gigabit network, which does not meet the requirement for the best pra
ctice: 10-gigabit network.",
"level": "p2",
"start_time": "2023-05-17 12:00:20",
"object_type": "storage",
"updated_at": "2023-05-23 10:29:02",
"object_id": "Datastore 1",
"policy_name": "Virtual storage network bandwidth detection",
"alarm_advice": "",
"converge_count": 79,
"object_name": "Datastore 1",
"az_name": "10.131.140.11",
"project_id": "7b5a0cd057d446d6a2df8d5fdc91e95e",
"id": "d9ca5141-3764-45cb-bbed-cea9c301fe77",
"az_id": "e60f553c-7c23-438d-ba63-5d84e2719dc5",
"policy_id": "4de9b61b-40ec-4863-951c-9479538a0784"
}
4.21.3.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.3.3. Set Remarks for Realtime Alert
4.21.3.3.1. Scenario
Scenario: Set remarks for a realtime alert
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to set remarks for realtime alerts (for SDK)
Versions supported: SCP 6.9.0 and later
4.21.3.3.2. URI
Table 4.21.20 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/alarms/{alarm_id}/remark Set Remarks for
Realtime Alert
Parameter Description:
Table 4.21.21 Path Parameters¶
Parameter Location Type Description Required
alarm_id path string Realtime alert ID Yes
4.21.3.3.3. Request
Request Parameter
Table 4.21.22 Response Parameter¶
Parameter Location Type Description Required
remark body string Remarks Yes
Request Example
https://{SCP_IP}/janus/20190725/alarms/160d013b-e44e-4be4-99e8-0bcd9ea397b3/remark
{
"remark": "Set realtime alert remarks"
}
4.21.3.3.4. Response
Response Parameter
Table 4.21.23 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "c980c3ec-a66a-476e-acce-41ecc0c59b8a"
}
}
4.21.3.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.3.4. Bulk Confirm Realtime Alerts
4.21.3.4.1. Scenario
Scenario: Bulk confirm realtime alerts
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to bulk confirm realtime alerts (for SDK)
Versions supported: SCP 6.9.0 and later
4.21.3.4.2. URI
Table 4.21.24 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/alarms/confirm Bulk Confirm Realtime Alerts
4.21.3.4.3. Request
Request Parameter
Table 4.21.25 Response Parameter¶
Parameter Location Type Description Required
alarm_ids body string
ID list of realtime alerts to be
confirmed
Yes
remark body string Remarks Yes
Request Example
https://{SCP_IP}/janus/20190725/alarms/confirm
{
"alarm_ids": [
"c11c74a6-3b9c-4a6a-87a2-d59b8c19b14d",
"954476fb-fb8b-434c-ac80-567359790957"
],
"remark": "Confirm alert"
}
4.21.3.4.4. Response
Response Parameter
Table 4.21.26 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "41b87aec-ea72-48f8-95d6-bd50340dbc38"
}
}
4.21.3.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.3.5. View List of All Alerts
4.21.3.5.1. Scenario
Scenario: View list of all alerts
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to query the list of all alerts (for SDK)
Versions supported: SCP 6.9.0 and later
4.21.3.5.2. URI
Table 4.21.27 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/alarm-histories View List of All Alerts
Parameter Description:
Table 4.21.28 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Alert policy ID No
object_type path string Alert object type No
object_id path string Alert object ID No
level path string Alert severity. For details, see Alert
Severity No
start_time path datetime Alert start time. Example: 2021-05-
25 01:27:32 No
end_time path datetime Alert end time. Example: 2021-05-25
01:27:32 No
az_ids path list Resource pool list No
 Note
1.View Common Path Parameter Format for common path parameters.
4.21.3.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/alarm-histories?policy_id=4de9b61b-40ec-4863-951c-
9479538a0784
4.21.3.5.4. Response
Response Parameter
Table 4.21.29 Response Parameter¶
Parameter Type Description
Value
Returned
id string Realtime alert ID No
level string Alert severity. For details, see Alert Severity No
policy_id string Alert policy ID No
policy_name string Alert policy name No
start_time Datetime Start time No
end_time Datetime End time No
object_type string Object type No
object_id string Object ID No
object_name string Object name No
az_id string Resource pool ID No
az_name string Resource pool name No
description string Description No
alarm_advice string Recommendations No
converge_count int Alert count No
status string Alert status. For details, see Alert Statuses No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "open",
"description": "The storage network interface of the virtual datasto
re 1 uses a gigabit network, which does not meet the requirement for the bes
t practice: 10-gigabit network.",
"level": "p2",
"start_time": "2023-05-17 12:00:20",
"object_type": "storage",
"object_id": "Datastore 1",
"policy_name": "Virtual storage network bandwidth detection",
"converge_count": 6,
"object_name": "Datastore 1",
"end_time": "2023-05-23 07:12:16",
"id": "d9ca5141-3764-45cb-bbed-cea9c301fe77",
"az_name": "10.131.140.11",
"alarm_advice": "",
"az_id": "e60f553c-7c23-438d-ba63-5d84e2719dc5",
"policy_id": "4de9b61b-40ec-4863-951c-9479538a0784"
}
]
4.21.3.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.4. Notification Policies
4.21.4.1. Query List of Notification Policies
4.21.4.1.1. Scenario
Scenario: Query the list of notification policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to query the list of notification policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.1.2. URI
Table 4.21.30 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/alarm-notifications Query List of Notification
Policies
Parameter Description:
Table 4.21.31 Path Parameters¶
Parameter Location Type Description Required
name path string Notification policy name (fuzzy
matching) No
enable path string Whether the tenant is enabled No
notification_type path string Notification method. Valid
values: email, sms No
 Note
1.View Common Path Parameter Format for common path parameters.
4.21.4.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications?name=test1
4.21.4.1.4. Response
Response Parameter
Table 4.21.32 Response Parameter¶
Parameter Type Description
Value
Returned
id string Notification policy ID No
name string Notification policy name No
enable int(0,1) Whether the tenant is enabled No
user_id string User ID No
user_name string Username of the creator No
project_id string Tenant ID No
created_at Datetime Time created No
updated_at Datetime Time updated No
asso_all_event int(0,1) Whether to associate all event policies No
notification_types list(string) List of notification methods. For details,
see Alert Notification Methods No
notification_user_count int Number of associated users No
alarm_policy_count int Number of associated policies No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"enable": 1,
"user_id": "7f71a9e12bc245f3b6a8ae6626e69bca",
"name": "test1",
"created_at": "2023-07-10 10:48:12",
"updated_at": "2023-07-14 10:48:01",
"notification_user_count": 1,
"asso_all_event": 0,
"notification_types": [
"email"
],
"project_id": "3739c733e9384d6fbd3db113ef4ef04d",
"user_name": "admin",
"id": "3c7299c2-7155-4e4b-9386-0b2cddcc2f52",
"alarm_policy_count": 1
},
{
"enable": 0,
"user_id": "7f71a9e12bc245f3b6a8ae6626e69bca",
"name": "test123",
"created_at": "2023-07-13 09:34:28",
"updated_at": "2023-07-13 09:34:28",
"notification_user_count": 1,
"asso_all_event": 0,
"notification_types": [
"sms", "eamil"
],
"project_id": "3739c733e9384d6fbd3db113ef4ef04d",
"user_name": "admin",
"id": "d1a45852-3da7-429c-9911-9e5edbd1f2cd",
"alarm_policy_count": 1
},
]
4.21.4.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.4.2. Query Notification Policy Details
4.21.4.2.1. Scenario
Scenario: Query notification policy details
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to query the details of a notification policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.2.2. URI
Table 4.21.33 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/alarm-notifications/{notification_id} Query Notification
Policy Details
Parameter Description:
Table 4.21.34 Path Parameters¶
Parameter Location Type Description Required
notification_id path string Notification policy
ID Yes
4.21.4.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/d1a45852-3da7-429c-9911-9e5edbd1f2cd
4.21.4.2.4. Response
Response Parameter
Table 4.21.35 Response Parameter¶
Parameter Type Description
Value
Returned
id string Notification policy ID Yes
name string Notification policy name Yes
enable int(0,1) Whether the tenant is enabled Yes
user_id string User ID Yes
user_name string Username of the creator Yes
project_id string Tenant ID Yes
created_at Datetime Time created Yes
updated_at Datetime Time updated Yes
asso_all_event int(0,1) Whether to associate all event policies Yes
notification_types list(string) List of notification methods. For details,
see Alert Notification Methods Yes
notification_user_ids list(string) Notification object ID list Yes
alarm_policy_ids list(string) Associated alert policy ID list Yes
duplicate_notify dict
Configuration of a duplicate notification.
For details, see Parameter Description -
duplicate_notify
Yes
filter_rule list(dict) Configuration of filter rules. For details,
see Parameter Description - filter_rule Yes
Parameter Description - duplicate_notify:
Table 4.21.36 Parameter Description - duplicate_notify¶
Parameter Type Description Value Returned
enable int(0,1) Repeat notification
switch Yes
duration int Duration Yes
Parameter Description - filter_rule:
Table 4.21.37 Parameter Description - filter_rule¶
Parameter Type Description
Value
Returned
eopt string Operator (currently, only “=” is supported) Yes
field string Filtering object (currently, only “severity” is
supported) Yes
alarm_levels list(string) List of alert severity. For details, see Alert
Severity Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"alarm_policy_ids": [
"e4df3284-b69a-4b9d-bb0d-da0186a4428a"
],
"user_id": "7f71a9e12bc245f3b6a8ae6626e69bca",
"name": "test123",
"filter_rule": [
{
"eopt": "=",
"field": "severity",
"alarm_levels": [
"p2"
]
}
],
"created_at": "2023-07-13 09:34:28",
"updated_at": "2023-07-13 09:34:28",
"id": "d1a45852-3da7-429c-9911-9e5edbd1f2cd",
"enable": 0,
"asso_all_event": 0,
"notification_types": [
"email"
],
"project_id": "3739c733e9384d6fbd3db113ef4ef04d",
"user_name": "admin",
"duplicate_notify": {
"duration": 100,
"enable": 1
},
"notification_user_ids": [
"7f71a9e12bc245f3b6a8ae6626e69bca"
]
}
4.21.4.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.4.3. Create Notification Policy
4.21.4.3.1. Scenario
Scenario: Create a notification policy
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to create a notification policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.3.2. URI
Table 4.21.38 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/alarm-notifications Create Notification
Policy
Parameter Description:
None
4.21.4.3.3. Request
Request Parameter
Table 4.21.39 Body Parameter¶
Parameter Type Description Required
name string Notification policy name Yes
enable int(0,1) Whether the tenant is enabled Yes
alarm_policy_ids list(string) Associated alert policy ID list Yes
notification_user_ids list(string) Notification object ID list Yes
asso_all_event int(0,1)
Whether to associate all event
policies
No
notification_types list(string)
List of notification methods. For
details, see Alert Notification
Methods
Yes
duplicate_notify string
Configuration of a duplicate
notification. For details, see
Parameter Description -
duplicate_notify
No
filter_rule string
Configuration of filter rules. For
details, see Parameter Description -
filter_rule
No
Parameter Description - duplicate_notify:
Table 4.21.40 Parameter Description - duplicate_notify¶
Parameter Type Description Required
enable int(0,1) Repeat notification switch Yes
duration int Duration (it does not need to be specified when
the switch is set to 0) No
Parameter Description - filter_rule:
Table 4.21.41 Parameter Description - filter_rule¶
Parameter Type Description Required
eopt string Operator (currently, only “=” is supported) Yes
field string Filtering object (currently, only “severity” is
supported) Yes
alarm_levels list(string) List of alert severity. For details, see Alert
Severity Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications
{
"alarm_policy_ids": [
"667696a9-276b-4d58-a911-749b298912e8"
],
"notification_types": [
"email"
],
"duplicate_notify": {
"enable": 1,
"duration": 100
},
"enable": 1,
"filter_rule": [
{
"eopt": "=",
"field": "severity",
"alarm_levels": [
"p1","p2"
]
}
],
"name": "test2",
"notification_user_ids": [
"7f71a9e12bc245f3b6a8ae6626e69bca"
]
}
4.21.4.3.4. Response
Response Parameter
Table 4.21.42 Response Parameter¶
Parameter Type Description Value Returned
id string Notification policy ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"id": "beca5077-cbc3-4c02-b15f-bd1e98ca6503"
}
}
4.21.4.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.4.4. Edit Notification Policy
4.21.4.4.1. Scenario
Scenario: Edit a notification policy
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to edit a notification policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.4.2. URI
Table 4.21.43 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/alarm-notifications/{notification_id} Edit Notification
Policy
Parameter Description:
Table 4.21.44 Path Parameters¶
Parameter Location Type Description Required
notification_id path string Notification policy
ID Yes
4.21.4.4.3. Request
Request Parameter
Table 4.21.45 Body Parameter¶
Parameter Type Description Required
name string Notification policy name No
enable int(0,1) Whether the tenant is enabled No
alarm_policy_ids list(string) Associated alert policy ID list No
notification_user_ids list(string) Notification object ID list No
asso_all_event int(0,1)
Whether to associate all event
policies
No
notification_types list(string)
List of notification methods. For
details, see Alert Notification
Methods
No
duplicate_notify string
Configuration of a duplicate
notification. For details, see
Parameter Description -
duplicate_notify
No
filter_rule string
Configuration of filter rules. For
details, see Parameter Description -
filter_rule
No
Parameter Description - duplicate_notify:
Table 4.21.46 Parameter Description - duplicate_notify¶
Parameter Type Description Required
enable int(0,1) Repeat notification switch Yes
duration int Duration (it does not need to be specified when
the switch is set to 0) No
Parameter Description - filter_rule:
Table 4.21.47 Parameter Description - filter_rule¶
Parameter Type Description Required
eopt string Operator (currently, only “=” is supported) Yes
field string Filtering object (currently, only “severity” is
supported) Yes
alarm_levels list(string) List of alert severity. For details, see Alert
Severity Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/065b6f3b-01da-4221-add2-58015e7ec251
{
"alarm_policy_ids": [
"667696a9-276b-4d58-a911-749b298912e8"
],
"notification_types": [
"email"
],
"enable": 0,
"name": "test1",
"notification_user_ids": [
"7f71a9e12bc245f3b6a8ae6626e69bca"
]
}
4.21.4.4.4. Response
Response Parameter
Table 4.21.48 Response Parameter¶
Parameter Type Description Value Returned
id string Notification policy ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"id": "beca5077-cbc3-4c02-b15f-bd1e98ca7503"
}
}
4.21.4.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.4.5. Delete Notification Policy
4.21.4.5.1. Scenario
Scenario: Delete a notification policy
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to delete a notification policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.5.2. URI
Table 4.21.49 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/alarm-notifications/{notification_id}
Delete
Notification
Policy
Parameter Description:
Table 4.21.50 Path Parameters¶
Parameter Location Type Description Required
notification_id path string Notification policy
ID Yes
4.21.4.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/3eb00d0f-50c2-48cf-9fd5-2403a721abb3
4.21.4.5.4. Response
Response Parameter
None
4.21.4.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.21.4.6. Clone Notification Policy
4.21.4.6.1. Scenario
Scenario: Clone notification policy
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to clone a notification policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.6.2. URI
Table 4.21.51 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/alarm-notifications/{notification_id}/clone
Clone
Notification
Policy
Parameter Description:
Table 4.21.52 Path Parameters¶
Parameter Location Type Description Required
notification_id path string Notification policy
ID Yes
4.21.4.6.3. Request
Request Parameter
Table 4.21.53 Body Parameter¶
Parameter Type Description Required
name string Notification policy name No
enable int(0,1) Whether the tenant is enabled No
alarm_policy_ids list(string) Associated alert policy ID list No
notification_user_ids list(string) Notification object ID list No
asso_all_event int(0,1)
Whether to associate all event
policies
No
notification_types list(string)
List of notification methods. For
details, see Alert Notification
Methods
No
duplicate_notify string
Configuration of a duplicate
notification. For details, see
Parameter Description -
duplicate_notify
No
filter_rule string
Configuration of filter rules. For
details, see Parameter Description -
filter_rule
No
Parameter Description - duplicate_notify:
Table 4.21.54 Parameter Description - duplicate_notify¶
Parameter Type Description Required
enable int(0,1) Repeat notification switch Yes
duration int Duration (it does not need to be specified when
the switch is set to 0) No
Parameter Description - filter_rule:
Table 4.21.55 Parameter Description - filter_rule¶
Parameter Type Description Required
eopt string Operator (currently, only “=” is supported) Yes
field string Filtering object (currently, only “severity” is
supported) Yes
alarm_levels list(string) List of alert severity. For details, see Alert
Severity Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/3eb00d0f-50c2-48cf-9fd5-
2403a721abb3/clone
{
"notification_types": [
"email"
],
"enable": 1,
"name": "test2",
"notification_user_ids": [
"7f71a9e12bc245f3b6a8ae6626e69bca"
]
}
4.21.4.6.4. Response
Response Parameter
Table 4.21.56 Response Parameter¶
Parameter Type Description Value Returned
id string Notification policy ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"id": "beca5077-cbc3-4c02-b15f-bd1e98ca7503"
}
}
4.21.4.6.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.4.7. Bulk Enable Notification Policies
4.21.4.7.1. Scenario
Scenario: Bulk enable notification policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to bulk enable notification policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.7.2. URI
Table 4.21.57 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/alarm-notifications/actions/bulk-enable Bulk Enable
Notification Policies
Parameter Description:
None
4.21.4.7.3. Request
Request Parameter
Table 4.21.58 Body Parameter¶
Parameter Type Description Required
notification_ids list(string) Notification policy ID list Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/actions/bulk-enable
{
"notification_ids": [
"01d2fd77-83a8-4e83-af69-ee527ff43b00",
"d1a45852-3da7-429c-9911-9e5edbd1f2cd"
]
}
4.21.4.7.4. Response
Response Parameter
Table 4.21.59 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "beca5077-cbc3-4c02-b15f-bd1e98ca7503"
}
}
4.21.4.7.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.4.8. Bulk Disable Notification Policies
4.21.4.8.1. Scenario
Scenario: Bulk disable notification policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to bulk disable notification policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.4.8.2. URI
Table 4.21.60 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/alarm-notifications/actions/bulk-disable
Bulk Disable
Notification
Policies
Parameter Description:
None
4.21.4.8.3. Request
Request Parameter
Table 4.21.61 Body Parameter¶
Parameter Type Description Required
notification_ids list(string) Notification policy ID list Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-notifications/actions/bulk-disable
{
"notification_ids": [
"36956bc5-908b-4c1b-b6c5-bd5f716e797a",
"75945c9f-90c4-42bf-ac6f-6422d1464c74"
]
}
4.21.4.8.4. Response
Response Parameter
Table 4.21.62 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "beca5077-cbc3-4c02-b15f-bd1e98ca7503"
}
}
4.21.4.8.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.5. Alert Policies
4.21.5.1. Query List of Alert Policies
4.21.5.1.1. Scenario
Scenario: Query the list of alert policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to obtain the list of alert policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.1.2. URI
Table 4.21.63 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/alarm-policies Query List of Alert
Policies
Parameter Description:
Table 4.21.64 Path Parameters¶
Parameter Location Type Description Required
ids path string Policy IDs, which are separated by
commas (,) No
name path string Policy name No
enable path int(0, 1) Whether the tenant is enabled No
resource_group path string Resource group. For details, see
Query List of Alert Metric Groups No
object_type path string Object type No
object_id path datetime Object ID No
metric_id path datetime Alert metric ID No
metric_type path list Alert metric type No
type path list Policy type. For details, see Alert
Policy Type No
edit path int(0, 1) Whether it is editable No
user_id path list User ID No
user_name path list Username of the creator No
 Note
1.View Common Path Parameter Format for common path parameters.
4.21.5.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies?enable=0
4.21.5.1.4. Response
Response Parameter
Table 4.21.65 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID No
type string Policy type No
name string Policy name No
enable int(0, 1) Whether the tenant is enabled No
edit int(0, 1) Whether it is editable No
resource_group string Resource group No
object_type string Object type No
objects list(dict) Object information. For details, see Parameter
Description - objects: No
user_id string User ID No
project_id string Tenant ID No
user_name string Username of the creator No
metric_id string Alert metric ID No
metric_type string Alert metric type No
rule dict Alert rule. For details, see Parameter Description
- objects: No
trigger_duration string Trigger type No
created_at string Time created No
dimension_type string Dimension type No
Parameter Description - objects:
Table 4.21.66 Parameter Description - objects:¶
Parameter Type Description Value Returned
id string Object ID Yes
name string Object name Yes
Parameter Description - rule:
Table 4.21.67 Parameter Description - rule¶
Parameter Type Description
Value
Returned
operator string or
None
Comparison operator. For details, see Alert Policy
Rule Operators Yes
duration int or
None Duration Yes
threshold list(dict)
or None
Alert threshold. For details, see Parameter
Description - threshold Yes
metric_mode string or
None Measurement method Yes
Parameter Description - threshold:
Table 4.21.68 Parameter Description - threshold¶
Parameter Type Description
Value
Returned
level string or
None Threshold level. For details, see Alert Severity Yes
value int or None Threshold Yes
 Note
View Common Response Parameter Format for common response parameters in the API list.
Response Example:
[
{
"enable": 0,
"user_id": "7316f453fcb54985a95450f98bc37763",
"name": "Internal alert of virtual network device",
"resource_group": "net",
"dimension_type": "",
"edit": 0,
"user_name": "admin",
"created_at": "2023-07-27 20:26:29",
"object_type": "vnet",
"rule": {
"operator": null,
"duration": null,
"threshold": null,
"metric_mode": null
},
"objects": [
{
"id": "904e2135-780d-4ec3-b678-d65dec550c09",
"name": "vm"
}
],
"metric_type": "event",
"trigger_duration": "instant",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"type": "inner",
"id": "572991f0-8678-43bc-a87a-9160f2263a06",
"metric_id": "7694a9d9-2ae3-4249-a8e5-b52a60b8841a"
}
]
4.21.5.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.5.2. Query Alert Policy Details
4.21.5.2.1. Scenario
Scenario: Query alert policy details
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to obtain the details of an alert policy (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.2.2. URI
Table 4.21.69 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/alarm-policies/{policy_id} Query Alert Policy
Details
Parameter Description:
Table 4.21.70 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.21.5.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies/45b1937e-70fe-4446-978d-09c01381322c
4.21.5.2.4. Response
Response Parameter
Table 4.21.71 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
type string Policy type Yes
name string Policy name Yes
enable int(0, 1) Whether the tenant is enabled Yes
edit int(0, 1) Whether it is editable Yes
resource_group string Resource group Yes
object_type string Object type Yes
objects list(dict) Object information. For details, see Parameter
Description - objects: Yes
user_id string User ID Yes
project_id string Tenant ID Yes
user_name string Username of the creator Yes
metric_id string Alert metric ID Yes
metric_type string Alert metric type Yes
rule dict Alert rule. For details, see Parameter Description
- objects: Yes
trigger_duration string Trigger type Yes
created_at string Time created Yes
dimension_type string Dimension type Yes
Parameter Description - objects:
Table 4.21.72 Parameter Description - objects:¶
Parameter Type Description Value Returned
id string Object ID Yes
name string Object name Yes
Parameter Description - rule:
Table 4.21.73 Parameter Description - rule¶
Parameter Type Description
Value
Returned
operator string or
None Comparison operator Yes
duration int or
None Duration Yes
threshold list(dict) or
None
Alert threshold. For details, see Parameter
Description - objects: Yes
metric_mode string or
None Measurement method Yes
Parameter Description - threshold:
Table 4.21.74 Parameter Description - threshold¶
Parameter Type Description
Value
Returned
level string or
None Threshold level. For details, see Alert Severity Yes
value int or None Threshold Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"enable": 0,
"user_id": "7316f453fcb54985a95450f98bc37763",
"name": "Internal alert of virtual network device",
"resource_group": "net",
"dimension_type": "",
"edit": 0,
"user_name": "admin",
"created_at": "2023-07-27 20:26:29",
"object_type": "vnet",
"rule": {
"operator": null,
"duration": null,
"threshold": null,
"metric_mode": null
},
"objects": [
{
"id": "904e2135-780d-4ec3-b678-d65dec550c09",
"name": "vm"
}
],
"metric_type": "event",
"trigger_duration": "instant",
"project_id": "040fcd50faa8481b9404869f6fb63dfe",
"type": "inner",
"id": "572991f0-8678-43bc-a87a-9160f2263a06",
"metric_id": "7694a9d9-2ae3-4249-a8e5-b52a60b8841a"
}
4.21.5.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.5.3. Create Alert Policy
4.21.5.3.1. Scenario
Scenario: Create an alert policy
Roles supported: Super administrator and custom administrator with permission to create an alert policy
(for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.3.2. URI
Table 4.21.75 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/alarm-policies Create Alert Policy
Parameter Description:
None
4.21.5.3.3. Request
Request Parameter
Table 4.21.76 Response Parameter¶
Parameter Location Type Description Required
name body string Policy name Yes
enable body int(0, 1) Whether the tenant is enabled Yes
object_type body string Object type Yes
object_ids body list(string) Object ID list Yes
metric_id body string Alert metric ID. For details, see
Query List of Alert Metrics Yes
rule body dict Alert rule. For details, see
Parameter Description - rule Yes
dimension_type body string Dimension type (reserved field) No
 Note
1.If object_ids is specified as all objects, pass in [“all”]. 2.metric_id must be the alert metric with
is_creatable_policy whose value is 1.
Parameter Description - rule:
Table 4.21.77 Parameter Description - rule¶
Parameter Type Description Required
operator string Comparison operator. For details, see Alert Policy
Rule Operators No
duration int Duration No
threshold list(dict) Alert threshold. For details, see Parameter
Description - threshold No
metric_mode string Measurement method. For details, see Alert Metric
Measurement Methods No
 Note
1.If the parameters in rule are not specified, value of the default rule for the specified alert
metric will be used. 2.The value of operator needs to be passed in according to the returned
range of the rule_config.operator parameter returned by the alert metric list query interface.
3.The value of duration needs to be passed in according to the returned range of the
rule_config.duration parameter returned by the alert metric list query interface. 4.The value of
metric_mode needs to be passed in according to the returned range of the
rule_config.metric_mode parameter returned by the alert metric list query interface.
Parameter Description - threshold:
Table 4.21.78 Parameter Description - threshold¶
Parameter Type Description Required
level string or
None Threshold level. For details, see Alert Severity Yes
value int or None Threshold Yes
 Note
1.The value of level needs to be passed in according to the returned range of the
rule_config.level parameter returned by the alert metric list interface. 2.The value of value
needs to be passed in according to the returned range of the rule_config.treshold_range
parameter returned by the alert metric list query interface.
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies
{
"enable": 1,
"name": "test",
"object_type": "vm",
"rule": {
"operator": "gt",
"threshold": [
{
"value": 50,
"level": "p1"
}
],
"metric_mode": ""
},
"object_ids": [
"all"
],
"metric_id": "5e9ceb33-975b-4beb-997f-086bfd69d779"
}
4.21.5.3.4. Response
Response Parameter
Table 4.21.79 Response Parameter¶
Parameter Type Description Value Returned
id string Policy ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "572991f0-8678-43bc-a87a-9160f2263a06"
}
4.21.5.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.5.4. Edit Alert Policy
4.21.5.4.1. Scenario
Scenario: Edit an alert policy
Roles supported: Super administrator and custom administrator with permission to edit an alert policy
(for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.4.2. URI
Table 4.21.80 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/alarm-policies/{policy_id} Edit Alert
Policy
Parameter Description:
Table 4.21.81 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
 Note
1.Only custom alert policies can be edited.
4.21.5.4.3. Request
Request Parameter
Table 4.21.82 Response Parameter¶
Parameter Location Type Description Required
name body string Policy name No
enable body int(0, 1) Whether the tenant is enabled No
object_ids body list(string) Object ID list No
rule body dict Alert rule. For details, see Parameter
Description - rule No
 Note
1.If object_ids is specified as all objects, pass in [“all”].
Parameter Description - rule:
Table 4.21.83 Parameter Description - rule¶
Parameter Type Description Required
operator string Comparison operator. For details, see Alert Policy
Rule Operators No
duration int Duration No
threshold list(dict) Alert threshold. For details, see Parameter
Description - threshold No
metric_mode string Measurement method. For details, see Alert Metric
Measurement Methods No
 Note
1.If the parameters in rule are not specified, value of the default rule for the specified alert
metric will be used. 2.The value of operator needs to be passed in according to the returned
range of the rule_config.operator parameter returned by the alert metric list query interface.
3.The value of duration needs to be passed in according to the returned range of the
rule_config.duration parameter returned by the alert metric list query interface. 4.The value of
metric_mode needs to be passed in according to the returned range of the
rule_config.metric_mode parameter returned by the alert metric list query interface.
Parameter Description - threshold:
Table 4.21.84 Parameter Description - threshold¶
Parameter Type Description Required
level string or
None Threshold level. For details, see Alert Severity Yes
value int or None Threshold Yes
 Note
1.The value of level needs to be passed in according to the returned range of the
rule_config.level parameter returned by the alert metric list interface. 2.The value of value
needs to be passed in according to the returned range of the rule_config.treshold_range
parameter returned by the alert metric list query interface.
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies
{
"enable": 0,
"name": "test_update",
"object_type": "vm",
"rule": {
"operator": "gt",
"threshold": [
{
"value": 95,
"level": "p1"
},
{
"value": 75,
"level": "p2"
},{
"value": 65,
"level": "p3"
}
],
"metric_mode": ""
},
"object_ids": [
"35f77f20-0fb4-48ad-85f9-f021edf34713"
],
"metric_id": "5e9ceb33-975b-4beb-997f-086bfd69d779"
}
4.21.5.4.4. Response
Response Parameter
Table 4.21.85 Response Parameter¶
Parameter Type Description Value Returned
id string Policy ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "bfc21103-38a0-42b3-9bc9-9d921773e819"
}
4.21.5.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.5.5. Delete Alert Policy
4.21.5.5.1. Scenario
Scenario: Delete an alert policy
Roles supported: Super administrator and custom administrator with permission to delete an alert policy
(for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.5.2. URI
Table 4.21.86 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/alarm-policies/{policy_id} Delete Alert
Policy
Parameter Description:
Table 4.21.87 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
 Note
1.Only custom alert policies can be deleted.
4.21.5.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies/43c36584-2da8-4697-b2b9-e6e1b9eb5036
4.21.5.5.4. Response
Response Parameter
Table 4.21.88 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "e6c24747-2b20-4fd0-8c10-10b5991603ac"
}
4.21.5.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.5.6. Bulk Enable Alert Policies
4.21.5.6.1. Scenario
Scenario: Bulk enable alert policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to bulk enable alert policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.6.2. URI
Table 4.21.89 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/alarm-policies/actions/bulk-enable Bulk Enable Alert
Policies
Parameter Description:
None
4.21.5.6.3. Request
Request Parameter
Table 4.21.90 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) Policy ID list Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies/actions/bulk-enable
{
"policy_ids": ["b60179ee-6d1e-4473-befc-b368c9c2bdc1"],
}
4.21.5.6.4. Response
Response Parameter
Table 4.21.91 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "95c5e022-5392-42fa-b7f4-f2061cac973d"
}
4.21.5.6.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.5.7. Bulk Disable Alert Policies
4.21.5.7.1. Scenario
Scenario: Bulk disable alert policies
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to bulk disable alert policies (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.5.7.2. URI
Table 4.21.92 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/alarm-policies/actions/bulk-disable Bulk Disable
Alert Policies
Parameter Description:
None
4.21.5.7.3. Request
Request Parameter
Table 4.21.93 Response Parameter¶
Parameter Location Type Description Required
policy_ids body list(string) Policy ID list Yes
Request Example
https://{SCP_IP}/janus/20180725/alarm-policies/actions/bulk-disable
{
"policy_ids": ["b6b16c09-97b9-404d-babb-45bcf724a42d"],
}
4.21.5.7.4. Response
Response Parameter
Table 4.21.94 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "13cfde50-ddc3-473e-a750-96caed84d8e6"
}
4.21.5.7.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.21.6. Alert Metrics
4.21.6.1. Query List of Alert Metrics
4.21.6.1.1. Scenario
Scenario: Query the list of alert metrics
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to obtain the list of alert metrics (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.6.1.2. URI
Table 4.21.95 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/alarm-metrics Query List of Alert
Metrics
Parameter Description:
Table 4.21.96 Path Parameters¶
Parameter Location Type Description Required
ids path string Metric IDs, separated by
commas (,) No
tag path string Metric tag No
resource_group path string Resource group No
object_type path string Object type No
type path string Metric type No
is_creatable_policy path int(0, 1) Whether it can be used to
create alert policies No
is_sync_source path int(0, 1) Whether to synchronize
settings to the data source No
 Note
1.View Common Path Parameter Format for common path parameters.
4.21.6.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-metrics
4.21.6.1.4. Response
Response Parameter
Table 4.21.97 Response Parameter¶
Parameter Type Description
Value
Returned
id string Metric ID No
name string Metric name No
tag string Metric tag No
resource_group string Resource group. For details, see Alert Metric
Resource Group Type No
object_type string Object type. For details, see Alert Metric
Objects No
rule_config dict
Parameters that can be configured for an alert
rule. For details, see Parameter Description -
rule_config
No
default_rule_config dict Default configuration of an alert rule. For details,
see Parameter Description - default_rule_config No
unit string Metric Unit No
type string Metric type No
source string Data source No
is_sync_source int(0,
1)
Whether to synchronize settings to the data
source No
is_creatable_policy int(0,
1) Whether it can be used to create alert policies No
module string Functional module to which the metric belongs No
Parameter Description - rule_config:
Table 4.21.98 Parameter Description - rule_config¶
Parameter Type Description
Value
Returned
operator list(string)
or None Comparison operator No
duration list(int) or
None Duration No
threshold_range dict Alert threshold. For details, see Parameter
Description - threshold_range No
level list(string)
or None Measurement method No
metric_mode list(string)
or None Measurement method No
 Note
1.If the value is None, the parameter cannot be configured.
Parameter Description - threshold_range:
Table 4.21.99 Parameter Description - threshold_range¶
Parameter Type Description Value Returned
max int or None Threshold upper limit Yes
min int or None Threshold lower limit Yes
Parameter Description - default_rule_config:
Table 4.21.100 Parameter Description - default_rule_config¶
Parameter Type Description
Value
Returned
operator list(string)
or None
Comparison operator. For details, see Alert
Policy Rule Operators Yes
duration list(int) or
None Duration Yes
threshold list(dict) or
None
Alert threshold. For details, see Parameter
Description - default_threshold Yes
metric_mode list(string)
or None Measurement method Yes
Parameter Description - default_threshold:
Table 4.21.101 Parameter Description - default_threshold¶
Parameter Type Description
Value
Returned
level string or
None Threshold level. For details, see Alert Severity Yes
value int or None Threshold Yes
 Note
View Common Response Parameter Format for common response parameters in the API list.
Response Example:
[
{
"rule_config": {
"operator": [
"gt"
],
"duration": [
30,
60,
180,
600,
1200,
1800
],
"level": [
"p1"
],
"threshold_range": {
"max": 99,
"min": 1
},
"metric_mode": [
""
]
},
"name": "Packet loss rate of virtual interface",
"resource_group": "net",
"object_type": "vnet",
"module": "",
"is_sync_source": 1,
"source": "hci",
"tag": "vm_iface_lost_rate",
"is_creatable_policy": 0,
"default_rule_config": {
"operator": "gt",
"duration": 60,
"threshold": [
{
"value": 60,
"level": "p1"
}
],
"metric_mode": ""
},
"type": "threshold",
"id": "67c93d75-cb42-4d43-bb08-bbe058dfd062",
"unit": "%"
}
]
4.21.6.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.21.6.2. Query List of Alert Metric Groups
4.21.6.2.1. Scenario
Scenario: Query the list of alert metric groups
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to obtain the list of alert metric groups (for SDK)
Versions supported: SCP 6.9.1 and later
4.21.6.2.2. URI
Table 4.21.102 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/alarm-metrics/groups Query List of Alert Metric
Groups
Parameter Description:
Table 4.21.103 Path Parameters¶
Parameter Location Type Description Required
name path string Resource group name No
4.21.6.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/alarm-metrics/groups
4.21.6.2.4. Response
Response Parameter
Table 4.21.104 Response Parameter¶
Parameter Type Description
Value
Returned
name string Resource group name. For details, see Alert Metric
Resource Group Type Yes
object_types list(string) Object type. For details, see Alert Metric Objects Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"name": "platform",
"object_types": [
"platform_cluster",
"daas",
"oss",
"site",
"dmp",
"cluster",
"link",
"sn",
"asec",
"third_part_service"
]
},
{
"name": "net",
"object_types": [
"eip",
"sharedbw",
"vnet",
"eip_pool"
]
},
{
"name": "storage",
"object_types": [
"storage",
"quota"
]
},
{
"name": "host",
"object_types": [
"host"
]
},
{
"name": "vm",
"object_types": [
"vm"
]
}
]
4.21.6.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.22. Monitoring
4.22.1. Common Monitoring Data Parameters
4.22.1.1. Resource type
Table 4.22.1 Resource type¶
Value Description
server Virtual machine
host Node
sbw_flow Shared bandwidth traffic
eip Elastic IP throughput
eip_pool Elastic IP pool throughput
eip_flow Elastic IP traffic
sbw Shared bandwidth throughput
scale_group AS group
az Resource pool (supported in SCP 6.8.80 and later)
oss Object storage (supported in SCP 6.8.80 and later)
disaster Disaster recovery (supported in SCP 6.8.80 and later)
eip_tenant Elastic IP of tenant (supported in SCP 6.8.80 and later)
4.22.1.2. Metrics
Table 4.22.2 Metrics¶
Resource type metric_names Description
eip eip.send.speed Outbound throughput of elastic IP
eip eip.recv.speed Inbound throughput of elastic IP
eip_flow eip.in.packet Inbound traffic of elastic IP
eip_flow eip.out.packet Outbound traffic of elastic IP
eip_pool eip.recv.speed Inbound throughput of elastic IP
pool
eip_pool eip.send.speed Outbound throughput of elastic IP
pool
sbw sbw.send.speed Outbound throughput of shared
bandwidth
sbw sbw.recv.speed Inbound throughput of shared
bandwidth
sbw_flow sbw.in.packet Inbound traffic of shared bandwidth
sbw_flow sbw.out.packet Outbound traffic of shared
bandwidth
host cpu.util CPU usage
host memory.util Memory usage
host io.read.iops IO reads
host io.write.iops IO writes
host io.read.speed IO read speed
host io.write.speed IO write speed
host net.in.bps Inbound throughput
host net.out.bps Outbound throughput
host net.in.pps Inbound throughput (pps)
host net.out.pps Outbound throughput (pps)
server cpu.util CPU usage
server memory.util Memory usage
server io.read.iops IO reads
server io.write.iops IO writes
server io.read.speed IO read speed
server io.write.speed IO write speed
server net.in.bps Inbound throughput
server net.out.bps Outbound throughput
server net.in.pps Inbound throughput (pps)
server net.out.pps Outbound throughput (pps)
scale_group num.util Number of AS groups
scale_group cpu.util CPU usage
scale_group memory.util Memory usage
scale_group io.read.iops IO reads
scale_group io.write.iops IO writes
scale_group io.read.speed IO read speed
scale_group io.write.speed IO write speed
scale_group net.in.pps Inbound throughput (pps)
scale_group net.out.pps Outbound throughput (pps)
scale_group net.in.bps Inbound throughput
scale_group net.out.bps Outbound throughput
az cpu.util CPU usage
az memory.util Memory usage
az disk.util Storage usage
disaster site.status.bool Status of the disaster recovery site
disaster site.in.bps Inbound throughput of disaster
recovery site
disaster site.out.bps Outbound throughput of disaster
recovery site
oss bytes.received Inbound traffic
oss bytes.sent Outbound traffic
oss api.ops API call count
eip_tenant eip.send.speed Outbound throughput of elastic IP
eip_tenant eip.recv.speed Inbound throughput of elastic IP
4.22.2. Query monitoring data
4.22.2.1. Query monitoring data
Scenario: Query the monitoring data
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to read the monitoring data
Versions supported: SCP 6.3.83 and later
4.22.2.1.1. URI
Table 4.22.3 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/metrics/{object_id} Query monitoring data
Parameter Description:
Table 4.22.4 Path Parameters¶
Parameter Location Type Description Required
object_id path string Resource ID, such as the VM ID Yes
object_type path string View Resource type for resource types. Yes
metric_names path string
View Metrics for metrics. Multiple
metrics separated by commas (,) are
allowed. Example: cpu.util,memory.util
Yes
timegap path string
Time range for the query. The default
unit is second, and the units hour and
day are also supported. If no value is
passed in, the data in one hour is
returned by default.
Yes
stop_time path string End time. If no value is passed in, the
current time is used by default. No
granularity path string
Expected granularity. The default unit is
second, and the units hour and day are
also supported. If no value is passed in,
a default value will be used.
No
project_id path string Tenant ID (specific to object storage) No
 Note
Parameter Description - timegap:
stop_time specifies the end time in the time range specified by timegap. For example, if
stop_time is set to 2021-07-09 12:00:00 and timegap is set to 1h, monitoring data in the
range of 2021-07-09 11:00:00 to 2021-07-09 12:00:00 is queried. To query data
generated more than 24 hours earlier than the current time, the time range specified by
timegap must be greater than 24 hours. To query data generated within 24 hours
(including the current time) to the current time, the time range specified by timegap must
be less than or equal to 24 hours. If stop_time is set to a time more than 24 hours earlier
than the current time, the time range specified by timegap cannot be less than 24 hours.
Parameter Description - granularity:
When timegap is less than or equal to 1 hour, the minimum granularity is 60s. When
timegap is greater than 1 hour and less than or equal to 24 hours (one day), the minimum
granularity is 300s. When timegap is greater than 24 hours (one day) and less than or
equal to 30 days, the minimum granularity is 1,800s. When timegap is greater than 30
days, the minimum granularity is 43,200s. Note that the minimum granularity is 60s and
the granularity must be a multiple of 60s.
Parameter Description - project_id:
This parameter is required when the resource type is object storage.
4.22.2.1.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/metrics/host-001b21d61e70?
object_type=host&metric_names=cpu.util,memory.util&granularity=2400&timegap=1h
4.22.2.1.3. Response
Response Parameter
Table 4.22.5 Response Parameter¶
Parameter Type Description
Value
Returned
cpu.util dict View Parameter Description - common-metric for
CPU usage. No
memory.util dict View Parameter Description - common-metric for
memory usage. No
disk.util dict View Parameter Description - common-metric for
storage usage. No
io.read.iops dict View Parameter Description - common-metric for
IO reads. No
io.write.iops dict View Parameter Description - common-metric for
IO writes. No
io.read.speed dict View Parameter Description - common-metric for
IO read speed. No
io.write.speed dict View Parameter Description - common-metric for
IO write speed. No
net.in.pps dict View Parameter Description - common-metric for
inbound throughput (pps). No
net.out.pps dict View Parameter Description - common-metric for
outbound throughput (pps). No
net.in.bps dict View Parameter Description - common-metric for
the inbound throughput. No
net.out.bps dict View Parameter Description - common-metric for
the outbound throughput. No
eip.recv.speed dict
View Parameter Description - common-metric for
the inbound throughput of elastic IP or elastic IP
pool.
No
eip.send.speed dict
View Parameter Description - common-metric for
the outbound throughput of elastic IP or elastic IP
pool.
No
eip.out.packet dict View Parameter Description - common-metric for
the outbound traffic of elastic IP. No
eip.in.packet dict View Parameter Description - common-metric for
the inbound traffic of elastic IP. No
sbw.recv.speed dict View Parameter Description - common-metric for
the inbound throughput of shared bandwidth. No
sbw.send.speed dict View Parameter Description - common-metric for
the outbound throughput of shared bandwidth No
sbw.out.packet dict View Parameter Description - common-metric for
the outbound traffic of shared bandwidth. No
sbw.out.packet dict the outbound traffic of shared bandwidth. No
sbw.in.packet dict View Parameter Description - common-metric for
the inbound traffic of shared bandwidth. No
num.util dict View Parameter Description - common-metric for
the number of devices. No
site.status.bool dict Status of disaster recovery site. For details, see
Parameter Description - common-metric No
site.in.bps dict Inbound throughput of disaster recovery site. For
details, see Parameter Description - common-metric No
site.out.bps dict Outbound throughput of disaster recovery site. For
details, see Parameter Description - common-metric No
bytes.received dict Inbound traffic. For details, see Parameter
Description - common-metric No
bytes.sent dict Outbound traffic. For details, see Parameter
Description - common-metric No
api.ops dict API call count. For details, see Parameter
Description - common-metric No
Parameter Description - common-metric:
Table 4.22.6 Parameter Description - common-metric¶
Parameter Type Description Required
datapoints list(list) Data No
unit string Unit of the metric No
granularity int Granularity. The default unit is
second. No
 Note
1. datapoints is a two-dimensional list. The value with the index 0 in the internal list indicates
the time, and the value with the index 1 indicates the queried metric data at that time.
2. For common response parameters, view Response Format for details
Response Example:
{
"cpu.util": {
"datapoints": [
[
"2021-07-08T22:02:00",
54.04658832998283
],
[
"2021-07-08T22:42:00",
50.29759119906204
]
],
"unit": "%",
"granularity": 2400
},
"memory.util": {
"datapoints": [
[
"2021-07-08T22:02:00",
83.34465662319634
],
[
"2021-07-08T22:42:00",
79.3979321365798
]
],
"unit": "%",
"granularity": 2400
}
}
4.22.2.1.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.22.2.2. Query Monitoring Data (20190725)
Scenario: Query the monitoring data
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to query the monitoring data (for SDK)
Versions supported: SCP 6.10.0 and later
 Note
The structure returned by the API version 20190725 is different from that by version
20180725 because monitoring data comes from the SCP trend chart in version 20180725
and from HCI in version 20190725.
4.22.2.2.1. URI
Table 4.22.7 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/metrics/{object_id} Query monitoring data
Parameter Description:
Table 4.22.8 Path Parameters¶
Parameter Location Type Description Required
object_id path string Resource ID. Only the datastore ID is
supported. Yes
object_type path string Resource type. For details, see Resource
type. Yes
metric_name path string Metric. Only one metric is supported.
For details, see Metrics. Yes
timegap path string Query time range. For details, see Time
Range. Yes
stop_time path string
End time (timestamp). If this parameter
is not passed in, the latest time is used
by default.
No
start_time path string
Start time (timestamp). If this parameter
is not passed in, the latest time is used
by default.
No
Table 4.22.9 Resource type¶
Value Description
storage Storage
Table 4.22.10 Metrics¶
Resource type metric_names Description
storage io.iops IO reads and writes
storage io.speed IO read/write speed
storage io.latency IO read/write latency
Table 4.22.11 Time Range¶
Value Description
custom Custom time
hour Last hour. For virtual storage, data in the last 4 hours is returned; for other storage
types, data in the last hour is returned.
day Last 24 hours
week Last week
month Last month
 Note
Parameter Description - timegap:
If the resource ID indicates virtual storage and timegap is set to hour, data in the last 4
hours is returned. For virtual storage, timegap can be hour, day, week, or custom. For
other storage types, timegap can be hour, day, or month (HCI 6.7.0 and later).
Parameter Description - metric_name:
metric_name can be set to io.latency only for virtual storage. For other storage types, the
rate is in Bps.
4.22.2.2.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/metrics/366f93964be5f431fbec0af5c50c62053?
object_type=storage&metric_name=io.speed&timegap=hour
4.22.2.2.3. Response
Response Parameter
Table 4.22.12 Response Parameter¶
Parameter Type Description
Value
Returned
io.read.iops dict IO reads. For details, see Parameter Description -
common-metric. No
io.write.iops dict IO writes. For details, see Parameter Description -
common-metric. No
io.read.speed dict IO read speed. For details, see Parameter
Description - common-metric. No
io.write.speed dict IO write speed. For details, see Parameter
Description - common-metric. No
io_read_latency dict IO read latency. For details, see Parameter
Description - common-metric. No
io_write_latency dict IO write latency. For details, see Parameter
Description - common-metric. No
Parameter Description - common-metric:
Table 4.22.13 Parameter Description - common-metric¶
Parameter Type Description Required
datapoints list(list) Data No
unit string Unit of the metric No
granularity string Granularity. The default unit is
second. No
start_time string Start time No
 Note
For common response parameters, view Response Format for details
Response Example:
{
"io.read.speed": {
"start_time": "1683254232",
"granularity": "60",
"unit": "Bps",
"datapoints": [
2183984,
0,
0,
0,
0,
0,
0,
0,
0,
0,
688,
688,
688,
688,
688,
752,
920,
920,
920,
4021864,
5508176,
738176,
232,
93760,
232,
2281024,
8333096,
0,
0,
0,
1596720,
684312,
3997696,
5171888,
737280,
2747056,
1263384,
0,
0,
11945208,
979944,
0,
1945336,
1296888,
0,
0,
0,
688,
1205824,
752,
800,
920,
152200,
1362200,
800,
696,
232,
800,
4001344,
5193288,
232,
232,
216,
232,
154736,
3242216,
0,
0,
0,
0,
2370224
]
},
"io.write.speed": {
"start_time": "1683254232",
"granularity": "60",
"unit": "Bps",
"datapoints": [
408,
0,
0,
0,
0,
0,
0,
0,
0,
424,
280,
232,
656,
280,
448,
488,
464,
464,
464,
1072,
1128,
920,
216,
232,
256,
504,
712,
0,
0,
0,
320,
136,
456,
688,
456,
0,
232,
0,
0,
1320,
496,
0,
272,
184,
0,
0,
0,
232,
464,
280,
560,
232,
400,
528,
352,
232,
256,
584,
560,
1144,
352,
216,
256,
0,
232,
456,
0,
0,
0,
0,
232
]
}
}
4.22.2.2.4. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.23. Object Storage Management
4.23.1. Common Object Storage Parameters
4.23.1.1. Access Permissions for Object Storage Buckets
Table 4.23.1 Access Permissions for Object Storage Buckets¶
Value Description
read Read-only
write Write/delete
full_control All
4.23.2. Buckets
4.23.2.1. Query List of Object Storage Buckets
4.23.2.1.1. Scenario
Scenario: Query the list of object storage buckets
Roles supported: Super administrator and co-administrator with the object storage read permission,
tenant and tenant co-administrator with the object storage read permission
Versions supported: SCP 6.7.33 and later
4.23.2.1.2. URI
Table 4.23.2 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/oss-buckets Query List of Object Storage
Buckets
Parameter Description:
Table 4.23.3 Path Parameters¶
Parameter Location Type Description Required
location path string Object storage service ID No
name path string Bucket name No
account_id path string Object storage account ID No
project_id path string Tenant ID of the object storage
account No
storage_class path string
Bucket storage category. This
parameter is reserved (unavailable
currently).
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.23.2.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/oss-buckets?location=da77d180-9cc4-47b8-a742-209d6eb4114e
4.23.2.1.4. Response
Response Parameter
Table 4.23.4 Response Parameter¶
Parameter Type Description
Value
Returned
id string Bucket ID No
project_id string Tenant ID of the object storage account for
the bucket No
location string Object storage service ID No
name string Bucket name No
account_id string Object storage account ID No
storage_class string Bucket storage type (This parameter is
reserved and must be left blank.) No
redundancy_policy string Erasure coding policy (This parameter is
reserved and must be left blank.) No
versioning_enable int(0,
1) Whether to enable bucket versioning No
object_merge_enable int(0,
1)
Whether to enable small object merging for
buckets No
object_count int Number of bucket objects No
acl dict View Parameter Description - acl for the
bucket access permission configuration. No
qos_enable int(0,
1) Whether to enable QoS No
lifecycle_enable int(0,
1) Whether to enable lifecycle management No
Parameter Description - acl:
Table 4.23.5 Parameter Description - acl¶
Parameter Type
Value
Returned Description
owner string Yes View Access Permissions for Object Storage Buckets
for owner permissions.
users string Yes View Access Permissions for Object Storage Buckets
for permissions of the cloud platform account.
all string Yes View Access Permissions for Object Storage Buckets
for permissions of all visitors.
 Note
For common path parameters details, see Common Path Parameter Format.
Response Example:
[
{
"object_count": 160105,
"redundancy_policy": "",
"qos_enable": 0,
"name": "ljq-tenant-bucket1",
"versioning_enable": 0,
"object_merge_enable": 1,
"project_id": "946262284bbf46f2905a000e9b7bc5eb",
"lifecycle_enable": 0,
"location": "da77d180-9cc4-47b8-a742-209d6eb4114e",
"storage_class": "",
"acl": {
"owner": "full_control",
"all": "",
"users": ""
},
"id": "9f52232d06183b9992c70d16ff494be3",
"account_id": "fcf5eb0d-b9a9-4553-9af5-ff75997be4ac"
},
{
"object_count": 172879,
"redundancy_policy": "",
"qos_enable": 0,
"name": "ljq-tenant-bucket2",
"versioning_enable": 0,
"object_merge_enable": 1,
"project_id": "946262284bbf46f2905a000e9b7bc5eb",
"lifecycle_enable": 0,
"location": "da77d180-9cc4-47b8-a742-209d6eb4114e",
"storage_class": "",
"acl": {
"owner": "full_control",
"all": "",
"users": ""
},
"id": "0176a23c2cf154cf8e91ee1b4f2b881e",
"account_id": "522a1504-0366-441d-8559-0178e32b5611"
},
{
"object_count": 202012,
"redundancy_policy": "",
"qos_enable": 0,
"name": "ljq-tenant-bucket3",
"versioning_enable": 0,
"object_merge_enable": 1,
"project_id": "946262284bbf46f2905a000e9b7bc5eb",
"lifecycle_enable": 0,
"location": "da77d180-9cc4-47b8-a742-209d6eb4114e",
"storage_class": "",
"acl": {
"owner": "full_control",
"all": "",
"users": ""
},
"id": "1a4819ac83b4c7702a8cf06e84605b4a",
"account_id": "921e271e-58be-414c-848b-e45edd50e378"
}
]
4.23.2.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.23.3. Object Storage Accounts
4.23.3.1. Create Object Storage Account
4.23.3.1.1. Scenario
Scenario: Create an object storage account
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the object
storage configuration permission
Versions supported: SCP 6.7.33 and later
4.23.3.1.2. URI
Table 4.23.6 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/oss-accounts Create Object Storage
Account
4.23.3.1.3. Request
Request Parameter
Table 4.23.7 Description of Body Parameter¶
Parameter Location Type Description Required
location body string ID of the data center providing object
storage Yes
name body string Name Yes
project_id body string Tenant ID of the object storage account
for the bucket Yes
capacity_size body int
Total capacity (quota) in KB (Note:
Currently, the actual unit of the total
capacity can only be MB. Therefore, the
value must be an integer multiple of
1024.)
Yes
Request Example
https://{SCP_IP}/janus/20180725/oss-accounts
{
"location": "8ca2d058-500a-4cac-96af-4a0961892a39",
"name": "account1",
"project_id": "b9f644e5d4ed42358d287b19ea944e71",
"capacity_size": 1024000
}
4.23.3.1.4. Response
Response Parameter
Table 4.23.8 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "3d865258-30eb-477a-907d-ba1c1c14d3bd"
}
4.23.3.1.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.23.3.2. Delete Object Storage Account
4.23.3.2.1. Scenario
Scenario: Delete an object storage account
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the object
storage configuration permission
Versions supported: SCP 6.7.33 and later
4.23.3.2.2. URI
Table 4.23.9 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/oss-accounts/{account_id} Delete Object
Storage Account
Parameter Description:
Table 4.23.10 Path Parameters¶
Parameter Location Type Description Required
account_id path string Object storage account
ID Yes
4.23.3.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/oss-accounts/3c14843d-06b3-4ec5-a7ee-1911487b3573
4.23.3.2.4. Response
Response Parameter
Table 4.23.11 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "00ed8f05-cfcf-4e29-8463-a56b485fd858"
}
4.23.3.2.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.23.3.3. Edit Object Storage Account
4.23.3.3.1. Scenario
Scenario: Edit an object storage account
Roles supported: Super administrator, system administrator, tenant, and co-administrator with the object
storage configuration permission
Versions supported: SCP 6.7.33 and later
4.23.3.3.2. URI
Table 4.23.12 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/oss-accounts/{account_id} Edit Object Storage
Account
Parameter Description:
Table 4.23.13 Path Parameters¶
Parameter Location Type Description Required
account_id path string Object storage account
ID Yes
4.23.3.3.3. Request
Request Parameter
Table 4.23.14 Description of Body Parameter¶
Parameter Location Type Description Required
capacity_size body int
Total capacity (quota) in KB (Note:
Currently, the actual unit of the total
capacity can only be MB. Therefore, the
value must be an integer multiple of
1024.)
Yes
Request Example
https://{SCP_IP}/janus/20180725/oss-accounts/3c14843d-06b3-4ec5-a7ee-1911487b3573
{
"capacity_size": 1024000
}
4.23.3.3.4. Response
Response Parameter
Table 4.23.15 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "b908ebcb-e46c-4a35-a8a6-6f6c33ad1b5d"
}
4.23.3.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.23.3.4. Query Object Storage Account Details
4.23.3.4.1. Scenario
Scenario: Query object storage account details
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to read object storage buckets
Versions supported: SCP 6.7.33 and later
4.23.3.4.2. URI
Table 4.23.16 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/oss-accounts/{account_id} Query Object Storage
Account Details
Parameter Description:
Table 4.23.17 Path Parameters¶
Parameter Location Type Description Required
account_id path string Object storage account
ID Yes
4.23.3.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/oss-accounts/3c14843d-06b3-4ec5-a7ee-1911487b3573
4.23.3.4.4. Response
Response Parameter
Table 4.23.18 Response Parameter¶
Parameter Type Description
Value
Returned
id string Object storage account ID Yes
name string Name Yes
internal_endpoint string Internal endpoint Yes
extenal_endpoint string External endpoint Yes
capacity_size int Total capacity (quota) in KB Yes
used_capacity_size int Used capacity (KB) Yes
max_bucket_count int Maximum number of buckets that can be
owned by the account Yes
object_count int Number of existing objects for the
account Yes
location string ID of the data center providing object
storage Yes
user_id string User ID of the object storage account
for the bucket Yes
project_id string Tenant ID of the object storage account
for the bucket Yes
create_time string Time created Yes
owner_id string EDS account ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"object_count": 0,
"user_id": "",
"name": "sunhao2",
"used_capacity_size": 0,
"extenal_endpoint": "",
"capacity_size": 1024000,
"max_bucket_count": 1000,
"create_time": "2022-01-05 14:35:36",
"location": "b17fb144-342e-4624-9f54-b743edef4e88",
"internal_endpoint": "oss1.local.cloud.scp",
"project_id": "ab9b0d94949a495385b46899faa4e0e7",
"id": "3c14843d-06b3-4ec5-a7ee-1911487b3573",
"owner_id": "3271fc00-eac7-43cc-8049-9a73f1e249b3"
}
4.23.3.4.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.23.3.5. Query List of Object Storage Accounts
4.23.3.5.1. Scenario
Scenario: Query the list of object storage accounts
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to read object storage buckets
Versions supported: SCP 6.7.33 and later
4.23.3.5.2. URI
Table 4.23.19 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/oss-accounts Query List of Object Storage
Accounts
Parameter Description:
Table 4.23.20 Path Parameters¶
Parameter Location Type Description Required
name path string Object storage account name No
location path string ID of the data center providing
object storage No
user_id path string User ID of the object storage
account No
project_id path string Tenant ID of the object storage
account No
4.23.3.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/oss-accounts?location=8ca2d058-500a-4cac-96af-4a0961892a39
4.23.3.5.4. Response
Response Parameter
Table 4.23.21 Response Parameter¶
Parameter Type Description
Value
Returned
id string Object storage account ID No
name string Name No
capacity_size int Total capacity (quota) in KB No
used_capacity_size int Used capacity (KB) No
object_count int Number of existing objects for the
account No
location string ID of the data center providing object
storage No
user_id string User ID of the object storage account
for the bucket No
project_id string Tenant ID of the object storage account
for the bucket No
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"object_count": 2,
"user_id": "",
"name": "sunhao2",
"used_capacity_size": 0,
"capacity_size": 102400,
"location": "b17fb144-342e-4624-9f54-b743edef4e88",
"project_id": "ab9b0d94949a495385b46899faa4e0e7",
"id": "54a41184-562d-46d0-bd9e-131e5df84fbc"
},
{
"object_count": 5,
"user_id": "",
"name": "sunhao2",
"used_capacity_size": 0,
"capacity_size": 102400,
"location": "b17fb144-342e-4624-9f54-b743edef4e88",
"project_id": "ab9b0d94949a495385b46899faa4e0e7",
"id": "d111b192-e358-4ab2-93eb-b2144602bf66"
}
]
4.23.3.5.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.24. Work Order Management
4.24.1. Common Parameters
4.24.1.1. Status
Table 4.24.1 Status¶
Value Description
waiting Pending
reject Rejected
agree Valid
executing Valid
done Completed
failed Abnormal
withdraw Canceled
4.24.1.2. Request Type
Table 4.24.2 Request Type¶
Value Description
vm_create Apply for creating VM
vm_edit Apply for editing VM
quota_update Apply for resource quota
4.24.1.3. VM Types
Table 4.24.3 VM Types¶
Value Description
compute Ordinary VM
desk aDesk VDI VM
4.24.1.4. Deployment Method
Table 4.24.4 Deployment Method¶
Value Description
fast Quick deployment
full Full deployment
4.24.2. Query Work Order List
4.24.2.1. Scenario
Scenario: Query the work order list
Roles supported: Super administrator, tenant, tenant user, and custom administrator and tenant coadministrator
with permission to obtain work order list
Versions supported: SCP 6.8.80 and later
4.24.2.2. URI
Table 4.24.5 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/work-orders Query Work Order
List
Parameter Description:
Table 4.24.6 Path Parameters¶
Parameter Location Type Description Required
start_time path string Start time of work order No
end_time path string End time of work order No
type path string Work order type. For details, see
Request Type No
status path string Work order status. For details, see
Status No
user_id path string Requester ID. A tenant user cannot
query this parameter. No
project_id path string
Tenant ID of the work order. Only
super administrator can query this
parameter.
No
current_handler path string ID of the current approver of the
work order No
approval_status path string Approval status. Valid values:
approved and pending No
4.24.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/work-orders?user_id=b46c14561e7e44e193c51f695d0fa041
4.24.2.4. Response
Response Parameter
Table 4.24.7 Response Parameter¶
Parameter Type Description
Value
Returned
id string Work order ID No
type string Work order type. For details, see Request Type No
project_id string Tenant ID No
user_id string Requester ID of the work order No
current_handler string ID of the current approver of the work order No
status string Work order status. For details, see Status No
approve_status string Approval status of the work order (approved or
rejected) No
reason string Purpose No
created_at string Time created No
updated_at string Time updated No
approve_at string Approval time No
message string Approval message No
resource_type string Requested resource type. For details, see Request
Type No
resource_info dict Requested resource. For details, see Relationship
Between resource_info and type No
process list(dict) Approval progress. For details, see Parameter
Description - process No
 Note
1.The value of resource_info is correlated with that of the returned type. You can query
corresponding tables based on type for details.
Relationship Between resource_info and type:
Table 4.24.8 Relationship Between resource_info and type¶
Value of type Type Description
vm_create dict View Parameter Description - resource_info (type: vm_create)
vm_edit dict View Parameter Description - resource_info (type: vm_edt)
quota_update dict View Parameter Description - resource_info (type: quota_update)
Parameter Description - resource_info (type: vm_create):
Table 4.24.9 Parameter Description - resource_info (type: vm_create)¶
Parameter Type Description
Value
Returned
apply_resource dict
Requested resource. For details, see Parameter
Description -
apply_resource/modified_resource
Yes
modified_resource dict
Information of the resource that is requested
for modification. For details, view Parameter
Description -
apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description
- results No
Parameter Description - resource_info (type: vm_edt):
Table 4.24.10 Parameter Description - resource_info (type: vm_edt)¶
Parameter Type Description
Value
Returned
current_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
apply_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
modified_resource dict
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description -
results No
Parameter Description - resource_info (type: quota_update):
Table 4.24.11 Parameter Description - resource_info (type: quota_update)¶
Parameter Type Description
Value
Returned
current_resource list(dict)
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
apply_resource list(dict)
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
modified_resource list(dict)
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description -
results No
Parameter Description - apply_resource/modified_resource (type: vm_create):
Table 4.24.12 Parameter Description - apply_resource/modified_resource¶
Parameter Type Description
Value
Returned
server_name string VM name Yes
description string VM description No
group_id string VM group. A null string indicates the default
group. No
count int VM count No
name_suffix string Name suffix No
cores int CPU cores Yes
sockets int Socket number No
memory_mb int Memory size (MB) Yes
type string VM type. Valid values:, vm, mysql, and oracle No
server_id string VM UUID No
dh_id string Dedicated server group ID No
dh_name string Dedicated server group name No
cluster_type string Cluster type. Valid values: hci and vmware Yes
az_id string Resource pool ID No
az_name string Resource pool name No
storage_tag_id string Storage Tag ID No
storage_tag_name string Storage tag name No
storage_id string Storage location No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
host_name string Host name No
power_on int Whether to power on VMs after creation No
image_id string Image ID Yes
image_name string Image name No
disks list(dict) Disk. For details, see Parameter Description -
disks Yes
networks list(dict) Network. For details, see Parameter
Description - networks No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - cdroms No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
advance_param dict Parameter specific to HCI. For details, see
Parameter Description - advance_param No
password string VM password No
bind_floatingip string Binding action of elastic IP. Valid values: 0 (not
bind), 1 (bind), and 2 (change the elastic IP) No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip No
hostname string VM hostname No
hostname_index string Starting number of VM hostname suffix No
lifespan string VM expiration time No
gpu_conf dict GPU configuration. For details, see Parameter
Description - gpu_conf No
keypair dict Encryption key. For details, see Parameter
Description - keypair No
keypair dict Description - keypair No
application_type string Business type of the VM. Valid values: desk and
compute No
derive_mode string Deployment method. Valid values: fast and full No
Parameter Description - current_resource/apply_resource/modified_resource (type: vm_edit):
Table 4.24.13 Parameter Description - current_resource/apply_resource/modified_resource¶
Parameter Type Description
Value
Returned
server_id string VM UUID Yes
cluster_type string Cluster type. Valid values: hci and vmware Yes
server_name string VM name Yes
description string VM description No
group_id string VM group. A null string indicates the default
group. No
cores int CPU cores Yes
sockets int Socket number No
memory_mb int Memory size (MB) Yes
os_type string Operating system type No
os_name string OS No
az_id string Resource pool ID No
az_name string Resource pool name No
storage_tag_id string Storage Tag ID No
storage_tag_name string Storage tag name No
storage_id string Storage location No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
image_name string Image name No
disks list(dict) Disk. For details, see Parameter Description -
disks Yes
hard_delete_disks list(string
or int) Permanently deleted disk No
data_erase_disks list(string
or int) Disk whose data is erased No
networks list(dict) Network. For details, see Parameter
Description - networks No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - cdroms No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
advance_param dict Parameter specific to HCI. For details, see
Parameter Description - advance_param No
bind_floatingip string
Binding action of elastic IP. Valid values: 0
(not bind), 1 (bind), and 2 (change the elastic
IP)
No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip No
host_name string Host name No
gpu_conf dict GPU configuration. For details, see
Parameter Description - gpu_conf No
Parameter Description - current_resource/apply_resource/modified_resource (type: quota_update)
Table 4.24.14 Parameter Description - current_resource/apply_resource/modified_resource¶
Parameter Type Description Value Returned
provider string Quota Provider Types Yes
namespace string Quota type Yes
resource string Quota name Yes
az_id string Resource pool ID No
unit string Quota unit No
value int Quota size Yes
line_type string Line type name No
Parameter Description - compute_location:
Table 4.24.15 Parameter Description - compute_location¶
Parameter Type Description
Value
Returned
id string Run location ID, such as host-xx, cluster, and domainxx
Yes
location int Whether the device runs on specified node only No
type string Run location type No
policy_type string Type of VM scheduling policy No
Parameter Description - disks:
Table 4.24.16 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string
or int Disk ID (ide0…n or device_id) No
size_mb int Disk size (MB) Yes
is_old_disk int Whether the disk exists before the VM is edited No
preallocate string Disk Provisioning Method No
eagerly_scrub int Whether to reset now No
type string Storage path No
storage_file string Run location type No
storage_id string Storage ID No
storage_policy_id string Storage policy ID No
discard_enable int Whether to enable the space reclamation feature No
cache_enable string Whether caching is enabled No
io_usage_limit dict Disk IO limit. For details, see Parameter
Description - io_usage_limit No
Parameter Description - io_usage_limit:
Table 4.24.17 Parameter Description - io_usage_limit¶
Parameter Type Description Value Returned
kbps_rd int Bandwidth limit on disk read No
kbps_wr int Bandwidth limit on disk write No
iops_rd int Disk IO reads No
iops_wr int Disk IO writes No
Parameter Description - networks:
Table 4.24.18 Parameter Description - networks¶
Parameter Type Description
Value
Returned
connect int Connection status Yes
device_id string Connected network No
model string Adapter model No
network_type string Network type. Valid values: vpc and classic No
mac_address string MAC address No
vif_id string
or int Network ID (net0…n or device_key) No
port_id string Port No
host_tso int Whether to enable TSO No
name string Name of the connected port No
vpc_id string Tenant network ID No
vpc_name string Tenant network name No
subnet_id string Connected subnet ID No
subnet_name string Name of the connected subnet No
cidr string Subnet CIDR No
subnet_gateway_ip string Gateway of the connected VPC subnet No
custom_gateway_ip string Custom gateway No
ip_info dict IP address. For details, see Parameter
Description - ip_info No
ipv6_info dict IPv6 address. For details, see Parameter
Description - ipv6_info No
Parameter Description - ip_info:
Table 4.24.19 Parameter Description - ip_info¶
Parameter Type Description Value Returned
ip_address string Specified IP Address Yes
netmask string Netmask No
gateway string Gateway No
dns list(string) DNS No
Parameter Description - ipv6_info:
Table 4.24.20 Parameter Description - ipv6_info¶
Parameter Type Description Value Returned
ip_address string Specified IPv6 address Yes
prefixlen string Prefix length No
gateway string Gateway No
dns list(string) DNS No
Parameter Description - cdroms
Table 4.24.21 Parameter Description - cdroms¶
Parameter Type Description Value Returned
id string CD/DVD ID Yes
image_id string Image ID No
location string ISO location No
image_name string CD/DVD image name No
Parameter Description - usbs:
Table 4.24.22 Parameter Description - usbs¶
Parameter Type Description
Value
Returned
id string USB ID(udisk0..n) Yes
usb_device string USB device No
controller_type string Controller type. Valid values: 2.0, 3.0 No
Parameter Description - advance_param:
Table 4.24.23 Parameter Description - advance_param¶
Parameter Type Note
Value
Returned
cpu_type string CPU type. Valid values: core2duo, host, and
phenom No
onboot int Whether the VM is started automatically when
the physical host is powered on. No
use_uuid int Whether to enable UUID. No
abnormal_recovery int Whether to reboot if fault occurs. No
hugepage_memory int Whether to use huge-page memory. No
balloon_memory int Whether to enable memory reclaiming。No
schedopt int Whether it is a critical VM. No
cpu_hotplug int Whether to enable CPU hot add. No
mem_hotplug int Whether to enable memory hot add. No
boot_order string Boot sequence, c indicates cdrom, d indicates
disk. No
boot_disk string Boot disk No
use_vblk int Whether to enable vblk. No
real_use_vblk int Whether to really use vblk. No
cpu_usage_limit_mhz string CPU clock speed limit No
keyboard string Keyboard layout No
Parameter Description -floatingip:
Table 4.24.24 Paramter Description - floatingip¶
Parameter Type Description Value Returned
floatingip_id string Elastic IP ID No
bandwidth int Elastic IP bandwidth No
line_type string Elastic IP line type No
line_type_name string Elastic IP line type name No
floatingip_ip string Elastic IP address No
sharedbandwidth_id string Shared bandwidth ID No
sharedbandwidth_name string Shared bandwidth name No
Parameter Description - gpu_conf:
Table 4.24.25 Parameter Description - gpu_conf¶
Parameter Type Description
Value
Returned
vendor string GPU vendor, such as NVIDIA
and AMD Yes
total_count int Total number of graphic cards No
enable_count int Number of graphic cards
enabled No
gpu_type string Graphics Card Model Yes
slice_type string vGPU type Yes
schedulers list(string) vGPU scheduler list No
frame_rate int Frames No
vgpu_sched_mode string Power-on automation level No
Parameter Description - keypair:
Table 4.24.26 Parameter Description - keypair¶
Parameter Type Description Value Returned
key_name string Key pair name Yes
user_id string User ID No
Parameter Description - results:
Table 4.24.27 Parameter Description - results¶
Parameter Type Description Value Returned
success int Whether it is successful Yes
name string Resource name No
message string Message provided in the event
of failure No
Parameter Description - process:
Table 4.24.28 Parameter Description - process¶
Parameter Type Description
Value
Returned
approver_list list(string) Approver list. For details, see Parameter
Description - approver_list Yes
Parameter Description - approver_list:
Table 4.24.29 Parameter Description - approver_list¶
Parameter Type Description
Value
Returned
user_id string Approver ID Yes
is_agree int
Action, which can be “approve” or “reject”.
Approval is not conducted if this parameter is
left blank.
Yes
opinion string Comment Yes
 Note
For common response parameters, view Response Format for details
Response Example:
[
{
"status": "waiting",
"user_id": "b46c14561e7e44e193c51f695d0fa041",
"current_handler": "",
"created_at": "2022-11-29T18:55:02",
"updated_at": "",
"reason": "2222",
"resource_info": {
"current_resource": [
{
"resource": "cores",
"namespace": "compute",
"value": 2,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "Core"
},
{
"resource": "ram",
"namespace": "compute",
"value": 4,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "GB"
}
],
"apply_resource": [
{
"resource": "cores",
"namespace": "compute",
"value": 3,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "Core"
},
{
"resource": "ram",
"namespace": "compute",
"value": 5,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "GB"
}
]
},
"message": "",
"project_id": "9149aa1f3b1f40d0a01a35a26782e8d2",
"type": "quota_update",
"id": "20221129000013",
"resource_type": "quota",
"approve_at": ""
}
]
4.24.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.24.3. Query Work order Details
4.24.3.1. Scenario
Scenario: Query work order details
Roles supported: Super administrator, tenant, tenant users, and custom administrator and tenant coadministrator
with permission to obtain work order details
Versions supported: SCP 6.8.80 and later
4.24.3.2. URI
Table 4.24.30 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/work-orders/{work_order_id} Query Work
order Details
Parameter Description:
Table 4.24.31 Path Parameters¶
Parameter Location Type Description Required
work_order_id path string Work order
ID Yes
4.24.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/work-orders/20221123000004
4.24.3.4. Response
Response Parameter
Table 4.24.32 Response Parameter¶
Parameter Type Description
Value
Returned
id string Work order ID Yes
type string Work order type. For details, see Request
Type Yes
project_id string Tenant ID Yes
user_id string Requester ID of the work order Yes
current_handler string ID of the current approver of the work order Yes
current_work_flow dict Current approval node. For details, see
Parameter Description - current_work_flow Yes
status string Work order status. For details, see Status Yes
reason string Purpose Yes
created_at string Time created Yes
updated_at string Time updated Yes
approve_at string Approval time No
message string Approval message Yes
resource_type string Requested resource type. For details, see
Request Type Yes
resource_info dict Requested resource. For details, see
Relationship Between resource_info and type Yes
approve_history list(dict) Approval history. For details, see Parameter
Description - approve_history No
process list(dict) Approval progress. For details, see Parameter
Description - process No
 Note
1.The value of resource_info is correlated with that of the returned type. You can query
corresponding tables based on type for details.
Parameter Description - current_work_flow:
Table 4.24.33 Parameter Description - current_work_flow¶
Parameter Type Description
Value
Returned
id string ID of the workflow template associated with the work
order Yes
index int Approval node in the workflow template. -1 indicates
the end of the workflow. Yes
users list(dict) Approver information. For details, see Parameter
Description - users Yes
Parameter Description - users:
Table 4.24.34 Parameter Description - users¶
Parameter Type Description Value Returned
id string Processor ID Yes
is_agree int Whether the action is “approve”. -1
indicates the end of the workflow. Yes
approve_at string Approval time Yes
Relationship Between resource_info and type:
Table 4.24.35 Relationship Between resource_info and type¶
Value of type Type Description
vm_create dict View Parameter Description - resource_info (type: vm_create)
vm_edit dict View Parameter Description - resource_info (type: vm_edt)
quota_update dict View Parameter Description - resource_info (type: quota_update)
Parameter Description - resource_info (type: vm_create):
Table 4.24.36 Parameter Description - resource_info (type: vm_create)¶
Parameter Type Description
Value
Returned
apply_resource dict
Requested resource. For details, see Parameter
Description -
apply_resource/modified_resource
Yes
modified_resource dict
Information of the resource that is requested
for modification. For details, view Parameter
Description -
apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description
- results No
Parameter Description - resource_info (type: vm_edt):
Table 4.24.37 Parameter Description - resource_info (type: vm_edt)¶
Parameter Type Description
Value
Returned
current_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
apply_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
modified_resource dict
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description -
results No
Parameter Description - resource_info (type: quota_update):
Table 4.24.38 Parameter Description - resource_info (type: quota_update)¶
Parameter Type Description
Value
Returned
current_resource list(dict)
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
apply_resource list(dict)
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
modified_resource list(dict)
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
No
results list(dict) Results. For details, see Parameter Description -
results No
Parameter Description - apply_resource/modified_resource (type: vm_create):
Table 4.24.39 Parameter Description - apply_resource/modified_resource¶
Parameter Type Description
Value
Returned
server_name string VM name Yes
description string VM description No
group_id string VM group. A null string indicates the default
group. No
count int VM count No
name_suffix string Name suffix No
cores int CPU cores Yes
sockets int Socket number No
memory_mb int Memory size (MB) Yes
type string VM type. Valid values:, vm, mysql, and oracle No
server_id string VM UUID No
dh_id string Dedicated server group ID No
dh_name string Dedicated server group name No
cluster_type string Cluster type. Valid values: hci and vmware Yes
az_id string Resource pool ID No
az_name string Resource pool name No
storage_tag_id string Storage Tag ID No
storage_tag_name string Storage tag name No
storage_id string Storage location No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
host_name string Host name No
power_on int Whether to power on VMs after creation No
image_id string Image ID Yes
image_name string Image name No
Disk. For details, see Parameter Description -
disks list(dict) Disk. For details, see Parameter Description -
disks Yes
networks list(dict) Network. For details, see Parameter
Description - networks No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - cdroms No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
advance_param dict Parameter specific to HCI. For details, see
Parameter Description - advance_param No
password string VM password No
bind_floatingip string Binding action of elastic IP. Valid values: 0 (not
bind), 1 (bind), and 2 (change the elastic IP) No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip No
hostname string VM hostname No
hostname_index string Starting number of VM hostname suffix No
lifespan string VM expiration time No
gpu_conf dict GPU configuration. For details, see Parameter
Description - gpu_conf No
keypair dict Encryption key. For details, see Parameter
Description - keypair No
application_type string Business type of the VM. Valid values: desk and
compute No
derive_mode string Deployment method. Valid values: fast and full No
Parameter Description - current_resource/apply_resource/modified_resource (type: vm_edit):
Table 4.24.40 Parameter Description - current_resource/apply_resource/modified_resource¶
Parameter Type Description
Value
Returned
server_id string VM UUID Yes
cluster_type string Cluster type. Valid values: hci and vmware Yes
server_name string VM name Yes
description string VM description No
group_id string VM group. A null string indicates the default
group. No
cores int CPU cores Yes
sockets int Socket number No
memory_mb int Memory size (MB) Yes
os_type string Operating system type No
os_name string OS No
az_id string Resource pool ID No
az_name string Resource pool name No
storage_tag_id string Storage Tag ID No
storage_tag_name string Storage tag name No
storage_id string Storage location No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
image_name string Image name No
disks list(dict) Disk. For details, see Parameter Description -
disks Yes
hard_delete_disks list(string
or int) Permanently deleted disk No
data_erase_disks list(string
or int) Disk whose data is erased No
networks list(dict) Network. For details, see Parameter
Description - networks No
cdroms list(dict) CD/DVD. For details, see Parameter
Description - cdroms No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
advance_param dict Parameter specific to HCI. For details, see
Parameter Description - advance_param No
bind_floatingip string
Binding action of elastic IP. Valid values: 0
(not bind), 1 (bind), and 2 (change the elastic
IP)
No
floatingip dict Elastic IP address information. For details, see
Paramter Description - floatingip No
host_name string Host name No
gpu_conf dict GPU configuration. For details, see
Parameter Description - gpu_conf No
Parameter Description - current_resource/apply_resource/modified_resource (type: quota_update)
Table 4.24.41 Parameter Description - current_resource/apply_resource/modified_resource¶
Parameter Type Description Value Returned
provider string Quota Provider Types Yes
namespace string Quota type Yes
resource string Quota name Yes
az_id string Resource pool ID No
unit string Quota unit No
value int Quota size Yes
line_type string Line type name No
Parameter Description - compute_location:
Table 4.24.42 Parameter Description - compute_location¶
Parameter Type Description
Value
Returned
id string Run location ID, such as host-xx, cluster, and domainxx
Yes
location int Whether the device runs on specified node only No
type string Run location type No
policy_type string Type of VM scheduling policy No
Parameter Description - disks:
Table 4.24.43 Parameter Description - disks¶
Parameter Type Description
Value
Returned
id string
or int Disk ID (ide0…n or device_id) No
size_mb int Disk size (MB) Yes
is_old_disk int Whether the disk exists before the VM is edited No
preallocate string Disk Provisioning Method No
eagerly_scrub int Whether to reset now No
type string Storage path No
storage_file string Run location type No
storage_id string Storage ID No
storage_policy_id string Storage policy ID No
discard_enable int Whether to enable the space reclamation feature No
cache_enable string Whether caching is enabled No
io_usage_limit dict Disk IO limit. For details, see Parameter
Description - io_usage_limit No
Parameter Description - io_usage_limit:
Table 4.24.44 Parameter Description - io_usage_limit¶
Parameter Type Description Value Returned
kbps_rd int Bandwidth limit on disk read No
kbps_wr int Bandwidth limit on disk write No
iops_rd int Disk IO reads No
iops_wr int Disk IO writes No
Parameter Description - networks:
Table 4.24.45 Parameter Description - networks¶
Parameter Type Description
Value
Returned
connect int Connection status Yes
device_id string Connected network No
model string Adapter model No
network_type string Network type. Valid values: vpc and classic No
mac_address string MAC address No
vif_id string
or int Network ID (net0…n or device_key) No
port_id string Port No
host_tso int Whether to enable TSO No
name string Name of the connected port No
vpc_id string Tenant network ID No
vpc_name string Tenant network name No
subnet_id string Connected subnet ID No
subnet_name string Name of the connected subnet No
cidr string Subnet CIDR No
subnet_gateway_ip string Gateway of the connected VPC subnet No
custom_gateway_ip string Custom gateway No
ip_info dict IP address. For details, see Parameter
Description - ip_info No
ipv6_info dict IPv6 address. For details, see Parameter
Description - ipv6_info No
Parameter Description - ip_info:
Table 4.24.46 Parameter Description - ip_info¶
Parameter Type Description Value Returned
ip_address string Specified IP Address Yes
netmask string Netmask No
gateway string Gateway No
dns list(string) DNS No
Parameter Description - ipv6_info:
Table 4.24.47 Parameter Description - ipv6_info¶
Parameter Type Description Value Returned
ip_address string Specified IPv6 address Yes
prefixlen string Prefix length No
gateway string Gateway No
dns list(string) DNS No
Parameter Description - cdroms
Table 4.24.48 Parameter Description - cdroms¶
Parameter Type Description Value Returned
id string CD/DVD ID Yes
image_id string Image ID No
location string ISO location No
image_name string CD/DVD image name No
Parameter Description - usbs:
Table 4.24.49 Parameter Description - usbs¶
Parameter Type Description
Value
Returned
id string USB ID(udisk0..n) Yes
usb_device string USB device No
controller_type string Controller type. Valid values: 2.0, 3.0 No
Parameter Description - advance_param:
Table 4.24.50 Parameter Description - advance_param¶
Parameter Type Note
Value
Returned
cpu_type string CPU type. Valid values: core2duo, host, and
phenom No
onboot int Whether the VM is started automatically when
the physical host is powered on. No
use_uuid int Whether to enable UUID. No
abnormal_recovery int Whether to reboot if fault occurs. No
hugepage_memory int Whether to use huge-page memory. No
balloon_memory int Whether to enable memory reclaiming。No
schedopt int Whether it is a critical VM. No
cpu_hotplug int Whether to enable CPU hot add. No
mem_hotplug int Whether to enable memory hot add. No
boot_order string Boot sequence, c indicates cdrom, d indicates
disk. No
boot_disk string Boot disk No
use_vblk int Whether to enable vblk. No
real_use_vblk int Whether to really use vblk. No
cpu_usage_limit_mhz string CPU clock speed limit No
keyboard string Keyboard layout No
Parameter Description -floatingip:
Table 4.24.51 Paramter Description - floatingip¶
Parameter Type Description Value Returned
floatingip_id string Elastic IP ID No
bandwidth int Elastic IP bandwidth No
line_type string Elastic IP line type No
line_type_name string Elastic IP line type name No
floatingip_ip string Elastic IP address No
sharedbandwidth_id string Shared bandwidth ID No
sharedbandwidth_name string Shared bandwidth name No
Parameter Description - gpu_conf:
Table 4.24.52 Parameter Description - gpu_conf¶
Parameter Type Description
Value
Returned
vendor string GPU vendor, such as NVIDIA
and AMD Yes
total_count int Total number of graphic cards No
enable_count int Number of graphic cards
enabled No
gpu_type string Graphics Card Model Yes
slice_type string vGPU type Yes
schedulers list(string) vGPU scheduler list No
frame_rate int Frames No
vgpu_sched_mode string Power-on automation level No
Parameter Description - keypair:
Table 4.24.53 Parameter Description - keypair¶
Parameter Type Description Value Returned
key_name string Key pair name Yes
user_id string User ID No
Parameter Description - results:
Table 4.24.54 Parameter Description - results¶
Parameter Type Description Value Returned
success int Whether it is successful Yes
name string Resource name No
message string Message provided in the event
of failure No
Parameter Description - approve_history:
Table 4.24.55 Parameter Description - approve_history¶
Parameter Type Description
Value
Returned
approve_at string Approval time Yes
index int Approval node Yes
user_id string Approver ID Yes
is_agree string Action, which can be “approve” or “reject”. Yes
opinion string Resource name Yes
type string Work order type. For details, see Request Type Yes
resource_info dict
Configuration of the resource associated with work
order. For details, see Relationship Between
resource_info and type
Yes
 Note
1.The value of resource_info is correlated with that of type returned in approve_history. You
can query corresponding tables based on type for details.
Relationship Between resource_info and type:
Table 4.24.56 Relationship Between resource_info and type¶
Value of type Type Description
vm_create dict View Parameter Description - resource_info (type: vm_create)
vm_edit dict View Parameter Description - resource_info (type: vm_edt)
quota_update dict View Parameter Description - resource_info (type: quota_update)
Parameter Description - resource_info (type: vm_create):
Table 4.24.57 Parameter Description - resource_info (type: vm_create)¶
Parameter Type Description
Value
Returned
apply_resource dict Requested resource. For details, see Parameter
Description - apply_resource/modified_resource Yes
approved_resource dict
Information of the resource that is requested for
modification. For details, view Parameter
Description - apply_resource/modified_resource
Yes
Parameter Description - resource_info (type: vm_edt):
Table 4.24.58 Parameter Description - resource_info (type: vm_edt)¶
Parameter Type Description
Value
Returned
apply_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
approved_resource dict
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
Yes
Parameter Description - resource_info (type: quota_update):
Table 4.24.59 Parameter Description - resource_info (type: quota_update)¶
Parameter Type Description
Value
Returned
apply_resource dict
Requested resource. For details, see Parameter
Description -
current_resource/apply_resource/modified_resource
Yes
approved_resource dict
Information of the resource that is requested for
modification. For details, view Parameter Description
-
current_resource/apply_resource/modified_resource
Yes
Parameter Description - process:
Table 4.24.60 Parameter Description - process¶
Parameter Type Description
Value
Returned
approver_list list(string) Approver list. For details, see Parameter
Description - approver_list Yes
Parameter Description - approver_list:
Table 4.24.61 Parameter Description - approver_list¶
Parameter Type Description
Value
Returned
user_id string Approver ID Yes
is_agree int
Action, which can be “approve” or “reject”.
Approval is not conducted if this parameter is
left blank.
Yes
opinion string Comment Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "waiting",
"user_id": "b46c14561e7e44e193c51f695d0fa041",
"current_handler": "",
"created_at": "2022-11-29T18:55:02",
"updated_at": "",
"reason": "2222",
"resource_info": {
"current_resource": [
{
"resource": "cores",
"namespace": "compute",
"value": 2,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "Core"
},
{
"resource": "ram",
"namespace": "compute",
"value": 4,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "GB"
}
],
"apply_resource": [
{
"resource": "cores",
"namespace": "compute",
"value": 3,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "Core"
},
{
"resource": "ram",
"namespace": "compute",
"value": 5,
"line_type": "",
"az_id": "7ba61db6-defc-4889-a9ab-a1c6ef4ec5a0",
"provider": "hci",
"unit": "GB"
}
]
},
"message": "",
"project_id": "9149aa1f3b1f40d0a01a35a26782e8d2",
"type": "quota_update",
"id": "20221129000013",
"resource_type": "quota",
"approve_at": ""
}
4.24.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.24.4. Approve or Reject Work Order
4.24.4.1. Scenario
Scenario: Approve or reject work order
Roles supported: Administrator, system administrator, tenant, and custom administrator and tenant coadministrator
with work order approval permission
Versions supported: SCP 6.8.80 and later
4.24.4.2. URI
Table 4.24.62 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/work-orders/{work_order_id}/approve
Approve or
Reject
Work
Order
Parameter Description:
Table 4.24.63 Path Parameters¶
Parameter Location Type Description Required
work_order_id path string Work order
ID Yes
4.24.4.3. Request
Request Parameter
Table 4.24.64 Description of Body Parameter¶
Parameter Location Type Description Required
is_approval body int(0, 1) Whether the work order is
approved Yes
opinion body string Comment No
modified_resource_info body dict or
list(dict)
Information of the resource
that is requested for
modification. For details,
view Parameter Description
- modified_resource_info
No
 Note
1.If the requested resource information does not need to be changed, specify only
is_approval.
Parameter Description - modified_resource_info:
Table 4.24.65 Parameter Description - modified_resource_info¶
Request
Type Type Parameter Description - modified_resource_info
vm_create dict View Parameter Description - vm_create_modified_resource_info
for details.
vm_edit dict View Parameter Description - vm_edit_modified_resource_info for
details.
quota_update list(dict) View Parameter Description -
quota_update_modified_resource_info for details.
Parameter Description - vm_create_modified_resource_info:
Table 4.24.66 Parameter Description - vm_create_modified_resource_info¶
Parameter Location Type Description Required
server_name body string VM name No
name_suffix body string VM name No
description body string VM description No
hostname_index body int Starting number of VM hostname
suffix No
hostname body string VM hostname No
count body int(1,
20) VM count No
cores body int(1, 8) CPU cores No
sockets body int(1, 8) Socket number No
memory_mb body int Memory size (MB) No
storage_tag_id body string Storage Tag ID No
compute_location body dict
Run location. For details, see
Parameter Description -
compute_location
No
power_on body int(0, 1) Power on after creation No
disks body list(dict) Disk. For details, see Parameter
Description - disk(vm_create) No
networks body list(dict)
Network. For details, see
Parameter Description -
network(vm_create)
No
advance_param body dict
Parameter specific to HCI
resource pools. For details, see
Parameter Description -
advance_param(vm_create)
No
floatingip body dict
Elastic IP address information
(only VPC network supports this
parameter). For details, see
Paramter Description - floatingip
No
bind_floatingip body int(0, 2)
Binding action of an elastic IP.
Valid values: 0 (not bind), 1 (create
an elastic IP), and 2 (bind an
existing elastic IP)
No
lifespan body string Expiration time of bound VM.
Example: 2022-12-14 23:59:59 No
gpu_conf body dict
GPU configuration. For details,
see Parameter Description -
gpu_conf
No
application_type body string VM type. For details, see VM
Types No
derive_mode body string Deployment method. For details,
see Deployment Method No
usbs body list(dict) GPU configuration. For details,
see Parameter Description - usbs No
 Note
1.The type of system disk of the VM created using a built-in image must be derive_disk, and
the values of size_mb and preallocate must match those in the built-in image. The type of
system disk of the VM created using an ISO image is new_disk. Other parameters can be
specified as needed. 2.When the number of requested VMs is 1, name_suffix and
hostname_index cannot be specified. 3.When the number of requested VMs is more than 1,
floatingip and bind_floatingip cannot be specified. 4.When the resource pool of the requested
VM is a dedicated resource pool, compute_location can be specified when a tenant is
approving or rejecting a work order. 5.If the network is a classic network, bind_floatingip and
floatingip cannot be specified.
Parameter Description - compute_location:
Table 4.24.67 Parameter Description - compute_location¶
Parameter Location Type Description Required
id body string Running location Yes
location body int(0, 1) The run location of the VM is
fixed No
Parameter Description - disk(vm_create):
Table 4.24.68 Parameter Description - disk(vm_create)¶
Parameter Location Type Description Required
size_mb body int Disk size (MB) Yes
type body string Disk type. For details, see VM Disk
Type No
preallocate body string Disk provisioning method, view Disk
Provisioning Method for details Yes
id body string
Disk ID (ide0…n or device_id). Note:
ide2 indicates the system disk, which is
already in use. Other disks can be used.
The value can be ide0, ide1, …, iden (n ≤
15)
No
io_usage_limit body dict Disk IO limit. For details, see Parameter
Description - io_usage_limit No
eagerly_scrub body int(0,
1)
Whether to clear disk data immediately
(only supported by VMware resource
pool)
No
Parameter Description - io_usage_limit:
Table 4.24.69 Parameter Description - io_usage_limit¶
Parameter Location Type Description Required
kbps_rd body int(128, 104857600) Bandwidth limit on
disk read No
kbps_wr body int(128, 104857600) Bandwidth limit on
disk write No
iops_rd body int(16, 2147483647) Disk IO reads No
iops_wr body int(16, 2147483647) Disk IO writes No
Parameter Description - network(vm_create):
Table 4.24.70 Parameter Description - network(vm_create)¶
Parameter Location Type Description Required
connect body int(0,
1) Connection status Yes
device_id body string
ID of the connected network device
(only supported by classic network or
VMware resource pool)
No
model body string NIC type. For details, see VM NIC Type Yes
mac_address body string MAC address Yes
vif_id body string
Network ID (net0…n or device_key. It
must be passed in for HCI resource
pools)
No
port_id body string Port ID of the device specified by the
device_id parameter No
host_tso body int(0,
1) Whether to enable TSO No
vpc_id body string Tenant network ID No
subnet_id body string Connected subnet ID No
host_tso body int(0,
1) Whether to enable TSO No
ip_info body dict IP address. For details, see Parameter
Description - ip_info No
ipv6_info body dict Information of the IPv6 address. This
parameter is currently not supported. No
Parameter Description - ip_info:
Table 4.24.71 Parameter Description - ip_info¶
Parameter Location Type Description Required
ip_address body string Specified IP
Address Yes
netmask body string Netmask No
gateway body string Gateway No
dns body list(string) DNS No
 Note
1.If the network is a classic network, at least ip_address and netmask must be specified. 2.If
the network is a VPC, only ip_address can be specified.
Parameter Description - advance_param(vm_create):
Table 4.24.72 Parameter Description - advance_param(vm_create)¶
Parameter Location Type Note Required
onboot body int(0, 1) Whether to power on VM
at host startup No
use_uuid body int(0, 1) Whether UUID generator
is enabled No
abnormal_recovery body int(0, 1) Whether to restart VM if
fault occurs No
hugepage_memory body int(0, 1) Whether huge-page
memory is enabled No
balloon_memory body int(0, 1) Whether memory
reclaiming is enabled No
schedopt body int(0, 1) Whether high priority is
enabled for VM No
cpu_hotplug body int(0, 1) Whether CPU hot add is
enabled No
mem_hotplug body int(0, 1) Whether memory hot add
is enabled No
boot_order body string Boot sequence, c indicates
cdrom, d indicates disk. No
keyboard body string Keyboard layout No
cpu_usage_limit_mhz body int(100,
1000000) CPU clock speed limit No
Parameter Description -floatingip:
Table 4.24.73 Paramter Description - floatingip¶
Parameter Location Type Description Required
floatingip_id body string Elastic IP ID No
bandwidth body int Elastic IP bandwidth No
line_type body string Elastic IP line type ID No
sharedbandwidth_id body string Shared bandwidth ID No
 Note
1.When bind_floatingip is set to 2, floatingip_id must be specified. 2.When bind_floatingip is
set to 1, specify line_type and bandwidth if the created bandwidth is dedicated bandwidth or
line_type and sharedbandwidth_id if the created bandwidth is shared bandwidth.
Parameter Description - gpu_conf:
Table 4.24.74 Parameter Description - gpu_conf¶
Parameter Location Type Description Required
vendor body string GPU vendor, which can be NVIDIA
only at present Yes
gpu_type body string Graphics Card Model Yes
slice_type body string vGPU type, view vGPU Type for
details. Yes
vgpu_sched_mode body string Power-on automation level No
Parameter Description - usbs:
Table 4.24.75 Parameter Description - usbs¶
Parameter Location Type Description Required
id body string USB ID(udisk0..n) Yes
usb_device body string USB device No
controller_type body string Controller type. Valid values: 2.0,
3.0 Yes
Parameter Description - vm_edit_modified_resource_info:
Table 4.24.76 Parameter Description - vm_edit_modified_resource_info¶
Parameter Location Type Description Required
description body string VM description No
cores body int(1, 8) CPU cores No
sockets body int(1, 8) Socket number No
memory_mb body int Memory size (MB) No
compute_location body dict
Run location. For details, see
Parameter Description -
compute_location
No
disks body list(dict) Disk. For details, see Parameter
Description - disk(vm_update) No
networks body list(dict)
Network. For details, see
Parameter Description -
network(vm_update)
No
advance_param body dict
Parameter specific to HCI
resource pools. For details, see
Parameter Description -
advance_param(vm_update)
No
floatingip body dict
Elastic IP address information
(only VPC network supports this
parameter). For details, see
Paramter Description - floatingip
No
bind_floatingip body int(0, 2)
Binding action of an elastic IP.
Valid values: 0 (not bind), 1 (create
an elastic IP), and 2 (bind an
existing elastic IP)
No
gpu_conf body dict
GPU configuration. For details,
see Parameter Description -
gpu_conf
No
usbs body lits(dict) GPU configuration. For details,
see Parameter Description - usbs No
 Note
1.When the requested VM is in a dedicated resource pool, compute_location can be specified
when a tenant approves or rejects a work order. 2.If the network is a classic network,
bind_floatingip and floatingip cannot be specified.
Parameter Description - disk(vm_update):
Table 4.24.77 Parameter Description - disk(vm_update)¶
Parameter Location Type Description Required
size_mb body int Disk size (MB) Yes
type body string Disk type. For details, see VM Disk
Type No
preallocate body string Disk provisioning method, view Disk
Provisioning Method for details Yes
id body string
Disk ID (ide0…n or device_id). Note:
ide2 indicates the system disk, which is
already in use. Other disks can be used.
The value can be ide0, ide1, …, iden (n ≤
15)
No
io_usage_limit body dict Disk IO limit. For details, see Parameter
Description - io_usage_limit No
eagerly_scrub body int(0,
1)
Whether to clear disk data immediately
(only supported by VMware resource
pool)
No
is_old_disk body int(0,
1)
Whether the disk exists before the VM
is edited No
Parameter Description - network(vm_update):
Table 4.24.78 Parameter Description - network(vm_update)¶
Parameter Location Type Description Required
connect body int(0,
1) Connection status Yes
device_id body string
ID of the connected network
device (specific to classic network
or VMware resource pool)
No
model body string NIC type. For details, see VM NIC
Type Yes
mac_address body string MAC address Yes
vif_id body string
Network ID (net0…n or
device_key. It must be passed in
for HCI resource pools)
No
port_id body string Port ID of the device specified by
the device_id parameter No
host_tso body int(0,
1) Whether to enable TSO No
vpc_id body string Tenant network ID No
subnet_id body string Connected subnet ID No
host_tso body int(0,
1) Whether to enable TSO No
ip_info body dict IP address. For details, see
Parameter Description - ip_info No
ipv6_info body dict
Information of the IPv6 address.
This parameter is currently not
supported.
No
custom_gateway_ip body string Custom gateway (specific to VPC) No
Parameter Description - advance_param(vm_update):
Table 4.24.79 Parameter Description - advance_param(vm_update)¶
Parameter Location Type Note Required
hugepage_memory body int(0, 1)
Whether hugepage
memory is
enabled
No
keyboard body string Keyboard layout No
cpu_usage_limit_mhz body int(100, 1000000) CPU clock speed
limit No
Parameter Description - quota_update_modified_resource_info:
Table 4.24.80 Parameter Description - quota_update_modified_resource_info¶
Parameter Location Type Description Required
provider body string View Quota Provider Types for the quota
provider type. Yes
namespace body string Types of quota, view Resource Quota
Specifications for details. Yes
resource body string Quota name, view Resource Quota
Specifications for details. Yes
az_id body string
Resource pool ID, the global ID is
10000000-0000-0000-0000-
000000000000
Yes
unit body string Quota unit Yes
value body string Quota size Yes
 Note
1.The resource pool ID of global resources is 10000000-0000-0000-0000-000000000000.
Global resources: container_cloud_service, eip_bandwidth, eip_count, dr_vm_count, and
image_usage
Request Example
https://{SCP_IP}/janus/20180725/work-orders/20221207000437/approve
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"description": "test1",
"cores": 4,
"sockets": 2,
"memory_mb": 1024,
"compute_location": {
"id": "host-00505697ca6f",
"location": 1
},
"disks": [
{
"size_mb": 20480,
"preallocate": "off",
"type": "derive_disk",
"id": "ide0"
}
],
"networks": [
{
"vif_id": "net0",
"vpc_id": "b6e9052a-63ae-4d17-97ba-fdf5d67c0df4",
"subnet_id": "4d1c18d8-7951-4673-9cbb-db97c7180fd7",
"connect": 1,
"mac_address": "fa:16:3e:e5:8a:64",
"model": "rtl8139",
"ip_info": {
"ip_address": "192.168.0.66"
}
},
{
"vif_id": "net1",
"vpc_id": "b6e9052a-63ae-4d17-97ba-fdf5d67c0df4",
"subnet_id": "2ad86232-6886-48ce-8812-408d167af9f2",
"connect": 0,
"mac_address": "fa:16:6e:e5:8a:15",
"model": "rtl8139"
}
],
"advance_param": {
"hugepage_memory": 1,
"cpu_usage_limit_mhz": 6666
},
"bind_floatingip": 1,
"floatingip": {
"line_type": "3279c718-1b28-4f56-a393-e1ce10cd9b9d",
"sharedbandwidth_id": "59ae2420-9db3-4af1-9453-d2924e991fc6"
}
}
}
4.24.4.4. Response
Response Parameter
Table 4.24.81 Response Parameter¶
Parameter Type Description
Value
Returned
id string Work order ID Yes
type string Work order type. For details, see Request Type Yes
status string Work order status. For details, see Status Yes
message string Approval message Yes
resource_type string Requested resource type. For details, see Request
Type Yes
resource_info dict Requested resource. For details, see Parameter
Description - modified_resource_info Yes
approve_status string Approval status of the work order No
task_id string Task ID No
Parameter Description - modified_resource_info:
Table 4.24.82 Parameter Description - modified_resource_info¶
Request
Type Type Parameter Description - modified_resource_info
vm_create dict View Parameter Description - vm_create_modified_resource_info
for details.
vm_edit dict View Parameter Description - vm_edit_modified_resource_info for
details.
quota_update list(dict) View Parameter Description -
quota_update_modified_resource_info for details.
Parameter Description - vm_create_modified_resource_info:
Table 4.24.83 Parameter Description - vm_create_modified_resource_info¶
Parameter Type Description
Value
Returned
server_name string VM name Yes
name_suffix string VM name No
description string VM description No
hostname_index int Starting number of VM hostname suffix No
hostname string VM hostname No
count int VM count No
cores int CPU cores Yes
sockets int Socket number No
memory_mb int Memory size (MB) Yes
storage_tag_id string Storage Tag ID No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
power_on int(0, 1) Power on after creation No
disks list(dict) Disk. For details, see Parameter Description -
disk(vm_create) Yes
networks list(dict) Network. For details, see Parameter Description
- network(vm_create) No
advance_param dict
Parameter specific to HCI resource pools. For
details, see Parameter Description -
advance_param(vm_create)
No
floatingip dict
Elastic IP address information (only VPC
network supports this parameter). For details,
see Paramter Description - floatingip
No
bind_floatingip int(0, 2)
Binding action of an elastic IP. Valid values: 0
(not bind), 1 (create an elastic IP), and 2 (bind an
existing elastic IP)
No
lifespan string Expiration time of bound VM. Example: 2022-
12-14 23:59:59 No
gpu_conf dict GPU configuration. For details, see Parameter
Description - gpu_conf No
application_type string VM type. For details, see VM Types No
derive_mode string Deployment method. For details, see
Deployment Method No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
Parameter Description - compute_location:
Table 4.24.84 Parameter Description - compute_location¶
Parameter Type Description Value Returned
id string Running location Yes
location int(0, 1) The run location of the VM is fixed No
Parameter Description - disk(vm_create):
Table 4.24.85 Parameter Description - disk(vm_create)¶
Parameter Type Description
Value
Returned
size_mb int Disk size (MB) Yes
type string Disk type. For details, see VM Disk Type No
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
id string Disk ID (ide0…n or device_id) No
io_usage_limit dict Disk IO limit. For details, see Parameter Description -
io_usage_limit No
eagerly_scrub int(0,
1)
Whether to clear disk data immediately (only
supported by VMware resource pool) No
Parameter Description - io_usage_limit:
Table 4.24.86 Parameter Description - io_usage_limit¶
Parameter Type Description Value Returned
kbps_rd int Bandwidth limit on disk read No
kbps_wr int Bandwidth limit on disk write No
iops_rd int Disk IO reads No
iops_wr int Disk IO writes No
Parameter Description - network(vm_create):
Table 4.24.87 Parameter Description - network(vm_create)¶
Parameter Type Description
Value
Returned
connect int(0,
1) Connection status Yes
device_id string ID of the connected network device (only supported by
classic network or VMware resource pool) No
model string NIC type. For details, see VM NIC Type Yes
mac_address string MAC address Yes
vif_id string Network ID (net0…n or device_key. It must be passed
in for HCI resource pools) No
port_id string Port ID of the device specified by the device_id
parameter No
host_tso int(0,
1) Whether to enable TSO No
vpc_id string Tenant network ID No
subnet_id string Connected subnet ID No
host_tso int(0,
1) Whether to enable TSO No
ip_info dict IP address. For details, see Parameter Description -
ip_info No
ipv6_info dict Information of the IPv6 address. This parameter is
currently not supported. No
Parameter Description - ip_info:
Table 4.24.88 Parameter Description - ip_info¶
Parameter Type Description Value Returned
ip_address string Specified IP Address Yes
netmask string Netmask No
gateway string Gateway No
dns list(string) DNS No
Parameter Description - advance_param(vm_create):
Table 4.24.89 Parameter Description - advance_param(vm_create)¶
Parameter Type Note
Value
Returned
onboot int(0,
1) Whether to power on VM at host startup No
use_uuid int(0,
1) Whether UUID generator is enabled No
abnormal_recovery int(0,
1) Whether to restart VM if fault occurs No
hugepage_memory int(0,
1) Whether huge-page memory is enabled No
balloon_memory int(0,
1) Whether memory reclaiming is enabled No
schedopt int(0,
1) Whether high priority is enabled for VM No
cpu_hotplug int(0,
1) Whether CPU hot add is enabled No
mem_hotplug int(0,
1) Whether memory hot add is enabled No
boot_order string Boot sequence, c indicates cdrom, d indicates
disk. No
keyboard string Keyboard layout No
cpu_usage_limit_mhz int CPU clock speed limit No
Parameter Description -floatingip:
Table 4.24.90 Paramter Description - floatingip¶
Parameter Type Description Value Returned
floatingip_id string Elastic IP ID No
bandwidth int Elastic IP bandwidth No
line_type string Elastic IP line type ID No
sharedbandwidth_id string Shared bandwidth ID No
Parameter Description - gpu_conf:
Table 4.24.91 Parameter Description - gpu_conf¶
Parameter Type Description
Value
Returned
vendor string GPU vendor, which can be NVIDIA only at
present Yes
gpu_type string Graphics Card Model Yes
slice_type string vGPU type, view vGPU Type for details. Yes
vgpu_sched_mode string Power-on automation level No
Parameter Description - usbs:
Table 4.24.92 Parameter Description - usbs¶
Parameter Type Description
Value
Returned
id string USB ID(udisk0..n) Yes
usb_device string USB device No
controller_type string Controller type. Valid values: 2.0, 3.0 Yes
Parameter Description - vm_edit_modified_resource_info:
Table 4.24.93 Parameter Description - vm_edit_modified_resource_info¶
Parameter Type Description
Value
Returned
server_id string Virtual machine ID Yes
server_name string VM name Yes
cores int CPU cores Yes
memory_mb int Memory size Yes
description string VM description No
sockets int Socket number No
compute_location dict Run location. For details, see Parameter
Description - compute_location No
disks list(dict) Disk. For details, see Parameter Description -
disk(vm_update) Yes
networks list(dict) Network. For details, see Parameter Description
- network(vm_update) No
advance_param dict
Parameter specific to HCI resource pools. For
details, see Parameter Description -
advance_param(vm_update)
No
floatingip dict
Elastic IP address information (only VPC
network supports this parameter). For details,
see Paramter Description - floatingip
No
bind_floatingip int(0, 2)
Binding action of an elastic IP. Valid values: 0
(not bind), 1 (create an elastic IP), and 2 (bind an
existing elastic IP)
No
gpu_conf dict GPU configuration. For details, see Parameter
Description - gpu_conf No
usbs list(dict) USB. For details, see Parameter Description -
usbs No
Parameter Description - disk(vm_update):
Table 4.24.94 Parameter Description - disk(vm_update)¶
Parameter Type Description
Value
Returned
size_mb int Disk size (MB) Yes
type string Disk type. For details, see VM Disk Type No
preallocate string Disk provisioning method, view Disk Provisioning
Method for details Yes
id string Disk ID (ide0…n or device_id) No
io_usage_limit dict Disk IO limit. For details, see Parameter Description -
io_usage_limit No
eagerly_scrub int(0,
1)
Whether to clear disk data immediately (only
supported by VMware resource pool) No
is_old_disk int(0,
1) Whether the disk exists before the VM is edited No
Parameter Description - network(vm_update):
Table 4.24.95 Parameter Description - network(vm_update)¶
Parameter Type Description
Value
Returned
connect int(0,
1) Connection status Yes
device_id string ID of the connected network device (specific to
classic network or VMware resource pool) No
model string NIC type. For details, see VM NIC Type Yes
mac_address string MAC address Yes
vif_id string Network ID (net0…n or device_key. It must be
passed in for HCI resource pools) No
port_id string Port ID of the device specified by the device_id
parameter No
host_tso int(0,
1) Whether to enable TSO No
vpc_id string Tenant network ID No
subnet_id string Connected subnet ID No
host_tso int(0,
1) Whether to enable TSO No
ip_info dict IP address. For details, see Parameter
Description - ip_info No
ipv6_info dict Information of the IPv6 address. This parameter
is currently not supported. No
custom_gateway_ip string Custom gateway (specific to VPC) No
Parameter Description - advance_param(vm_update):
Table 4.24.96 Parameter Description - advance_param(vm_update)¶
Parameter Type Note Value Returned
hugepage_memory int(0, 1) Whether huge-page
memory is enabled No
keyboard string Keyboard layout No
cpu_usage_limit_mhz int CPU clock speed limit No
Parameter Description - quota_update_modified_resource_info:
Table 4.24.97 Parameter Description - quota_update_modified_resource_info¶
Parameter Type Description
Value
Returned
provider string View Quota Provider Types for the quota provider type. Yes
namespace string Types of quota, view Resource Quota Specifications for
details. Yes
resource string Quota name, view Resource Quota Specifications for
details. Yes
az_id string Resource pool ID, the global ID is 10000000-0000-
0000-0000-000000000000 No
unit string Quota unit No
value string Quota size Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"status": "agree",
"task_id": "f1811eb5-009c-47fb-8f2e-9ebf8b854dbf",
"resource_info": {
"count": 1,
"storage_tag_id": "00000000-0000-0000-0000-000000000000",
"description": "test1",
"server_name": "VM1",
"power_on": 1,
"disks": [
{
"size_mb": 20480,
"preallocate": "off",
"type": "new_disk",
"id": "ide0"
}
],
"networks": [
{
"vif_id": "net0",
"vpc_id": "b6e9052a-63ae-4d17-97ba-fdf5d67c0df4",
"subnet_id": "4d1c18d8-7951-4673-9cbb-db97c7180fd7",
"connect": 1,
"mac_address": "fa:16:3e:e5:8a:64",
"model": "rtl8139",
"ip_info": {
"ip_address": "192.168.0.66"
}
},
{
"vif_id": "net1",
"vpc_id": "b6e9052a-63ae-4d17-97ba-fdf5d67c0df4",
"subnet_id": "2ad86232-6886-48ce-8812-408d167af9f2",
"connect": 0,
"mac_address": "fa:16:6e:e5:8a:15",
"model": "rtl8139"
}
],
"memory_mb": 1024,
"bind_floatingip": 1,
"floatingip": {
"line_type": "3279c718-1b28-4f56-a393-e1ce10cd9b9d",
"sharedbandwidth_id": "59ae2420-9db3-4af1-9453-d2924e991fc6"
}
"advance_param": {
"schedopt": 1,
"hugepage_memory": 1,
"balloon_memory": 1,
"cpu_hotplug": 0,
"use_uuid": 1,
"abnormal_recovery": 1,
"cpu_usage_limit_mhz": 666,
"onboot": 0
},
"cores": 4,
"sockets": 2
},
"message": "",
"type": "vm_create",
"id": "20221207000448",
"resource_type": "vm"
}
4.24.4.5. Examples of Changing Information About Requested VM
Example 1: Change memory and CPU information
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"cores": 2,
"memory_mb": 2048
}
}
Example 2: Change disk information
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"disks": [
{
"id": "ide0",
"preallocate": "metadata",
"size_mb": 30920,
"type": "new_disk"
},
{
"id": "ide1",
"preallocate": "metadata",
"size_mb": 10240,
"type": "new_disk"
},
{
"id": "ide3",
"preallocate": "metadata",
"size_mb": 10240,
"type": "new_disk"
}
]
}
}
Example 3: Change connection to VPC network
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"networks": [
{
"vif_id": "net0",
"vpc_id": "b6e9052a-63ae-4d17-97ba-fdf5d67c0df4",
"subnet_id": "4d1c18d8-7951-4673-9cbb-db97c7180fd7",
"connect": 1,
"mac_address": "fa:16:3e:e5:8a:64",
"model": "rtl8139",
"ip_info": {
"ip_address": "192.168.0.66"
}
}
]
}
}
Example 4: Create elastic IP in VPC network (dedicated bandwidth)
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"bind_floatingip": 1,
"floatingip": {
"line_type": "792c1232-e6e6-498f-ae49-10ecd2bafc07",
"bandwidth": 30
}
}
}
Example 5: Create elastic IP in VPC network (shared bandwidth)
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"bind_floatingip": 1,
"floatingip": {
"line_type": "792c1232-e6e6-498f-ae49-10ecd2bafc07",
"sharedbandwidth_id": "2dc8431b-8bf2-4c52-8d9a-63abaf55d0d3"
}
}
}
Example 6: Associate with existing elastic IP in VPC network
{
"is_approval": 1,
"opinion": "test",
"modified_resource_info": {
"bind_floatingip": 2,
"floatingip": {
"floatingip_id": "136e7be4-53c5-4c61-b9d6-3ea6f5cc28fa"
}
}
}
Example 7: Change applied resource quota
{
"is_approval": 1,
"opinion": "111",
"modified_resource_info": [
{
"namespace": "storage",
"provider": "hci",
"az_id": "10000000-0000-0000-0000-000000000000",
"resource": "image_usage",
"value": 1,
"unit": "GB"
}
]
}
4.25. User and Access Management
4.25.1. Related Public Parameters
4.25.1.1. Permission Policy Type
Table 4.25.1 Permission Policy Type¶
Value Description
SysPolicy Predefined
Policy Custom
4.25.1.2. Permission Policy Roles
Table 4.25.2 Permission Policy Roles¶
Value Description
admin Super administrator
msp MSP administrator
tenant Tenant
4.25.1.3. Permission Policy Results
Table 4.25.3 Permission Policy Results¶
Value Description
Allow Allow
Deny Deny
4.25.1.4. Operations
Table 4.25.4 Operations¶
Value Description
ReadWrite Read and write
ListOnly List only
ReadOnly Read only
4.25.2. Policies
4.25.2.1. Query Permission Policy Details
4.25.2.1.1. Scenario
Scenario: Query permission policy details
Roles supported: Super administrator, tenant, and platform administrator with permission to obtain the
details of a permission policy
Versions supported: SCP 6.9.10 and later
4.25.2.1.2. URI
Table 4.25.5 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/iam-policies/{policy_id} Query Permission
Policy Details
Parameter Description:
Table 4.25.6 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.25.2.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/iam-policies/047ac84e-e3ef-4175-9c69-4bc949079291
4.25.2.1.4. Response
Response Parameter
Table 4.25.7 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
description string Description Yes
type string Policy type. For details, see Permission Policy Type Yes
project_id string Tenant ID of the creator Yes
user_id string User ID of the creator Yes
user_name string Username of the creator Yes
role_type string Role of the creator Yes
users_info list(dict) Information of the associated user. For details, see
Parameter Description - users_info Yes
statements list(dict) Contains the specific content of a policy. For details,
see Parameter Description - statements Yes
depends list(dict) Predefined policies that are included in role policies.
For details, see Parameter Description - depends Yes
created_at string Time created Yes
updated_at string Time updated Yes
labels list(string) Policy attribute Yes
Parameter Description - users_info:
Table 4.25.8 Parameter Description - users_info¶
Parameter Type Description Value Returned
id string User ID Yes
project_id string Tenant ID Yes
real_name string Tenant name Yes
name string Username Yes
associated_at string Associated time of
policies Yes
Parameter Description - statements:
Table 4.25.9 Parameter Description - statements¶
Parameter Type Description
Value
Returned
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results Yes
Resource list(string) Resource information Yes
Parameter Description - depends
Table 4.25.10 Parameter Description - depends¶
Parameter Type Description Value Returned
name string Policy name Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"statements": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acls",
"sdk:janus_network_router_acl:get_router_acl",
"sdk:janus_network_router_acl:create_router_acl",
"sdk:janus_network_router_acl:delete_router_acl",
"sdk:janus_network_router_acl:update_router_acl",
"sdk:janus_network_router_acl:bulk_shift_router_acls",
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Deny"
}
],
"description": "Test of querying permission policies",
"type": "Policy",
"created_at": "2023-04-03 10:40:26",
"labels": [],
"updated_at": "2023-04-03 10:40:26",
"depends": [],
"users_info": [
{
"associated_at": "2023-04-03 10:41:40",
"real_name": "admin1",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"id": "80d66ea68357433fa8796d430faa8cb3",
"name": "admin1"
}
],
"user_id": "f002ebd5be12460396fad88956d021f9",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"user_name": "admin",
"id": "9399880e-f089-4d3b-a5d7-461649ccfdf3",
"role_type": "admin",
"name": "ACL policy"
}
4.25.2.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.25.2.2. Query List of Permission Policies
4.25.2.2.1. Scenario
Scenario: Query the list of permission policies
Roles supported: Super administrator, tenant, and platform administrator with permission to obtain the
permission policy list
Versions supported: SCP 6.9.10 and later
4.25.2.2.2. URI
Table 4.25.11 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/iam-policies Query List of Permission
Policies
Parameter Description:
Table 4.25.12 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
description path string Description No
type string string Policy type. For details, see Permission
Policy Type No
user_id path string User ID of the creator No
user_name path string Username of the creator No
role_type path string Role of the creator. For details, see
Permission Policy Roles No
4.25.2.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/iam-policies?name=acl
4.25.2.2.4. Response
Response Parameter
Table 4.25.13 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID No
name string Name No
description string Description No
type string Policy type. For details, see Permission Policy Type No
project_id string Tenant ID of the creator No
user_id string User ID of the creator No
user_name string Username of the creator No
role_type string Role of the creator. For details, see Permission
Policy Roles No
user_count int Number of associated users No
statements list(dict) Contains the specific content of a policy. For details,
see Parameter Description - statements No
depends list(dict) Predefined policies that are included in role policies.
For details, see Parameter Description - depends No
created_at string Time created No
updated_at string Time updated No
labels list(string) Policy attribute No
Parameter Description - statements:
Table 4.25.14 Parameter Description - statements¶
Parameter Type Description
Value
Returned
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results Yes
Resource list(string) Resource information Yes
Parameter Description - depends
Table 4.25.15 Parameter Description - depends¶
Parameter Type Description Value Returned
name string Policy name Yes
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"user_count": 1,
"statements": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acls",
"sdk:janus_network_router_acl:get_router_acl",
"sdk:janus_network_router_acl:create_router_acl",
"sdk:janus_network_router_acl:delete_router_acl",
"sdk:janus_network_router_acl:update_router_acl",
"sdk:janus_network_router_acl:bulk_shift_router_acls",
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Deny"
}
],
"description": "Test of querying permission policies",
"type": "Policy",
"created_at": "2023-04-03 10:40:26",
"labels": [],
"updated_at": "2023-04-03 10:40:26",
"depends": [],
"user_id": "f002ebd5be12460396fad88956d021f9",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"user_name": "admin",
"id": "9399880e-f089-4d3b-a5d7-461649ccfdf3",
"role_type": "admin",
"name": "ACL policy"
}
]
4.25.2.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.25.2.3. Create Permission Policy
4.25.2.3.1. Scenario
Scenario: Create a permission policy
Roles supported: Super administrator and tenant
Versions supported: SCP 6.9.10 and later
4.25.2.3.2. URI
Table 4.25.16 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/iam-policies Create Permission
Policy
Parameter Description:
None
4.25.2.3.3. Request
Request Parameter
Table 4.25.17 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Name Yes
id body string Policy ID No
description body string Description No
policy body dict Permission information of a policy. For
details, see Parameter Description - policy Yes
Parameter Description - policy:
Table 4.25.18 Parameter Description - policy¶
Parameter Type Description Required
Statement list(dict) Permission information of a policy. For details, see
Parameter Description - Statement Yes
full_access int(0,1) Whether it has full permissions No
 Note
1.When full_access is not passed in or 0 is passed in, an empty list cannot be passed in for
Statement. When 1 is passed in for full_access, an empty list can be passed in for Statement.
Because the priority of full_access is higher than Statement, a permission policy with all
permissions will be created.
Parameter Description - Statement:
Table 4.25.19 Parameter Description - Statement¶
Parameter Type Description Required
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results No
Resource list(string) Resource information Yes
 Note
1.Resources are divided into all resources and specified specific resources. * is passed in to
match all resources (it is recommended to pass * if there are no special requirements). If there
are special needs and specific resources need to be specified, follow the format
(platform:service-name:region:account:resource-type:relative-id) to pass them in.
Request Example
https://{SCP_IP}/janus/20190725/iam-policies
{
"policy": {
"Statement": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Allow"
}
]
},
"description": "Description of created permission policy",
"name": "Obtain the ACL service list",
"id": "b1513e80-3dfa-4ed1-a3a4-5b3cd455648e"
}
4.25.2.3.4. Response
Response Parameter
Table 4.25.20 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
description string Description Yes
type string Policy type. For details, see Permission Policy Type Yes
project_id string Tenant ID of the creator Yes
user_id string User ID of the creator Yes
policy list(dict) Permission information of a policy. For details, see
Parameter Description - policy Yes
Parameter Description - policy:
Table 4.25.21 Parameter Description - policy¶
Parameter Type Description
Value
Returned
Statement list(dict) Permission information of a policy. For details, see
Parameter Description - Statement Yes
Parameter Description - Statement:
Table 4.25.22 Parameter Description - Statement¶
Parameter Type Description
Value
Returned
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results Yes
Resource list(string) Resource information Yes
Response Example:
{
"user_id": "f002ebd5be12460396fad88956d021f9",
"description": "Description of created permission policy",
"policy": {
"Statement": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Allow"
}
]
},
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "Policy",
"id": "b1513e80-3dfa-4ed1-a3a4-5b3cd455648e",
"name": "Obtain the ACL service list"
}
4.25.2.3.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.25.2.4. Update Permission Policy
4.25.2.4.1. Scenario
Scenario: Update a permission policy
Roles supported: Super administrator and tenant
Versions supported: SCP 6.9.10 and later
4.25.2.4.2. URI
Table 4.25.23 API Path and Request Method¶
REST VERB PATH Description
PUT /janus/20190725/iam-policies/{policy_id}
Update
Permission
Policy
Parameter Description:
Table 4.25.24 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.25.2.4.3. Request
Request Parameter
Table 4.25.25 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Name No
description body string Description No
policy body dict Permission information of a policy. For
details, see Parameter Description - policy No
Parameter Description - policy:
Table 4.25.26 Parameter Description - policy¶
Parameter Type Description Required
Statement list(dict) Permission information of a policy. For details, see
Parameter Description - Statement Yes
full_access int(0,1) Whether it has full permissions No
 Note
1.When full_access is not passed in or 0 is passed in, an empty list cannot be passed in for
Statement. When 1 is passed in for full_access, an empty list can be passed in for Statement.
Because the priority of full_access is higher than Statement, the permission policy will be
updated to have all permissions.
Parameter Description - Statement:
Table 4.25.27 Parameter Description - Statement¶
Parameter Type Description Required
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results No
Resource list(string) Resource information Yes
 Note
1.Resources are divided into all resources and specified specific resources. * is passed in to
match all resources (it is recommended to pass * if there are no special requirements). If there
are special needs and specific resources need to be specified, follow the format
(platform:service-name:region:account:resource-type:relative-id) to pass them in.
Request Example
https://{SCP_IP}/janus/20190725/iam-policies/9399880e-f089-4d3b-a5d7-461649ccfdf1
{
"description": "Editing test description",
"name": "Editing test",
"policy": {
"Statement": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acls",
"sdk:janus_network_router_acl:get_router_acl",
"sdk:janus_network_router_acl:create_router_acl",
"sdk:janus_network_router_acl:delete_router_acl",
"sdk:janus_network_router_acl:update_router_acl",
"sdk:janus_network_router_acl:bulk_shift_router_acls",
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Deny"
}
]
}
}
4.25.2.4.4. Response
Response Parameter
Table 4.25.28 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
description string Description Yes
type string Policy type. For details, see Permission Policy Type Yes
project_id string Tenant ID of the creator Yes
user_id string User ID of the creator Yes
policy list(dict) Permission information of a policy. For details, see
Parameter Description - policy Yes
Parameter Description - policy:
Table 4.25.29 Parameter Description - policy¶
Parameter Type Description
Value
Returned
Statement list(dict) Permission information of a policy. For details, see
Parameter Description - Statement Yes
Parameter Description - Statement:
Table 4.25.30 Parameter Description - Statement¶
Parameter Type Description
Value
Returned
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results Yes
Resource list(string) Resource information Yes
Response Example:
{
"user_id": "f002ebd5be12460396fad88956d021f9",
"description": "Editing test description",
"policy": {
"Statement": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acls",
"sdk:janus_network_router_acl:get_router_acl",
"sdk:janus_network_router_acl:create_router_acl",
"sdk:janus_network_router_acl:delete_router_acl",
"sdk:janus_network_router_acl:update_router_acl",
"sdk:janus_network_router_acl:bulk_shift_router_acls",
"sdk:janus_network_router_acl:list_router_acl_services"
],
"Resource": [
"*"
],
"Effect": "Deny"
}
]
},
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "Policy",
"id": "9399880e-f089-4d3b-a5d7-461649ccfdf1",
"name": "Editing test"
}
4.25.2.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.25.2.5. Bulk Delete Permission Policies
4.25.2.5.1. Scenario
Scenario: Bulk delete permission policies
Roles supported: Super administrator, tenant, and platform administrator with permission to bulk delete
permission policies
Versions supported: SCP 6.9.10 and later
4.25.2.5.2. URI
Table 4.25.31 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/iam-policies Bulk Delete Permission
Policies
Parameter Description:
None
4.25.2.5.3. Request
Request Parameter
Table 4.25.32 Description of Body Parameter¶
Parameter Location Type Description Required
policy_ids body list(1,100) Deleted policy ID list Yes
Request Example
https://{SCP_IP}/janus/20190725/iam-policies/bulk-delete
{
"policy_ids": [
"8399880e-f089-4d3b-a5d7-461649ccfdf3",
"047ac84e-e3ef-4175-9c69-4bc949079291"
]
}
4.25.2.5.4. Response
Response Parameter
Table 4.25.33 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.25.2.5.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.25.2.6. Clone Permission Policy
4.25.2.6.1. Scenario
Scenario: Clone permission policy
Roles supported: Super administrator and tenant
Versions supported: SCP 6.9.10 and later
4.25.2.6.2. URI
Table 4.25.34 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/iam-policies/{policy_id}/clone
Clone
Permission
Policy
Parameter Description:
Table 4.25.35 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.25.2.6.3. Request
Request Parameter
Table 4.25.36 Description of Body Parameter¶
Parameter Location Type Description Required
name body string Name Yes
id body string Policy ID No
description body string Description No
Request Example
https://{SCP_IP}/janus/20190725/iam-policies/047ac84e-e3ef-4175-9c69-4bc949079291/clone
{
"description": "Clone test description",
"name": "Clone test",
"id": "9499880e-f089-4d3b-a5d8-461649ccfff5"
}
4.25.2.6.4. Response
Response Parameter
Table 4.25.37 Response Parameter¶
Parameter Type Description
Value
Returned
id string Policy ID Yes
name string Name Yes
description string Description Yes
type string Policy type. For details, see Permission Policy Type Yes
project_id string Tenant ID of the creator Yes
user_id string User ID of the creator Yes
policy list(dict) Permission information of a policy. For details, see
Parameter Description - policy Yes
Parameter Description - policy:
Table 4.25.38 Parameter Description - policy¶
Parameter Type Description
Value
Returned
Statement list(dict) Permission information of a policy. For details, see
Parameter Description - Statement Yes
Parameter Description - Statement:
Table 4.25.39 Parameter Description - Statement¶
Parameter Type Description
Value
Returned
Action list(string) List of operation permissions Yes
Effect string Result of a policy. For details, see Permission Policy
Results Yes
Resource list(string) Resource information Yes
Response Example:
{
"user_id": "d89c706a3296443b80c35e6fe3ac5f98",
"description": "Clone test description",
"policy": {
"Statement": [
{
"Action": [
"sdk:janus_network_router_acl:list_router_acls",
"sdk:janus_network_router_acl:get_router_acl"
],
"Resource": [
"*"
],
"Effect": "Deny"
}
]
},
"project_id": "5436b3225234448ea7a32b6dbd15b238",
"type": "Policy",
"id": "9499880e-f089-4d3b-a5d8-461649ccfff5",
"name": "Clone test"
}
4.25.2.6.5. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.25.2.7. Edit User Associated with Policy
4.25.2.7.1. Scenario
Scenario: Update users associated with a policy
Roles supported: Super administrator, tenant, and platform administrator with permission to edit users
associated with a permission policy
Versions supported: SCP 6.9.10 and later
4.25.2.7.2. URI
Table 4.25.40 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20190725/iam-policies/{policy_id}/users
Edit User
Associated with
Policy
Parameter Description:
Table 4.25.41 Path Parameters¶
Parameter Location Type Description Required
policy_id path string Policy ID Yes
4.25.2.7.3. Request
Request Parameter
Table 4.25.42 Description of Body Parameter¶
Parameter Location Type Description Required
user_ids body list List of associated user IDs Yes
Request Example
https://{SCP_IP}/janus/20190725/iam-policies/ee1e4c79-fc61-4b2c-8000-80c8b48461cf/users
{
"user_ids":[
"5436b3225234448ea7a32b6dbd15b238"
]
}
4.25.2.7.4. Response
Response Parameter
Table 4.25.43 Response Parameter¶
Parameter Type Description Value Returned
user_ids list User ID list Yes
policy_id string Policy ID Yes
Response Example:
{
"user_ids": [
"80d66ea68357433fa8796d430faa8cb3"
],
"policy_id": "9399880e-f089-4d3b-a5d7-461649ccfdf1"
}
4.25.2.7.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.25.3. Operations
4.25.3.1. Obtain the operation list from permission policies
4.25.3.1.1. Scenario
Scenario: Obtain the operation list from permission policies
Roles supported: Super administrator and tenant
Versions supported: SCP 6.9.10 and later
4.25.3.1.2. URI
Table 4.25.44 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/iam-actions Obtain the operation list
from permission policies
Parameter Description:
Table 4.25.45 Path Parameters¶
Parameter Location Type Description Required
name path string Operation name No
display_name path string Display name of an operation No
type path string Operation type. For details, see
Operations No
status path string Status. Valid values: enable and disable No
4.25.3.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/iam-actions?name=sdk:janus_network_router_acl:list_router_acls
4.25.3.1.4. Response
Response Parameter
Table 4.25.46 Response Parameter¶
Parameter Type Description
Value
Returned
id string Operation ID No
name string Operation name No
display_name string Display name of an operation No
description string Description No
type string Operation type. For details, see Operations No
depends list(dict) Dependency of an operation. For details, see
Parameter Description - depends No
status string Status No
visible string Whether it is displayed to users No
created_at string Time created No
updated_at string Time updated No
Parameter Description - depends
Table 4.25.47 Parameter Description - depends¶
Parameter Type Description Value Returned
default bool Whether it is a default
relationship Yes
name string depends name Yes
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"status": "enable",
"display_name": "Obtain access control list on the classic network r
outer",
"name": "sdk:janus_network_router_acl:list_router_acls",
"created_at": "2023-02-13 16:20:30",
"updated_at": "2023-04-10 14:28:03",
"visible": true,
"depends": [],
"type": "ListOnly",
"id": "808224ef-8eb4-4f47-93fa-57d5fbcc8201",
"description": "Operation of obtaining access control list on the cl
assic network router"
}
]
4.25.3.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.26. Custom Attributes
4.26.1. Common Parameters for Custom Attributes
4.26.1.1. Applicable Objects of Custom Attributes
Table 4.26.1 Applicable Objects of Custom Attributes¶
Value Description
vm Virtual machine
net_dev Virtual network device
host Node
host_storage Storage
all All
4.26.1.2. Resource Type for Custom Attribute Association (2019)
Table 4.26.2 Resource Type for Custom Attribute Association (2019)¶
Value Description
VM Virtual machine
HOST Node
NET_DEV Virtual network device
VOLUME Storage
4.26.1.3. Applicable Scope of Custom Attribute (2019)
Table 4.26.3 Applicable Scope of Custom Attribute (2019)¶
Value Description
VM Virtual machine
HOST Node
NET_DEV Virtual network device
VOLUME Storage
ALL All
4.26.1.4. Custom Attribute Response Parameter (2019)
Table 4.26.4 Custom Attribute Response Parameter (2019)¶
Parameter Type Description Required
id string Custom attribute ID Yes
name string Custom attribute name Yes
scope string Applicable scope of custom attributes. For details, see
Applicable Scope of Custom Attribute (2019). Yes
inner boolean Whether it is a predefined attribute Yes
4.26.2. Query the list of bound custom attributes
4.26.2.1. Scenario
Scenario: Query the list of bound custom attributes
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to bind custom attributes
Versions supported: SCP 6.9.0 and later
4.26.2.2. URI
Table 4.26.5 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/custom-attributes/bindings Query the list of bound
custom attributes
Parameter Description:
Table 4.26.6 Path Parameters¶
Parameter Location Type Description Required
resource_id path string Resource ID of the
custom attribute Yes
type path string Applicable object Yes
attribute_id path string Custom attribute ID No
attribute_value path string Custom attribute value No
 Note
1.The value of type can be vm (VM), host (node), net_dev (network device, including router,
switch, or NFV device), or host_storage (storage). 2.The value of attribute_value cannot be a
null string. 3.View Common Path Parameter Format for the list of common path parameters.
4.26.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes/bindings?type=net_dev&resource_id=25311f32-
8de7-4d89-bc5c-30d7f637119b
4.26.2.4. Response
Response Parameter
Table 4.26.7 Response Parameter¶
Parameter Type Description Value Returned
resource_id string Custom attribute ID No
type string Applicable object No
attribute_id string Custom attribute ID No
attribute_value string Custom attribute
value No
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"attribute_id": "7db14da3-a862-4c2b-9a0c-8d195e8d0ff3",
"type": "net_dev",
"attribute_value": "",
"resource_id": "25311f32-8de7-4d89-bc5c-30d7f637119b"
}
]
4.26.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.26.3. Query List of Custom Attribute Association (2019)
4.26.3.1. Scenario
Scenario: Query the list of custom attribute associations in an HCI cluster
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.3.2. URI
Table 4.26.8 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/custom-attributes/bindings Query the list of bound
custom attributes
Parameter Description:
Table 4.26.9 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
resource_id path string Resource ID of the custom attribute No
type path string
Associated resource type. For details, see
Resource Type for Custom Attribute
Association (2019).
No
attribute_id path string Custom attribute ID No
keyword path string Keyword for custom attribute fuzzy
match No
4.26.3.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/bindings?cluster_id=ef22a74a-fa98-428a-9dbbbe0de98456b7&
attribute_id=bd528e01-6dae-4da2-8f23-ece7562617e9&resource_id=0835a186-
2506-4fcf-ac3f-60ac4f276b05&type=VM&keyword=2
4.26.3.4. Response
Response Parameter
Table 4.26.10 Response Parameter¶
Parameter Type Description
Value
Returned
page_num int Page number for the request Yes
page_size int Page size for the request Yes
data list(dict) List of custom attribute associations. For details, see
Parameter Description - data. Yes
 Note
For common response parameters, view Response Format for details
Parameter Description - data
Table 4.26.11 Parameter Description - data¶
Parameter Type Description Required
id string Custom attribute ID Yes
name string Custom attribute name Yes
scope string Applicable scope of custom attributes. For details, see
Applicable Scope of Custom Attribute (2019). Yes
inner boolean Whether it is a predefined attribute Yes
resources list(dict)
List of resources associated with custom attributes,
which can be empty. For details, see Parameter
Description - data.resources.
Yes
Parameter Description - data.resources
Table 4.26.12 Parameter Description - data.resources¶
Parameter Type Description Required
resource_id string Bound resource ID Yes
value string Custom attribute value Yes
type string Associated resource type. For details, see Resource
Type for Custom Attribute Association (2019). Yes
Response Example:
{
"page_num": 0,
"data": [
{
"id": "aaf1e636-59a4-4545-b047-6ae01c882b6b",
"scope": "VM",
"name": "VDC_VM_TPLID",
"resources": [
{
"type": "VM",
"value": "f3075479-de6e-44e1-8eab-d78ae650a58b",
"resource_id": "8db10ab3-ddbf-4393-b607-9a18511feb61"
}
],
"inner": false
}
],
"page_size": -1
}
4.26.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.26.4. Bulk Bind with Custom Attributes
4.26.4.1. Scenario
Scenario: Bulk bind with custom attributes
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to bind custom attributes
Versions supported: SCP 6.9.0 and later
4.26.4.2. URI
Table 4.26.13 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/customattributes/
bindings/action/bulk-create
Bulk Bind with Custom
Attributes
Parameter Description:
None
4.26.4.3. Request
Request Parameter
Table 4.26.14 Response Parameter¶
Parameter Location Type Description Required
binds body list Binding relationship list. For details, see
Parameter Description - binds Yes
Parameter Description - binds
Table 4.26.15 Parameter Description - binds¶
Parameter Type Required Note
resource_id string Yes Bound resource ID
type string Yes Bound resource type
attribute_id string Yes Custom attribute ID
attribute_value string Yes Custom attribute value
 Note
The value of type can be vm (VM), host (node), nfv (NFV device), dvs (switch), vrouter
(router), and host_storage (storage).
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes/bindings/action/bulk-create
{
"binds": [
{
"type": "vm",
"resource_id": "d9588027-757d-4566-be18-7157d802558c",
"attribute_value": "111",
"attribute_id": "60e89df6-64d4-40be-942f-f501782c8e42"
}
]
}
4.26.4.4. Response
Response Parameter
Table 4.26.16 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "89cd4062-3319-4042-b2f8-f592063a1c38"
}
4.26.4.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.5. Bulk Associate Custom Attributes (2019)
4.26.5.1. Scenario
Scenario: Bulk associate custom attributes in an HCI cluster
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.5.2. URI
Table 4.26.17 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/customattributes/
bindings/actions/bulk-create
Bulk Bind with Custom
Attributes
Parameter Description:
None
4.26.5.3. Request
Request Parameter
Table 4.26.18 Response Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
binds body list(dict)
Association list, the length of which must
be 1. For details, see Parameter
Description - binds.
Yes
Parameter Description - binds
Table 4.26.19 Parameter Description - binds¶
Parameter Type Description Required
resource_ids list(string) Bound resource ID Yes
type string Associated resource type. For details, see Resource
Type for Custom Attribute Association (2019). Yes
attributes list(dict)
Value of the associated custom attribute. For
details, see Parameter Description -
binds.attributes.
Yes
Parameter Description - binds.attributes
Table 4.26.20 Parameter Description - binds.attributes¶
Parameter Type Description Required
id string Custom attribute ID Yes
value string Custom attribute value Yes
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/bindings/actions/bulk-create
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"binds": [
{
"resource_ids": ["host-0cc47a6bd9c4"],
"type": "HOST",
"attributes": [
{
"id": "c46b6117-d9bd-497f-900c-190d79696781",
"value": "HOST1234"
},{
"id": "19c7eee6-1be4-43a4-9dbc-dbfc40cfb8a8",
"value": "HOST2111"
}
]
}
]
}
4.26.5.4. Response
Response Parameter
Table 4.26.21 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "89cd4062-3319-4042-b2f8-f592063a1c38"
}
4.26.5.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.6. Bulk Unbind Custom Attributes
4.26.6.1. Scenario
Scenario: Bulk unbind custom attributes
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to bind custom attributes
Versions supported: SCP 6.9.0 and later
4.26.6.2. URI
Table 4.26.22 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20180725/customattributes/
bindings/action/bulk-delete
Bulk Unbind Custom
Attributes
Parameter Description:
None
4.26.6.3. Request
Request Parameter
Table 4.26.23 Response Parameter¶
Parameter Location Type Description Required
unbinds body list Disassociation list. For details, see
Parameter Description - unbinds Yes
Parameter Description - unbinds
Table 4.26.24 Parameter Description - unbinds¶
Parameter Type Required Note
resource_id string Yes Bound resource ID
type string Yes Bound resource type
attribute_id string Yes Custom attribute ID
 Note
The value of type can be vm (VM), host (node), nfv (NFV device), dvs (switch), vrouter
(router), and host_storage (storage).
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes/bindings/action/bulk-delete
{
"unbinds": [
{
"type": "vm",
"resource_id": "d9588027-757d-4566-be18-7157d802558c",
"attribute_id": "60e89df6-64d4-40be-942f-f501782c8e42"
}
]
}
4.26.6.4. Response
Response Parameter
Table 4.26.25 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "521bf8f3-a658-44e6-be51-d4a5e360398c"
}
4.26.6.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.7. Bulk Disassociate Custom Attributes (2019)
4.26.7.1. Scenario
Scenario: Bulk disassociate custom attributes in an HCI cluster
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.7.2. URI
Table 4.26.26 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20190725/customattributes/
bindings/actions/bulk-delete
Bulk Unbind Custom
Attributes
Parameter Description:
None
4.26.7.3. Request
Request Parameter
Table 4.26.27 Response Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
unbinds body list(dict)
Unbinding list, the length of which must
be 1. For details, see Parameter
Description - unbinds.
Yes
Parameter Description - unbinds
Table 4.26.28 Parameter Description - unbinds¶
Parameter Type Description Required
resource_id string Bound resource ID Yes
type string Associated resource type. For details, see Resource
Type for Custom Attribute Association (2019). Yes
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/bindings/actions/bulk-delete
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"unbinds": [
{
"resource_id": "920b0fb6-d9de-46e8-9b7f-2582284bb068",
"type": "VM"
}
]
}
4.26.7.4. Response
Response Parameter
Table 4.26.29 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "521bf8f3-a658-44e6-be51-d4a5e360398c"
}
4.26.7.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.8. Edit Bound Custom Attribute
4.26.8.1. Scenario
Scenario: Edit bound custom attribute
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to bind custom attributes
Versions supported: SCP 6.9.0 and later
4.26.8.2. URI
Table 4.26.30 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/custom-attributes/bindings Edit Bound Custom
Attribute
Parameter Description:
None
4.26.8.3. Request
Request Parameter
Table 4.26.31 Response Parameter¶
Parameter Location Type Description Required
resource_id body string Bound resource ID Yes
type body string Bound resource
type Yes
attribute_id body string Custom attribute ID Yes
attribute_value body string Custom attribute
value Yes
 Note
The value of type can be vm (VM), host (node), nfv (NFV device), dvs (switch), vrouter
(router), and host_storage (storage).
Request Example
https://{SCP_IP}/janus/20180725/janus/20180725/custom-attributes/bindings
{
"type": "vm",
"resource_id": "d9588027-757d-4566-be18-7157d802558c",
"attribute_value": "test111",
"attribute_id": "60e89df6-64d4-40be-942f-f501782c8e42"
}
4.26.8.4. Response
Response Parameter
Table 4.26.32 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "f6d8d70e-cb3b-426a-b487-ce6d08aa0814"
}
4.26.8.5. Response Code
OK: 200
Errors: 400, 403, 500
4.26.9. Edit Value of Disassociated Custom Attribute (2019)
4.26.9.1. Scenario
Scenario: Edit the value of a disassociated custom attribute in an HCI cluster
Roles supported: Super admin and system admin
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.9.2. URI
Table 4.26.33 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20190725/custom-attributes/bindings Edit Bound Custom
Attribute
Parameter Description:
None
4.26.9.3. Request
Request Parameter
Table 4.26.34 Response Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
resource_id body string Bound resource ID Yes
type body string
Associated resource type. For details,
see Resource Type for Custom
Attribute Association (2019).
Yes
attribute_id body string Custom attribute ID Yes
attribute_value body string Custom attribute value Yes
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/bindings
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"resource_id": "0835a186-2506-4fcf-ac3f-60ac4f276b05",
"type": "VM",
"attribute_id": "9c82fc21-e779-467d-969b-d85fdb8df7ca",
"attribute_value": "SACETAT7788"
}
4.26.9.4. Response
Response Parameter
Table 4.26.35 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "f6d8d70e-cb3b-426a-b487-ce6d08aa0814"
}
4.26.9.5. Response Code
OK: 200
Errors: 400, 403, 500
4.26.10. Query Custom Attribute List
4.26.10.1. Scenario
Scenario: Query the list of custom attributes
Roles supported: Administrator, system administrator, tenant, and other roles with permission to read
custom attributes
Versions supported: SCP 6.9.0 and later
4.26.10.2. URI
Table 4.26.36 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/custom-attributes Query Custom Attribute
List
Parameter Description:
Table 4.26.37 Path Parameters¶
Parameter Location Type Description Required
name path string Name No
project_id path string Tenant ID No
type path string Applicable object. For details, see
Applicable Objects of Custom Attributes No
public path string Whether it is a public attribute No
 Note
1. When tenants call this API, they can use only their own project_id for filtering instead of
project_id of the super administrator.
4.26.10.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes
4.26.10.4. Response
Response Parameter
Table 4.26.38 Response Parameter¶
Parameter Type Description
Value
Returned
id string Custom attribute ID No
name string Name No
project_id string Tenant ID No
type string Applicable object. For details, see Applicable Objects
of Custom Attributes No
public int(0,1) Whether it is a public attribute. 0: private, 1: public No
created_at string Creation time of the attribute. This parameter is
reserved, and a null string is returned by default. No
updated_at string Update time of the attribute. This parameter is
reserved, and a null string is returned by default. No
 Note
1.Tenants can only find the public custom attributes created by the administrator and the
private custom attributes created by them. 2.View Common Response Parameter Format for
common response parameters.
Response Example:
[
{
"name": "1",
"created_at": "",
"updated_at": "",
"id": "51f23679-847e-43bf-a5d8-4591a6f476b6",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "vm",
"public": 1
},
{
"name": "444",
"created_at": "",
"updated_at": "",
"id": "d4c85608-3b9e-44cc-8401-1efefff631c0",
"project_id": "5436b3225234448ea7a32b6dbd15b238",
"type": "all",
"public": 0
},
]
4.26.10.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.26.11. Query List of Custom Attributes (2019)
4.26.11.1. Scenario
Scenario: Query the list of custom attributes in an HCI cluster
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.11.2. URI
Table 4.26.39 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20190725/custom-attributes Query Custom Attribute
List
Parameter Description:
Table 4.26.40 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
scopes path list
Filter applicable scopes of custom
attributes and separate them with
commas (,). For details, see Applicable
Scope of Custom Attribute (2019).
No
keyword path string Keyword for custom attribute fuzzy
match No
inner path boolean Whether to filter out predefined
attributes No
sorts path string Sorting order. Valid values: asc
(ascending) and desc (descending) No
page_num path int Number of requested pages No
page_size path int Page size No
4.26.11.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes?cluster_id=ef22a74a-fa98-428a-9dbbbe0de98456b7&
page_size=3&page_num=0&keyword=test&inner=true&scopes=HOST,VM&sorts=desc
4.26.11.4. Response
Response Parameter
For details, see Custom Attribute Response Parameter (2019)
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
{
"total_size": 4,
"page_num": 1,
"next_page_num": "2",
"data": [
{
"id": "aaf1e636-59a4-4545-b047-6ae01c882b6b",
"scope": "VM",
"inner": false,
"name": "VDC_VM_TPLID"
}
],
"page_size": 1
}
4.26.11.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.26.12. Create Custom Attribute
4.26.12.1. Scenario
Scenario: Create a custom attribute
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure custom attributes
Versions supported: SCP 6.9.0 and later
4.26.12.2. URI
Table 4.26.41 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/custom-attributes Create Custom
Attribute
Parameter Description:
None
4.26.12.3. Request
Request Parameter
Table 4.26.42 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
type string Applicable object. For details, see Applicable Objects of
Custom Attributes Yes
public string Whether it is a public attribute. 0 (default): private,1:
public No
 Note
1.Tenants cannot create a public custom attribute, which means that the value of public
cannot be set to 1. 2.Tenants cannot create a custom attribute whose applicable object is
“node” or “storage”, which means that type cannot be set to host or host_storage.
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes
{
"name": "Custom attribute creation test",
"type": "vm",
"public": 1
}
4.26.12.4. Response
Response Parameter
Table 4.26.43 Response Parameter¶
Parameter Type Description
Value
Returned
id string Custom attribute ID Yes
project_id string Tenant ID Yes
name string Name Yes
type string Applicable object. For details, see Applicable Objects
of Custom Attributes Yes
public int(0,1) Whether it is a public attribute. 0: private, 1: public Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "6911bea7-ce49-40fe-96bb-6d04da9a9d1d",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "vm",
"public": 1,
"name": "Custom attribute creation test"
}
4.26.12.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.13. Create Custom Attribute (2019)
4.26.13.1. Scenario
Scenario: Create a custom attribute in an HCI cluster
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.13.2. URI
Table 4.26.44 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20190725/custom-attributes Create Custom
Attribute
Parameter Description:
None
4.26.13.3. Request
Request Parameter
Table 4.26.45 Description of Body Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
name body string Custom attribute name Yes
scope body string
Applicable scope of custom attributes. For
details, see Applicable Scope of Custom
Attribute (2019).
Yes
inner body string Whether it is a predefined attribute. Valid
values: true and false No
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"name": "VDC_VM_TPLID",
"scope": "ALL",
"inner": "true"
}
4.26.13.4. Response
Response Parameter
For details, see Custom Attribute Response Parameter (2019)
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "f04bbe39-8957-4252-8aec-8b09fce965b6",
"scope": "ALL",
"inner": true,
"name": "VDC_VM_TPLID"
}
4.26.13.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.14. Bulk Delete Custom Attributes
4.26.14.1. Scenario
Scenario: Bulk delete custom attributes
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure custom attributes
Versions supported: SCP 6.9.0 and later
4.26.14.2. URI
Table 4.26.46 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/custom-attributes/action/bulk-delete
Bulk Delete
Custom
Attributes
Parameter Description:
None
4.26.14.3. Request
Request Parameter
Table 4.26.47 Description of Body Parameter¶
Parameter Type Description Required
attribute_ids list(string) List of custom attribute
IDs Yes
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes/action/bulk-delete
{
"attribute_ids": [
"f1670693-c70d-4794-babd-6d76fb6be94e",
"a8defff1-d142-4c57-9a2a-4a194453e429"
]
}
4.26.14.4. Response
Response Parameter
Table 4.26.48 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.26.14.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.26.15. Bulk Delete Custom Attributes (2019)
4.26.15.1. Scenario
Scenario: Bulk delete custom attributes in an HCI cluster
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.15.2. URI
Table 4.26.49 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20190725/custom-attributes/actions/bulk-delete
Bulk Delete
Custom
Attributes
Parameter Description:
None
4.26.15.3. Request
Request Parameter
Table 4.26.50 Description of Body Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
attribute_ids body list(string) List of custom
attribute IDs Yes
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/actions/bulk-delete
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"attribute_ids": [
"d3bb20c9-44f6-4103-948d-93c77a12892d", "f3a5b339-65bf-4132-b23b-f98
ce0de7c01"
]
}
4.26.15.4. Response
Response Parameter
Table 4.26.51 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.26.15.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.26.16. Edit Custom Attribute
4.26.16.1. Scenario
Scenario: Edit a custom attribute
Roles supported: Administrator, system administrator, tenant, and other roles with permission to
configure custom attributes
Versions supported: SCP 6.9.0 and later
4.26.16.2. URI
Table 4.26.52 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/custom-attributes/{attribute_id} Edit Custom
Attribute
Parameter Description:
Table 4.26.53 Path Parameters¶
Parameter Location Type Description Required
attribute_id path string Custom attribute
ID Yes
4.26.16.3. Request
Request Parameter
Table 4.26.54 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
 Note
1. The new custom attribute name cannot be the same as the original one.
Request Example
https://{SCP_IP}/janus/20180725/custom-attributes/51f23679-847e-43bf-a5d8-4591a6f476b6
{
"name": "Editing test"
}
4.26.16.4. Response
Response Parameter
Table 4.26.55 Response Parameter¶
Parameter Type Description
Value
Returned
id string Custom attribute ID Yes
project_id string Tenant ID Yes
name string Name Yes
type string Applicable object. For details, see Applicable Objects
of Custom Attributes Yes
public int(0,1) Whether it is a public attribute. 0: private, 1: public Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "51f23679-847e-43bf-a5d8-4591a6f476b6",
"project_id": "0994b62c5876470a8dcdc73edd2cfe68",
"type": "vm",
"public": 1,
"name": "Editing test"
}
4.26.16.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.17. Edit Custom Attribute (2019)
4.26.17.1. Scenario
Scenario: Edit a custom attribute in an HCI cluster
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.17.2. URI
Table 4.26.56 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20190725/custom-attributes/{attribute_id} Edit Custom
Attribute
Parameter Description:
Table 4.26.57 Path Parameters¶
Parameter Location Type Description Required
attribute_id path string Custom attribute
ID Yes
4.26.17.3. Request
Request Parameter
Table 4.26.58 Description of Body Parameter¶
Parameter Location Type Description Required
cluster_id body string Cluster ID Yes
name body string Custom attribute name Yes
scope body string
Applicable scope of custom attributes. For
details, see Applicable Scope of Custom
Attribute (2019).
Yes
inner body string Whether it is a predefined attribute. Valid
values: true and false No
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/efec8006-fa67-4003-86f4-5a3f4b139b26
{
"cluster_id": "ef22a74a-fa98-428a-9dbb-be0de98456b7",
"name": "VDC_VM_TPLID",
"scope": "VM",
"inner": "true"
}
4.26.17.4. Response
Response Parameter
For details, see Custom Attribute Response Parameter (2019)
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "efec8006-fa67-4003-86f4-5a3f4b139b26",
"scope": "VM",
"inner": true,
"name": "VDC_VM_TPLID"
}
4.26.17.5. Response Code
Success: 201
Errors: 400, 403, 500
4.26.18. Query Details of Custom Attribute (2019)
4.26.18.1. Scenario
Scenario: Query the details of a custom attribute in an HCI cluster
Applicable roles: Administrator, system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.8.0 and later
4.26.18.2. URI
Table 4.26.59 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20190725/custom-attributes/{attribute_id} Query details of a
custom attribute
Parameter Description:
Table 4.26.60 Path Parameters¶
Parameter Location Type Description Required
cluster_id path string Cluster ID Yes
attribute_id path string Custom attribute
ID Yes
4.26.18.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20190725/custom-attributes/f04bbe39-8957-4252-8aec-8b09fce965b6?
cluster_id=ef22a74a-fa98-428a-9dbb-be0de98456b7
4.26.18.4. Response
Response Parameter
For details, see Custom Attribute Response Parameter (2019)
 Note
For common response parameters, view Response Format for details
Response Example:
{
"id": "f04bbe39-8957-4252-8aec-8b09fce965b6",
"scope": "ALL",
"inner": true,
"name": "VDC_VM_TPLID"
}
4.26.18.5. Response Code
Success: 201
Errors: 400, 403, 500
4.27. Backup Resource Management
4.27.1. Obtain Backup Resource
4.27.1.1. Scenario
Scenario: Obtain a backup resource
Roles supported: Super administrator, platform administrator, and system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.27.1.2. URI
Table 4.27.1 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/backup-resources/{backup_resources_id}
Obtain
Backup
Resource
Parameter Description:
Table 4.27.2 Path Parameters¶
Parameter Location Type Description Required
backup_resources_id path string Backup
resource ID Yes
4.27.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/backup-resources/4797f6ba-8949-4a9c-85ac-99c803b6ae1b
4.27.1.4. Response
Response Parameter
Table 4.27.3 Response Parameter¶
Parameter Location Type Description Required
server_id body string Virtual machine ID Yes
status body string Backup resource status. For details, see
Backup Resource Status Yes
ca_cert body string Certificate information Yes
remain_time body int Time remaining. The backup resource is
automatically deleted upon expiration. Yes
Table 4.27.4 Backup Resource Status¶
Value Description
pending The backup resource is to be created.
running The backup resource has been created and is being used by a backup/recovery task.
expired The backup resource has expired and is released due to the outdated lock time.
occupied The backup resource is preempted by a task on HCI and is released.
cancelled The backup resource is released because the task is canceled on HCI.
released The backup resource is released by a user.
failed The backup resource creation failed due to an internal service error.
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"server_id": "4797f6ba-8949-4a9c-85ac-99c803b6ae1b",
"status": "running",
"ca_cert": "MIIDlzCCAn+gAwIBAgIJAK85LDcAJixNMA0GCSqGSIb3DQEBCwUAMGIx
FDASBgNVBAMMC1NBTkdGT1IgSENJMSkwJwYDVQQLDCA2YTU4YmYzYjFiNDY0Yjk4MGIzZDBkZDlj
MzQ4YjQ1YjEfMB0GA1UECgwWSENJIENsdXN0ZXIgTWFuYWdlciBDQTAeFw0yMzA3MDUwNzIwMTZa
Fw0zMzA3MDIwNzIwMTZaMGIxFDASBgNVBAMMC1NBTkdGT1IgSENJMSkwJwYDVQQLDCA2YTU4YmYz
YjFiNDY0Yjk4MGIzZDBkZDljMzQ4YjQ1YjEfMB0GA1UECgwWSENJIENsdXN0ZXIgTWFuYWdlciBD
QTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALonfoR65ihbvAvqsTTFkhOngP1WDyW4
1BLZBY1lQ/Z1FH7OX5ulxpxDDtHI2lw4oNaQUgEtKxdI1SxanTLUj0uagHUKSjbmoAyMQ58rMOSM
IAqnQiTrPM3NVJzBrteiTK913rz8hJ1enaprutpP8518Nj2buJlQ4PRftO+ymf6rtyfc9cqmh43N
R7mmTvm5CYBbQciqKZqPimIKf6eIlTUJF9urawl2xpW5l+qu6GlhNjAw++KwRTDoZjTZN2BTD2Y+
twMJnlMj8kC68HOIT0yyX4FF4S6gz9U11kv5bOnVtCDbeLmmQW0mNNlK39q//PGxG19BeWgd/7G+
HUNhXusCAwEAAaNQME4wHQYDVR0OBBYEFPnuqxdyo2nYsH4rPB1Uo4cAWBq3MB8GA1UdIwQYMBaA
FPnuqxdyo2nYsH4rPB1Uo4cAWBq3MAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBAEW6
5SR2gpdS1V3AMXf1rT2t0/ZrjiGVWGtKuxnxQaINDMOLR3P5agwiQ6PBDW3I1KOnKHejxd6qwoZs
Bhs7UQ8ZWJddZeQfSytTxiYKGarnAw+9dR6BrlbwPk7/MX3yv6lALhFel0haqG56NnWx9UGoK4EV
ABPnZlp6OM4H6SeenbMCCW+bqaQHtM1J3zAKtbJjtBxBe6Gb2dX815wqg9TvJAnZwsFXJyiI9HNy
amtwZLo1dwJesTexe3uxIUAsvnooyAIMI+g9OpS5XnBLq3rQcxh6hEgol17LuxMschwXpVt3aBd/
ue4OpMK1INlkD0Ec+0/TLdDjOhaxwkHZMiQ=",
"remain_time": 100
}
}
4.27.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.27.2. Create Backup Resource
4.27.2.1. Scenario
Scenario: Create a backup resource
Roles supported: Super administrator, platform administrator, and system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.27.2.2. URI
Table 4.27.5 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/backup-resources Create Backup
Resource
Parameter Description:
None
4.27.2.3. Request
Request Parameter
Table 4.27.6 Path Parameters¶
Parameter Location Type Description Required
server_id body string Virtual machine ID Yes
lock_time body int
Resource lock time for initialization (60-
7200 seconds), after which the resource is
automatically released.
Yes
type body string Backup resource type. For details, see
Backup Resource Type. Yes
Table 4.27.7 Backup Resource Type¶
Value Description
backup Backup
restore Recovery
Request Example
https://{SCP_IP}/janus/20180725/backup-resources
{
"server_id":"04a5aa27-dd5f-41f9-a348-bf76e6d84f2c",
"lock_time": 7200,
"resource_type": "backup"
}
4.27.2.4. Response
Response Parameter
Table 4.27.8 Response Parameter¶
Parameter Location Type Description Required
task_id body string Task ID Yes
resource_id body string Backup resource
ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "59cd72e0-74af-48bf-8ee0-d2f731c4c3d4",
"resource_id": "8d06bc0b-fecf-4b97-a28c-1b3d97572d6c:cb2aae23-d20f-4
cd5-8181-8e6f7373c097"
}
}
4.27.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.27.3. Update Backup Resource
4.27.3.1. Scenario
Scenario: Update a backup resource
Roles supported: Super administrator, platform administrator, and system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.27.3.2. URI
Table 4.27.9 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/backup-resources/{backup_resources_id}
Update
Backup
Resource
Parameter Description:
Table 4.27.10 Path Parameters¶
Parameter Location Type Description Required
backup_resources_id path string Backup resource ID Yes
4.27.3.3. Request
Request Parameter
Table 4.27.11 Description of Body Parameter¶
Parameter Location Type Description Required
lock_time body int Resource lock time for renewal (60-7200
seconds). Yes
Request Example
https://{SCP_IP}/janus/20180725/backup-resources/4797f6ba-8949-4a9c-85ac-99c803b6ae1b
{
"lock_time": 7200
}
4.27.3.4. Response
Response Parameter
Table 4.27.12 Response Parameter¶
Parameter Location Type Description Required
task_id body string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "59cd72e0-74af-48bf-8ee0-d2f731c4c3d4"
}
}
4.27.3.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.27.4. Delete Backup Resource
4.27.4.1. Scenario
Scenario: Delete a backup resource
Roles supported: Super administrator, platform administrator, and system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.27.4.2. URI
Table 4.27.13 API Path and Request Method¶
REST
VERB PATH Description
DELETE /janus/20180725/backup-resources/{backup_resources_id}
Delete
Backup
Resource
Parameter Description:
Table 4.27.14 Path Parameters¶
Parameter Location Type Description Required
backup_resources_id path string Backup
resource ID Yes
4.27.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/backup-resources/4797f6ba-8949-4a9c-85ac-99c803b6ae1b
4.27.4.4. Response
Response Parameter
Table 4.27.15 Response Parameter¶
Parameter Location Type Description Required
task_id body string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"task_id": "59cd72e0-74af-48bf-8ee0-d2f731c4c3d4"
}
}
4.27.4.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.27.5. Obtain List of SDK Versions and Transmission Modes Supported by Backup
Resources
4.27.5.1. Scenario
Scenario: Obtain the list of SDK versions and transmission modes supported by backup resources
Roles supported: Super administrator, platform administrator, and system administrator
Versions supported: SCP 6.10.0 and later, HCI 6.10.0 and later
4.27.5.2. URI
Table 4.27.16 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/backupresources/
supports
Obtain List of SDK Versions and
Transmission Modes Supported by
Backup Resources
Parameter Description:
Table 4.27.17 Path Parameters¶
Parameter Location Type Description Required
server_id path string VM ID Yes
4.27.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/backup-resources/supports?server_id=636c6326-2140-4800-
8b53-aa68317a74b3
4.27.5.4. Response
Response Parameter
Table 4.27.18 Response Parameter¶
Parameter Location Type Description Required
versions body list(string) Supported SDK versions Yes
transport_modes body list(string)
Supported transmission modes.
For details, see Transmission
Modes Supported by Backup
Resources.
No
Table 4.27.19 Transmission Modes Supported by Backup Resources¶
Value Description
nbd NBD mode
nbd_ssl NBD SSL encryption mode
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"code": 0,
"data": {
"transport_modes": [
"nbd",
"nbd_ssl"
],
"versions": [
"6.10.0"
]
}
}
4.27.5.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.28. GPUs
4.28.1. Query GPU Models Supported by Resource Pools
4.28.1.1. Scenario
Scenario: Query GPU models supported by resource pools
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to query GPU models supported by resource pools
Versions supported: SCP 6.9.0 and later
4.28.1.2. URI
Table 4.28.1 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/accelerators/azs/{az_id}/gpu/supporttype
Query GPU Models
Supported by
Resource Pools
Parameter Description:
Table 4.28.2 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
4.28.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/accelerators/azs/4cf079ab-2d6f-4a7a-84fd-
1c85644c6ba7/gpu/support-type
4.28.1.4. Response
Response Parameter
Table 4.28.3 Response Parameter¶
Parameter Type Required Note
az_id string Yes Resource pool ID
cluster_type string Yes Cluster type. Only HCI clusters support GPU at
present.
cluster_version string Yes Cluster version. Example: 6.9.0
support_types list(dict) Yes List of supported types. For details, see Parameter
Description - support_types.
Parameter Description - support_types
Table 4.28.4 Parameter Description - support_types¶
Parameter Type Required Note
support_slice int Yes Whether splitting
GPU is supported
support_new_scheduler int Yes Whether scheduler
is supported
grade string Yes GPU grade
gpu_type string Yes Graphics Card
Model
name string Yes Graphic card name
vendor string Yes GPU vendor
support_machine_types list(string) Yes Motherboard model
supported
Response Example:
{
"cluster_type": "hci",
"cluster_version": "6.9.0.ARM",
"support_types": [
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX8000",
"name": "Quadro RTX8000"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX3080LHR",
"name": "GeForce RTX3080LHR"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "A100D",
"name": "A100D"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"i440fx"
],
"gpu_type": "K2",
"name": "GRID K2"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"i440fx"
],
"gpu_type": "K1",
"name": "GRID K1"
"name": "GRID K1"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX6000",
"name": "Quadro RTX6000"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX2070",
"name": "GeForce RTX2070"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX3090",
"name": "GeForce RTX3090"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "A16",
"name": "A16"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX2080TiA",
"name": "GeForce RTX2080TiA"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "A10",
"name": "A10"
},
{
"support_slice": 0,
"vendor": "CAMBRICON",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "MLU370S4",
"name": "MLU370S4"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "V100DX",
"gpu_type": "V100DX",
"name": "Tesla V100DX"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "M60",
"name": "Tesla M60"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "TITANRTX",
"name": "TITAN TITANRTX"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "A100",
"name": "A100"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "T4",
"name": "Tesla T4"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX4000",
"name": "GeForce RTX4000"
},
{
"support_slice": 0,
"vendor": "CAMBRICON",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "MLU270S4",
"name": "MLU270S4"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "V100",
"name": "Tesla V100"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
],
"gpu_type": "A30",
"name": "A30"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "A40",
"name": "A40"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "TITANV",
"name": "TITAN TITANV"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTX3080",
"name": "GeForce RTX3080"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "RTXA4000",
"name": "RTXA4000"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "V100D",
"name": "Tesla V100D"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "T1000-8GB",
"name": "T1000-8GB"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
],
"gpu_type": "T1000",
"name": "T1000"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"q35"
"q35"
],
"gpu_type": "RTX2080Ti",
"name": "GeForce RTX2080Ti"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "P100",
"name": "Tesla P100"
},
{
"support_slice": 0,
"vendor": "HUAWEI",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "300VP",
"name": "Atlas 300VP"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "M10",
"name": "Tesla M10"
},
{
"support_slice": 0,
"vendor": "NVIDIA",
"support_new_scheduler": 0,
"grade": "consumer",
"support_machine_types": [
"i440fx"
],
"gpu_type": "M4000",
"name": "Quadro M4000"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "V100S",
"name": "Tesla V100S"
},
{
"support_slice": 0,
"vendor": "MTT",
"support_new_scheduler": 0,
"grade": "enterprise",
"support_machine_types": [
"q35"
],
"gpu_type": "S2000",
"name": "MTT S2000"
},
{
"support_slice": 1,
"vendor": "NVIDIA",
"support_new_scheduler": 1,
"grade": "enterprise",
"support_machine_types": [
"i440fx"
],
"gpu_type": "P40",
"name": "Tesla P40"
}
],
"az_id": "4cf079ab-2d6f-4a7a-84fd-1c85644c6ba7"
}
4.28.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.28.2. Query List of GPUs in Resource Pool
4.28.2.1. Scenario
Scenario: Query GPU in resource pool
Roles supported: Super admin and system admin
Versions supported: SCP 6.9.0 and later
4.28.2.2. URI
Table 4.28.5 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/accelerators/azs/{az_id}/gpu Query GPU in
Resource Pool
Parameter Description:
Table 4.28.6 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool ID Yes
host_ip path string Node IP No
 Note
1.host_ip can be an IPv4 or IPv6 address. 2.View Common Path Parameter Format for
common path parameters.
4.28.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/accelerators/azs/4cf079ab-2d6f-4a7a-84fd-1c85644c6ba7/gpu?
host_ip=10.102.48.145
4.28.2.4. Response
Response Parameter
Table 4.28.7 Response Parameter¶
Parameter Type Required Note
graphics_detail string No GPU details
graphic_status string No Graphics card status
host_ip string No Node IP
host_id string No Node ID
available_instance int No Number of accessible VM instances
driver_status dict No Driver status. For details, see Parameter
Description - driver_status.
graphics list(dict) No GPU list. For details, see Parameter Description
- graphics.
Parameter Description - driver_status
Table 4.28.8 Parameter Description - driver_status¶
Parameter Type Required Note
msg string No Driver status information
code int No Driver status code
Parameter Description - graphics
Table 4.28.9 Parameter Description - graphics¶
Parameter Type Required Note
gpu_name string Yes Graphic card name
support_slice int Yes Whether splitting GPU is supported
uuid string Yes GPU ID
brand string Yes GPU vendor
description string Yes GPU description
type string Yes Graphic Card Type
name string Yes Graphics Card Model
gpucore list(dict) Yes GPU core information. For details, see Parameter
Description - graphics.gpucore.
Parameter Description - graphics-gpucore
Table 4.28.10 Parameter Description - graphics.gpucore¶
Parameter Type Required Note
status int Yes Core status
ecc_pending int Yes GPU memory ECC (pending)
ecc_support int Yes Whether GPU memory ECC is supported
ecc_current int Yes GPU memory ECC (current status)
core_id string Yes Core ID
scheduler_current string Yes Scheduler (current status)
scheduler_pending string Yes Scheduler (pending)
pixel string Yes Resolution
mem_used int Yes Used GPU memory
mem_total int Yes Total GPU memory size
max_instances int Yes The maximum number of supported VM
instances
support_new_scheduler int Yes Whether the new scheduler is supported
used_instances int Yes Number of VM instances used
auth_require string Yes License is required
slice_type string Yes vGPU Type
server_list list(dict) Yes
List of VMs in use. For details, see
Parameter Description -
graphics.gpucore.server_list.
Parameter Description - graphics-gpucore-server_list
Table 4.28.11 Parameter Description - graphics.gpucore.server_list¶
Parameter Type Required Note
server_id sring Yes Virtual machine ID
server_name sring Yes VM name
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"graphics_detail": "One Huawei Atlas 300V Pro",
"graphic_status": "normal",
"host_ip": "10.102.48.145",
"graphics": [
{
"gpu_name": "Atlas 300VP",
"support_slice": 0,
"uuid": "720d478f-2cc9-4fe4-95c1-64465a6b2ebf",
"gpucore": [
{
"status": 0,
"ecc_pending": 0,
"ecc_support": 0,
"support_new_scheduler": 0,
"server_list": [
{
"server_id": "fce75357-f7a8-4849-8e6b-c3934543c90d
",
"server_name": "vstone_gpu_iso"
}
],
"core_id": "0000:81:00.0",
"scheduler_current": "best_effort",
"max_instances": 1,
"pixel": "Self-adaptive",
"mem_used": 49152,
"scheduler_pending": "best_effort",
"mem_total": 49152,
"ecc_current": 0,
"used_instances": 1,
"auth_require": "None",
"slice_type": "PASS_THROUGH"
}
],
"brand": "HUAWEI",
"description": "1GPU, 48GB",
"type": "300VP",
"name": "Huawei Atlas 300V Pro"
}
],
"host_id": "host-d1ab5b4c9835",
"driver_status": {
"msg": "GPU driver is not required",
"code": 6
},
"available_instance": 0
}
]
4.28.2.5. Response Code
OK: 200
Errors: 400, 403, 500
4.28.3. Edit Accelerator Configuration
4.28.3.1. Scenario
Scenario: Edit hardware accelerator settings
Roles supported: Super admin and system admin
Versions supported: SCP 6.9.0 and later
4.28.3.2. URI
Table 4.28.12 API Path and Request Method¶
REST
VERB PATH Description
PUT /janus/20180725/accelerators/{device_id} Edit Accelerator
Configuration
Parameter Description:
Table 4.28.13 Path Parameters¶
Parameter Location Type Description Required
device_id path string Device ID Yes
 Note
This API only supports editing GPU hardware. device_id can be obtained by querying the list
of GPUs supported by resource pools. For details, see Query List of GPUs in Resource Pool.
4.28.3.3. Request
Request Parameter
Table 4.28.14 Response Parameter¶
Parameter Location Type Description Required
accelerator body dict
Hardware accelerator configuration. For
details, see Parameter Description -
accelerator.
Yes
Parameter Description - accelerator
Table 4.28.15 Parameter Description - accelerator¶
Parameter Type Description Required
gpu dict GPU configuration. For details, see Parameter Description
- gpu. No
Parameter Description - gpu
Table 4.28.16 Parameter Description - gpu¶
Parameter Type Description Required
vendor string Vendor Yes
conf list(dict) List of GPU core configurations. For details, see
Parameter Description - conf. Yes
Parameter Description - conf
Table 4.28.17 Parameter Description - conf¶
Parameter Type Description Required
core_id string Core ID Yes
slice_type string vGPU type. For details, see vGPU Type.. No
enable_ecc int Whether to enable GPU memory ECC (1: enable; 0:
disable) No
scheduler string Scheduling method. For details, see Scheduling
Method. No
 Note
core_id can be obtained by querying the list of GPUs supported by resource pools. For details,
see Query List of GPUs in Resource Pool.
Request Example
https://{SCP_IP}/janus/20180725/accelerators/da1d4c9e-1ddf-4126-b2c9-d20487885947
{
"accelerator": {
"gpu": {
"vendor": "NVIDIA",
"conf": [
{
"core_id": "0000:81:00.0",
"enable_ecc": 0,
"slice_type": "vGPU",
"scheduler": "fixed_share"
}
]
}
}
}
4.28.3.4. Response
Response Parameter
Table 4.28.18 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "f6d8d70e-cb3b-426a-b487-ce6d08aa0814"
}
4.28.3.5. Response Code
OK: 200
Errors: 400, 403, 500
4.28.4. Query vGPU Type List of Resource Pool
4.28.4.1. Scenario
Scenario: Query vGPU type list of resource pool
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to query GPU models supported by resource pools
Versions supported: SCP 6.9.0 and later
4.28.4.2. URI
Table 4.28.19 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20180725/accelerators/azs/{az_id}/gpu/slicetypes
Query vGPU Type List
of Resource Pool
Parameter Description:
Table 4.28.20 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
host_id path string Node ID No
gpu_type path string GPU model No
brand path string GPU model No
 Note
1.View Common Path Parameter Format for common path parameters.
4.28.4.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/accelerators/azs/dcecbad2-0206-4c5b-a179-
05e98a014d36/gpu/slice-types?gpu_type=T4&brand=NVIDIA
4.28.4.4. Response
Response Parameter
Table 4.28.21 Response Parameter¶
Parameter Type Required Note
az_id string No Resource pool ID
gpu_name sring No Graphic card name
gpu_type sring No Graphics Card Model
mem_total int No Total memory of the GPU
brand string No GPU vendor
grade sring No GPU grade
support_machine_types list(string) No Motherboard model supported
slice list(dict) No vGPU type configuration. For details,
see Parameter Description - slice.
pass_through dict No
Passthrough configuration. For details,
see Parameter Description -
pass_through
Parameter Description - slice
Table 4.28.22 Parameter Description - slice¶
Parameter Type Required Note
aperture_size int Yes vGPU memory size
support_ecc int Yes Whether ECC is supported
support_new_scheduler int Yes Whether the new scheduler is
supported
frame_rate_selectable int Yes Whether the frame rate limit can
be adjusted
description string Yes Description
num int Yes Quantity
frame_rate_scope list(int) Yes Frame rate limit that can be
selected. 0 indicates no limit.
auth_require string Yes License is required
cores int Yes The number of GPU cores
pixel string Yes Resolution
mode string Yes vGPU Type
Parameter Description - pass_through
Table 4.28.23 Parameter Description - pass_through¶
Parameter Type Required Note
aperture_size int Yes vGPU memory size
support_ecc int Yes Whether ECC is supported
support_new_scheduler int Yes Whether the new scheduler is
supported
frame_rate_selectable int Yes Whether the frame rate limit can
be adjusted
description string Yes Description
num int Yes Quantity
frame_rate_scope list(int) Yes Frame rate limit that can be
selected. 0 indicates no limit.
auth_require string Yes License is required
cores int Yes The number of GPU cores
pixel string Yes Resolution
mode string Yes vGPU Type
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"gpu_name": "Tesla T4",
"slice": [
{
"aperture_size": 1024,
"support_ecc": 1,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-1B (1GB)",
"num": 16,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-1B"
},
{
"aperture_size": 1024,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-1Q (1 GB)",
"num": 16,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-1Q"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2B4 (2 GB)",
"num": 8,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-2B4"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2B (2 GB)",
"num": 8,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-2B"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2Q (2 GB)",
"num": 8,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-2Q"
},
{
"aperture_size": 4096,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-4C (4 GB)",
"num": 4,
"frame_rate_scope": [
60,
0
0
],
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-4C"
},
{
"aperture_size": 4096,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-4Q (4 GB)",
"num": 4,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-4Q"
},
{
"aperture_size": 8192,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-8C (8 GB)",
"num": 2,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-8C"
},
{
"aperture_size": 8192,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-8Q (8 GB)",
"num": 2,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-8Q"
},
{
"aperture_size": 16384,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "NVIDIA GRID T4-16C (16 GB)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-16C"
},
{
"aperture_size": 16384,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "NVIDIA GRID T4-16Q (16 GB)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-16Q"
}
],
"pass_through": {
"aperture_size": -1,
"aperture_size": -1,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "Passthrough (T4)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "None",
"cores": 1,
"pixel": "2560*1600",
"mode": "PASS_THROUGH"
},
"grade": "enterprise",
"brand": "NVIDIA",
"support_machine_types": [
"i440fx"
],
"gpu_type": "T4",
"mem_total": 16384,
"az_id": "dcecbad2-0206-4c5b-a179-05e98a014d36"
}
]
4.28.4.5. Response Code
OK: 200
Errors: 400, 403, 500
4.28.5. Query vGPU Type List of Resource Pool
4.28.5.1. Scenario
Scenario: Query the vGPU type list of the resource pool. Accept host_id as a filter parameter and include
host_id in the response
Roles supported: Super administrator, system administrator, tenant, and co-administrator with
permission to query GPU models supported by resource pools
Versions supported: SCP 6.11.0 and later
4.28.5.2. URI
Table 4.28.24 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20220725/accelerators/azs/{az_id}/gpu/slicetypes
Query vGPU Type List
of Resource Pool
Parameter Description:
Table 4.28.25 Path Parameters¶
Parameter Location Type Description Required
az_id path string Resource pool
ID Yes
host_id path string Node ID No
gpu_type path string GPU model No
brand path string GPU model No
 Note
1.View Common Path Parameter Format for common path parameters.
4.28.5.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20220725/accelerators/azs/dcecbad2-0206-4c5b-a179-
05e98a014d36/gpu/slice-types?gpu_type=T4&brand=NVIDIA
4.28.5.4. Response
Response Parameter
Table 4.28.26 Response Parameter¶
Parameter Type Required Note
az_id string No Resource pool ID
host_id sring No Host ID
gpu_name sring No Graphic card name
gpu_type sring No Graphics Card Model
mem_total int No Total memory of the GPU
brand string No GPU vendor
grade sring No GPU grade
support_machine_types list(string) No Motherboard model supported
slice list(dict) No vGPU type configuration. For details,
see Parameter Description - slice.
pass_through dict No
Passthrough configuration. For details,
see Parameter Description -
pass_through.
Parameter Description - slice
Table 4.28.27 Parameter Description - slice¶
Parameter Type Required Note
aperture_size int Yes vGPU memory size
support_ecc int Yes Whether ECC is supported
support_new_scheduler int Yes Whether the new scheduler is
supported
frame_rate_selectable int Yes Whether the frame rate limit can
be adjusted
description string Yes Description
num int Yes Quantity
frame_rate_scope list(int) Yes Frame rate limit that can be
selected. 0 indicates no limit.
auth_require string Yes License is required
cores int Yes The number of GPU cores
pixel string Yes Resolution
mode string Yes vGPU Type
Parameter Description - pass_through
Table 4.28.28 Parameter Description - pass_through¶
Parameter Type Required Note
aperture_size int Yes vGPU memory size
support_ecc int Yes Whether ECC is supported
support_new_scheduler int Yes Whether the new scheduler is
supported
frame_rate_selectable int Yes Whether the frame rate limit can
be adjusted
description string Yes Description
num int Yes Quantity
frame_rate_scope list(int) Yes Frame rate limit that can be
selected. 0 indicates no limit.
auth_require string Yes License is required
cores int Yes The number of GPU cores
pixel string Yes Resolution
mode string Yes vGPU Type
 Note
View Common Response Parameter Format for public response parameters in the API list.
Response Example:
[
{
"gpu_name": "Tesla T4",
"slice": [
{
"aperture_size": 1024,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-1B (1GB)",
"num": 16,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-1B"
},
{
"aperture_size": 1024,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-1Q (1GB)",
"num": 16,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-1Q"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2B4 (2GB)",
"num": 8,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-2B4"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2B (2GB)",
"num": 8,
"frame_rate_scope": [
45,
0
],
"auth_require": "vPC or vWS",
"cores": 1,
"pixel": "5120*2880",
"mode": "T4-2B"
},
{
"aperture_size": 2048,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-2Q (2GB)",
"num": 8,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-2Q"
},
{
"aperture_size": 4096,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-4C (4GB)",
"num": 4,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-4C"
},
{
"aperture_size": 4096,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-4Q (4GB)",
"num": 4,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-4Q"
},
{
"aperture_size": 8192,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-8C (8GB)",
"num": 2,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS or vCS",
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-8C"
},
{
"aperture_size": 8192,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 1,
"description": "NVIDIA GRID T4-8Q (8GB)",
"num": 2,
"frame_rate_scope": [
60,
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-8Q"
},
{
"aperture_size": 16384,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "NVIDIA GRID T4-16C (16GB)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "vWS or vCS",
"cores": 1,
"pixel": "4096*2160",
"mode": "T4-16C"
},
{
"aperture_size": 16384,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "NVIDIA GRID T4-16Q (16GB)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "vWS",
"cores": 1,
"pixel": "7680*4320",
"mode": "T4-16Q"
}
],
"pass_through": {
"aperture_size": -1,
"support_ecc": 1,
"support_new_scheduler": 1,
"frame_rate_selectable": 0,
"description": "Passthrough (T4)",
"num": 1,
"frame_rate_scope": [
0
],
"auth_require": "None",
"cores": 1,
"pixel": "2560*1600",
"mode": "PASS_THROUGH"
},
"grade": "enterprise",
"brand": "NVIDIA",
"support_machine_types": [
"i440fx"
],
"gpu_type": "T4",
"mem_total": 16384,
"host_id": "host-e8611f47c966",
"az_id": "dcecbad2-0206-4c5b-a179-05e98a014d36"
}
]
4.28.5.5. Response Code
OK: 200
Errors: 400, 403, 500
4.29. Premium Services
4.29.1. Query the List of Premium Services
4.29.1.1. Scenario
Scenario: Querying the list of premium services
Roles Supported for Querying: Administrator, System Administrator
Supported versions: SCP 6.10.10 and above
4.29.1.2. URI
Table 4.29.1 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20180725/services Query the List of Premium
Services
Parameter Description:
Table 4.29.2 Path Parameters¶
Parameter Location Type Description Required
name path string Service name No
ids path string Service list, comma-separated No
type path string
Service types include [asan, cssp, dmp, nas,
oss, snmp_trap, snmp_walk, skyops,
app_nest, ahc]
No
sort path string Support sorting fields No
order_by path string Sort Direction. Use ASC for ascending
order and DESC for descending order. No
start path int Starting Position (used for pagination). No
limit path int The number of records to display on each
page. No
4.29.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/services?name=222222222&type=snmp_trap
4.29.1.4. Response
Response Parameter
Table 4.29.3 Response Parameter¶
Parameter Type Description
Value
Returned
total_size string Query results Yes
page_num string Current page Yes
page_size string Page size Yes
next_page_num string Next page, empty string indicates that the current
page is the last page Yes
data list(dict) Service details, see Parameter Description - data. Yes
Parameter Description - data:
Table 4.29.4 Parameter Description - data¶
Parameter Type Description
Value
Returned
id string Service ID No
name string Service name No
type string Service type No
description string Service description No
enable boolen Whether the tenant is enabled No
status string Task status No
level string Level No
version string Version No
endpoint dict Service details, see Parameter Description - endpoint. No
Parameter Description - endpoint:
Table 4.29.5 Parameter Description - endpoint¶
Parameter Type Description
Value
Returned
manager_ip string IPv4 address list string, separated
by commas. Yes
manager_port_id string Management port Yes
business_ip string IPv4 address list string, separated
by commas. Yes
business_port_id string Group member ID Yes
external_endpoint string Address for external access Yes
user_name string SNMP service user ID No
authentication_protocol string Authentication protocol No
encryption_protocol string Encryption algorithm No
is_inform_enabled boolen Whether to use the INFORM
protocol No
engine_id string Engine ID No
group string Group No
snmp_ip string Need to restrict external IP access
to snmpwalk No
remote_ip string SNMP trap pushed to a remote IP No
port int SNMP trap server port No
language string The language for pushing SNMP
trap alerts No
community string Community string No
version string SNMP Trap protocol version No
Response Example:
{
"total_size": 4,
"page_num": 0,
"next_page_num": "",
"page_size": 100,
"data": [
{
"status": "active",
"endpoint": {
"business_port_id": "",
"external_endpoint": "",
"snmp_ip": "4.4.4.4",
"authentication_protocol": "MD5",
"language": "",
"engine_id": "",
"community": "",
"group": "",
"port": 0,
"version": "",
"encryption_protocol": "DES",
"business_ip": "",
"manage_ip": "",
"is_inform_enabled": null,
"user_name": "admin",
"manage_port_id": "",
"remote_ip": ""
},
"name": "snmp_walk",
"level": "",
"enabled": 1,
"version": "",
"type": "snmp_walk",
"id": "584db8e4-1c17-42b8-8909-6ef526cd73e2",
"description": ""
}
]
}
4.29.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.29.2. Create Premium Services
4.29.2.1. Scenario
Scenario: Creating Advanced Services
Roles Supported for Creation: Administrator, System Administrator
Supported versions: SCP 6.10.10 and above
4.29.2.2. URI
Table 4.29.6 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/services Create Premium
Services
Parameter Description:
None
4.29.2.3. Request
Request Parameter
Table 4.29.7 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
service_type string Service types, including [snmp_trap, snmp_walk] Yes
attributes dict 1:snmptrap_attributes Parameter Description
2:snmpwalk_attributes Parameter Description Yes
attributes Parameter Description:
Table 4.29.8 snmptrap_attributes Parameter Description¶
Parameter Type Description Required
remote_ip string Remote IP Yes
port string Service port Yes
language string Language Yes
version string Protocol version, including [v1,
v2c, v3] Yes
version_attributes dict
1:v1v2c_attributes Parameter
Description 2:v3_attributes
Parameter Description
Yes
community string Community string No
 Note
1.When the version protocol is v1 or v2c, the version_attributes are the same for both; when
the version protocol is v3, the version_attributes are different from those of v1 and v2c.
version_attributes Parameter Description:
Table 4.29.9 v1v2c_attributes Parameter Description¶
Parameter Type Description Required
group string Group No
Table 4.29.10 v3_attributes Parameter Description¶
Parameter Type Description Required
user_name string Group Yes
authentication_protocol string Authentication Protocol,
including [MD5, SHA] Yes
password string Password Yes
encryption_protocol string Encryption Algorithms, including
[DES, AES] Yes
private_key string Private key Yes
is_inform_enabled boolen Whether to use the INFORM
protocol Yes
engine_id string Engine ID Yes
Request Example
https://{SCP_IP}/janus/20180725/services
{
"service": {
"name": "ttttttt",
"service_type": "snmp_trap",
"attributes": {
"remote_ip": "1.1.1.5",
"port": 162,
"language": "zh_CN",
"version": "v3",
"community": "",
"version_attributes": {
"user_name": "test",
"authentication_protocol": "MD5",
"password": "888f737289e25972f8bfb24cdc",
"encryption_protocol": "DES",
"private_key": "c7029d49e23b00e207aec",
"is_inform_enabled": false,
"engine_id": "33333333"
}
}
}
}
version_attributes Parameter Description:
Table 4.29.11 snmpwalk_attributes Parameter Description¶
Parameter Type Description Required
snmp_ip string Restrict external access
IPs Yes
is_encrypt boolen Is encrypted, including
[true, false] Yes
encrypt_attributes dict
Version attributes, see:
encrypt_attributes
Parameter Description
No
 Note
1.When is_encrypt is true (indicating encryption), encrypt_attributes must be provided, and all
sub-attributes are required. When is_encrypt is false (indicating no encryption),
encrypt_attributes should not be provided.
Table 4.29.12 encrypt_attributes Parameter Description¶
Parameter Type Description Required
authentication_protocol string Authentication Protocol,
including [MD5, SHA] Yes
password string Password Yes
encryption_protocol string Encryption Algorithms, including
[DES, AES] Yes
private_key string Private key Yes
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies
{
"service": {
"name": "snmp_walk",
"service_type": "snmp_walk",
"attributes": {
"snmp_ip": "3.5.3.3",
"is_encrypt": true,
"encrypt_attributes": {
"authentication_protocol": "MD5",
"encryption_protocol": "DES",
"private_key":"e24ac2d387f0a51cc9",
"password":"dasasd4eea258c"
}
}
}
}
4.29.2.4. Response
Response Parameter
Table 4.29.13 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
1.Common Response Parameters for API, see: Response Format
Response Example:
{
"task_id": "b604eac1-a89c-49e2-8c78-5b07c4255f3c"
}
4.29.2.5. Response Code
Success: 201
Errors: 400, 403, 500
4.29.3. Delete Single Service
4.29.3.1. Scenario
Scenario: Delete a Single Service
Roles Supported for Deletion: Administrator, System Administrator
Supported versions: SCP 6.10.10 and above
4.29.3.2. URI
Table 4.29.14 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/services/{service_id} Delete single
service
Parameter Description:
Table 4.29.15 Path Parameters¶
Parameter Location Type Description Required
server_id path string Service ID Yes
4.29.3.3. Response
Response Parameter
Table 4.29.16 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"task_id": "a9ef0fdd-e3e1-467a-9032-631436b2b820"
}
4.29.3.4. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.29.4. Edit Premium Services
4.29.4.1. Scenario
Scenario: Edit Advanced Service
Roles Supported for Editing: Administrator, System Administrator
Supported versions: SCP 6.10.10 and above
4.29.4.2. URI
Table 4.29.17 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/services Create Premium
Services
Parameter Description:
None
4.29.4.3. Request
Request Parameter
Table 4.29.18 Description of Body Parameter¶
Parameter Type Description Required
name string Name Yes
attributes dict 1:snmptrap_attributes Parameter Description
2:snmpwalk_attributes Parameter Description Yes
attributes Parameter Description:
Table 4.29.19 snmptrap_attributes Parameter Description¶
Parameter Type Description Required
remote_ip string Remote IP Yes
port string Service port Yes
language string Language Yes
admin_state_up boolen Service enabled, including [true,
false] Yes
version string Protocol version, including [v1,
v2c, v3] Yes
version_attributes dict
1:v1v2c_attributes Parameter
Description 2:v3_attributes
Parameter Description
Yes
community string Community string No
 Note
1.When the version protocol is v1 or v2c, the version_attributes are the same for both; when
the version protocol is v3, the version_attributes are different from those of v1 and v2c.
version_attributes Parameter Description:
Table 4.29.20 v1v2c_attributes Parameter Description¶
Parameter Type Description Required
group string Group No
Table 4.29.21 v3_attributes Parameter Description¶
Parameter Type Description Required
user_name string Group Yes
authentication_protocol string Authentication Protocol,
including [MD5, SHA] Yes
password string Password Yes
encryption_protocol string Encryption Algorithms, including
[DES, AES] Yes
private_key string Private key Yes
is_inform_enabled boolen Whether to use the INFORM
protocol Yes
engine_id string Engine ID Yes
Request Example
https://{SCP_IP}/janus/20180725/services
{
"service": {
"name": "ttttttt",
"attributes": {
"remote_ip": "1.1.1.5",
"port": 162,
"language": "zh_CN",
"version": "v3",
"community": "",
"admin_state_up": true,
"version_attributes": {
"user_name": "test",
"authentication_protocol": "MD5",
"password": "888f737289e25972f8bfb24cdc",
"encryption_protocol": "DES",
"private_key": "c7029d49e23b00e207aec",
"is_inform_enabled": false,
"engine_id": "33333333"
}
}
}
}
version_attributes Parameter Description:
Table 4.29.22 snmpwalk_attributes Parameter Description¶
Parameter Type Description Required
snmp_ip string Restrict external access
IPs Yes
is_encrypt boolen Is encrypted, including
[true, false] Yes
encrypt_attributes dict
Version attributes, see:
encrypt_attributes
Parameter Description
No
 Note
1.When is_encrypt is true (indicating encryption), encrypt_attributes must be provided, and all
sub-attributes are required. When is_encrypt is false (indicating no encryption),
encrypt_attributes should not be provided.
Table 4.29.23 encrypt_attributes Parameter Description¶
Parameter Type Description Required
authentication_protocol string Authentication Protocol,
including [MD5, SHA] Yes
password string Password Yes
encryption_protocol string Encryption Algorithms, including
[DES, AES] Yes
private_key string Private key Yes
Request Example
https://{SCP_IP}/janus/20180725/schedule-policies
{
"service": {
"name": "snmp_walk",
"attributes": {
"snmp_ip": "3.5.3.3",
"is_encrypt": true,
"encrypt_attributes": {
"authentication_protocol": "MD5",
"encryption_protocol": "DES",
"private_key":"e24ac2d387f0a51cc9",
"password":"dasasd4eea258c"
}
}
}
}
4.29.4.4. Response
Response Parameter
Table 4.29.24 Response Parameter¶
Parameter Type Description Value Returned
task_id string Task ID Yes
 Note
1.Common Response Parameters for API, see: Response Format
Response Example:
{
"task_id": "b604eac1-a89c-49e2-8c78-5b07c4255f3c"
}
4.29.4.5. Response Code
Success: 201
Errors: 400, 403, 500
4.29.5. Batch Operations on Services
4.29.5.1. Scenario
Scenario: Batch Delete Service
Roles Supported for Deletion: Administrator, System Administrator
Supported versions: SCP 6.10.10 and above
4.29.5.2. URI
Table 4.29.25 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20180725/services/action Batch Operations
for Services
4.29.5.3. Request
Request Parameter
Table 4.29.26 Description of Body Parameter¶
Parameter Type Description Required
service_ids list(string) Service ID List Yes
action string Operation Name, including [
batch_delete_service_action ] Yes
Request Example
https://{SCP_IP}/janus/20180725/services/062dc2a0-3e7d-464e-9185-257b7dcf4564
{
"service_ids": ["ee0c7bae-f5a1-49eb-808e-4bae05c9e9f4", "1edeb46c-e37a-4
29a-ab0d-8195fd40ece0"],
"action": "batch_delete_service_action"
}
 Note
1.Only batch delete operations are supported, and other action operations can be expanded
in the future
4.29.5.4. Response
Response Parameter
Table 4.29.27 Response Parameter¶
Parameter Type Description Value Returned
result string Task result Yes
Response Example:
{
"result": "success"
}
4.29.5.5. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.30. Cross-Site Disaster Recovery
4.30.1. Common Parameters for Cross-Site Disaster Recovery
4.30.1.1. Disaster Recovery Policy Types
Table 4.30.1 Cross-Site Disaster Recovery - Disaster Recovery Policy Types¶
Value Description
cdp_disaster CDP disaster recovery
backup_disaster Local backup-based disaster recovery
vmware_disaster VMware disaster recovery
4.30.2. Disaster Recovery Policies
4.30.2.1. Query List of Disaster Recovery Policies
4.30.2.1.1. Scenario
Scenario: Query the list of disaster recovery policies
Roles supported: Administrator, system administrator, tenant, and tenant co-administrator
Versions supported: SCP 6.11.1 and later
4.30.2.1.2. URI
Table 4.30.2 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/protections Query List of Disaster
Recovery Policies
Parameter Description:
Table 4.30.3 Path Parameters¶
Parameter Location Type Description Required
name path string Policy name No
query path string Fuzzy match by name No
user_id path string User ID No
project_id path string Tenant ID No
enable path string
Whether to enable
the policy. Valid
values: 0 and 1.
No
 Note
For common path parameters, view Common Path Parameter Format for details.
4.30.2.1.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20180725/protections?name=222222222
4.30.2.1.4. Response
Response Parameter
Table 4.30.4 Response Parameter¶
Parameter Type Description
Value
Returned
total_size string Query results Yes
page_num string Current page Yes
page_size string Page size Yes
next_page_num string Next page, empty string indicates that the current
page is the last page Yes
data list(dict) Service details. For details, see Parameter
Description - data. Yes
Parameter Description - data:
Table 4.30.5 Parameter Description - data¶
Parameter Type Description
Value
Returned
id string Policy ID No
type string Policy type. For details, see Cross-Site Disaster
Recovery - Disaster Recovery Policy Types. No
name string Name No
enable int Whether the tenant is enabled No
trigger_cron string Trigger time No
description string Description No
project_id string Tenant ID No
user_id string User ID No
next_trigger_time int Next execution time. Default: 0 No
servers list(dict) Protected VM list. For details, see Parameter
Description - servers. No
config dict Configuration information. For details, see
Parameter Description - config. No
Parameter Description - servers:
Table 4.30.6 Parameter Description - servers¶
Parameter Type Description Value Returned
id string Virtual machine ID Yes
enable int Whether to enable a VM Yes
src_enable int Whether to enable
scheduled backup Yes
recover_priority int Priority Yes
Parameter Description - config:
Table 4.30.7 Parameter Description - config¶
Parameter Type Description
Value
Returned
source dict Protected site configuration information. For details, see
Parameter Description - source. Yes
destination dict Destination site configuration information. For details,
see Parameter Description - destination. Yes
Parameter Description - source:
Table 4.30.8 Parameter Description - source¶
Parameter Type Description
Value
Returned
site_id string Site ID Yes
az_id string Resource pool ID Yes
az_type string Resouce Pool Type Yes
type string Disaster recovery policy type for the local site.
Valid values: cdp, hour, day, and week. Yes
trigger_cron string Trigger time Yes
storage_id string ID of the backup repository Yes
enable int Whether to enable scheduled backup Yes
Parameter Description - destination:
Table 4.30.9 Parameter Description - destination¶
Parameter Type Description
Value
Returned
site_id string Site ID Yes
az_id string Resource pool ID Yes
az_type string Resouce Pool Type Yes
type string
Disaster recovery policy type for the protected site.
For details, see Cross-Site Disaster Recovery -
Disaster Recovery Policy Types.
Yes
trigger_cron string Trigger time Yes
storage_id string ID of the backup repository Yes
compress_type string Compression method. Valid values: none and lz4. Yes
Response Example:
{
"message": "",
"data": {
"total_size": 1,
"page_num": 0,
"next_page_num": "",
"data": [
{
"enable": 1,
"user_id": "88880416f44742f0a993d42f16ecd35e",
"description": "",
"type": "backup_disaster",
"servers": [
{
"enable": 1,
"id": "f7d89689-a1f8-4d1c-9891-2c99028a3390",
"src_enable": 1,
"recover_priority": 1
}
],
"project_id": "00ee87eb21de4ca7b34f039af58331da",
"trigger_cron": "0 0 0 */4 * ?",
"next_trigger_time": 1741795800000,
"config": {
"source": {
"trigger_cron": "0 0 23 ? * 5",
"site_id": "f8d92450-15d7-46ac-8e7b-a520c5e16cec",
"enable": 1,
"storage_id": "36000c29d6a72c9985b45f7cdfb4d7004_005056b25827",
"az_type": "hci",
"type": "week",
"az_id": "33c022e6-bee1-42da-a908-f8061f07bcb1"
},
"destination": {
"trigger_cron": "0 0 0 */4 * ?",
"site_id": "ded0dd99-74c2-4118-b1be-00f20885febf",
"compress_type": "none",
"storage_id": "36000c298a01bb40d2be92ee0b8e00adc_005056b2d72a",
"az_type": "hci",
"type": "backup_disaster",
"az_id": "eecfe3ef-3d59-40d4-8814-41651848fd2c"
}
},
"id": "2273756a-8d57-46b2-861a-ca127b0aa83a",
"name": "(）【】_-.a1"
}
],
"page_size": 100
},
"errcode": ""
}
4.30.2.1.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.31. SPs
4.31.1. Common Parameters for SPs
4.31.1.1. Proxy Settings
Table 4.31.1 Proxy Settings¶
Parameter Type Description Required
enable int(0,
1)
Whether to enable online SP service. 0: No (default), 1:
Yes. No
agent dict Proxy service configuration information. For details, see
Proxy Service Configuration. No
4.31.1.2. Proxy Service Configuration
Table 4.31.2 Proxy Service Configuration¶
Parameter Type Description Required
mode int Connection mode. 1: Proxy, 2: Direct connection
(default). No
address string Proxy address (empty string by default) No
username string Proxy username (empty string by default) No
password string
Proxy password (empty string by default). The password
must be encrypted. See Token-Based Authentication for
encryption methods.
No
4.31.1.3. Online SP Center
Table 4.31.3 Online SP Center¶
Parameter Type Description Required
update string SP server address No
online string Online address No
4.31.1.4. SP Platform Type
Table 4.31.4 SP Platform Type¶
Value Description
cloud_manage Cloud management platform (default)
cluster Cluster
4.31.2. View Proxy Settings of Online SP Service
4.31.2.1. Scenario
Scenario: View the proxy settings of online SP service
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
4.31.2.2. URI
Table 4.31.5 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/patches/proxy View Proxy Settings of Online
SP Service
4.31.2.3. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/patches/proxy
4.31.2.4. Response
Response Parameter
Table 4.31.6 Response Parameter¶
Parameter Type Description
Value
Returned
enable int(0, 1) Whether to enable online SP service. 0: No, 1:
Yes. Yes
agent dict Proxy service configuration information. For
details, see Proxy Service Configuration. No
domain list(dict) Information about Online SP Center. For details,
see Online SP Center. No
auth_service_url string Cloud authentication address No
Response Example:
{
"message": "",
"data": {
"domain": [
{
"update": "https://sp.sangfor.com.cn"
},
{
"update": "https://sp1.sangfor.com.cn"
},
{
"update": "https://sp2.sangfor.com.cn"
},
{
"update": "https://sp3.sangfor.com.cn"
}
],
"enable": 1,
"auth_service_url": "https://auth.sangfor.com.cn",
"agent": {
"username": "",
"password": "",
"mode": 1,
"address": "http://10.110.80.112:3028"
}
},
"errcode": ""
}
4.31.2.5. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.31.3. Obtain SP Installation Configuration List
Scenario: Obtain the SP installation configuration list
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
Sorting is not supported currently.
4.31.3.1. URI
Table 4.31.7 API Path and Request Method¶
REST
VERB PATH Description
GET /janus/20240725/patches/upgrade-configs Obtain SP Installation
Configuration List
Parameter Description:
Table 4.31.8 Path Parameters¶
Parameter Location Type Description Required
platform_type path string Platform type. For details, see SP
Platform Type. No
cluster_id path string Cluster ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.31.3.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/patches/upgrade-configs
4.31.3.3. Response
Response Parameter
Table 4.31.9 Response Parameter¶
Parameter Type Description
Value
Returned
cluster_id string Cluster ID No
platform_type string Platform type. For details, see SP Platform Type. No
download dict SP download information. For details, see Parameter
Description - download. No
warn dict Alert interval. For details, see Parameter Description
- warn. No
probe dict Detection interval. For details, see Parameter
Description - cron. No
perception dict
Configuration of SP installation with update impact.
For details, see Parameter Description -
upgrade_config.
No
no_perception dict
Configuration of SP installation without update
impact. For details, see Parameter Description -
upgrade_config.
No
Parameter Description - download:
Table 4.31.10 Parameter Description - download¶
Parameter Type Description Value Returned
speed string Max download speed Yes
Parameter Description - warn:
Table 4.31.11 Parameter Description - warn¶
Parameter Type Description
Value
Returned
high dict Interval of high-severity alerts. For details, see
Parameter Description - cron. Yes
middle dict Interval of medium-severity alerts. For details,
see Parameter Description - cron. Yes
low dict Interval of low-severity alerts. For details, see
Parameter Description - cron. Yes
Parameter Description - cron:
Table 4.31.12 Parameter Description - cron¶
Parameter Type Description
Value
Returned
cron string Trigger time (Cron expression). For details, visit
https://www.gairuo.com/p/cron-expression-sheet. Yes
Parameter Description - upgrade_config:
Table 4.31.13 Parameter Description - upgrade_config¶
Parameter Type Description
Value
Returned
auto_download int(0,
1) Whether to enable auto download. 0: No, 1: Yes. Yes
cron_download string
Trigger time for auto download (Cron expression).
For details, visit https://www.gairuo.com/p/cronexpression-
sheet.
Yes
auto_upgrade int(0,
1) Whether to enable auto upgrade. 0: No, 1: Yes. Yes
cron_upgrade string
Trigger time for auto upgrade (Cron expression). For
details, visit https://www.gairuo.com/p/cronexpression-
sheet.
Yes
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"data": {
"total_size": 2,
"data": [
{
"perception": {
"auto_upgrade": 0,
"cron_download": "0 0 2-6 * * ?",
"auto_download": 1,
"cron_upgrade": "0 0 2-6 * * ?"
},
"probe": {
"cron": "0 0 0/1 * * ?"
},
"warn": {
"high": {
"cron": "0 0 0/1 * * ?"
},
"middle": {
"cron": "0 0 0/4 * * ?"
},
"low": {
"cron": "0 0 0/12 * * ?"
}
},
"platform_type": "cluster",
"cluster_id": "a77c0b34-3fb0-4c84-afbb-4be4d22c1a44",
"download": {
"speed": 1024
},
"no_perception": {
"auto_upgrade": 1,
"cron_download": "0 0 2-6 * * ?",
"auto_download": 1,
"cron_upgrade": "0 0 2-6 * * ?"
}
},
{
"perception": {
"auto_upgrade": 0,
"cron_download": "0 0 2-6 * * ?",
"cron_upgrade": "0 0 2-6 * * ?",
"auto_download": 0
},
"probe": {
"cron": "0 0 0/1 * * ?"
},
"warn": {
"high": {
"cron": "0 0 0/1 * * ?"
},
"middle": {
"cron": "0 0 0/4 * * ?"
},
"low": {
"cron": "0 0 0/12 * * ?"
}
},
"platform_type": "cloud_manage",
"cluster_id": "",
"download": {
"speed": 1024
},
"no_perception": {
"auto_upgrade": 1,
"cron_download": "0 0 2-6 * * ?",
"cron_upgrade": "0 0 2-6 * * ?",
"auto_download": 1
}
}
],
"next_page_num": "",
"page_num": 0,
"page_size": 100
},
"errcode": ""
}
4.31.3.3.1. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.31.4. Obtain SP List
Scenario: Obtain the SP list
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
4.31.4.1. URI
Table 4.31.14 API Path and Request Method¶
REST VERB PATH Description
GET /janus/20240725/patches/packages Obtain SP List
Parameter Description:
Table 4.31.15 Path Parameters¶
Parameter Location Type Description Required
platform_type path string Platform type. For details, see SP
Platform Type. No
cluster_id path string Cluster ID No
 Note
For common path parameters details, see Common Path Parameter Format.
4.31.4.2. Request
Request Parameter
None
Request Example
https://{SCP_IP}/janus/20240725/patches/packages
4.31.4.3. Response
Response Parameter
Table 4.31.16 Response Parameter¶
Parameter Type Description
Value
Returned
cluster_id string Cluster ID No
platform_type string Platform type. For details, see SP Platform Type. No
id string Unique SP ID with platform ID No
package_id string SP ID No
name string SP name No
level string Severity level. For details, see Parameter
Description - level. No
influence dict or
string
Impact. (This field may be a string for some SPs.)
For details, see Parameter Description -
package_translation.
No
fail_desc string Failure description No
userware string Upgrade type. For details, see Parameter
Description - userware. No
preconditions dict or
string
Preconditions. (This field may be a string for some
SPs.) For details, see Parameter Description -
package_translation.
No
upgrade_status string Upgrade status. For details, see Parameter
Description - upgrade_status. No
release_time string Release timestamp No
desc dict or
string
SP description. (This field may be a string for some
SPs.) For details, see Parameter Description -
package_translation.
No
source string
Source of the SP. (This field is an empty string if no
source is marked.) For details, see Parameter
Description - source.
No
Parameter Description - package_translation:
Table 4.31.17 Parameter Description - package_translation¶
Parameter Type Description Value Returned
base string Default
information Yes
en_US string Information in
English Yes
zh_CN string Information in
Chinese Yes
Parameter Description - level:
Table 4.31.18 Parameter Description - level¶
Value Description
high High
middle Medium
low Low
Parameter Description - upgrade_status:
Table 4.31.19 Parameter Description - upgrade_status¶
Value Description
probed Not downloaded
download_waiting Waiting for download
downloading Downloading
downloaded Downloaded
download_failed Download failed
upgrade_waiting Waiting for upgrade
upgrading Upgrading
upgrade_failed Upgrade failed
success Upgrade successful
Parameter Description - userware:
Table 4.31.20 Parameter Description - userware¶
Value Description
effect SP with update impact
no_effect SP without update impact
Parameter Description - source:
Table 4.31.21 Parameter Description - source¶
Value Description
online SP for online installation (detected by Online SP Center)
offline SP for offline installation (manually imported)
oldpkg Installed SP
 Note
For common response parameters, view Response Format for details
Response Example:
{
"message": "",
"data": {
"total_size": 3,
"data": [
{
"name": "SP_SCP_fix-6.11.1-buga-probed",
"level": "probed",
"influence": {
"base": "6100 influence",
"en_US": "6100 influence",
"zh_CN": "6100升级影响"
},
"fail_desc": "",
"platform_type": "cloud_manage",
"userware": "no_effect",
"cluster_id": "",
"source": "online",
"upgrade_status": "probed",
"release_time": "2025-01-15 19:22:18",
"package_id": "SP_SCP_fix-6.11.1-buga-probed",
"preconditions": {
"base": "6100 preconditions",
"en_US": "6100 preconditions",
"zh_CN": "6100升级前置"
},
"id": "cloud_manage-SP_SCP_fix-6.11.1-buga-probed",
"desc": {
"base": "6100 collection patches",
"en_US": "6100 collection patches",
"zh_CN": "6100集合补丁"
}
},
{
"name": "sp-HCI-6.10.0_R2-x86-col-20250412",
"level": "high",
"influence": "",
"fail_desc": "",
"platform_type": "cluster",
"userware": "no_effect",
"cluster_id": "70f5244c-9891-42e6-8549-e7428574a584",
"source": "",
"upgrade_status": "success",
"release_time": "2025-04-12 11:57:45",
"package_id": "sp-HCI-6.10.0_R2-x86-col-20250412.pkg",
"preconditions": "ignore",
"id": "cluster-70f5244c-9891-42e6-8549-e7428574a584-sp-HCI-6.10.0_
R2-x86-col-20250412.pkg",
"desc": {
"base": "6100R2",
"en_US": "collection patches",
"zh_CN": "集合补丁"
}
},
{
"name": "sp-HCI-6.10.0-x86-col-20240701",
"level": "high",
"influence": "",
"fail_desc": "",
"platform_type": "cluster",
"userware": "effect",
"cluster_id": "77f05058-383b-4b8e-9ace-cf9c27c3ae6a",
"source": "offline",
"upgrade_status": "downloaded",
"release_time": "2024-07-01 17:25:56",
"package_id": "sp-HCI-6.10.0-x86-col-20240701.pkg",
"preconditions": "ignore",
"id": "cluster-77f05058-383b-4b8e-9ace-cf9c27c3ae6a-sp-HCI-6.10.0-
x86-col-20240701.pkg",
"desc": {
"base": "6100 collection patches",
"en_US": "6100 collection patches",
"zh_CN": "6100集合补丁"
}
}
],
"next_page_num": "",
"page_num": 0,
"page_size": 100
},
"errcode": ""
}
4.31.4.3.1. Response Code
OK: 200
Errors: 400, 403, 404, 500
4.31.5. Query Connectivity Test Result
Scenario: Query the connectivity test result
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
4.31.5.1. URI
Table 4.31.22 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20240725/patches/actions/network-connection
Query
Connectivity
Test Result
Parameter Description:
None
4.31.5.2. Request
Table 4.31.23 Response Parameter¶
Parameter Location Type Description Required
use_provided_proxy body int(0,
1)
Whether to use the pushed-down
proxy settings. 0: No (default), 1:
Yes.
No
proxy body dict Proxy settings. For details, see
Proxy Settings. No
 Note
Use the saved proxy settings: Set use_provided_proxy to 0.
Use the direct connection mode: Set use_provided_proxy to 1, but do not specify proxy
settings.
Use the specified proxy settings: Set use_provided_proxy to 1 and specify proxy settings.
(In this scenario, the direct connection mode cannot be used.)
Request Example
https://{SCP_IP}/janus/20240725/patches/actions/network-connection
{
"use_provided_proxy": 1,
"proxy": {
"agent": {
"address": "http://10.130.130.10:3128",
"username": "",
"password": ""
}
}
}
4.31.5.3. Response
Response Parameter
Table 4.31.24 Response Parameter¶
Parameter Type Description Value Returned
connect int(0, 1) Whether the connection is successful. 0:
No, 1: Yes. No
Response Example:
{
"message": "",
"data": {
"connect": 1
},
"errcode": ""
}
4.31.5.3.1. Response Code
Success: 201
Errors: 400, 403, 404, 500
4.31.6. Configure Proxy Settings of Online SP Service
Scenario: Configure the proxy settings for online SP service
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
4.31.6.1. URI
Table 4.31.25 API Path and Request Method¶
REST VERB PATH Description
POST /janus/20240725/patches/proxy Configure Proxy Settings of
Online SP Service
Parameter Description:
None
4.31.6.2. Request
Table 4.31.26 Response Parameter¶
Parameter Location Type Description Required
cluster body dict Cluster proxy settings. For details, see
Parameter Description - cluster. No
proxy body dict Proxy settings. For details, see Proxy
Settings. No
Parameter Description - cluster:
Table 4.31.27 Parameter Description - cluster¶
Parameter Location Type Description Required
enable body int(0,
1)
Whether to push down cluster proxy
settings. 0: No (default), 1: Yes. No
force body int(0,
1)
Whether to forcibly overwrite the original
cluster proxy settings. 0: No (default), 1:
Yes.
No
 Note
Note: When cluster error occurs, cluster proxy settings may fail to be configured. The API
only checks if the proxy settings are configured successfully on SCP. If cluster proxy settings
are pushed down, the consistency of proxy settings is ensured for the cluster.
Request Example
https://{SCP_IP}/janus/20240725/patches/proxy
{
"cluster": {
"enable": 1,
"force": 1
},
"proxy": {
"enable": 1,
"agent": {
"mode": 1,
"address": "http://10.130.130.10:3128",
"username": "admin",
"password": "90a2fd5a80f86ffe6a80d08...",
}
}
}
4.31.6.3. Response
Response Parameter
None
Response Example:
None
4.31.6.3.1. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.31.7. Configure SP Installation Settings
Scenario: Configure the SP installation settings
Roles supported: Super admin and system admin
Versions supported: SCP 6.11.1 and later
4.31.7.1. URI
Table 4.31.28 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20240725/patches/upgrade-config Configure SP
Installation Settings
Parameter Description:
None
4.31.7.2. Request
Table 4.31.29 Response Parameter¶
Parameter Location Type Description Required
cluster_id body string
Cluster ID. (If this parameter is not
specified, the SP installation settings
apply to SCP.)
No
no_perception body dict
Configuration of SP without update
impact. For details, see Parameter
Description - set_upgrade_config.
No
Parameter Description - set_upgrade_config:
Table 4.31.30 Parameter Description - set_upgrade_config¶
Parameter Type Description Required
auto_upgrade int(0, 1) Whether to enable auto upgrade. 0: No (default), 1:
Yes. No
Request Example
https://{SCP_IP}/janus/20240725/patches/upgrade-config
{
"cluster_id": "f72f9c9c-1098-4df0-86a4-ba65dc4bd44d",
"no_perception": {
"auto_upgrade": 1
}
}
4.31.7.3. Response
Response Parameter
None
Response Example:
None
4.31.7.3.1. Response Code
Normal: 204
Errors: 400, 403, 404, 500
4.32. O2O Synergized Cloud
4.32.1. Access Managed Cloud Services via Cloud Agent
4.32.1.1. Scenario
Scenario: Access Managed Cloud Services via Cloud Agent
Roles supported: Super administrator, system administrator, and other roles with permission to access
Cloud Agent via proxy
Versions supported: SCP 6.11.1 and later
4.32.1.2. URI
Table 4.32.1 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20240725/o2o/proxy
Access Managed
Cloud Services via
Cloud Agent
Parameter Description:
None
4.32.1.3. Request
Request Parameter
Table 4.32.2 Body Parameter¶
Parameter Type Description Required
url string Proxy request URL Yes
method string Request method Yes
headers dict Request header No
body dict Request body No
timestamp string Timestamp No
is_cloud_box int(1,0) Whether to enable proxy using Cloud Agent No
is_signature int(1,0) Whether a signature is required No
ak string Access key of the account sending the request No
sk string Secret key (encrypted) of the account sending the
request No
Request Example
https://{SCP_IP}/janus/v20180725/o2o/proxy
Proxy GET request:
{
"url": "https://10.134.92.106:5999/openapi/o2o/v1/resources/azs",
"method": "GET",
"is_cloud_box": 1
}
Proxy POST request:
{
"url": "/openapi/dbsubscribedispatch/v1/skyops/client/jobs",
"method": "POST",
"body": {'vmId':'ccb5cd3f0691409c937d079085c3bfae', 'status':'error'},
"is_cloud_box": 1,
"headers": "{'Content-Type':'application/json'}"
}
4.32.1.4. Response
Response Parameter
Table 4.32.3 Response Parameter¶
Parameter Type Description Required
data dict Content returned by the API Yes
Response Example:
{
"azs":
{
"count": 1,
"data":
[
{
"region_id": "78165924d7fa492aa8aa34741b496667",
"region_name": "10.57.1.111",
"name": "hci",
"type": "public",
"id": "1ce32254-7061-47bc-a2f5-39ccfb21b914",
"region_public_url": "https://aiportal.sangforcloud.com"
}
]
},
"dhs":
{
"count": 0,
"data":
[]
}
}
4.32.1.5. Response Code
OK: 200
Errors: 400, 403, 500
4.32.2. Associate with Managed Cloud Services Account
4.32.2.1. Scenario
Scenario: Associate with a Managed Cloud Services account
Roles supported: Super administrator, system administrator, and other roles with permission to associate
with a Managed Cloud Services account
Versions supported: SCP 6.11.1 and later
4.32.2.2. URI
Table 4.32.4 API Path and Request Method¶
REST
VERB PATH Description
POST /janus/20240725/o2o/credentials
Associate with a
Managed Cloud
Services account
Parameter Description:
None
4.32.2.3. Request
Request Parameter
Table 4.32.5 Body Parameter¶
Parameter Type Description Required
access_key string Access key of the account to be associated No
secret_key string Secret key (encrypted) of the account to be
associated No
o2o_net_mode string
Request mode on O2O Synergized Cloud. For
details, see Request Mode on O2O Synergized
Cloud.
No
user_ids list(string) List of local users associated No
Table 4.32.6 Request Mode on O2O Synergized Cloud¶
Value Description
direct Direct connection
proxy Proxy mode
Request Example
https://{SCP_IP}/janus/v20240725/o2o/credentials
Proxy GET request:
{
"access_key": "4d54f07e1e834dbebf58c6ea28312062",
"secret_key": "88b45bb50e5673040fe8351757042fb6a68fa415cf71ef7fb0e72d540
8a8e0ce",
"user_ids":
[
"50a95c14990f4695b105706cd42248a4"
],
"o2o_net_mode": "proxy"
}
4.32.2.4. Response
Response Parameter
Table 4.32.7 Response Parameter¶
Parameter Type Description Required
status string Task status. For details, see Task status. Yes
Table 4.32.8 Task status¶
Value Description
success Successful
failed Failure
Response Example:
{
"status": "success"
}
4.32.2.5. Response Code
OK: 200
Errors: 400, 403, 500
5. Appendix
5.1. Glossary
SCP
Sangfor Cloud Platform
VS
Virtual storage. To use virtual storage, the HCI cluster in the resource pool must contain at least two
hosts.
VPC
Virtual Private Cloud
5.2. API List
No. API Interface Name Versions Supported
01 System Management Get public key modulus
SCP 6.3.0 and
above
02 System Management Query Task Information
SCP 6.3.0 and
above
03 Platform Resources Query Resource Pools
SCP 6.3.0 and
above
04 Platform Resources Query Resource Pool Info
SCP 6.3.70 and
above
05 Platform Resources Query Physical Machines
SCP 6.3.70 and
above
06 Platform Resources
Query Licensing Information
of the cloud platform
SCP 6.3.0 and
above
07 Tenants Get Tenants
SCP 6.3.0 and
above
08 Tenants Query Tenant
SCP 6.3.70 and
above
09 Tenants Create a Tenant
SCP 6.3.70 and
above
above
10 Tenants Edit tenant
SCP 6.3.70 and
above
11 Tenants Delete tenant
SCP 6.3.70 and
above
12 Tenants
Associate resource pool for
tenants
SCP 6.3.70 and
above
13 Tenants
Disassociate resource pool
from tenant
SCP 6.3.70 and
above
14 Quota Management Query quota items
SCP 6.3.0 and
above
15 Quota Management Set quota
SCP 6.3.70 and
above
16 Quota Management Reserve quota
SCP 6.3.0 and
above
17 Quota Management Submit Reserved Quota
SCP 6.3.0 and
above
18 Quota Management Roll Back Reserved Quota
SCP 6.3.0 and
above
19 Quota Management Reserve Quota (20190725) 6.8.90 and later
20 Quota Management
Submit Reserved Quota
(20190725)
6.8.90 and later
21 Quota Management
Roll Back Reserved Quota
(20190725)
6.8.90 and later
22 Quota Management Reserve Quota (20200725) 6.9.10 and later
23 Quota Management
Submit Reserved Quota
(20200725)
6.9.10 and later
24 Quota Management
Roll Back Reserved Quota
(20200725)
6.9.10 and later
25
VMs/VM Lifecycle
Management
Get VM list information
SCP 6.3.0 and
above
26
VMs/VM Lifecycle
Management
Get VM configuration
SCP 6.3.0 and
above
27
VMs/VM Lifecycle
Management
Create a VM
SCP 6.3.0 and
above
28
VMs/VM Lifecycle
Management
Edit VM
SCP 6.3.0 and
above
29
VMs/VM Lifecycle
Management
Delete VM
SCP 6.3.0 and
above
30
VMs/VM O&M
Enable VM
SCP 6.3.0 and
30
Management
Enable VM
above
31
VMs/VM O&M
Management
Shut down VM
SCP 6.3.0 and
above
32
VMs/VM O&M
Management
Restart VM
SCP 6.3.0 and
above
33
VMs/VM O&M
Management
Allocate VM
SCP 6.3.0 and
above
34
VMs/VM O&M
Management
VM anti-affinity(deprecated)
SCP 6.3.0 and
above
35
VMs/VM O&M
Management
Clone VM
SCP 6.3.0 and
above
36
VMs/VM O&M
Management
Migrate VM
SCP 6.3.83 and
above
37
VMs/VM O&M
Management
Suspend VM
SCP 6.3.83 and
above
38
VMs/VM Snapshot
Management
Get VM snapshots
SCP 6.3.70 and
above
39
VMs/VM Snapshot
Management
Create a VM snapshot
SCP 6.3.70 and
above
40
VMs/VM Snapshot
Management
Edit VM snapshot
SCP 6.3.70 and
above
41
VMs/VM Snapshot
Management
Delete VM snapshot
SCP 6.3.70 and
above
42
VMs/VM Snapshot
Management
Recover VM from Snapshot
SCP 6.3.70 and
above
43
VMs/VM Snapshot
Management
Get VM snapshots
SCP 6.3.70 and
above
44
VMs/VM Snapshot
Management
Clone VM from Snapshot
SCP 6.3.70 and
above
45
VMs/VM Group
Management
Create a VM group
SCP 6.3.0 and
above
46
VMs/VM Group
Management
Update VM group
SCP 6.3.0 and
above
47 Images Query Images
SCP 6.3.0 and
above
48 Images Query Service Images
SCP 6.3.0 and
above
49 Images
Query Virtual Network
Device Images
SCP 6.3.0 and
above
50 Images
Create an Image from a
Virtual Machine
SCP 6.3.70 and
above
Virtual Machine above
51 Images Create an Image
SCP 6.3.70 and
above
52 Images Upload an Image
SCP 6.3.70 and
above
53 Images Edit an Image
SCP 6.3.70 and
above
54 Images Delete an Image
SCP 6.3.70 and
above
55 Images Query List of Base Images 6.10.0 and later
56 Images Create Base Image 6.10.0 and later
57 Images Edit Base Image 6.10.0 and later
58 Images Delete Base Image 6.10.0 and later
59 Images
Query List of Base Image
Copies
6.10.0 and later
60 Images
Synchronize Base Image
Copy
6.10.0 and later
61 Billing Management Query Tenants’ Bills
SCP 6.3.70 and
above
62
Users and Access
Management/Policy
Management
Query Permission Policy
Details
6.9.10 and later
63
Users and Access
Management/Policy
Management
Query List of Permission
Policies
6.9.10 and later
64
Users and Access
Management/Policy
Management
Create Permission Policy 6.9.10 and later
65
Users and Access
Management/Policy
Management
Update Permission Policy 6.9.10 and later
66
Users and Access
Management/Policy
Management
Bulk Delete Permission
Policies
6.9.10 and later
67
Users and Access
Management/Policy
Management
Clone Permission Policy 6.9.10 and later
68
Users and Access
Management/Policy
Management
Edit User Associated with
Policy
6.9.10 and later
69
Users and Access
Management/Operation
Obtain the operation list from
6.9.10 and later
69 Management/Operation
Management
permission policies
6.9.10 and later
70
Network Management/
Shared Services
Create Shared Service 6.10.0 and later
71
Network Management/
Shared Services
Delete Shared Service 6.10.0 and later
72
Network Management/
Shared Services
Create Shared Service
Binding
6.10.0 and later
73
Network Management/
Shared Services
Delete Shared Service
Binding
6.10.0 and later
74 Custom Attributes
Query the list of bound
custom attributes
SCP 6.9.0 and
above
75 Custom Attributes
Bulk Bind with Custom
Attributes
SCP 6.9.0 and
above
76 Custom Attributes
Bulk Unbind Custom
Attributes
SCP 6.9.0 and
above
77 Custom Attributes Edit Bound Custom Attribute
SCP 6.9.0 and
above
78 Custom Attributes Query Custom Attribute List
SCP 6.9.0 and
above
79 Custom Attributes Create Custom Attribute
SCP 6.9.0 and
above
80 Custom Attributes
Bulk Delete Custom
Attributes
SCP 6.9.0 and
above
81 Custom Attributes Edit Custom Attribute
SCP 6.9.0 and
above
82 Alerts/Alerts View List of Realtime Alerts
SCP 6.9.0 and
above
83 Alerts/Alerts View Realtime Alert Details
SCP 6.9.0 and
above
84 Alerts/Alerts
Set Remarks for Realtime
Alert
SCP 6.9.0 and
above
85 Alerts/Alerts Bulk Confirm Realtime Alerts
SCP 6.9.0 and
above
86 Alerts/Alerts View List of All Alerts
SCP 6.9.0 and
above
87 Storage Management Obtain list of storage policies
SCP 6.9.0 and
above
88
Alerts/Notification
Policies
Query List of Notification
Policies
SCP 6.9.1 and
above
89
Alerts/Notification Query Notification Policy SCP 6.9.1 and
89
Alerts/Notification
Policies
Query Notification Policy
Details
SCP 6.9.1 and
above
90
Alerts/Notification
Policies
Create Notification Policy
SCP 6.9.1 and
above
91
Alerts/Notification
Policies
Edit Notification Policy
SCP 6.9.1 and
above
92
Alerts/Notification
Policies
Delete Notification Policy
SCP 6.9.1 and
above
93
Alerts/Notification
Policies
Clone Notification Policy
SCP 6.9.1 and
above
94
Alerts/Notification
Policies
Bulk Enable Notification
Policies
SCP 6.9.1 and
above
95
Alerts/Notification
Policies
Bulk Disable Notification
Policies
SCP 6.9.1 and
above
96 Alerts/Alert Policies Query List of Alert Policies
SCP 6.9.1 and
above
97 Alerts/Alert Policies Query Alert Policy Details
SCP 6.9.1 and
above
98 Alerts/Alert Policies Create Alert Policy
SCP 6.9.1 and
above
99 Alerts/Alert Policies Edit Alert Policy
SCP 6.9.1 and
above
100 Alerts/Alert Policies Delete Alert Policy
SCP 6.9.1 and
above
101 Alerts/Alert Policies Bulk Enable Alert Policies
SCP 6.9.1 and
above
102 Alerts/Alert Policies Bulk Disable Alert Policies
SCP 6.9.1 and
above
103 Alerts/Alert Metrics Query List of Alert Metrics
SCP 6.9.1 and
above
104 Alerts/Alert Metrics
Query List of Alert Metric
Groups
SCP 6.9.1 and
above
105 Storage Management Get Physical Disks
SCP 6.3.0 and
above
106 Storage Management Get a list of storage tags
SCP 6.3.0 and
above
107 Storage Management Query Storage List
SCP 6.3.70 and
above
108 Storage Management
Refresh Physical Disk
Configuration
SCP 6.3.0 and
above
109
Network
Query VPC s
SCP 6.3.0 and
109
Management/VPCs
Query VPC s
above
110
Network
Management/VPCs
Create VPC
SCP 6.3.70 and
above
111
Network
Management/VPCs
Delete VPC
SCP 6.3.70 and
above
112
Network
Management/VPC
Subnets
Query Subnets
SCP 6.3.0 and
above
113
Network
Management/VPC
Subnets
Query Subnet 6.3.113 and later
114
Network
Management/VPC
Subnets
Create a Subnet
SCP 6.3.70 and
above
115
Network
Management/VPC
Subnets
Edit a Subnet
SCP 6.3.70 and
above
116
Network
Management/VPC
Subnets
Delete a Subnet
SCP 6.3.70 and
above
117
Network
Management/Virtual IPs
Query Virtual IPs
SCP 6.3.70 and
above
118
Network
Management/Virtual IPs
Query List of Virtual IP
Addresses (July 25, 2019)
6.8.90 and later
119
Network
Management/Virtual IPs
Query a Specified Virtual IP
SCP 6.3.70 and
above
120
Network
Management/Virtual IPs
Query Specified Virtual IP
Address (20190725)
6.8.90 and later
121
Network
Management/Virtual IPs
Create a Virtual IP 6.3.72 and later
122
Network
Management/Virtual IPs
Delete a Specified Virtual IP
SCP 6.3.70 and
above
123
Network
Management/Virtual IPs
Bulk Bind/Unbind Virtual IP
Addresses to/from Devices
6.8.90 and later
124
Network
Management/Ports
Query Ports
SCP 6.3.0 and
above
125
Network
Management/Ports
Create a Port
SCP 6.3.0 and
above
126
Network
Management/Ports
Delete a Port
SCP 6.3.0 and
above
127
Network
Management/Line Types
Query line types
SCP 6.3.0 and
above
128
Network
Management/Elastic IP
Pools
Query Elastic IP Pools 6.3.79 and later
129
Network
Management/Elastic IP
Pools
Query Elastic IP Pools
SCP 6.3.70 and
above
130
Network
Management/Elastic IP
Pools
Create an Elastic IP Pool 6.3.81 and later
131
Network
Management/Elastic IP
Pools
Edit an Elastic IP Pool
SCP 6.3.70 and
above
132
Network
Management/Elastic IP
Pools
Delete an Elastic IP pool
SCP 6.3.70 and
above
133
Network
Management/Elastic IP
Pools
Query Elastic IP Pool Subnets
SCP 6.3.70 and
above
134
Network
Management/Elastic IP
Pools
Query Elastic IP Pool Subnet
SCP 6.3.70 and
above
135
Network
Management/Elastic IP
Pools
Create an Elastic IP Pool
Subnet
SCP 6.3.70 and
above
136
Network
Management/Elastic IP
Pools
Edit an Elastic IP Pool Subnet
SCP 6.3.70 and
above
137
Network
Management/Elastic IP
Pools
Delete an Elastic IP Pool
Subnet
SCP 6.3.70 and
above
138
Network
Management/Elastic IPs
Query List of Elastic IP
Addresses
SCP 6.3.70 and
above
139
Network
Management/Elastic IPs
Query Elastic IP
SCP 6.3.0 and
above
140
Network
Management/Elastic IPs
Create an Elastic IP
SCP 6.3.0 and
above
141
Network
Management/Elastic IPs
Associate Elastic IP
SCP 6.3.0 and
above
142
Network
Management/Elastic IPs
Disassociate Elastic IP
SCP 6.3.0 and
above
143
Network
Management/Elastic IPs
Edit Elastic IP Bandwidth
SCP 6.3.70 and
above
Network SCP 6.3.0 and
144
Network
Management/Elastic IPs
Delete Elastic IP
SCP 6.3.0 and
above
145
Network
Management/Network
Devices
Query Network Devices
SCP 6.3.0 and
above
146
Network
Management/Network
Devices
Deploy a Network Device
SCP 6.3.0 and
above
147
Network
Management/Network
Devices
Update Network Device
Information
SCP 6.3.0 and
above
148
Network
Management/Network
Devices
Power Off Multiple Network
Devices
SCP 6.3.0 and
above
149
Network
Management/Network
Devices
Power On Multiple Network
Devices
SCP 6.3.70 and
above
150
Network
Management/Network
Devices
Delete a Network Device
SCP 6.3.0 and
above
151
Network
Management/Network
Devices
Deploy NFV for classic
network
SCP 6.3.80 and
above
152
Network
Management/Network
Devices
Delete NFV devices for
classic network
SCP 6.3.80 and
above
153
Network Management/
Shared Services
Query Shared Services
SCP 6.3.0 and
above
154
Network Management/
Shared Services
Query Tenants Associated
with Shared Services
SCP 6.3.0 and
above
155
Network
Management/Connected
Devices
Create device connection
SCP 6.3.80 and
above
156
Network
Management/Connected
Devices
Remove device connection
SCP 6.3.80 and
above
157
Network
Management/Classic
Network - Routers
Query List of Classic
Network Routers
SCP 6.3.80 and
above
158
Network
Management/Classic
Network - Edges
Query List of Classic
Network Edges
SCP 6.3.80 and
above
159
Network
Management/Classic
Network - Switches
Query List of Switches in
Classic Network
SCP 6.3.80 and
above
Network - Switches
Classic Network above
160 Datastores Query Datastore List
SCP 6.3.70 and
above
161 Datastores Query Datastore Details
SCP 6.3.70 and
above
162 Datastores Create Datastore
SCP 6.3.70 and
above
163 Datastores Delete Datastore
SCP 6.3.70 and
above
164 Alerts Query alert list
SCP 6.3.83 and
above
165 Tasks Query list of tasks
SCP 6.3.83 and
above
166 Monitoring Query monitoring data
SCP 6.3.83 and
above
167 Platform Resources Obtain platform overview
SCP 6.3.70 and
above
168 Backup Policies Query backup policies
SCP 6.3.83 and
above
169 Backup Policies Query backup policy list
SCP 6.3.83 and
above
170 Backup Policies Bulk delete backup policies
SCP 6.3.83 and
above
171 Backup Policies Bulk execute backup policies
SCP 6.3.83 and
above
172 Backup Policies Bulk archive backup policies
SCP 6.3.83 and
above
173 Backup Policies Bulk enable backup policies
SCP 6.3.83 and
above
174 Backup Policies Bulk disable backup policies
SCP 6.3.83 and
above
175 Backup Policies Create backup policy
SCP 6.3.83 and
above
176 Backup Policies Update backup policy
SCP 6.3.83 and
above
177
Network
Management/Direct
Connection
Create direct connection
SCP 6.3.88 and
above
178
Network
Management/Direct
Connection
Delete direct connection
SCP 6.3.88 and
above
179
Network
Management/Direct
Connection
Query direct connection
details
SCP 6.3.88 and
above
180
Network
Management/Direct
Connection
Query list of direct
connections
SCP 6.3.88 and
above
181
Network
Management/Direct
Connection
Edit Direct Connection
SCP 6.3.88 and
above
182
Network
Management/Virtual
Interfaces
Query list of virtual
interfaces
SCP 6.3.88 and
above
183
Network
Management/Virtual
Interfaces
Query virtual interface details
SCP 6.3.88 and
above
184
Network
Management/Virtual
Interfaces
Create virtual interface
SCP 6.3.88 and
above
185
Network
Management/Virtual
Interfaces
Edit virtual interface
SCP 6.3.88 and
above
186
Network
Management/Virtual
Interfaces
Delete virtual interface
SCP 6.3.88 and
above
187
VMs/VM Backup
Management
Create VM backup
SCP 6.3.83 and
above
188
VMs/VM Backup
Management
Query VM backup list
SCP 6.3.83 and
above
189
VMs/VM Backup
Management
Query VM backup details
SCP 6.3.83 and
above
190
VMs/VM Backup
Management
Edit VM backup
SCP 6.3.83 and
above
191
VMs/VM Backup
Management
Delete VM backup
SCP 6.3.83 and
above
192
VMs/VM O&M
Management
VM console
SCP 6.3.80 that has
been installed with
the SP called
6.3.80-sp-api-forqy-
develop
193
VMs/VM O&M
Management
Recover VM from backup
SCP 6.3.83 and
above
194 Scheduling Policies
Query scheduling policy
details
SCP 6.7.32 and
above
195 Scheduling Policies
Query list of scheduling
policies
SCP 6.7.32 and
above
196 Scheduling Policies Create scheduling policy
SCP 6.7.32 and
above
197 Scheduling Policies
Bulk delete scheduling
policies
SCP 6.7.32 and
above
198 Scheduling Policies Edit scheduling policy
SCP 6.7.32 and
above
199 Scheduling Groups
Query Scheduling Group
Details
SCP 6.7.32 and
above
200 Scheduling Groups
Query list of scheduling
groups
SCP 6.7.32 and
above
201 Scheduling Groups Create scheduling group
SCP 6.7.32 and
above
202 Scheduling Groups Bulk delete scheduling groups
SCP 6.7.32 and
above
203 Scheduling Groups Update scheduling group
SCP 6.7.32 and
above
204
Network
Management/Network
Devices
Query the NFV device list
SCP 6.7.32 and
above
205
Network
Management/Network
Devices
Obtain SSO configuration
information
SCP 6.7.32 and
above
206 Object Storage/Buckets
Query List of Object Storage
Buckets
SCP 6.7.33 and
above
207
VMs/VM Snapshot
Management
Batch delete VM snapshots
SCP 6.7.33 and
above
208
Object Storage/Storage
Accounts
Create Object Storage
Account
SCP 6.7.33 and
above
209
Object Storage/Storage
Accounts
Delete Object Storage
Account
SCP 6.7.33 and
above
210
Object Storage/Storage
Accounts
Edit Object Storage Account
SCP 6.7.33 and
above
211
Object Storage/Storage
Accounts
Query Object Storage
Account Details
SCP 6.7.33 and
above
212
Object Storage/Storage
Accounts
Query List of Object Storage
Accounts
SCP 6.7.33 and
above
213
Network
Management/DNAT
Create DNAT Rule
SCP 6.7.35 and
above
214
Network
Edit destination NAT
SCP 6.7.35 and
214
Network
Management/DNAT
Edit destination NAT
SCP 6.7.35 and
above
215
Network
Management/DNAT
Bulk operations on
destination NAT
SCP 6.7.35 and
above
216
Network
Management/DNAT
Query DNAT List
SCP 6.7.35 and
above
217
Network
Management/DNAT
Query DNAT Details
SCP 6.7.35 and
above
218 System Management Query SCP Version Details
SCP 6.7.35 and
above
219
VMs/VM Lifecycle
Management
Obtain VM Configuration
(20190725)
SCP 6.7.35 and
above
220 Banner Alerts Create banner alert
SCP 6.8.0 and
above
221 Banner Alerts Delete banner alert
SCP 6.8.0 and
above
222 Platform Resources
Write ANI configuration to
HCI
SCP 6.8.0 and
above
223 Platform Resources Register G2H proxy IP
SCP 6.8.0 and
above
224 Platform Resources
Obtain the G2H Proxy IP
Address List
SCP 6.8.0 and
above
225 Platform Resources Delete the G2H proxy IP
SCP 6.8.0 and
above
226 Platform Resources Query G2H proxy IP details
SCP 6.8.0 and
above
227 Platform Resources Modify G2H proxy IP
SCP 6.8.0 and
above
228 Platform Resources
Execute the orchestration
task in VM
SCP 6.8.0 and
above
229 Platform Resources
Obtain current version and
cluster information
SCP 6.8.0 and
above
230 Cluster Management Obtain cluster license
SCP 6.8.0 and
above
231 Cluster Management Query cluster list
SCP 6.8.0 and
above
232 Cluster Management
Obtain Encrypted Cluster
Password
SCP 6.8.0 and
above
233 Cluster Management Query cluster details
SCP 6.8.0 and
above
234 Consistency Groups
Create consistency group SCP 6.7.0 and
234 Consistency Groups
snapshot above
235 Consistency Groups
Edit consistency group
snapshot
SCP 6.7.0 and
above
236 Consistency Groups Delete consistency group
SCP 6.7.0 and
above
237 Consistency Groups
Recover from Consistency
Group Snapshot
SCP 6.7.0 and
above
238 Consistency Groups
Obtain Consistency Group
Summary
SCP 6.7.0 and
above
239 Consistency Groups
Clone consistency group
from snapshot
SCP 6.7.0 and
above
240
Network
Management/Classic
Network - Routers
Query Details of Classic
Network Router
SCP 6.7.0 and
above
241
Network
Management/Classic
Network - Routers
Edit Router in Classic
Network
SCP 6.7.0 and
above
242
Network
Management/Classic
Network - Routers
Delete Router in Classic
Network
SCP 6.7.0 and
above
243
Network
Management/Classic
Network - Routers
Create Router in Classic
Network
SCP 6.7.0 and
above
244
Network
Management/Firewall
Policies
Create firewall policy
SCP 6.8.0 and
above
245
Network
Management/Firewall
Policies
Query list of distributed
firewall policies
SCP 6.8.0 and
above
246
Network
Management/Firewall
Policies
Query details of distributed
firewall policy
SCP 6.8.0 and
above
247
Network
Management/Firewall
Policies
Edit distributed firewall policy
(priority)
SCP 6.8.0 and
above
248
Network
Management/Firewall
Policies
Delete distributed firewall
policy
SCP 6.8.0 and
above
249
Network
Management/Classic
Network - Switches
Create Switch in Classic
Network
SCP 6.7.0 and
above
250
Network
Management/Classic
Network - Switches
Query Details of Switches in
Classic Network
SCP 6.7.0 and
above
Network - Switches
Classic Network above
251
Network
Management/Classic
Network - Switches
Edit Switch in Classic
Network
SCP 6.7.0 and
above
252
Network
Management/Classic
Network - Switches
Delete Switch in Classic
Network
SCP 6.7.0 and
above
253
Network
Management/VPCs
Obtain DNAT rules on VPC
SCP 6.8.0 and
above
254 Roles Obtain list of roles
SCP 6.8.0 and
above
255
VMs/VM Group
Management
Query VM group list
SCP 6.8.0 and
above
256
VMs/VM Lifecycle
Management
Recover VM from Recycle
Bin
SCP 6.8.0 and
above
257
VMs/VM Lifecycle
Management
Batch operate on VMs
SCP 6.8.0 and
above
258 Snapshot Management
Obtain list of scheduled
snapshot policies
SCP 6.7.0 and
above
259 Snapshot Management
Create scheduled snapshot
policy
SCP 6.7.0 and
above
260 Snapshot Management
Obtain advanced settings of
snapshot policy
SCP 6.7.0 and
above
261 Snapshot Management
Edit scheduled snapshot
policy
SCP 6.7.0 and
above
262 Snapshot Management
Delete scheduled snapshot
policy
SCP 6.7.0 and
above
263 System Management Batch send emails
SCP 6.8.0 and
above
264 System Management
Obtain Public Key Modulus -
v2
SCP 6.8.0 and
above
265 Tasks Create task
SCP 6.8.0 and
above
266 Tasks Query task details
SCP 6.8.0 and
above
267 Tasks Edit task
SCP 6.8.0 and
above
268 User Management Obtain list of users
SCP 6.3.0 and
above
269
Network
Management/Classic
Network
Create Static Route on
Classic Network Router
SCP 6.8.10 and
above
Network
Classic Network Router above
270
Network
Management/Classic
Network
Edit Static Route on Classic
Network Router
SCP 6.8.10 and
above
271
Network
Management/Classic
Network
Delete Static Route on
Classic Network Router
SCP 6.8.10 and
above
272
Network
Management/Classic
Network
Query Details of Static Route
on Classic Network Router
SCP 6.8.10 and
above
273
Network
Management/Classic
Network
Query List of Static Routes
on Classic Network Router
SCP 6.8.10 and
above
274
Network
Management/Classic
Network
Create ACL Rule on Classic
Network Router
SCP 6.8.10 and
above
275
Network
Management/Classic
Network
Edit ACL Rule on Classic
Network Router
SCP 6.8.10 and
above
276
Network
Management/Classic
Network
Query ACL on Classic
Network Router
SCP 6.8.10 and
above
277
Network
Management/Classic
Network
Query ACL Details of Classic
Network Router
SCP 6.8.10 and
above
278
Network
Management/Classic
Network
Delete ACL Rule on Classic
Network Router
SCP 6.8.10 and
above
279
Network
Management/Classic
Network
Query List of ACL Services
on Classic Network Router
SCP 6.8.10 and
above
280
Network
Management/Classic
Network
Create SNAT Rule on Classic
Network Router
SCP 6.8.20 and
above
281
Network
Management/Classic
Network
Edit SNAT Rule on Classic
Network Router
SCP 6.8.20 and
above
282
Network
Management/Classic
Network
Query List of SNAT Rules on
Classic Network Router
SCP 6.8.20 and
above
283
Network
Management/Classic
Network
Query Details of SNAT Rule
on Classic Network Router
SCP 6.8.20 and
above
Network
Bulk Delete SNAT Rules on SCP 6.8.20 and
284 Management/Classic
Network
Bulk Delete SNAT Rules on
Classic Network Router
SCP 6.8.20 and
above
285
Network
Management/Classic
Network
Move SNAT Rule on Classic
Network Router
SCP 6.8.20 and
above
286
Network
Management/Classic
Network
Query List of DNAT Rules on
Classic Network Router
SCP 6.8.20 and
above
287
Network
Management/Classic
Network
Query Details of DNAT Rule
on Classic Network Router
SCP 6.8.20 and
above
288
Network
Management/Classic
Network
Create DNAT Rule on Classic
Network Router
SCP 6.8.20 and
above
289
Network
Management/Classic
Network
Edit DNAT Rule on Classic
Network Router
SCP 6.8.20 and
above
290
Network
Management/Classic
Network
Bulk Delete DNAT Rules on
Classic Network Router
SCP 6.8.20 and
above
291
Network
Management/Classic
Network
Bulk Move DNAT Rules on
Classic Network Router
SCP 6.8.20 and
above
292
Network
Management/Classic
Network
Query List of DHCP Address
Pools on Classic Network
Router
SCP 6.8.30 and
above
293
Network
Management/Classic
Network
Query Details of DHCP
Address Pool on Classic
Network Router
SCP 6.8.30 and
above
294
Network
Management/Classic
Network
Create DHCP Address Pool
on Classic Network Router
SCP 6.8.30 and
above
295
Network
Management/Classic
Network
Edit DHCP Address Pool on
Classic Network Router
SCP 6.8.30 and
above
296
Network
Management/Classic
Network
Bulk Delete DHCP Address
Pools on Classic Network
Router
SCP 6.8.30 and
above
297
Network
Management/Classic
Network
Query Status List of DHCP
on Classic Network Router
SCP 6.8.50 and
above
298
Network
Management/Classic
Network
Query List of DHCP IP/MAC
Binding Configurations on
Classic Network Router
SCP 6.8.50 and
above
299
Network
Management/Classic
Network
Query Details of DHCP
IP/MAC Binding
Configurations on Classic
Network Router
SCP 6.8.50 and
above
300
Network
Management/Classic
Network
Create DHCP IP/MAC
Binding Configuration on
Classic Network Router
SCP 6.8.50 and
above
301
Network
Management/Classic
Network
Edit DHCP IP/MAC Binding
Configuration on Classic
Network Router
SCP 6.8.50 and
above
302
Network
Management/Classic
Network
Bulk Delete DHCP IP/MAC
Binding Configurations on
Classic Network Router
SCP 6.8.50 and
above
303
Network
Management/Classic
Network
Query Interface List of
Classic Network Router
SCP 6.8.50 and
above
304
Network
Management/Classic
Network
Query Interface Details of
Classic Network Router
SCP 6.8.50 and
above
305
Network
Management/Classic
Network
Bulk Create Interfaces on
Classic Network Router
SCP 6.8.50 and
above
306
Network
Management/Classic
Network
Edit Interface of Classic
Network Router
SCP 6.8.50 and
above
307
Network
Management/Classic
Network
Bulk Delete DHCP Address
Pools on Classic Network
Router
SCP 6.8.50 and
above
308
Network
Management/Classic
Network
Query List of VLAN
Subinterfaces of Classic
Network Router
SCP 6.8.50 and
above
309
Network
Management/Classic
Network
Query Details of VLAN
Subinterface of Classic
Network Router
SCP 6.8.50 and
above
310
Network
Management/Classic
Network
Create VLAN Subinterface on
Classic Network Router
SCP 6.8.50 and
above
311
Network
Management/Classic
Network
Edit VLAN Subinterface of
Classic Network Router
SCP 6.8.50 and
above
312
Network
Management/Classic
Network
Bulk Delete VLAN
Subinterfaces of Classic
Network Router
SCP 6.8.50 and
above
313 User Management Obtain user details
SCP 6.8.80 and
above
above
314
Work Order
Management
Query Work Order List
SCP 6.8.80 and
above
315
Work Order
Management
Query Work order Details
SCP 6.8.80 and
above
316
Work Order
Management
Approve or Reject Work
Order
SCP 6.8.80 and
above
317
Network
Management/VPC ACLs
Query the List of ACL
Services in VPC
SCP 6.8.80 and
above
318
Network
Management/VPC ACLs
Query VPC ACL
SCP 6.8.80 and
above
319
Network
Management/VPC ACLs
Query the ACL Details in
VPC
SCP 6.8.80 and
above
320
Network
Management/VPC ACLs
Create ACL Rule for VPC
SCP 6.8.80 and
above
321
Network
Management/VPC ACLs
Edit ACL Rule for VPC
SCP 6.8.80 and
above
322
Network
Management/VPC ACLs
Delete ACL Rule for VPC
SCP 6.8.80 and
above
323
VMs/VM O&M
Management
Reset VM password
SCP 6.8.80 and
above
324 Platform Resources
Query List of Physical Hosts
(20190725)
6.10.0 and later
325 Platform Resources
Query List of Physical Host
Interfaces
6.10.0 and later
326 Monitoring
Query Monitoring Data
(20190725)
6.10.0 and later
327 User Management
Obtain List of Users
(20190725)
6.10.0 and later
328
Custom Attributes
(2019)
Query List of Custom
Attribute Association (2019)
6.10.0 and later
329
Custom Attributes
(2019)
Bulk Associate Custom
Attributes (2019)
6.10.0 and later
330
Custom Attributes
(2019)
Bulk Disassociate Custom
Attributes (2019)
6.10.0 and later
331
Custom Attributes
(2019)
Edit Value of Disassociated
Custom Attribute (2019)
6.10.0 and later
332
Custom Attributes
(2019)
Query List of Custom
Attributes (2019)
6.10.0 and later
333
Custom Attributes
(2019)
Create Custom Attribute
(2019)
6.10.0 and later
334
Custom Attributes
(2019)
Bulk Delete Custom
Attributes (2019)
6.10.0 and later
335
Custom Attributes
(2019)
Edit Custom Attribute (2019) 6.10.0 and later
336
Custom Attributes
(2019)
Query Details of Custom
Attribute (2019)
6.10.0 and later
337
VMs/VM Group
Management
Delete VM Group 6.10.0 and later
338
VMs/VM Lifecycle
Management
Obtain List of VMs
(20200725)
6.10.0 and later
339
VMs/VM Lifecycle
Management
Obtain VM Configuration
(20200725)
6.10.0 and later
340
VMs/VM O&M
Management
Modify Base Image of VM
Disk
6.10.0 and later
341
VMs/VM O&M
Management
Enable Backup Data Merging
for Rapidly-Recovered VM
6.10.0 and later
342
VMs/VM Configuration
Management
Create VM Using
Configuration
6.10.0 and later
343
VMs/VM Configuration
Management
Edit VM Configuration
Details
6.10.0 and later
344
VMs/VM Configuration
Management
Obtain VM Snapshot 6.10.0 and later
345
VMs/VM CBT
Management
Obtain CBT Differential
Bitmap of VM Disks
6.10.0 and later
346
VMs/VM CBT
Management
Update VM CBT Status 6.10.0 and later
347
VMs/VM CBT
Management
Obtain VM CBT Information 6.10.0 and later
348
Backup Resource
Management
Create Backup Resource 6.10.0 and later
349
Backup Resource
Management
Obtain Backup Resource 6.10.0 and later
350
Backup Resource
Management
Update Backup Resource 6.10.0 and later
351
Backup Resource
Management
Delete Backup Resource 6.10.0 and later
352
Backup Resource
Management
Obtain List of SDK Versions
and Transmission Modes
Supported by Backup
Resources
6.10.0 and later
353 Storage Management Mount NFS Datastore 6.10.0 and later
353 Storage Management Mount NFS Datastore 6.10.0 and later
354 Storage Management Unmount Datastore 6.10.0 and later
355
Cluster
Management/Download
File from Cluster
Download File from Cluster 6.10.0 and later
356
Cluster
Management/Upload
File to Cluster
Upload File to Cluster 6.10.0 and later
357 Premium Services
Query the List of Premium
Services
SCP 6.11.0 and
later
358 Premium Services Create Premium Services
SCP 6.11.0 and
later
359 Premium Services Delete Single Service
SCP 6.11.0 and
later
360 Premium Services Edit Premium Services
SCP 6.11.0 and
later
361 Premium Services Batch Operations on Services
SCP 6.11.0 and
later
362
Network
Management/Virtual
Switches
Create Virtual Switch
SCP 6.11.1 and
later
363
Network
Management/Virtual
Switches
Query List of Virtual
Switches
SCP 6.11.1 and
later
364
Network
Management/Virtual
Switches
Query Virtual Switch Details
SCP 6.11.1 and
later
365
Network
Management/Virtual
Switches
Edit Virtual Switch
SCP 6.11.1 and
later
366
Network
Management/Virtual
Switches
Delete Virtual Switch
SCP 6.11.1 and
later
367
Network
Management/Virtual
Switch Port Groups
Create Port Group
SCP 6.11.1 and
later
368
Network
Management/Virtual
Switch Port Groups
Query Port Group List
SCP 6.11.1 and
later
369
Network
Management/Virtual
Switch Port Groups
Bulk Delete Port Groups
SCP 6.11.1 and
later
Network
SCP 6.11.1 and
370
Network
Management/Virtual
Switch Port Groups
Modify Port Group
SCP 6.11.1 and
later
371
Storage
Management/Storage
Servers
Query List of Storage Servers
(20240725)
SCP 6.11.1 and
later
372
Storage
Management/Storage
Servers
Create Storage Server
(20240725)
SCP 6.11.1 and
later
373
Storage
Management/Storage
Servers
Update Storage Server
(20240725)
SCP 6.11.1 and
later
374
Storage
Management/Storage
Servers
Delete Storage Server
(20240725)
SCP 6.11.1 and
later
375
Storage
Management/Storage
Servers
Authenticate iSCSI Storage
Target (20240725)
SCP 6.11.1 and
later
376 Storage Management
Query Name of Disk to
Mount (20240725)
SCP 6.11.1 and
later
377 Storage Management
Mount Datastore
(20240725)
SCP 6.11.1 and
later
OpenStack API
1. Read Before Use
1.1. Overview
Sangfor Cloud Platform (SCP) supports management of resources, such as computing resources, network
resources, and storage resources. This document describes related APIs and calling methods to enable
users to achieve standardized management and O&M on SCP. The APIs in this document are developed
based on OpenStack APIs. Therefore, most APIs and their usage are similar to those in the API document
on the official website of OpenStack. In addition, for those that are different from OpenStack APIs, this
document also provides detailed explanations.
1.2. API Calls
The APIs in this document are REST (Representational State Transfer) APIs, which can be called via
HTTPS requests. To call these APIs, SSL certificate verification must be disabled.
1.3. Notes
SCP has been deployed successfully. HCI clusters are managed by SCP. OpenStack APIs are not
supported by resources of VMware clusters.
The APIs described in this document can be called only by tenants. Please ensure that the tenant has
been created successfully.
A VPC network has been created for the tenant, and elastic IP addresses are available.
To operate resources in the elastic IP address pool using open APIs, the elastic IP address pool must be
associated with all resource pools, or the associated resource pools must contain all resource pools of
the tenant.
The resource quota of the tenant must be set to 999999 in advance.
Storage tags must be configured for all used storage.
Tenants cannot be deleted on SCP if datastores (including datastores in error state) exist.
1.4. Concepts
OpenStack: an open-source cloud computing infrastructure software project that consists of multiple
key components responsible for specific tasks.
SCP: Sangfor Cloud Platform
HCI: Sangfor Hyper-Converged Infrastructure
1.5. API Version
The API version for each module is the same as that in OpenStack. Refer to the following table for details:
Module Version
Keystone v2.0
Nova v2
Cinder v2
Neutron v2.0
Gnocchi v1
Glance v2
2. API Overview
2.1. API Statistics
The current OpenStack SDK version provides 64 APIs for external use.
Module Description
Keystone 4 APIs (including 2 APIs for obtaining version information)
Nova 23 APIs (including 2 APIs for obtaining version information)
Cinder 10 APIs (including 2 APIs for obtaining version information)
Neutron 19 APIs (including 4 APIs for obtaining version information)
Gnocchi 3 APIs (including 2 APIs for obtaining version information)
Glance 4 APIs (including 2 APIs for obtaining version information)
Extensions 2 APIs (extension APIs that are not provided by OpenStack)
2.2. API Overview
The APIs are all in OpenStack API forms, and the functions of APIs for each module are shown in the
following table:
Module Description
Keystone Keystone is an identity service that verifies resource operation permissions.
Currently, tenants are able to obtain tokens from Keystone.
Nova
1.VM lifecycle management, such as creating and deleting VMs, querying VM list,
and querying the list of VM details and individual VMs. 2.Routine operations and
maintenance, such as power-on, shutdown, opening the console, and mounting and
unmounting datastores. 3.VM configuration management, such as creating VM
configuration, querying the list of VM configurations, and querying details of
configurations and the list of configuration details. 4.Other functions, such as
obtaining information and details of resource pool, service version information, image
details, and list of images.
Cinder
1.Management of datastores (providing persistent storage for VMs), such as creating
and deleting datastores, querying the datastore list, querying the list of datastore
details, querying details of individual datastores, and editing the name and description
of a datastore. 2.Routine operations (capacity expansion) on datastores. 3.Datastore
type query.
Neutron Management of network resources.
Gnocchi Provide the monitoring data of a monitoring metric related to a resource.
Glance Provide image services for VMs. Currently, obtaining the list of images and details of
individual images is supported.
3. Call APIs
3.1. Construct a Request
3.1.1. Request URL
Request URL consists of the following parts:
{endpoint}/{resource-path}
Parameter Description
endpoint The domain name or IP address of the server hosting the REST service,
which is usually the IP address of SCP.
resource-path Access path of actual resources.
Method of obtaining value of endpoint
Once Keystone authenticates the username and password, it returns the service directory. The endpoint
value of corresponding service can be obtained from that directory.
 Note
The URL for Keystone authentication needs to be manually specified. URLs of other resources
consist of values of endpoint and resource-path.
3.1.2. Request Method
Method Description
GET Retrieve a specific resource from the server.
PUT Update a specific resource on the server.
POST Create a new resource or perform a specific operation on the server.
DELETE Delete a specific resource on the server, such as an object.
Request
Header
Name Description Required Example
Content-
Type
MIME type of the request body. We recommend
that you use application/json by default. If the
API is used to upload an object or image, the
MIME type depends on the stream type.
Yes application/json
X-Auth-
Token Authentication token Yes UUID
3.1.3. Request Body
The request body is optional and provides additional information besides the information in the request
header. It is typically in a structured format such as JSON or XML, corresponding to Content-Type in the
request header. The request body format of each API is described in Details About APIs of Different
Modules.
3.1.4. Example: Create a VM
Use Postman to create a VM, which requires that SSL certificate verification should be disabled.
Preparations:
Create a tenant on SCP. The username, tenant name, and password of the tenant will be used to
obtain a token.
Configure the quota for CPU, memory, disk size, and other related resources for the tenant.
Associate with resource pools that correspond to availability zones of standard OpenStack APIs.
Upload images to ensure that there are images available for VM creation.
Obtain the tenant authentication information. Refer to the Keystone section in Details About API of
Different Modules. The authentication ID (token ID) can be found in the response body of the request.
Obtain the flavor (configuration), network information, and image required to create a VM.
Construct the request header for VM creation.
Construct the request body for VM creation.
{
"server": {
"flavorRef": "1b7a22e2-7d92-45ed-afb9-a9ab8d6687d3",
"name": "test_create_server",
"networks": [{
"uuid": "3c79cfca-8afa-4654-a907-a35d887a2679"
}],
"availability_zone": "10.132.17.101",
"imageRef": "e202aadd-3ed8-47f0-a969-e9f33dcfe4d5"
}
}
Send the request.
Confirm the response, which contains the response code and response body of the request (if any).
3.2. Authentication
A token is used for authentication to verify and authorize interactions with different APIs. Tokens come
in various forms depending on the authorization scope and identity source. Additionally, there are
multiple providers of tokens, each with its own user experience, performance, and deployment
characteristics. To illustrate how to call an API, we take the example of calling the API to obtain user
tokens in constructing a request.
When you call other APIs after you obtain a token, add “X-Auth-Token” in the request header. Its value is
the token ID. The request header is shown below:
 Note
Request header for authentication Content-Type: application/json X-Auth-Token:
2116c9fa804d4d36ac2a617fac23b93d
3.3. Response
The response returned mainly consists of the following parts:
Status Code
The status code is returned by the server after you send the request. It is a number ranging from 1xx
to 5xx. For details, please refer to Values Returned for General Requests.
Response Header
Refer to the HTTP response header. It is not covered in this section.
Response Body
This part is optional. Its specific content and format depend on the actual request.
3.4. Idempotence
3.4.1. About Idempotence
Idempotence is the property of certain operations in mathematics and computer science whereby they can
be applied multiple times without changing the result beyond the initial application. In the context of REST
APIs, when making multiple identical requests has the same effect as making a single
request, then that REST API is called idempotent. Notes: the idempotence here refers to the effect on
resources. For example, the GET method in the RESTFul API is to query resource information and will not
affect
resources, so it is idempotent. But the result returned by each call of the GET method may be different,
possibly because a certain attribute of the resource has been modified by other methods before the GET
method is called. In fact, the idempotence of APIs in a distributed architecture is not only for the RESTFul
APIs, but applies to
all types of APIs. The purpose is to ensure that the impact on resources is the same when the API
is called 1 or N times.
3.4.2. Idempotent APIs
Create VM
Create datastore
Create elastic IP
Create configuration for VM
Mount NIC
Update elastic IP
3.4.3. Scenario
After the client has sent the request for creating a VM, and the server has successfully created the VM, if the
request was interrupted due to network problems, and the client did not receive a response, the request will
be identified as failed, and a new request with the same parameters will be sent again. In this case, another
VM will be created, resulting in 2 VMs being created in the system, which is not the desired outcome for the
client. To solve this problem, the system provides an idempotence mechanism. You only need
to add the “X-Client-Token” field to the request header, and the value is a random number (recommended
value). If the client sends a request with parameters and X-Client-Token value the same as those in the last
request, the system determines that the two requests are identical. The system then directly returns the
result of the last request (success or failure) without processing the request again. This ensures that the
system returns the same result for the same request.
3.4.4. Scenario
1. The interval for sending two consecutive requests cannot exceed 5 minutes.
2. Identical requests refer to requests using the same parameters, URL, and “X-Client-Token” field in the
request header.
3. If a previous request failed, a subsequent identical request will fail as well. If a previous request
succeeded, a subsequent identical request will also succeed, but no resources will be created repeatedly.
4. Details About APIs of Different Modules
 Note
Introduce APIs in detail.
4.1. keystone
 Note
Identity management module
Endpoint：https://{acmp_ip}/openstack/identity/v2.0
Sample URL:
URL composition: Endpoint/path Example: Obtain tenants (GET)
https://10.132.17.99/openstack/identity/v2.0/tenants
4.1.1. Version
4.1.1.1. Obtain Version Details
 Note
Obtain Version Details
Scenario: None
4.1.1.1.1. URI
REST
VERB PATH Description
GET /{api_version} Obtain details about Keystone API version. {api_version} can be
set only to v2.0.
Parameter Description:
N/A
4.1.1.1.2. Request
Request Parameters: None
Request Example: N/A
4.1.1.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
id body string Common name of the relevant version Yes
link body array Link to the relevant resource Yes
mediatypes
body array
Media type, which is a fixed array of
dictionaries. This parameter is deprecated
and does not provide useful information. It
will be removed in the future.
Yes
status body string
CURRENT: commonly-used version of APIs
in use; SUPPORTED: earlier API version that
is still supported; DEPRECATED: deprecated
API version
Yes
updated body string Update time Yes
version body string
Other latest version of current APIs that is
supported. If minor versions are not
supported, a null string is returned.
Yes
Response Example:
{
"version": {
"status": "deprecated",
"updated": "2016-08-04T00:00:00Z",
"media-types": [
{
"base": "application/json",
"type": "application/vnd.openstack.identity-v2.0+json"
}
],
"id": "v2.0",
"links": [
{
"href": "https://10.132.18.1/openstack/identity/v2.0/",
"rel": "self"
},
{
"href": "https://docs.openstack.org/",
"type": "text/html",
"rel": "describedby"
}
]
}
}
4.1.1.1.4. Response Code
Success: 200
Error: N/A
4.1.1.2. Obtain Version List
 Note
Obtain Version List
Scenario: None
4.1.1.2.1. URI
REST VERB PATH Description
GET / Obtain the list of Keystone API versions
Parameter Description:
N/A
4.1.1.2.2. Request
Request Parameters: None
Request Example: N/A
4.1.1.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
id body string Common name of the relevant version Yes
link body array Link to the relevant resource Yes
mediatypes
body array
Media type, which is a fixed array of
dictionaries. This parameter is deprecated
and does not provide useful information. It
will be removed in the future.
Yes
status body string
CURRENT: commonly-used version of APIs
in use; SUPPORTED: earlier API version that
is still supported; DEPRECATED: deprecated
API version
Yes
updated body string Update time Yes
version body string
Other latest version of current APIs that is
supported. If minor versions are not
supported, a null string is returned.
Yes
Response Example:
{
"versions": {
"values": [
{
"status": "SUPPORTED",
"updated": "2017-02-22T00:00:00Z",
"media-types": [
{
"base": "application/json",
"type": "application/vnd.openstack.identity-v3+json"
}
],
"id": "v3.8",
"links": [
{
"href": "https://10.134.43.173/openstack/identity/v3
/",
"rel": "self"
}
]
},
{
"status": "CURRENT",
"updated": "2016-08-04T00:00:00Z",
"media-types": [
{
"base": "application/json",
"type": "application/vnd.openstack.identity-v2.0+jso
n"
}
],
"id": "v2.0",
"links": [
{
"href": "https://10.134.43.173/openstack/identity/v2
.0/",
"rel": "self"
},
{
"href": "https://docs.openstack.org/",
"type": "text/html",
"rel": "describedby"
}
]
}
]
}
}
4.1.1.2.4. Response Code
Success: 300
Error: N/A
4.1.2. Authentication
4.1.2.1. Obtain Authentication Information
 Note
Obtain the token information, which contains the required authentication information.
Scenario
Username and password are used for authentication to obtain the authentication information.
Constraint: Currently, only tenant authentication is supported.
4.1.2.1.1. URI
REST VERB PATH Description
POST /tokens Obtain authentication information
Parameter Description:
N/A
4.1.2.1.2. Request
Request Parameters:
Name Location Type Description Required
auth body object Authentication
object Yes
passwordCredentials body object
Password
authentication
object
No
passwordCredentials.username body string Username No
passwordCredentials.password body string Password No
tenantName body string Tenant name No
tenantId body string Tenant ID (UUID) No
token body object Token object No
token.id body string Token ID (UUID) No
Request Example:
{
"auth": {
"tenantName": "test",
"passwordCredentials": {
"username": "test",
"password": "Admin123."
}
}
}
4.1.2.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
access body object Licensing information Yes
token body object Token information Yes
token.issued_at body string Generation time Yes
token.expires body string Expiration time Yes
token.id body string Token id Yes
token.tenant body object Tenant object Yes
token.tenant.enabled body boolean Whether to enable the
token Yes
token.tenant.description body string Tenant description Yes
token.tenant.name body string Tenant name Yes
Token.tenant.id body string Tenant ID Yes
token.audit_ids body array Audit ID Yes
serviceCatalog body array Service catalog (object ->
catalog) Yes
endpoints body array List of endpoints (object ->
endpoint) Yes
endpoint.adminURL body string Admin endpoint url Yes
endpoint.region body string Region Yes
endpoint.publicURL body string Public endpoint URL Yes
endpoint.id body string Endpoint id Yes
endpoint.internalURL body string Internal endpoint URL Yes
catalog.endpoints_links body array Endpoint links Yes
catalog.type body string Endpoint type Yes
catalog.name body string Endpoint name Yes
user body object User information Yes
user.username body string Username Yes
user.roles_links body array User links Yes
user.id body string User ID Yes
user.roles body array List of user roles Yes
user.name body string Username Yes
metadata body object Metadata Yes
metadata.is_admin body boolean Whether the user is the
super administrator Yes
metadata.roles body array List of role IDs Yes
Response Example:
{
"access": {
"token": {
"issued_at": "2019-05-29T04:34:33.000000Z",
"expires": "2019-05-29T05:34:33.000000Z",
"id": "19f614028aa34eb0ac52f537765a8809",
"tenant": {
"enabled": true,
"description": "",
"name": "test",
"id": "68211df9404648d9928884a299d78a20"
},
"audit_ids": [
"lOoOzNDdSzaVR1247BRVeQ"
]
},
"serviceCatalog": [
{
"endpoints": [
{
"adminURL": "https://10.132.18.1:443/openstack/ident
ity/v2.0",
"region": "RegionOne",
"publicURL": "https://10.132.18.1:443/openstack/iden
tity/v2.0",
"id": "00000000000000000000000000000000",
"internalURL": "https://10.132.18.1:443/openstack/id
entity/v2.0"
}
],
"endpoints_links": [],
"type": "identity",
"name": "keystone"
},
{
"endpoints": [
{
"adminURL": "https://10.132.18.1:443/openstack/netwo
rk",
"region": "RegionOne",
"publicURL": "https://10.132.18.1:443/openstack/netw
ork",
"id": "00000000000000000000000000000000",
"internalURL": "https://10.132.18.1:443/openstack/ne
twork"
}
],
"endpoints_links": [],
"type": "network",
"name": "neutron"
},
{
"endpoints": [
{
"adminURL": "https://10.132.18.1:443/openstack/compu
te/v2",
"region": "RegionOne",
"publicURL": "https://10.132.18.1:443/openstack/comp
ute/v2",
"id": "00000000000000000000000000000000",
"internalURL": "https://10.132.18.1:443/openstack/co
mpute/v2"
}
],
"endpoints_links": [],
"type": "compute",
"name": "nova"
}
],
"user": {
"username": "test",
"roles_links": [],
"id": "77c6a93e9a1f4f809ab37f93a7123c6c",
"roles": [
{
"name": "tenant"
}
],
"name": "test"
},
"metadata": {
"is_admin": 0,
"roles": [
"ad55a4dd7a8c41c5aa9482a66b5250cd"
]
}
}
}
4.1.2.1.4. Response Code
Success: 200
Error: N/A
4.1.3. User Management
4.1.3.1. Obtain list of tenants
 Note
Obtain list of tenants
Scenario: None
4.1.3.1.1. URI
REST VERB URI Description
GET /tenants Obtain list of tenants
Parameter Description:
N/A
4.1.3.1.2. Request
Request Parameters:
Name Location Type Description Required
name query string Tenant name No
Request Example: N/A
4.1.3.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
tenants body array List of tenants (object ->
tenant) Yes
tenants_link body array links Yes
enabled body boolean Whether to enable the tenant Yes
description body string Description Yes
name body string Tenant name Yes
id body string Tenant ID Yes
Response Example:
{
"tenants": [
{
"enabled": true,
"description": "",
"name": "ycf",
"id": "cc6e84acd84248c3b6dde6b286d7ec9b"
}
],
"tenants_links": []
}
4.1.3.1.4. Response Code
Success: 200
Error: N/A
4.2. glance
 Note
Image management module
Endpoint：https://{acmp_ip}/openstack/image
Sample URL:
URL composition: Endpoint/path Example: Obtain the list of images (GET)
https://10.132.17.99/openstack/image/v2/images
4.2.1. Version Details
4.2.1.1. Obtain Version Details
 Note
Obtain Version Details
Scenario: None
4.2.1.1.1. URI
REST VERB PATH Description
GET /{api-versions} Obtain details about API versions supported by
Glance
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.2.1.1.2. Request
Request Parameters: N/A
Request Example: N/A
4.2.1.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
versions body array List that contains multiple version objects Yes
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
status body string
“CURRENT”: commonly-used version of
APIs in use; “SUPPORTED”: earlier API
version that is still supported;
“DEPRECATED”: deprecated API version
Yes
Response Example:
{
"versions": [
{
"status": "CURRENT",
"id": "v2.0",
"links": [
{
"href": "https://10.132.18.1/openstack/image/v2/",
"rel": "self"
}
]
}
]
}
4.2.1.1.4. Response Code
Success: 200
Error: N/A
4.2.1.2. Obtain Version List
 Note
Obtain Version List
Scenario: None
4.2.1.2.1. URI
REST VERB PATH Description
GET / Obtain the list of details about versions supported by Glance
Parameter Description:
N/A
4.2.1.2.2. Request
Request Parameters: N/A
Request Example: N/A
4.2.1.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
versions body array List that contains multiple version objects Yes
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
status body string
CURRENT: commonly-used version of
APIs in use; SUPPORTED: earlier API
version that is still supported;
DEPRECATED: deprecated API version
Yes
Response Example:
{
"versions": [
{
"status": "CURRENT",
"id": "v2.0",
"links": [
{
"href": "https://10.132.18.1/openstack/image/v2/",
"rel": "self"
}
]
}
]
}
4.2.1.2.4. Response Code
Success: 300
Error: N/A
4.2.2. Images
4.2.2.1. Obtain Image Details
 Note
Obtain details about a single image.
Scenario: None
4.2.2.1.1. URI
REST VERB PATH Description
GET /v2/images/{image_id} Obtain details about a single
image.
Parameter Description:
Name Location Type Description Required
image_id path string Image UUID Yes
4.2.2.1.2. Request
Request Parameters: None
Request Example: N/A
4.2.2.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
id body string Image ID Yes
status body string Image status Yes
tags body array Image tag Yes
container_format body string Image container format Yes
min_ram body integer
Minimum memory capacity
required for running this image
(MB)
Yes
locations body array Image location No
visibility body string Image visibility Yes
virtual_size body integer Image size Yes
size body integer Image size (byte) Yes
name body string Image name Yes
checksum body string Image hash value Yes
created_at body string Image creation time Yes
updated_at body string Image update time Yes
disk_format body string Image format Yes
protected body boolean Whether the image is
protected Yes
schema body string URL of image mode description Yes
file body string Image file URL Yes
owner body string Image owner Yes
min_disk body integer Minimum disk size required for
running this image Yes
Response Example: N/A
{
"status": "active",
"created_at": "2019-09-23T08:33:02Z",
"virtual_size": 21474836480,
"name": "linux_iso",
"tags": [
"5d86895b-0f72-497d-86ca-ce495a4e944e"
],
"container_format": "bare",
"min_ram": 0,
"disk_format": "qcow2",
"updated_at": "2019-09-23T08:45:42Z",
"visibility": "public",
"min_disk": 0,
"protected": false,
"file": "/v2/images/3d3bee81-b6ee-4eea-be93-31e15bae5e3d/file",
"checksum": null,
"owner": "c8fdcf182dc84c92bfef9201f0660dd9",
"schema": "/v2/schemas/image",
"id": "3d3bee81-b6ee-4eea-be93-31e15bae5e3d",
"size": 3355443200
}
4.2.2.1.4. Response Code
Success: 200
Error: 400, 401, 403, 404
4.2.2.2. Obtain list of images
 Note
Obtain list of images
Scenario: None
4.2.2.2.1. URI
REST VERB PATH Description
GET /v2/images Obtain list of images
Parameter Description:
N/A
4.2.2.2.2. Request
Request Parameters:
Name Location Type Description Required
limit query int Limit on the number of images in
the list returned No
marker query string Image ID. The image specified by
marker is queried. No
name query string Image name No
owner query string ID of the tenant to which the image
belongs No
protected query boolean Whether the image is protected No
status query integer Image status No
tag query string Image tag No
visibility query string
Image visibility. Currently, valid
values for this parameter on SCP
are public and private.
No
os_hidden query boolean Whether to hide the image in the
image list No
member_status query string Currently, the concept of “member”
is not used for SCP. No
size_max query string Maximum image size (byte) No
size_min query string Minimum image size (byte) No
created_at query string Creation time No
updated_at query string Update time No
sort_dir query string
Sorting order. Valid values: asc
(ascending order) and desc
(descending order)
No
sort_key query string Key by which sorting is performed No
sort query string
Sorting. Multiple keys are
supported, which are separated by
commas (,). Example:
sort=name:asc,status:desc
No
Request Example: N/A
4.2.2.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
images body object List of images Yes
id body string Image ID Yes
status body string Image status Yes
tags body array Image tag Yes
container_format body string Image container format Yes
min_ram body integer
Minimum memory capacity
required for running this image
(GB)
Yes
visibility body string Image visibility Yes
virtual_size body integer Image size Yes
size body integer Image size Yes
name body string Image name Yes
checksum body string Image MD5 value Yes
created_at body string Image creation time Yes
updated_at body string Image update time Yes
disk_format body string Image format Yes
protected body boolean Whether the image is protected Yes
schema body string URL of image mode description Yes
file body string Image file URL Yes
owner body string Image owner Yes
self body string VM image URL No
min_disk body integer Minimum disk size required for
running this image Yes
first body string URL of the first page Yes
next body string
URL of the next page. When the
number of images is less than that
specified by limit, no result will be
returned.
No
schema body string Schema URL Yes
Response Example:
{
"images": [
{
"status": "active",
"created_at": "2019-06-02T02:01:03Z",
"virtual_size": null,
"name": "freenas",
"tags": [
"41c3f67a-94f0-4e4b-9d6b-f26512a0110a"
],
"container_format": "bare",
"min_ram": 0,
"disk_format": "iso",
"updated_at": "2019-06-02T02:02:16Z",
"visibility": "private",
"min_disk": 0,
"protected": false,
"file": "/v2/images/9b4b6749-f41e-4108-a9fb-ef83cf6e6c59/file",
"checksum": "87bbae689622e0672fdc33b202f20758",
"owner": "d095816dc80d490ebea1de116695025d",
"schema": "/v2/schemas/image",
"id": "9b4b6749-f41e-4108-a9fb-ef83cf6e6c59",
"size": 631304192
}
],
"next": "/v2/images?marker=9b4b6749-f41e-4108-a9fb-ef83cf6e6c59&limit=1"
,
"schema": "/v2/schemas/images",
"first": "/v2/images?limit=1"
}
4.2.2.2.4. Response Code
Success: 200
Error: 400, 401, 403
4.3. nova
 Note
Compute module, which provides the management feature for compute resources.
Endpoint: https://{acmp_ip}/openstack/compute/v2 URL example:
URL composition: Endpoint/path Example: Create VMs (POST)
https://10.132.17.99/openstack/compute/v2/servers
4.3.1. Version
4.3.1.1. Obtain Version Details
 Note
Obtain Version Details
Scenario: None
4.3.1.1.1. URI
REST VERB PATH Description
GET /{api_version} Obtain details about the specific version
supported by Nova
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP address Yes
api_version path string This parameter can be set only to v2.0. Yes
4.3.1.1.2. Request
Request Parameters: None
Request Example: N/A
4.3.1.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
mediatypes
body array
Media type, which is a fixed array of
dictionaries. This parameter is
deprecated and does not provide useful
information. It will be removed in the
future.
Yes
min_version body string
Other earliest version of current APIs
that is supported. If minor versions are
not supported, a null string is returned.
Yes
status body string
CURRENT: commonly-used version of
APIs in use; SUPPORTED: earlier API
version that is still supported;
DEPRECATED: deprecated API version
Yes
updated body string
The value is a fixed string: “2011-01-
21T11:33:21Z” for version 2.0 and
“2013-07-23T11:33:21Z” for version
2.1. This parameter is deprecated and
does not provide useful information. It
will be removed in the future.
Yes
version body string
Other latest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
Response Example:
{
"version": {
"status": "CURRENT",
"updated": "2011-01-21T11:33:21Z",
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/",
"rel": "self"
},
{
"href": "http://docs.openstack.org/",
"type": "text/html",
"rel": "describedby"
}
],
"min_version": "",
"version": "",
"media-types": [
{
"base": "application/json",
"type": "application/vnd.openstack.compute+json;version=2"
}
],
"id": "v2.0"
}
}
4.3.1.1.4. Response Code
Success: 200
Error: N/A
4.3.1.2. Obtain Version List
 Note
Obtain Version List
Scenario:
Authentication is not required for this API.
4.3.1.2.1. URI
REST VERB PATH Description
GET / Obtain the list of versions supported by Nova
Parameter Description:
N/A
4.3.1.2.2. Request
Request Parameters: None
Request Example: N/A
4.3.1.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
versions body array List of available API versions Yes
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
min_version body string
The earliest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
status body string
CURRENT: commonly-used version of
APIs in use; SUPPORTED: earlier API
version that is still supported;
DEPRECATED: deprecated API version
Yes
updated body string
The value is a fixed string: “2011-01-
21T11:33:21Z” for version 2.0 and
“2013-07-23T11:33:21Z” for version
2.1. This parameter is deprecated and
does not provide useful information. It
will be removed in the future.
Yes
version body string
Other latest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
Response Example:
{
"versions": [
{
"status": "CURRENT",
"updated": "2011-01-21T11:33:21Z",
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/",
"rel": "self"
}
],
"min_version": "",
"version": "",
"id": "v2.0"
}
]
}
4.3.1.2.4. Response Code
Success: 200
Error: N/A
4.3.2. Availability zone
4.3.2.1. Obtain List of Resource Pools
 Note
Obtain List of Resource Pools
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.2.1.1. URI
REST VERB PATH Description
GET /os-availability-zone Return the list of resource
pools
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.3.2.1.2. Request
Request Parameters: N/A
Request Example: N/A
4.3.2.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
availabilityZoneInfo body array List of resource pool
information Yes
hosts body string
Host information. For native
APIs, this parameter indicates
the compute service status of
the host, which is not adopted
by Sangfor APIs.
Yes
zoneName body string Resource pool name Yes
zoneState body object Resource pool status Yes
available body boolean Whether the resource pool is
available No
Response Example:
{ "
availabilityZoneInfo": [
{ "
zoneState": {
"available": true
},
"hosts": null,
"zoneName": "10.134.43.21-single node"
}]}
4.3.2.1.4. Response Code
Success: 200
Error: N/A
4.3.2.2. Obtain List of Resource Pool Details
 Note
Obtain List of Resource Pool Details
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.2.2.1. URI
REST VERB PATH Description
GET /os-availability-zone/detail Return the list of Resource
pool details
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.3.2.2.2. Request
Request Parameters: N/A
Request Example: N/A
4.3.2.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
availabilityZoneInfo body array List of resource pool
information Yes
hosts body string
Host information. For native
APIs, this parameter indicates
the compute service status of
the host, which is not adopted
by Sangfor APIs.
Yes
zoneName body string Resource pool name Yes
zoneState body object Resource pool status Yes
available body boolean Whether the resource pool is
available No
Response Example:
{ "availabilityZoneInfo": [
{ "
zoneState": {
"available": true
},
"hosts": null,
"zoneName": "10.134.43.21-single node"
}]}
4.3.2.2.4. Response Code
Success: 200
Error: N/A
4.3.3. VM Configuration Management
4.3.3.1. Create configuration for VM
 Note
Create configuration for VM
Scenario: None
4.3.3.1.1. URI
REST VERB PATH Description
POST /flavors Create configuration for VM
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.3.3.1.2. Request
Request Parameters:
Name Location Type Description Required
flavor body object VM object Yes
name body string Name Yes
description body string
VM configuration
description. This parameter
is not supported.
No
id body string
A UUID is generated by
default. You can use the
UUID directly or specify an
ID.
No
ram body integer Memory size (MB) Yes
disk body integer Root disk size (GB) Yes
vcpus body integer CPU cores. The value must
be 1 or an even number. Yes
OS-FLV-EXTDATA:
ephemeral body integer
This parameter can be
specified, but it does not
take effect.
No
swap body integer
This parameter can be
specified, but it does not
take effect.
No
rxtx_facto body float
This parameter can be
specified, but it does not
take effect.
No
os-flavoraccess:
is_public body boolean
Whether the VM
configuration is public. This
parameter is not supported.
No
Request Example:
{
"flavor": {
"name": "test_flavorqqq",
"ram": 512,
"vcpus": 1,
"disk": 10
}
}
4.3.3.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
flavor body object
VM configuration
information
Yes
name body string
VM configuration
name
Yes
description body string
VM configuration
description. This
parameter is not
supported.
No
id body string VM configuration ID Yes
ram body integer Memory size (MB) Yes
disk body integer Root disk size (GB) Yes
vcpus body integer CPU cores Yes
links body array Links to resources Yes
OS-FLV-EXTDATA:
ephemeral
body integer
Temporary disk size
(GB)
Yes
OS-FLVDISABLED:
disabled
body boolean
Extension attribute
that indicates whether
the configuration is
disabled
Yes
swap body integer
Swap partition size
(GB)
Yes
rxtx_factor body float
QoS extension and
inbound/outbound rate
factors are supported
by the network
backend.
Yes
os-flavoraccess:
is_public
body boolean
Whether the VM
configuration is public
Yes
extra_specs body string Additional attribute No
Response Example:
{
"flavor": {
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flavors/
5a5a50fa-22f8-42b2-a6fa-f058bda61024",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors/5a5
a50fa-22f8-42b2-a6fa-f058bda61024",
"rel": "bookmark"
}
],
"ram": 512,
"OS-FLV-DISABLED:disabled": false,
"vcpus": 1,
"swap": 0,
"os-flavor-access:is_public": true,
"rxtx_factor": 1,
"OS-FLV-EXT-DATA:ephemeral": 0,
"disk": 10,
"id": "5a5a50fa-22f8-42b2-a6fa-f058bda61024",
"name": "test_flavorqqq"
}
}
4.3.3.1.4. Response Code
Success: 200
Error: 400, 401, 403, 409
4.3.3.2. Obtain VM Configuration Details
 Note
Obtain configuration details about a single VM
Scenario: None
4.3.3.2.1. URI
REST VERB PATH Description
GET /flavors/{flavor_id} Obtain configuration details about a
single VM
Parameter Description:
Name Location Type Description Required
flavor_id path string VM configuration
UUID Yes
4.3.3.2.2. Request
Request Parameters: None
Request Example: N/A
4.3.3.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
flavor body object VM configuration
information Yes
name body string VM configuration name Yes
description body string
VM configuration
description. This parameter
is not supported.
No
id body string VM configuration ID Yes
ram body integer Memory size (MB) Yes
disk body integer Root disk size (GB) Yes
vcpus body integer CPU cores Yes
links body array Links to resources Yes
OS-FLV-EXTDATA:
ephemeral body integer Temporary disk size (GB) Yes
OS-FLVDISABLED:
disabled body boolean
Extension attribute that
indicates whether the
configuration is disabled
Yes
swap body integer Swap partition size (GB) Yes
rxtx_factor body float
QoS extension and
inbound/outbound rate
factors are supported by the
network backend.
Yes
os-flavoraccess:
is_public body boolean Whether the VM
configuration is public Yes
extra_specs body string Additional attribute No
Response Example:
{
"flavor": {
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flavors/
5a5a50fa-22f8-42b2-a6fa-f058bda61024",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors/5a5
a50fa-22f8-42b2-a6fa-f058bda61024",
"rel": "bookmark"
}
],
"ram": 512,
"OS-FLV-DISABLED:disabled": false,
"vcpus": 1,
"swap": 0,
"os-flavor-access:is_public": true,
"rxtx_factor": 1,
"OS-FLV-EXT-DATA:ephemeral": 0,
"disk": 10,
"id": "5a5a50fa-22f8-42b2-a6fa-f058bda61024",
"name": "test_flsdrqqq"
}
}
4.3.3.2.4. Response Code
Success: 200
Error: 400, 401, 403, 404
4.3.3.3. Obtain List of VM Configurations
 Note
Obtain List of VM Configurations
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.3.3.1. URI
REST VERB PATH Description
GET /flavors Obtain List of VM Configurations
Parameter Description:
N/A
4.3.3.3.2. Request
Request Parameters: None
Request Example: N/A
4.3.3.3.3. Response
Response Parameters:
Name Location Type Description Value Returned
flavors body array List of VM configurations Yes
name body string VM configuration name Yes
description body string
VM configuration
description. This parameter
is not supported.
No
id body string VM configuration ID Yes
links body array Links to resources Yes
Response Example:
{
"flavors": [
{
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flav
ors/d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors
/d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"rel": "bookmark"
}
],
"id": "d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"name": "1Cores_1024MB(ram)_1GB(disk)"
},
{
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flav
ors/d3923472-e58d-4ffd-be23-51eeeefb8cea",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors
/d3923472-e58d-4ffd-be23-51eeeefb8cea",
"rel": "bookmark"
}
],
"id": "d3923472-e58d-4ffd-be23-51eeeefb8cea",
"name": "2Cores_2048MB(ram)_20GB(disk)"
}]
}
4.3.3.3.4. Response Code
Success: 200
Error: 400, 401, 403, 409
4.3.3.4. Obtain List of VM Configurations Details
 Note
Obtain List of VM Configurations Details
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.3.4.1. URI
REST VERB PATH Description
GET /flavors/detail Obtain List of VM Configurations Details
Parameter Description:
N/A
4.3.3.4.2. Request
Request Parameters: None
Request Example: N/A
4.3.3.4.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
flavors body array List of VM configurations Yes
name body string VM configuration name Yes
description body string
VM configuration
description. This parameter
is not supported.
No
id body string VM configuration ID Yes
ram body integer Memory size (MB) Yes
disk body integer Root disk size (GB) Yes
vcpus body integer CPU cores Yes
links body array Links to resources Yes
OS-FLV-EXTDATA:
ephemeral body integer Temporary disk size (GB) Yes
OS-FLVDISABLED:
disabled body boolean
Extension attribute that
indicates whether the
configuration is disabled
Yes
swap body integer Swap partition size (GB) Yes
rxtx_factor body float
QoS extension and
inbound/outbound rate
factors are supported by the
network backend.
Yes
os-flavoraccess:
is_public body boolean Whether the VM
configuration is public Yes
extra_specs body string Additional attribute No
Response Example:
{
"flavors": [
{
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flav
ors/d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors
/d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"rel": "bookmark"
}
],
"ram": 1024,
"OS-FLV-DISABLED:disabled": false,
"vcpus": 1,
"swap": 0,
"os-flavor-access:is_public": true,
"rxtx_factor": 1,
"OS-FLV-EXT-DATA:ephemeral": 0,
"disk": 1,
"id": "d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"name": "1Cores_1024MB(ram)_1GB(disk)"
},
{
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/flav
ors/d3923472-e58d-4ffd-be23-51eeeefb8cea",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/flavors
/d3923472-e58d-4ffd-be23-51eeeefb8cea",
"rel": "bookmark"
}
],
"ram": 2048,
"OS-FLV-DISABLED:disabled": false,
"vcpus": 2,
"swap": 0,
"os-flavor-access:is_public": true,
"rxtx_factor": 1,
"OS-FLV-EXT-DATA:ephemeral": 0,
"disk": 20,
"id": "d3923472-e58d-4ffd-be23-51eeeefb8cea",
"name": "2Cores_2048MB(ram)_20GB(disk)"
}]
}
4.3.3.4.4. Response Code
Success: 200
Error: 400, 401, 403, 409
4.3.4. VM Lifecycle Management
4.3.4.1. Create VM
 Note
Create VMs. VM creation using OpenStack APIs is supported. You can create VMs from
images or datastores.
Scenario:
VM creation from images is supported. The image_ref parameter must be included in passed server
parameters.
VM creation from datastores is supported. block_device_mapping_v2 must be included in passed server
parameters. For related parameters, refer to the method of VM creation from datastores in OpenStack.
Notes:
VM creation from images: fixed_ip can be set only for the images with vmTools installed.
VM creation from datastores: Datastores in the available or in-use state can be selected. For a datastore
in the available state, the VM will be in the storage corresponding to the datastore at last. For a datastore
in the in-use state, the VM is in the storage corresponding to the storage tag with the largest remaining
quota. If the actual available storage capacity is insufficient for VM creation, you can change the quota
for storage scheduling.
Resource pool information must be specified.
If you want to set the VM password, vmTools must be installed for the image. Otherwise, the setting will
not take effect.
If a built-in image is selected for VM creation, it is required that the size of the selected Flavor system
disk be the same as that of image system disk or 0 since the system disk size for this image is fixed.
Otherwise, VM creation is not allowed.
fixed_ip and adminPass cannot be set for VM creation from ISO images because operating system
installation is required for the settings to take effect.
For bulk VM creation, max_count must be specified, min_count is set to 1 by default in the backend, and
the final number of VMs created is subject to the number of successfully created VMs. fixed_ip for NICs
and elastic IP address cannot be set, and VM creation from datastores is not supported.
For VM creation from predefined SCP images/datastores or bulk VM creation, if hostname is specified,
the generated hostname is followed by a suffix by default. Example: hostname0001 or hostname0002.
For VM creation from datastores, if the datastore is in the in-use state, the corresponding VM must be
shut down.
For VM creation from in-use datastores, whether vmTools is installed will be automatically identified. For
VM creation from available datastores, vmTools installation status will not be automatically identified.
4.3.4.1.1. URI
REST VERB PATH Description
POST /servers Create VM
Parameter Description:
N/A
4.3.4.1.2. Request
Request Parameters:
Name Location Type Description Required
server body object VM object Yes
flavorRef body string
VM
configuration
ID, which is
generally a
string in
UUID format.
For details,
see VM
configuration
creation.
Yes
name body string VM name Yes
networks body array Network
information Yes
Subnet UUID.
Regarding the
networks.uuid body string
Regarding the
network
model
feature. The
network ID is
the subnet ID.
Yes
network.fixed_ip body string
Internal IP
address of the
VM
No
accessIPv4 body string
ID of the
elastic IP
address
No
adminPass body string
Password.
The password
must contain
8-30
characters
consisting of
at least three
of the
following
character
types:
uppercase
letters,
lowercase
letters, digits,
and special
characters.
No
availability_zone body string Resource pool
name Yes
imageRef body string
ID of the
image for VM
creation
(UUID)
No
security_groups body array Security
Group No
min_count body integer
Minimum
number of
VMs to be
created
No
max_count body integer
Maximum
number of
VMs to be
created
No
metadata body object
Metadata
specified
during VM
creation.
Currently,
hostname can
be set.
No
metadata.hostname body string VM hostname No
personality body array
Customized
data, which
will not take
effect
No
user_data body string
Script that
runs after the
creation is
completed,
which has no
actual effect.
No
network.port body string
Network port
ID. This
parameter is
not
supported.
Not
supported
network.tag body string Network tag Not
supported
block_device_mapping_v2.volume_size body integer Datastore
size No
block_device_mapping_v2 body array
Block device
mapping
information
No
block_device_mapping_v2.boot_index body integer
Boot order of
the boot
device, which
must be set
to 0 for VM
creation from
datastores
Yes
block_device_mapping_v2.uuid body string UUID of the
boot device No
block_device_mapping_v2.source_type body string
Type of the
boot device,
which must
be set to
volume for
VM creation
from
datastores
No
block_device_mapping_v2.destination_type body string
Type of
destination
device, which
must be set
to volume for
VM creation
from
datastores
No
block_device_mapping_v2.delete_on_termination body string
Whether to
delete the
corresponding
block device
during VM
deletion. The
corresponding
block device
will not be
deleted
together with
the VM by
default.
No
block_device_mapping_v2.device_name body string Device name Not
supported
block_device_mapping_v2.device_type body string Device type Not
supported
block_device_mapping_v2.disk_bus body string Disk bus type Not
supported
block_device_mapping_v2.guest_format body string
File system
type of guest
OS
Not
supported
block_device_mapping_v2.no_device body boolean Not
supported
Not
supported
block_device_mapping_v2.tag body string
Block device
tag. This
parameter is
not
supported.
Not
supported
block_device_mapping_v2.volume_type body string
Datastore
type. This
parameter is
not
supported.
Not
supported
accessIPv6 body string
IPv6 address.
This
parameter is
not
supported.
Not
supported
Config_drive body boolean
Configure the
drive. This
parameter is
not
supported.
Not
supported
key_name body string Not
supported
Not
supported
OS-DCF:diskConfig body string
Disk
configurator.
This
parameter is
not
supported.
Not
supported
tags body array
VM tag. This
parameter is
not
supported.
Not
supported
description body string
VM
description.
This
parameter is
not
supported.
Not
supported
trusted_image_certificates body array
List of trusted
certificates.
This
parameter is
not
supported.
Not
supported
os:scheduler_hints body object
Scheduling
rule. This
parameter is
not
supported.
Not
supported
host body string
Host. This
parameter is
not
supported.
Not
supported
hypervisor_hostname body string
Name of the
host where
the
hypervisor
resides. This
parameter is
not
supported.
Not
supported
Request Example:
Basic parameters for VM creation from images:
{ "server":{
"flavorRef": "d3923472-e58d-4ffd-be23-51eeeefb8cea",
"name": "new-server-test",
"networks": [{"uuid": "ff608d40-75e9-48cb-b745-77bb55b5eaf2"}],
"availability_zone":"10.134.43.21-single node",
"imageRef" : "70a599e0-31e7-49b7-b260-868f441e862b",
"security_groups" : [{"name": "default"}],
"min_count": 1,
"max_count": 1
}}
Basic parameters for VM creation from datastores:
{
"server":
{
"flavorRef": "d5cf9e6e-3976-4c59-8059-cec0a4eb43f0",
"networks":
[{"uuid":"3cb88960-c67c-4dae-8c63-8c04ef9b4864"}]
,
"name":"lhp1_from_vol",
"availability_zone":"10.134.43.21",
"block_device_mapping_v2": [{
"boot_index": 0,
"uuid": "711e4d5a-b9b7-4510-ab9b-f5fad2722827",
"source_type": "volume",
"volume_size": 25,
"destination_type": "volume"}]
}
}
4.3.4.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
server body object Information returned
for VM creation Yes
id body string VM UUID Yes
links body array Links to resources Yes
OS-DCF:diskConfig body string
Default configurations
for newly partitioned
disks
No. Result
returning is
not
supported.
security_groups body array Security group
information
No. Result
returning is
not
supported.
security_groups.name body string Security group name
No. Result
returning is
not
supported.
adminPass body string Password of the super
administrator
No. Result
returning is
not
supported.
Response Example:
{
"server": {
"id": "b00a382c-5242-46c6-8bd6-0f664cb47b0f",
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/servers/
b00a382c-5242-46c6-8bd6-0f664cb47b0f",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/servers/b00
a382c-5242-46c6-8bd6-0f664cb47b0f",
"rel": "bookmark"
}
]
}
}
4.3.4.1.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.4.2. Delete VM
 Note
Delete VM
Scenario:
N/A
Notes:
You can delete only VMs that have been shut down.
During VM deletion, all mounted datastores will be unmounted for data security.
The VM deletion process is asynchronous. If an error occurs, you can check the cause through SCP
Tasks.
4.3.4.2.1. URI
REST VERB PATH Description
DELETE /servers/{server_id} Delete a VM
Parameter Description:
Name Location Type Description Required
server_id path string VM ID (UUID) Yes
4.3.4.2.2. Request
Request Parameters: None
Request Example: N/A
4.3.4.2.3. Response
Response Parameters: None
Response Example: N/A
4.3.4.2.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.4.3. Obtain VM summary
 Note
Obtain details about a single VM.
Scenario: None
4.3.4.3.1. URI
REST VERB PATH Description
GET /servers/{server_id} Obtain VM summary
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.4.3.2. Request
Request Parameters: None
Request Example: N/A
4.3.4.3.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
server body object VM details Yes
accessIPv4 body string Elastic IP
address Yes
addresses body object,none Network
information
No. It
may be
left
blank.
created body string Creation time Yes
flavor body object
VM
configuration
information
Yes
flavor.id body string
VM
configuration
ID
Yes
flavor.links body array
VM
configuration
links
Yes
hostId body string Compute
node ID Yes
id body string VM ID Yes
image body object Image
information Yes
links body array Links to
resources Yes
metadata body object Metadata Yes
name body string VM name Yes
OS-EXT-AZ:availability_zone body string Resource pool
information Yes
OS-EXT-SRV-ATTR:host body string Compute Yes
OS-EXT-SRV-ATTR:host body string Compute
node name Yes
OS-EXT-STS:power_state body string
Node power
status. Valid
values: 0:
NOSTATE; 1:
RUNNING; 3:
PAUSED; 4:
SHUTDOWN;
6: CRASHED;
and 7:
SUSPENDED
Yes
OS-EXT-STS:task_state body string VM task
status Yes
OS-EXT-STS:vm_state body string VM status Yes
os-extended-volumes:volumes_attached body array
Information
about the
datastore
mounted to
the VM
Yes
os-extended-volumes:volumes_attached.id body uuid
ID of the
datastore
mounted to
the VM
Yes
security_groups body array
List of
security
groups
Yes
security_group.name body string Security
group name Yes
status body string VM status Yes
tenant_id body string Tenant ID Yes
updated body string Update time Yes
user_id body string User ID Yes
accessIPv6 body string IPv6 address No
config_drive body string
Whether to
configure the
hypervisor.
No
flavor.vcpus body integer Flavor CPU
cores No
flavor.ram body integer Flavor
memory size No
flavor.disk body string Flavor disk
size No
flavor.ephemeral body object
Flavor
temporary
disk size
No
flavor.swap body integer Flavor swap
partition size No
flavor.original_name body string Flavor name No
flavor.extra_specs body object
Flavor
additional
attribute
No
flavor.extra_specs.key body string
Flavor
additional
attribute key
No
flavor.extra_specs.value body string
Flavor
additional
attribute
value
No
key_name body string Key pair No
OS-DCF:diskConfig body string
Default
configurations
for newly
partitioned
disks
No
OS-EXT-SRV-ATTR:hypervisor_hostname body string
Name of the
host where
the
hypervisor
resides
No
OS-EXT-SRV-ATTR:instance_name body string VM name No
os-extendedvolumes:
volumes_attached.delete_on_termination body boolean
Whether to
be deleted
together with
the VM
No
OS-SRV-USG:launched_at body string Startup time No
OS-SRV-USG:terminated_at body string Deletion time No
fault body object Error event
information No
fault.code body integer Error code No
fault.created body string Occurrence
time of error No
fault.message body string Error
message No
fault.details body string Error details No
progress body integer Operation
progress No
OS-EXT-SRV-ATTR:hostname body string hostname No
OS-EXT-SRV-ATTR:reservation_id body string reservation id No
OS-EXT-SRV-ATTR:launch_index body integer Boot order No
OS-EXT-SRV-ATTR:kernel_id body string Kernel ID No
OS-EXT-SRV-ATTR:ramdisk_id body string ramdisk
image id No
OS-EXT-SRV-ATTR:root_device_name body string Root device
name No
OS-EXT-SRV-ATTR:user_data body string User data No
locked body boolean Whether the
VM is locked No
host_status body string Node status No
description body string Description No
tags body array VM tags No
trusted_image_certificates body array List of trusted
certificates No
locked_reason body string Reason for
locking No
Response Example:
{ "
server":
{ "
status": "
ACTIVE",
"os-extended-volumes:volumes_attached": [
{ "
id": "
ca0b6efc-deda-4963-a7c3-d10c9af601ad"
},
{ "
id": "
6a7cf9b8-bf5b-46b5-a5c5-1a30640ed508"
} ],
"updated": "2019-08-21T03:14:09.000000",
"OS-EXT-STS:task_state": "",
"user_id": "",
"name": "real_os_something will happen after deletion",
"links": [
{ "
href": "
https://10.134.43.173/openstack/compute/v2/servers/2dbfc4c6-3731-4f
4d-b802-825c28b52e29",
"rel": "self"
},
{ "
href": "
https://10.134.43.173/openstack/compute/servers/2dbfc4c6-3731-4f4db802-
825c28b52e29",
"rel": "bookmark"
} ],
"created": "2019-08-21T03:02:07.000000",
"tenant_id": "b4e1cd262fff44e7b63dbcbf51e6b4d1",
"image": null,
"OS-EXT-STS:power_state": 1,
"addresses": {
"Subnet 1": [
{ "
OS-EXT-IPS-MAC:mac_addr": "
fa:16:3e:6d:7b:e6",
"version": 4,
"addr": "192.168.0.69",
"OS-EXT-IPS:type": "fixed"
},
{ "
OS-EXT-IPS-MAC:mac_addr": "
fa:16:3e:86:13:5c",
"version": 4,
"addr": "192.168.0.3",
"OS-EXT-IPS:type": "fixed"
}] },
"accessIPv4": "",
"hostId": "host-a0369f0346d7",
"OS-EXT-STS:vm_state": "active",
"OS-EXT-SRV-ATTR:host": "",
"flavor": {
"id": "90bea071-514e-4c34-8c69-247565abb533",
"links": [
{ "
href": "
https://10.134.43.173/openstack/compute/flavors/90bea071-514e-4c34-
8c69-247565abb533",
"rel": "bookmark"
}] },
"OS-EXT-AZ:availability_zone": "10.134.43.21",
"id": "2dbfc4c6-3731-4f4d-b802-825c28b52e29",
"security_groups": [
{ "
name": "
default"
} ],
"metadata": {}
}} 4.3.4.3.4. Response Code
Success: 200
Error: 400, 401, 403, 404, 409
4.3.4.4. Obtain list of virtual machines
 Note
Obtain list of virtual machines
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.4.4.1. URI
REST VERB PATH Description
GET /servers/ Obtain list of virtual machines
Parameter Description:
N/A
4.3.4.4.2. Request
Request Parameters: None
Request Example: N/A
4.3.4.4.3. Response
Response Parameters:
Name Location Type Description Value Returned
servers body array List of VMs Yes
id body string VM ID Yes
links body array Links to resources Yes
name body string VM name Yes
servers_links body array VM resource links
No. Result
returning is not
supported.
Response Example:
{
"servers": [
{
"id": "2dbfc4c6-3731-4f4d-b802-825c28b52e29",
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/serv
ers/2dbfc4c6-3731-4f4d-b802-825c28b52e29",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/servers
/2dbfc4c6-3731-4f4d-b802-825c28b52e29",
"rel": "bookmark"
}
],
"name": "real_os_1"
},
{
"id": "9c91530b-2fb1-42a0-afe6-f2d86b03972a",
"links": [
{
"href": "https://10.134.43.173/openstack/compute/v2/serv
ers/9c91530b-2fb1-42a0-afe6-f2d86b03972a",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/compute/servers
/9c91530b-2fb1-42a0-afe6-f2d86b03972a",
"rel": "bookmark"
}
],
"name": "real_os"
}
]
}
4.3.4.4.4. Response Code
Success: 200
Error: 400, 401, 403
4.3.4.5. Obtain List of VM Details
 Note
Obtain List of VM Details
Scenario:
Filtering, sorting, and pagination are not supported currently.
4.3.4.5.1. URI
REST VERB PATH Description
GET /servers/detail Obtain List of VM Details
Parameter Description:
N/A
4.3.4.5.2. Request
Request Parameters: None
Request Example: N/A
4.3.4.5.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
servers body array List of VM
details Yes
accessIPv4 body string Elastic IP
address Yes
addresses body object Network
information
No. It
may be
left
blank.
created body string Creation time Yes
flavor body object
VM
configuration
information
Yes
flavor.id body string
VM
configuration
ID
Yes
flavor.links body array
VM
configuration
links
Yes
hostId body string Compute
node ID Yes
id body string VM ID Yes
image body object Image
information Yes
links body array Links to
resources Yes
metadata body object Metadata Yes
name body string VM name Yes
OS-EXT-AZ:availability_zone body string Resource pool
information Yes
OS-EXT-SRV-ATTR:host body string Compute
node name Yes
OS-EXT-STS:power_state body string
Node power
status. Valid
values: 0:
NOSTATE; 1:
RUNNING; 3:
PAUSED; 4:
SHUTDOWN;
6: CRASHED;
and 7:
SUSPENDED
Yes
OS-EXT-STS:task_state body string VM task
status Yes
OS-EXT-STS:vm_state body string VM status Yes
os-extended-volumes:volumes_attached body array
Information
about the
datastore
mounted to
the VM
Yes
os-extended-volumes:volumes_attached.id body string
ID of the
datastore
mounted to Yes
os-extended-volumes:volumes_attached.id body string mounted to
the VM
(UUID)
Yes
security_groups body array
List of
security
groups
Yes
security_group.name body string Security
group name Yes
status body string VM status Yes
tenant_id body string Tenant ID Yes
updated body string Update time Yes
user_id body string User ID Yes
accessIPv6 body string IPv6 address No
config_drive body string
Whether to
configure the
hypervisor.
No
flavor.vcpus body integer Flavor CPU
cores No
flavor.ram body integer Flavor
memory size No
flavor.disk body string Flavor disk
size No
flavor.ephemeral body object
Flavor
temporary
disk size
No
flavor.swap body integer Flavor swap
partition size No
flavor.original_name body string Flavor name No
flavor.extra_specs body object
Flavor
additional
attribute
No
flavor.extra_specs.key body string
Flavor
additional
attribute key
No
flavor.extra_specs.value body string
Flavor
additional
attribute
value
No
key_name body string Key pair No
OS-DCF:diskConfig body string
Default
configurations
for newly
partitioned
disks
No
OS-EXT-SRV-ATTR:hypervisor_hostname body string
Name of the
host where
the
hypervisor
resides
No
OS-EXT-SRV-ATTR:instance_name body string VM name No
os-extendedvolumes:
volumes_attached.delete_on_termination body boolean
Whether to
be deleted
together with
the VM
No
OS-SRV-USG:launched_at body string Startup time No
OS-SRV-USG:terminated_at body string Deletion time No
fault body object Error event
information No
fault.code body integer Error code No
fault.created body string Occurrence
time of error No
fault.message body string Error
message No
fault.details body string Error details No
progress body integer Operation
progress No
OS-EXT-SRV-ATTR:hostname body string hostname No
OS-EXT-SRV-ATTR:reservation_id body string reservation id No
OS-EXT-SRV-ATTR:launch_index body integer Boot order No
OS-EXT-SRV-ATTR:kernel_id body string Kernel ID No
OS-EXT-SRV-ATTR:ramdisk_id body string ramdisk
image id No
OS-EXT-SRV-ATTR:root_device_name body string Root device
name No
OS-EXT-SRV-ATTR:user_data body string User data No
locked body boolean Whether the
VM is locked No
host_status body string Node status No
description body string Description No
tags body array VM tags No
trusted_image_certificates body array List of trusted
certificates No
locked_reason body string Reason for
locking No
Response Example:
{ "
servers": [
{ "
status": "
ACTIVE",
"os-extended-volumes:volumes_attached": [
{ "
id": "
ca0b6efc-deda-4963-a7c3-d10c9af601ad"
},
{ "
id": "
6a7cf9b8-bf5b-46b5-a5c5-1a30640ed508"
} ],
"updated": "2019-08-21T03:14:09.000000",
"OS-EXT-STS:task_state": "",
"user_id": "",
"name": "real_os_something will happen after deletion",
"links": [
{ "href": "
https://10.134.43.173/openstack/compute/v2/servers/2dbfc4c6-3731-4f
4d-b802-825c28b52e29",
"rel": "self"
},
{ "
href": "
https://10.134.43.173/openstack/compute/servers/2dbfc4c6-3731-4f4db802-
825c28b52e29",
"rel": "bookmark"
} ],
"created": "2019-08-21T03:02:07.000000",
"tenant_id": "b4e1cd262fff44e7b63dbcbf51e6b4d1",
"image": null,
"image": null,
"OS-EXT-STS:power_state": 1,
"addresses": {
"Subnet 1": [
{ "
OS-EXT-IPS-MAC:mac_addr": "
fa:16:3e:6d:7b:e6",
"version": 4,
"addr": "192.168.0.69",
"OS-EXT-IPS:type": "fixed"
},
{ "
OS-EXT-IPS-MAC:mac_addr": "
fa:16:3e:86:13:5c",
"version": 4,
"addr": "192.168.0.3",
"OS-EXT-IPS:type": "fixed"
}] },
"accessIPv4": "",
"hostId": "host-a0369f0346d7",
"OS-EXT-STS:vm_state": "active",
"OS-EXT-SRV-ATTR:host": "",
"flavor": {
"id": "90bea071-514e-4c34-8c69-247565abb533",
"links": [
{ "
href": "
https://10.134.43.173/openstack/compute/flavors/90bea071-514e-4c34-
8c69-247565abb533",
"rel": "bookmark"
}] },
"OS-EXT-AZ:availability_zone": "10.134.43.21",
"id": "2dbfc4c6-3731-4f4d-b802-825c28b52e29",
"security_groups": [
{ "
name": "
default"
} ],
"metadata": {}
},
{ "
status": "
SHUTOFF",
"os-extended-volumes:volumes_attached": [
{ "
id": "
711e4d5a-b9b7-4510-ab9b-f5fad2722827"
} ],
"updated": "2019-09-12T09:24:25.000000",
"OS-EXT-STS:task_state": "",
"user_id": "",
"name": "real_os",
"links": [
{ "
href": "
https://10.134.43.173/openstack/compute/v2/servers/9c91530b-2fb1-42
a0-afe6-f2d86b03972a",
"rel": "self"
},
{ "
href": "
https://10.134.43.173/openstack/compute/servers/9c91530b-2fb1-42a0-
afe6-f2d86b03972a",
"rel": "bookmark"
} ],
"created": "2019-09-12T09:24:25.000000",
"tenant_id": "b4e1cd262fff44e7b63dbcbf51e6b4d1",
"image": null,
"OS-EXT-STS:power_state": 4,
"addresses": {},
"accessIPv4": "",
"hostId": "cluster",
"OS-EXT-STS:vm_state": "stopped",
"OS-EXT-SRV-ATTR:host": "",
"flavor": {
"id": "90bea071-514e-4c34-8c69-247565abb533",
"links": [
{ "
href": "
https://10.134.43.173/openstack/compute/flavors/90bea071-514e-4c34-
8c69-247565abb533",
"rel": "bookmark"
}] },
"OS-EXT-AZ:availability_zone": "10.134.43.21",
"id": "9c91530b-2fb1-42a0-afe6-f2d86b03972a",
"security_groups": [
{ "
name": "
default"
"name": "default"
} ],
"metadata": {}
}]
}
4.3.4.5.4. Response Code
Success: 200
Error: 400, 401, 403, 409
4.3.4.6. Edit virtual machine
 Note
Edit VMs. Editing VM using OpenStack APIs is supported. Currently, you can only change VM
names. This API was added to the version 6.0.19R3 on March 16, 2020. The latest version is
6.0.20.
Scenario:
Currently, you can only change VM names.
4.3.4.6.1. URI
REST VERB PATH Description
PUT /servers/{server_id} Edit virtual machine
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.4.6.2. Request
Request Parameters:
Name Location Type Description Required
server body object VM object Yes
name body string New VM name No
accessIPv4 body string ID of the elastic IP
address
Not
supported
OS-DCF:diskConfig body string Disk configurator Not
supported
description body string Description Not
supported
Request Example:
Change the VM name:
{
"server":{
"name": "new-server-name",
}
}
4.3.4.6.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
server body object VM details Yes
accessIPv4 body string Elastic IP
address Yes
addresses body object,none Network
information
No. It
may be
left
blank.
created body string Creation time Yes
flavor body object
VM
configuration
information
Yes
flavor.id body string
VM
configuration
ID
Yes
flavor.links body array
VM
configuration
links
Yes
hostId body string Compute
node ID Yes
id body string VM ID Yes
image body object Image
information Yes
links body array Links to
resources Yes
metadata body object Metadata Yes
name body string VM name Yes
OS-EXT-AZ:availability_zone body string Resource pool
information Yes
OS-EXT-SRV-ATTR:host body string Compute
node name Yes
OS-EXT-STS:power_state body string
Node power
status. Valid
values: 0:
NOSTATE; 1:
RUNNING; 3:
PAUSED; 4:
SHUTDOWN;
6: CRASHED;
and 7:
SUSPENDED
Yes
OS-EXT-STS:task_state body string VM task
status Yes
OS-EXT-STS:vm_state body string VM status Yes
Information
about the
os-extended-volumes:volumes_attached body array
about the
datastore
mounted to
the VM
Yes
os-extended-volumes:volumes_attached.id body uuid
ID of the
datastore
mounted to
the VM
Yes
security_groups body array
List of
security
groups
Yes
security_group.name body string Security
group name Yes
status body string VM status Yes
tenant_id body string Tenant ID Yes
updated body string Update time Yes
user_id body string User ID Yes
accessIPv6 body string IPv6 address No
config_drive body string
Whether to
configure the
hypervisor.
No
flavor.vcpus body integer Flavor CPU
cores No
flavor.ram body integer Flavor
memory size No
flavor.disk body string Flavor disk
size No
flavor.ephemeral body object
Flavor
temporary
disk size
No
flavor.swap body integer Flavor swap
partition size No
flavor.original_name body string Flavor name No
flavor.extra_specs body object
Flavor
additional
attribute
No
flavor.extra_specs.key body string
Flavor
additional
attribute key
No
flavor.extra_specs.value body string
Flavor
additional
attribute
value
No
key_name body string Key pair No
OS-DCF:diskConfig body string
Default
configurations
for newly
partitioned
disks
No
OS-EXT-SRV-ATTR:hypervisor_hostname body string
Name of the
host where
the
hypervisor
resides
No
OS-EXT-SRV-ATTR:instance_name body string VM name No
os-extendedvolumes:
volumes_attached.delete_on_termination body boolean
Whether to
be deleted
together with
the VM
No
the VM
OS-SRV-USG:launched_at body string Startup time No
OS-SRV-USG:terminated_at body string Deletion time No
fault body object Error event
information No
fault.code body integer Error code No
fault.created body string Occurrence
time of error No
fault.message body string Error
message No
fault.details body string Error details No
progress body integer Operation
progress No
OS-EXT-SRV-ATTR:hostname body string hostname No
OS-EXT-SRV-ATTR:reservation_id body string reservation id No
OS-EXT-SRV-ATTR:launch_index body integer Boot order No
OS-EXT-SRV-ATTR:kernel_id body string Kernel ID No
OS-EXT-SRV-ATTR:ramdisk_id body string ramdisk
image id No
OS-EXT-SRV-ATTR:root_device_name body string Root device
name No
OS-EXT-SRV-ATTR:user_data body string User data No
locked body boolean Whether the
VM is locked No
host_status body string Node status No
description body string Description No
tags body array VM tags No
trusted_image_certificates body array List of trusted
certificates No
locked_reason body string Reason for
locking No
Response Example:
{ "
server": {
"status": "ACTIVE",
"os-extended-volumes:volumes_attached": [],
"updated": "2020-03-11T07:09:37.000000",
"OS-EXT-STS:task_state": "",
"user_id": "",
"name": "new-server-name",
"links": [{
"href": "https://10.132.47.135/openstack/compute/v2/servers/b7332d86-1702-47
4b-92ed-61e0cb8dec9d",
"rel": "self"
},
{ "
href": "
https://10.132.47.135/openstack/compute/servers/b7332d86-1702-474b-
92ed-61e0cb8dec9d",
"rel": "bookmark"
}],
"created": "2020-03-11T07:09:37.000000",
"tenant_id": "c4b2f0b90fb449429372ed075998ee1d",
"image": null,
"OS-EXT-STS:power_state": 1,
"addresses": {
},
"accessIPv4": "",
"hostId": "host-6c92bf99387c",
"OS-EXT-STS:vm_state": "active",
"OS-EXT-SRV-ATTR:host": "",
"flavor": {
"id": "0c3b24e2-cbd8-4eb1-acf6-2a41b00c5b4f",
"links": [{
"href": "https://10.132.47.135/openstack/compute/flavors/0c3b24e2-cbd8-4eb1-
acf6-2a41b00c5b4f",
"rel": "bookmark"
}]
},
"OS-EXT-AZ:availability_zone": "10.132.16.111-site",
"id": "b7332d86-1702-474b-92ed-61e0cb8dec9d",
"security_groups": [{
"name": "default"
}],
"metadata": {
}
}}
4.3.4.6.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.5. VM O&M Management
4.3.5.1. Mount NIC to VM
 Note
Mount a NIC to the VM.
Scenario:
N/A
Notes:
Up to 10 NICs (including one NIC mounted during VM initialization) can be mounted to a VM.
Only powered-on VMs with vmTools installed support NIC hot swapping and IP address setting.
This API needs to wait synchronously for the NIC to be created. Therefore, the API response time is
longer than that in the asynchronous mode.
If multiple NICs are associated with the VM, and an elastic IP address is configured for one NIC, you
need to check whether the routing rules are correct on the VM.
4.3.5.1.1. URI
REST VERB PATH Description
POST /servers/{server_id}/os-interface Mount NIC to VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.1.2. Request
Request Parameters:
Name Location Type Description Required
interfaceAttachment body object Mounting information Yes
port_id body string Port UUID. This parameter is
not supported. No
net_id body string Network UUID (subnet ID in
the current network model) Yes
fixed_ips body array List of specified IP addresses No
ip_address body boolean Specified IP address No
Request Example:
{
"interfaceAttachment": {
"net_id": "3cb88960-c67c-4dae-8c63-8c04ef9b4864"
}
}
4.3.5.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
interfaceAttachment body object
Information body
returned for NIC
mounting
Yes
port_state body string Port status Yes
fixed_ips body array NIC IP address
information Yes
fixed_ips.subnet_id body string Subnet ID (UUID) Yes
fixed_ips.ip_address body string NIC IP address Yes
port_id body string Port ID (UUID) Yes
mac_addr body string NIC MAC address Yes
net_id body string Network ID (UUID) Yes
Response Example:
{
"interfaceAttachment": {
"port_state": "ACTIVE",
"fixed_ips": [
{
"subnet_id": "3cb88960-c67c-4dae-8c63-8c04ef9b4864",
"ip_address": "192.168.0.15"
}
],
"port_id": "d791f6f9-eb08-4b0b-a260-5b5843d2ca51",
"mac_addr": "fa:16:3e:42:17:13",
"net_id": "3cb88960-c67c-4dae-8c63-8c04ef9b4864"
}
}
4.3.5.1.4. Response Code
Success: 200
Error: 400, 401, 403, 404, 409
4.3.5.2. Mount datastore to VM
 Note
Add a datastore to the VM.
Scenario:
The VM supports datastore mounting when it is being powered on or shut down.
Datastores can be mounted during VM power-on only when vmTools has been installed on the VM.
Up to 15 disks can be mounted to a VM with vmTools installed, and up to 3 disks can be mounted to a
VM with no vmTools installed.
Mounting is prohibited when the storage tag for the VM is different from that for the disk.
4.3.5.2.1. URI
REST
VERB PATH Description
POST /servers/{server_id}/os-volume_attachments
Mount
datastore to
VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.2.2. Request
Request Parameters:
Name Location Type Description Required
volumeAttachment body object Datastore mounting request
body Yes
volumeId body string Datastore ID Yes
device body string Device name. This
parameter is not supported. No
tag body string Device tag. This parameter
is not supported. No
delete_on_termination body boolean
Whether to be deleted
together with the VM. This
parameter is not supported.
No
Request Example:
{
"volumeAttachment": {
"volumeId": "9163ef79-5bd5-4e3b-a560-3055c1e43424"
}
}
4.3.5.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
volumeAttachment body object Returned mounting
information Yes
volumeId body string Datastore UUID Yes
serverId body string VM UUID Yes
device body string
Device information. This
parameter is not
supported, and no
information is returned.
No
id body string Mounting information
UUID Yes
tag body string Device tag. This parameter
is not supported. No
delete_on_termination body boolean
Whether to be deleted
together with the VM. This
parameter is not
supported.
No
Response Example:
{
"volumeAttachment": {
"device": "",
"serverId": "2942ef79-5bd5-4e3b-a264-3055c1e44189",
"id": "9163ef79-5bd5-4e3b-a560-3055c1e43424",
"volumeId": "9163ef79-5bd5-4e3b-a560-3055c1e43424"
}
}
4.3.5.2.4. Response Code
Success: 200
Error: 400, 401, 403, 404, 409
4.3.5.3. Open the VM Console
 Note
Open the VM Console
Scenario:
The type parameter can be set to novnc only.
4.3.5.3.1. URI
REST VERB PATH Description
POST /servers/{server_id}/action Open the VM Console
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.3.2. Request
Request Parameters:
Name Location Type Description Required
os-getVNCConsole body object Action of opening VM
console Yes
Request Example:
{
"os-getVNCConsole": {
"type": "novnc"
}
}
4.3.5.3.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
console body object Remote console object Yes
type body string VM console type. This parameter can
be set to novnc only. Yes
url body string VM console URL Yes
Response Example:
{
"console": {
"url": "https://10.103.18.80/openstack/compute/v2/
vncproxy?token_id=de4bac6d90a14e3ea1a5ba71efb7a50b&server_id
=c7473647-2ecf-4406-9e99-2dc0abfb8bea&name=test1",
"type": "novnc"
}
}
4.3.5.3.4. Response Code
Success: 200
Error: 400, 401, 403, 404, 409
4.3.5.4. Unmount NIC from VM
 Note
Unmount a NIC from the VM.
Scenario:
The VM must be shut down.
The first NIC for the VM on the VPC network cannot be unmounted.
4.3.5.4.1. URI
REST
VERB PATH Description
DELETE /servers/{server_id}/os-interface/{port_id} Unmount NIC
from VM
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
server_id path string VM UUID Yes
port_id path string NIC port ID Yes
4.3.5.4.2. Request
Request Parameters: None
Request Example: N/A
4.3.5.4.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.4.4. Response Code
Success: 200
Error: 400, 401, 403, 404, 409
4.3.5.5. Unmount datastore from VM
 Note
Unmount a datastore from the VM.
Scenario:
Datastores can be unmounted from only VMs that are shut down.
Bootable datastores can be unmounted.
4.3.5.5.1. URI
REST
VERB PATH Description
DELETE /servers/{server_id}/os-volume_attachments/{volume_id}
Unmount
datastore
from VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
volume_id path string UUID of the
unmounted datastore Yes
4.3.5.5.2. Request
Request Parameters: None
Request Example: N/A
4.3.5.5.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.5.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.5.6. Set Password for VM
 Note
Set the password for a VM.
Scenario:
Only VMs with vmTools installed are supported.
Resetting password is supported for VMs that are powered on and shut down.
If this API is called after the VM is powered on, the settings will take effect after restart.
If this API is called after the VM is shut down, the settings will take effect upon power-on.
Password requirements: The password must contain 8-30 characters consisting of at least three of the
following types of characters: uppercase letters, lowercase letters, digits, and special characters including
()`~!@#$%^&*_-+=|{}[]:;’<>,.?/
The root administrator password is reset for a Linux operating system, and the administrator password is
reset for a Windows operating system. Be sure to enable the administrator role for the system.
The password for a Windows operating system cannot start with a slash (/).
For VM creation from available datastores, the VM password cannot be changed because the operating
system type of the new VM cannot be identified. In this case, you need to log in to HCI and edit the
operating system type (specified by os_type) to determine the VM type.
4.3.5.6.1. URI
REST VERB PATH Description
POST /servers/{server_id}/action Change the VM
password
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.6.2. Request
Request Parameters:
Name Location Type Description Required
changePassword body object Change on password of server
administrator account Yes
adminPass body string Password of server
administrator account Yes
Request Example:
{
"changePassword" : {
"adminPass" : "Testpassword123"
}
}
4.3.5.6.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.6.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.5.7. Modify VM Configurations
 Note
Modify VM configurations
Scenario:
You can reconfigure a VM by specifying a new flavor_id.
Notes:
Only VMs that are shut down can be reconfigured.
For a VM created from a built-in image, the root disk size cannot be adjusted, but the CPU cores and
memory size can be adjusted.
The root disk size of the VM can be only increased but not decreased.
If you reconfigure a VM by specifying a new flavor_id, only CPU cores, memory size, and root disk size
can be adjusted.
The disk to be adjusted is the root disk of the VM, which must be the boot preference.
4.3.5.7.1. URI
REST VERB PATH Description
POST /servers/{server_id}/action Power on VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.7.2. Request
Request Parameters:
Name Location Type Description Required
resize body object Reconfigure a VM Yes
flavorRef body string VM configuration ID Yes
Request Example:
{
"resize" : {
"flavorRef" : "d3923472-e58d-4ffd-be23-51eeeefb8cea"
}
}
4.3.5.7.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.7.4. Response Code
-Success: 202
-Error: 400, 401, 403, 404, 109
4.3.5.8. Power on VM
 Note
Start a VM.
Scenario:
None
4.3.5.8.1. URI
REST VERB PATH Description
POST /servers/{server_id}/action Power on VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.8.2. Request
Request Parameters:
Name Location Type Description Required
os-start body string Power-on action Yes
Request Example:
{
"os-start": null
}
4.3.5.8.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.8.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.3.5.9. Shut Down VM
 Note
Shut down a VM.
Scenario:
Shutdown does not indicate direct power-off. Therefore, shutdown failure may occur.
4.3.5.9.1. URI
REST VERB PATH Description
POST /servers/{server_id}/action Shut Down VM
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.3.5.9.2. Request
Request Parameters:
Name Location Type Description Required
os-stop body string Shutdown action Yes
Request Example:
{
"os-stop": null
}
4.3.5.9.3. Response
Response Parameters: None
Response Example: N/A
4.3.5.9.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
4.4. neutron
 Note
Neutron API details
Endpoint：https://{acmp_ip}/openstack/network
Sample URL:
URL composition: Endpoint/path Example: Create elastic IP addresses (POST)
https://10.132.17.99/openstack/network/v2.0/floatingips
4.4.1. Version
4.4.1.1. Query Details About Support for v2.0 APIs
 Note
Return details about support for v2.0 APIs.
4.4.1.1.1. URL
REST VERB PATH Description
GET /{api_version}/ Return details about support for v2.0 APIs
Filtering is not supported currently.
4.4.1.1.2. Return Value
Success: 200
Error:
4.4.1.1.3. Request
Request parameters
None
4.4.1.1.4. Request Example
None
4.4.1.1.5. Response
Name Type Description
resources array None
collection string Resource collection name
name string Resource name
links array Version links
href string Link address
rel string Version link relationship
4.4.1.1.6. Response Example
{
"resources": [
{
"collection": "subnets",
"name": "subnet",
"links": [
{
"href": "https://10.132.17.99/openstack/network/subnets",
"rel": "self"
}
]
},
{
"collection": "subnetpools",
"name": "subnetpool",
"links": [
{
"href": "https://10.132.17.99/openstack/network/subnetpools",
"rel": "self"
}
]
},
{
"collection": "networks",
"name": "network",
"links": [
{
"href": "https://10.132.17.99/openstack/network/networks",
"rel": "self"
}
]
},
{
"collection": "ports",
"name": "port",
"links": [
{
"href": "https://10.132.17.99/openstack/network/ports",
"rel": "self"
}
]
}
]
}
4.4.1.2. Query Details About v2.0 API Extensions
 Note
Return details about extensions of v2.0 APIs.
4.4.1.2.1. URL
REST VERB PATH Description
GET /extensions/{alias} Return details about supported
extensions of v2.0 APIs
4.4.1.2.2. Return Value
Success: 200
Error:
4.4.1.2.3. Request
Request parameters
Name Location Type Description Required
alias path string Extension alias Yes
4.4.1.2.4. Request Example
None
4.4.1.2.5. Response
Name Type Description
extension object None
alias string Extension alias
updated string Update time
name string Extension name
links array Link address
description string Extension description
4.4.1.2.6. Response Example
{
"extension": {
"alias": "sangfor_l3",
"updated": "2012-07-20T10:00:00-00:00",
"name": "Neutron L3 Router",
"links": [],
"description": "Router abstraction for basic L3 forwarding between L2 Neut
ron networks and access to external networks via a NAT gateway."
}
}
4.4.1.3. Query List of Extensions
 Note
Return the list of supported extensions of v2.0 APIs
4.4.1.3.1. URL
REST VERB PATH Description
GET /extensions Return the list of supported extensions of v2.0
APIs
4.4.1.3.2. Return Value
Success: 200
Error:
4.4.1.3.3. Request
Request parameters
None
4.4.1.3.4. Request Example
None
4.4.1.3.5. Response
Name Type Description
extension object None
alias string Extension alias
updated string Update time
name string Extension name
links array Link address
description string Extension description
4.4.1.3.6. Response Example
{
"extension": {
"alias": "sangfor_l3",
"updated": "2012-07-20T10:00:00-00:00",
"name": "Neutron L3 Router",
"links": [],
"description": "Router abstraction for basic L3 forwarding between L2 Neut
ron networks and access to external networks via a NAT gateway."
}
}
4.4.1.4. Query List of Supported Versions
 Note
Return the list of supported versions.
4.4.1.4.1. URL
REST VERB PATH Description
GET / Return the list of API versions supported by Neutron
Filtering is not supported currently.
4.4.1.4.2. Return Value
Success: 200
Error:
4.4.1.4.3. Request
Request parameters
None
4.4.1.4.4. Request Example
None
4.4.1.4.5. Response
Name Type Description
versions array None
status string API usage status
id string API version
links array Version links
href string Link address
rel string Version link relationship
4.4.1.4.6. Response Example
{ "
versions": [
{
"status": "CURRENT",
"id": "v2.0",
"links": [
{
"href": "https://10.132.17.99/openstack/network/v2.0/",
"rel": "self"
}
]
}
]
4.4.2. Port
4.4.2.1. Query Port Details
 Note
Return details about a specified port
4.4.2.1.1. URL
REST VERB PATH Description
GET /v2.0/ports/{port_id} Return details about a specified
port
4.4.2.1.2. Return Value
Success: 200
Error: 401, 404
4.4.2.1.3. Request
Request parameters
Name Location Type Description Required
port_id path string Device UUID Yes
fields query string Fields to be output No
4.4.2.1.4. Request Example
None
4.4.2.1.5. Response
Name Location Type Description
id body string Port ID
tenant_id body string Tenant ID
project_id body string Tenant ID
name body string Port name
description body string Port description. Only a null string is
returned.
created_at body string Creation time
updated_at body string Update time (default value: None)
network_id body string ID of the network associated with the
port
admin_state_up body boolean Port enabling status. Valid values: true
and false
mac_address body string Port MAC address
fixed_ips body array
IP address group of the port, which is an
array of tuples in [ip_address, subnet_id]
format. ip_address is assigned from the
subnet specified by subnet_id.
device_id body string
ID of the device that uses this port. The
device can be a service instance or a
virtual router.
Type of the device owner that uses this
port. Valid values: neutron (nebular),
compute:nova (compute:server),
network:router_gateway
device_owner body string network:router_gateway
(network:router_gateway),
network:router_interface
(network:router_interface), and
network:floatingip (network:floatingip)
status body string Port status. Only ACTIVE is returned.
allowed_address_pairs body array
Address pairs. The value is an array of
tuples. For a server associated with this
port, an address pair (IP address, MAC
address) can be selected as the source
address for sending messages. Only an
empty list is returned.
extra_dhcp_opts body array List of additional DHCP options. Only an
empty list is returned.
port_security_enabled body boolean Port security status. Only false is
returned.
security_groups body array Security groups associated with the
port. Only an empty list is returned.
binding:vnic_type body string Type of the virtual NIC associated with
this port. Only normal is returned.
revision_number body integer New API version after revision. Only 0
is returned.
tags body array
Tags for resources. An interface is
provided for tag management. Only an
empty list is returned.
binding:vif_type body string
Type of the device that uses this port.
This parameter is supported only for
administrators. “unbound” is returned
for elastic IP addresses, and “sangfor” is
returned for other devices.
binding:vif_details body object
Additional information of the port. This
parameter is supported only for
administrators. An empty dictionary is
returned for elastic IP addresses, and
{‘port_filter’:true} is returned for other
devices.
binding:host_id body string
ID of the node to which this port
belongs. This parameter is supported
only for administrators. Only a null string
is returned.
binding:profile body object
Port profile. This parameter is supported
only for administrators. Only an empty
dictionary is returned.
resource_request body object Not supported
mac_learning_enabled body boolean Not supported
uplink_status_propagation body boolean Not supported
qos_policy_id body string Not supported
ip_allocation body string Not supported
data_plane_status body string Not supported
dns_assignment body object Not supported
dns_domain body string Not supported
dns_name body string Not supported
mac_learning_enabled body boolean Not supported
4.4.2.1.6. Response Example
{
"port": {
"device_id": "52de9530-88db-48aa-b380-f50f9eaf956a",
"security_groups": [],
"id": "5e232476-624e-4c0f-8c0a-6c01ec48b5db",
"fixed_ips": [
{
"ip_address": "192.168.0.1",
"subnet_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613"
}
],
"project_id": "0dc6878255914b34a0eda1dddb9e35c0",
"extra_dhcp_opts": [],
"tenant_id": "0dc6878255914b34a0eda1dddb9e35c0",
"network_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613",
"tags": [],
"allowed_address_pairs": [],
"description": "",
"created_at": "2019-06-01T10:00:06.000000",
"status": "ACTIVE",
"admin_state_up": true,
"updated_at": "2019-06-02T08:35:10.000000",
"name": "vpc-inner-vrouter",
"device_owner": "network:router_interface",
"revision_number": 0,
"mac_address": "fa:16:3e:a0:ca:56",
"binding:vnic_type": "normal",
"port_security_enabled": false
}
}
4.4.2.2. Query List of Ports
 Note
Return the list of ports
4.4.2.2.1. URL
REST VERB PATH Description
GET /v2.0/ports Return the list of ports
Sorting and pagination are not supported currently.
4.4.2.2.2. Return Value
Success: 200
Error: 401
4.4.2.2.3. Request
Request parameters
Name Location Type Description Required
id body string Device ID No
tenant_id body string Tenant ID No
project_id body string Tenant ID No
name body string Port name No
description body string Port description No
admin_state_up body boolean Port management status No
network_id body string ID of the network associated
with the port No
device_id body string ID of the device that uses this
port No
fixed_ips body array
IP address group of the port
(format: [ip_address,
subnet_id])
No
device_owner body string Type of the device owner
that uses this port No
mac_address body string Port MAC address No
status body string Port status No
binding:host_id body string ID of the node to which this
port belongs No
revision_number body integer New API version after
revision No
fields body string Fields to be output No
sort_dir body string Sorting order No
sort_key body string Key for sorting No
tags body string
The tag of elastic IP address
is the same as the tag that is
passed in.
No
tags-any body string
The tag of elastic IP address
is included in the tags that are
passed in.
No
not-tags body string
The tag of elastic IP address
is not the same as the tag that
is passed in.
No
not-tags-any body string
The tag of elastic IP address
is not included in the tags that
are passed in.
No
ip_allocation body string
IP address allocation method
for the port. Valid values:
deferred, immediate, and
none
No
mac_learning_enabled body boolean Not supported No
4.4.2.2.4. Request Example
None
4.4.2.2.5. Response
Name Location Type Description
id body string Port ID
tenant_id body string Tenant ID
project_id body string Tenant ID
name body string Port name
description body string Port description. Only a null string is
returned.
created_at body string Creation time
updated_at body string Update time (default value: None)
network_id body string ID of the network associated with the
port
admin_state_up body boolean Port enabling status. Valid values: true
and false
mac_address body string Port MAC address
fixed_ips body array
IP address group of the port, which is an
array of tuples in [ip_address, subnet_id]
format. ip_address is assigned from the
subnet specified by subnet_id.
device_id body string
ID of the device that uses this port. The
device can be a service instance or a
virtual router.
device_owner body string
Type of the device owner that uses this
port. Valid values: neutron(nebular),
compute:nova (compute:server),
network:router_gateway
(network:router_gateway),
network:router_interface
(network:router_interface), and
network:floatingip (network:floatingip)
status body string Port status. Only ACTIVE is returned.
allowed_address_pairs body array
Address pairs. The value is an array of
tuples. For a server associated with this
port, an address pair (IP address, MAC
address) can be selected as the source
address for sending messages. Only an
empty list is returned.
extra_dhcp_opts body array List of additional DHCP options. Only an
empty list is returned.
port_security_enabled body boolean Port security status. Only false is
returned.
security_groups body array Security groups associated with the
port. Only an empty list is returned.
binding:vnic_type body string Type of the virtual NIC associated with
this port. Only normal is returned.
revision_number body integer New API version after revision. Only 0
is returned.
tags body array
Tags for resources. An interface is
provided for tag management. Only an
empty list is returned.
binding:vif_type body string
Type of the device that uses this port.
This parameter is supported only for
administrators. “unbound” is returned
for elastic IP addresses, and “sangfor” is
returned for other devices.
binding:vif_details body object
Additional information of the port. This
parameter is supported only for
administrators. An empty dictionary is
returned for elastic IP addresses, and
binding:vif_details body object returned for elastic IP addresses, and
{‘port_filter’:true} is returned for other
devices.
binding:host_id body string
ID of the node to which this port
belongs. This parameter is supported
only for administrators. Only a null string
is returned.
binding:profile body object
Port profile. This parameter is supported
only for administrators. Only an empty
dictionary is returned.
resource_request body object Not supported
mac_learning_enabled body boolean Not supported
uplink_status_propagation body boolean Not supported
qos_policy_id body string Not supported
ip_allocation body string Not supported
data_plane_status body string Not supported
dns_assignment body object Not supported
Response Example
{
"ports": [
{
"name": "vpc-inner-vrouter",
"security_groups": [],
"extra_dhcp_opts": [],
"fixed_ips": [
{
"ip_address": "192.168.0.1",
"subnet_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613"
}
],
"project_id": "0dc6878255914b34a0eda1dddb9e35c0",
"admin_state_up": true,
"created_at": "2019-06-01T10:00:06.000000",
"tenant_id": "0dc6878255914b34a0eda1dddb9e35c0",
"network_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613",
"tags": [],
"allowed_address_pairs": [],
"description": "",
"status": "ACTIVE",
"updated_at": "2019-06-02T08:35:10.000000",
"binding:vnic_type": "normal",
"device_id": "52de9530-88db-48aa-b380-f50f9eaf956a",
"device_owner": "network:router_interface",
"revision_number": 0,
"mac_address": "fa:16:3e:a0:ca:56",
"id": "5e232476-624e-4c0f-8c0a-6c01ec48b5db",
"port_security_enabled": false
},
{
"name": "test-tmp-port",
"security_groups": [],
"extra_dhcp_opts": [],
"fixed_ips": [
{
"ip_address": "192.168.0.5",
"subnet_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613"
}
],
"project_id": "0dc6878255914b34a0eda1dddb9e35c0",
"admin_state_up": true,
"created_at": "2019-06-02T08:37:39.000000",
"tenant_id": "0dc6878255914b34a0eda1dddb9e35c0",
"network_id": "1ec0a9b6-2b27-464d-9cff-ef6da6a0e613",
"tags": [],
"allowed_address_pairs": [],
"description": "",
"status": "ACTIVE",
"updated_at": null,
"binding:vnic_type": "normal",
"device_id": "",
"device_owner": null,
"revision_number": 0,
"mac_address": "fa:16:3e:ab:b5:39",
"id": "aa39a412-1ad9-4b75-8c02-128f69eef4b8",
"port_security_enabled": false
}
]
}
4.4.3. Network
4.4.3.1. Query Network Details
 Note
Return network details
4.4.3.1.1. URL
REST VERB PATH Description
GET /v2.0/networks/{network_id} Return network
details
4.4.3.1.2. Return Value
Success: 200
Error: 401, 404
4.4.3.1.3. Request
Request parameters
Name Location Type Description Required
network_id path string Network UUID Yes
fields query string Fields to be output No
4.4.3.1.4. Request Example
None
4.4.3.1.5. Response
Name Location Type Description
id body string Network ID
name body string Name
description body string Description
created_at body string Creation time
updated_at body string Update time
project_id body string Tenant ID
tenant_id body string Tenant ID
tags body array Tags
revision_number body integer New API version after revision
admin_state_up body boolean Whether to enable the tenant
status body string Status
subnets body array List of subnet IDs
ipv4_address_scope body string IPv4 address scope
ipv6_address_scope body string IPv6 address scope
availability_zone_hints body array List of IDs of alternative resource pools
availability_zones body array List of resource pools
router:external body soolean Whether the network is an external
network
shared body soolean Whether the network is a shared
network
mtu body integer Network MTU
port_security_enabled body boolean Whether to enable port security
is_default body boolean
Whether the network is an external
network by default. This parameter is
not supported.
dns_domain body string DNS domain. This parameter is not
supported.
vlan_transparent body boolean
Whether VLAN transparent mode is
used. During deployment, this plugin is
not enabled for the configuration file.
provider:network_type body string Tunnel network type. This parameter is
not supported for tenants.
provider:physical_network body string Connected physical interface. This
parameter is not supported for tenants.
provider:segmentation_id body integer Tunnel network segment ID. This
parameter is not supported for tenants.
segments body array
Multi-tunnel network segment
information. This parameter is not
supported for tenants.
l2_adjacency body boolean Not supported
qos_policy_id body string Not supported
network body object Not supported
4.4.3.1.6. Response Example
{ "
network": {
"status": "ACTIVE",
"router:external": false,
"availability_zone_hints": [
"edecd33e-1ec0-40f1-b14a-3c6e38416c66"
],
"availability_zones": [],
"ipv4_address_scope": null,
"description": "",
"port_security_enabled": false,
"subnets": [
"3c914555-42d4-4796-a16d-7f503e71bbd6"
],
"updated_at": "2019-07-05T03:56:10Z",
"tenant_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"created_at": "2019-07-05T03:56:10Z",
"tags": [],
"ipv6_address_scope": null,
"mtu": 1500,
"revision_number": 0,
"admin_state_up": true,
"shared": false,
"project_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"id": "3c914555-42d4-4796-a16d-7f503e71bbd6",
"name": "Subnet 1"
}}
4.4.3.2. Query List of Networks
 Note
Return the list of networks
4.4.3.2.1. URL
REST VERB PATH Description
GET /v2.0/networks Return the list of networks
Sorting and pagination are not supported currently.
4.4.3.2.2. Return Value
Success: 200
Error: 401
4.4.3.2.3. Request
Request parameters
Name Location Type Description Required
id query string Network ID No
name query string Subnet name No
project_id query string Tenant ID No
tenant_id query string Tenant ID No
description query string Description No
revision_number query integer New API version after
revision No
admin_state_up query boolean Whether to enable the
tenant No
mtu query integer MTU No
router:external query boolean Whether the network
is an external network No
shared query boolean Whether the network
is a shared network No
status query string Status No
fields query string Fields to be output No
sort_dir query string Sorting order No
sort_key query string Key for sorting No
tags query string
The tag of elastic IP
address is the same as
the tag that is passed
in.
No
tags-any query string
The tag of elastic IP
address is included in
the tags that are
passed in.
No
not-tags query string
The tag of elastic IP
address is not the same
as the tag that is
passed in.
No
not-tags-any query string
The tag of elastic IP
address is not included
in the tags that are
passed in.
No
is_default query boolean
Whether the network
is an external network
by default
No
provider:network_type query string Tunnel network type No
provider:physical_network query string Connected physical
interface No
provider:segmentation_id query integer Tunnel network
segment ID No
vlan_transparent query boolean
Whether VLAN
transparent mode is
used
No
4.4.3.2.4. Request Example
None
4.4.3.2.5. Response
Name Location Type Description
id body string ID
name body string Name
description body string Description
created_at body string Creation time
updated_at body string Update time
project_id body string project ID
tenant_id body string Tenant ID
tags body array Tags
revision_number body integer New API version after revision
admin_state_up body boolean Whether to enable the tenant
status body string Status
subnets body array List of subnet IDs
ipv4_address_scope body string IPv4 address scope
ipv6_address_scope body string IPv6 address scope
availability_zone_hints body array List of IDs of alternative resource pools
availability_zones body array List of resource pools
router:external body boolean Whether the network is an external
network
shared body boolean Whether the network is a shared
network
mtu body Integer Network MTU
port_security_enabled body boolean Whether to enable port security
is_default body boolean Not supported
dns_domain body string Not supported
vlan_transparent body boolean
Whether VLAN transparent mode is
used. During deployment, this plugin is
not enabled for the configuration file.
provider:network_type body string Tunnel network type. This parameter is
not supported for tenants.
provider:physical_network body string Connected physical interface. This
parameter is not supported for tenants.
provider:segmentation_id body integer Tunnel network segment ID. This
parameter is not supported for tenants.
segments body array
Multi-tunnel network segment
information. This parameter is not
supported for tenants.
4.4.3.2.6. Response Example
{
"networks": [{
"name": "3d5d080f-5ebe-43fd-ae22-1a81af76fc9d",
"id": "5a132739-10ef-46c5-b9f9-78d6c6ecff37",
"project_id": "3b9dd072cb7d46d8be4072df4ba506a3",
"port_security_enabled": false,
"is_default": false,
"tenant_id": "3b9dd072cb7d46d8be4072df4ba506a3",
"shared": true,
"subnets": [
"5a132739-10ef-46c5-b9f9-78d6c6ecff37"
],
"description": "",
"availability_zones": [],
"availability_zone_hints": [],
"router:external": true,
"status": "ACTIVE",
"created_at": "2019-05-28T02:29:29Z",
"tags": [],
"ipv6_address_scope": null,
"mtu": 1500,
"updated_at": "2019-05-28T02:29:29Z",
"admin_state_up": true,
"revision_number": 0,
"ipv4_address_scope": null
}]
}
4.4.4. Subnet
4.4.4.1. Query Subnet Details
 Note
Return subnet details
4.4.4.1.1. URL
REST VERB PATH Description
GET /v2.0/subnets/{subnet_id} Return subnet details
Sorting and pagination are not supported currently.
4.4.4.1.2. Return Value
Success: 200
Error: 401, 404
4.4.4.1.3. Request
Request parameters
Name Location Type Description Required
subnet_id path string Subnet UUID Yes
4.4.4.1.4. Request Example
None
4.4.4.1.5. Response
Name Type Description
id string Subnet UUID
name string Resource name
description string Description
created_at string Creation time
updated_at string Update time
project_id string Project UUID
tenant_id string Tenant UUID
tags array Tags
revision_number integer New API version after revision
network_id string Network UUID
subnetpool_id string Subnet pool UUID
enable_dhcp boolean Whether to enable DHCP
cidr string Subnet CIDR
gateway_ip string IP address of the subnet gateway
allocation_pools array
Subnet address pool. A list is returned, which uses start to
specify the start IP address and end to specify the end IP
address.
host_routes array Subnet route
dns_nameservers array DNS server
service_types string Subnet service type. This parameter is left blank.
ip_version integer IP version. IPv6 is not supported. Therefore, only 4 is
returned.
ipv6_ra_mode string Advertisement mode of router using IPv6 address. IPv6 is
not supported. Therefore, null is returned.
ipv6_address_mode string IPv6 address type. IPv6 is not supported. Therefore, null is
returned.
segment_id string Subnet segment UUID. This parameter is not supported.
subnet object Not supported
dns_publish_fixed_ip boolean Not supported
4.4.4.1.6. Response Example
{ "
subnet": {
"name": "Subnet 1",
"subnetpool_id": null,
"id": "baa88d05-33cb-403f-aaea-c35c1ef3d470",
"project_id": "f2ec9104c765495297c5738c0147024b",
"cidr": "192.168.0.0/24",
"dns_nameservers": [],
"created_at": "2019-05-29T04:51:58.000000",
"tenant_id": "f2ec9104c765495297c5738c0147024b",
"network_id": "baa88d05-33cb-403f-aaea-c35c1ef3d470",
"tags": [],
"enable_dhcp": true,
"description": null,
"service_types": null,
"updated_at": null,
"ipv6_ra_mode": null,
"allocation_pools": [
{ "
end": "
192.168.0.254",
"start": "192.168.0.2"
} ],
"gateway_ip": "192.168.0.1",
"revision_number": 0,
"ipv6_address_mode": null,
"ip_version": 4,
"host_routes": []
}}
4.4.4.2. Query List of Subnets
 Note
Return the list of subnets
4.4.4.2.1. URL
REST VERB PATH Description
GET /v2.0/subnets Return the list of subnets
Sorting and pagination are not supported currently.
4.4.4.2.2. Return Value
Success: 200
Error: 401
4.4.4.2.3. Request
Request parameters
Name Location Type Description Required
id query string Subnet UUID No
tenant_id query string Tenant UUID No
project_id query string Project UUID No
name query string Subnet name No
enable_dhcp query boolean Whether to enable DHCP No
network_id query string Network ID No
ip_version query integer IP version No
gateway_ip query string IP address of the subnet
gateway No
cidr query string Subnet CIDR No
description query string Description No
ipv6_address_mode query string IPv6 address type No
ipv6_ra_mode query string Advertisement mode of
router using IPv6 address No
revision_number query integer New API version after
revision No
segment_id query string Subnet segment UUID No
shared query boolean Whether the subnet is shared No
subnetpool_id query string Subnet pool ID No
fields query string Fields to be output No
sort_dir query string Sorting order. This parameter
is not supported. No
sort_key query string Key for sorting. This
parameter is not supported. No
tags query string
The tag of elastic IP address is
the same as the tag that is
passed in. This parameter is
not supported.
No
tags-any query string
The tag of elastic IP address is
included in the tags that are
passed in. This parameter is
not supported.
No
not-tags query string
The tag of elastic IP address is
not the same as the tag that is
passed in. This parameter is
not supported.
No
not-tags-any query string
The tag of elastic IP address is
not included in the tags that
are passed in. This parameter
is not supported.
No
dns_publish_fixed_ip query boolean Not supported No
4.4.4.2.4. Request Example
None
4.4.4.2.5. Response
Name Type Description
id string Subnet ID
name string Subnet name
description string Description
created_at string Creation time
updated_at string Update time
project_id string Tenant ID
tenant_id string Tenant ID
tags array Tags
revision_number integer New API version after revision
network_id string Network ID
subnetpool_id string Subnet pool ID
enable_dhcp Boolean Whether to enable DHCP
cidr string Subnet CIDR
gateway_ip string IP address of the subnet gateway
allocation_pools array
Subnet address pool. A list is returned, which uses start to
specify the start IP address and end to specify the end IP
address.
host_routes array Subnet route
dns_nameservers array DNS server
service_types string Subnet service type. This parameter is left blank.
ip_version integer IP version. IPv6 is not supported. Therefore, only 4 is
returned.
ipv6_ra_mode string Advertisement mode of router using IPv6 address. IPv6 is
not supported. Therefore, null is returned.
ipv6_address_mode string IPv6 address type. IPv6 is not supported. Therefore, null is
returned.
segment_id string Subnet segment ID. This parameter is not supported.
subnet object Not supported
dns_publish_fixed_ip boolean Not supported
4.4.4.2.6. Response Example
{ "
subnets": [
"name": "Subnet 1",
"subnetpool_id": null,
"id": "baa88d05-33cb-403f-aaea-c35c1ef3d470",
"project_id": "f2ec9104c765495297c5738c0147024b",
"cidr": "192.168.0.0/24",
"dns_nameservers": [],
"created_at": "2019-05-29T04:51:58.000000",
"tenant_id": "f2ec9104c765495297c5738c0147024b",
"network_id": "baa88d05-33cb-403f-aaea-c35c1ef3d470",
"tags": [],
"enable_dhcp": true,
"description": null,
"service_types": null,
"updated_at": null,
"ipv6_ra_mode": null,
"allocation_pools": [
{ "
end": "
192.168.0.254",
"start": "192.168.0.2"
} ],
"gateway_ip": "192.168.0.1",
"revision_number": 0,
"ipv6_address_mode": null,
"ip_version": 4,
"host_routes": []
}]
}
4.4.5. Router
4.4.5.1. Query Router Details
 Note
Return router details.
4.4.5.1.1. URL
REST VERB PATH Description
GET /v2.0/routers/{router_id} Return router details
Sorting and pagination are not supported currently.
4.4.5.1.2. Return Value
Success: 200
Error: 401, 404
4.4.5.1.3. Request
Request parameters
Name Location Type Description Required
router_id path string Router ID Yes
fields query string
Fields to be output. For example, you can
specify fields=id&fields=name. Then only id
and name will be returned.
No
4.4.5.1.4. Request Example
None
4.4.5.1.5. Response
Name Type Description
routers array None
admin_state_up boolean Router enabling status. Valid values: true and
false
availability_zone_hints array List of resource pools specific to the router
created_at string Creation time
description string Description
external_gateway_info object External gateway information
flavor_id string Template ID
id string router ID
name string Router name
project_id string project ID
tenant_id string Tenant ID
revision_number integer New API version after revision
routes array Static route
status string Status
tags array Tags
updated_at string Update time
ha boolean
Whether high availability is enabled for the
router. This parameter is not supported for
tenants.
distributed string Whether the router is distributed. This
parameter is not supported for tenants.
nexthop string Not supported
destination boolean Not supported
conntrack_helpers array Not supported
service_type_id string Not supported
availability_zones array Not supported
4.4.5.1.6. Response Example
{ "
router": {
"status": "ACTIVE",
"external_gateway_info": null,
"availability_zone_hints": [
"edecd33e-1ec0-40f1-b14a-3c6e38416c66"
],
"description": "",
"tags": [],
"tenant_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"created_at": "2019-07-05T03:56:05Z",
"admin_state_up": true,
"updated_at": "2019-07-05T03:56:05Z",
"flavor_id": null,
"revision_number": 0,
"routes": [
{ "
destination": "
0.0.0.0/0",
"nexthop": "172.31.0.2"
} ],
"project_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"id": "eb0b8f9f-9706-4ee2-a035-791c6c0a7f64",
"name": "VPC router"
}}
4.4.5.2. Query List of Routers
 Note
Return the list of routers
4.4.5.2.1. URL
REST VERB PATH Description
GET /v2.0/routers Return the list of routers
Sorting and pagination are not supported currently.
4.4.5.2.2. Return Value
Success: 200
Error: 401
4.4.5.2.3. Request
Request parameters
Name Location Type Description Required
id query string Device ID No
tenant_id query string Tenant ID No
project_id query string project ID No
name query string Resource name No
description query string Resource description No
admin_state_up query boolean Resource enabling status No
revision_number query integer New API version after revision No
fields query string Fields to be output No
sort_dir query string Sorting order. This parameter is
not supported. No
sort_key query string Key for sorting. This parameter is
not supported. No
tags query string
The tag of elastic IP address is the
same as the tag that is passed in.
This parameter is not supported.
No
tags-any query string
The tag of elastic IP address is
included in the tags that are passed
in. This parameter is not
supported.
No
not-tags query string
The tag of elastic IP address is not
the same as the tag that is passed
in. This parameter is not
supported.
No
not-tags-any query string
The tag of elastic IP address is not
included in the tags that are passed
in. This parameter is not
supported.
No
4.4.5.2.4. Request Example
None
4.4.5.2.5. Response
Name Type Description
routers array None
admin_state_up boolean Router enabling status. Valid values: true and
false
availability_zone_hints array List of resource pools specific to the router
created_at string Creation time
description string Description
external_gateway_info object External gateway information
flavor_id string Template ID
id string router ID
name string Router name
project_id string project ID
tenant_id string Tenant ID
revision_number integer New API version after revision
routes array Static route
status string Status
tags array Tags
updated_at string Update time
ha boolean
Whether high availability is enabled for the
router. This parameter is not supported for
tenants.
distributed string Whether the router is distributed. This
parameter is not supported for tenants.
nexthop string Not supported
destination boolean Not supported
conntrack_helpers array Not supported
service_type_id string Not supported
availability_zones array Not supported
4.4.5.2.6. Response Example
{ "
routers": [
{ "
name": "
VPC internal router",
"id": "ce1c68d4-043c-412a-9682-73e567bb18f4",
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"routes": [
{ "
destination": "
0.0.0.0/0",
"nexthop": "172.31.0.2"
},
{ "
destination": "
1.1.1.1/32",
"nexthop": "172.31.0.2"
} ],
"revision_number": 0,
"flavor_id": null,
"updated_at": "2019-02-23T09:04:31Z",
"status": "ACTIVE",
"external_gateway_info": {
"external_fixed_ips": [
{ "
ip_address": "
56.57.58.19",
"subnet_id": "7bd4497e-f43b-49c7-a697-a16fb8f79cf4"
},
{ "
ip_address": "
200.201.22.30",
"subnet_id": "8d720ff3-10bd-4cd5-a5f4-00fa1614fa3c"
} ],
"enable_snat": true,
"network_id": "7bd4497e-f43b-49c7-a697-a16fb8f79cf4"
},
"availability_zone_hints": [
"12f01d12-7041-46ab-b81f-a64c78a7dc98"
],
"description": "",
"tags": [],
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-02-23T09:04:31Z",
"admin_state_up": true
}]}
4.4.6. Elastic IP Address
4.4.6.1. Create Elastic IP Addresses
 Note
Create Elastic IP Addresses
4.4.6.1.1. URL
REST VERB PATH Description
POST /v2.0/floatingips Create elastic IP addresses
4.4.6.1.2. Return Value
Success: 201
Error: 400, 401, 403, 404, 409
4.4.6.1.3. Request
Request parameters
Name Location Type Description Required
floatingip body object None Yes
floating_network_id body string
Network ID for the elastic IP
address pool. A value must be
passed in.
No
port_id body string
ID of the port bound to the
created elastic IP address. This
parameter must be specified for
EIP address creation and port
binding.
No
fixed_ip_address body string
IP address of the port bound to
the created elastic IP address.
The IP address must be specified
when multiple IP addresses exist.
No
tenant_id body string
ID of the tenant for whom the
elastic IP address is created. This
parameter must be specified if
the super administrator creates
an EIP address for a tenant.
No
project_id body string
This parameter is the same as
tenant_id. Specify either
tenant_id or project_id.
No
floating_ip_address body string
Elastic IP address that is applied
for. Tenants cannot specify the
elastic IP address. This parameter
must be specified if you apply for
a specified EIP address.
No
description body string Not supported No
dns_domain body string Not supported No
dns_name body string Not supported No
4.4.6.1.4. Request Example
{
"floatingip": {
"floating_network_id": "aef23888-0dcc-444d-9c23-42694b7af9de"
}
}
4.4.6.1.5. Response
Name Type Description
floatingip object None
id string ID of the elastic IP address
tenant_id string Tenant ID
project_id string project ID
created_at string Creation timestamp
updated_at string Update timestamp
revision_number integer Version of configured elastic IP address
description string Description
tags array Tags
floating_ip_address string Elastic IP address (IPv4)
floating_network_id string Network ID of the elastic IP address pool to which the
elastic IP address belongs
router_id string ID of the router associated with the elastic IP address
port_id string ID of the port bound to the elastic IP address. If no port is
bound, the value of this parameter is None.
fixed_ip_address string IP address of the port bound to the elastic IP address. If
no port is bound, the value of this parameter is None.
status string Elastic IP address status
port_details string Not supported
port_forwardings array Not supported
dns_domain string Not supported
dns_name string Not supported
4.4.6.1.6. Response Example
{
"floatingip": {
"router_id": null,
"status": "DOWN",
"description": "",
"tags": [],
"tenant_id": "9a0418c01d794e8e8ec0dd2071bd38ce",
"created_at": "2019-09-11T07:52:31Z",
"updated_at": "2019-09-11T07:52:31Z",
"floating_network_id": "aef23888-0dcc-444d-9c23-42694b7af9de",
"fixed_ip_address": null,
"floating_ip_address": "10.132.3.1",
"revision_number": 0,
"project_id": "9a0418c01d794e8e8ec0dd2071bd38ce",
"port_id": null,
"id": "7e088cbc-30ae-48a0-a301-a3fa5c8fd301"
}
}
4.4.6.2. Delete Elastic IP Address
 Note
Delete Elastic IP Address
4.4.6.2.1. URL
REST VERB PATH Description
DELETE /v2.0/floatingips/{floatingip_id} Delete an elastic IP
address
4.4.6.2.2. Return Value
Success: 204
Error:
4.4.6.2.3. Request
Request parameters
Name Location Type Description Required
floatingip_id path string UUID of the elastic IP
address Yes
4.4.6.2.4. Request Example
None
4.4.6.2.5. Response
4.4.6.2.6. None
4.4.6.2.7. Response Example
None
4.4.6.3. Query Elastic IP Address Details
 Note
Query Elastic IP Address Details
4.4.6.3.1. URL
REST VERB PATH Description
GET /v2.0/floatingips/{floatingip_id} Query an elastic IP
address
4.4.6.3.2. Return Value
Success: 200
Error: 401, 403, 404
4.4.6.3.3. Request
Request parameters
Name Location Type Description Required
floatingip_id path string UUID of the elastic IP
address Yes
4.4.6.3.4. Request Example
None
4.4.6.3.5. Response
Name Type Description
id string ID of the elastic IP address
floatingip object None
tenant_id string Tenant ID
project_id string project ID
created_at string Creation timestamp
updated_at string Update timestamp
revision_number integer Version of configured elastic IP address
description string Description
tags array Tags
floating_ip_address string Elastic IP address (IPv4)
floating_network_id string Network ID of the elastic IP address pool to which the
elastic IP address belongs
router_id string ID of the router associated with the elastic IP address
port_id string ID of the port bound to the elastic IP address. If no port is
bound, the value of this parameter is None.
fixed_ip_address string IP address of the port bound to the elastic IP address. If
no port is bound, the value of this parameter is None.
status string Elastic IP address status
port_details string Not supported
port_forwardings array Not supported
dns_domain string Not supported
dns_name string Not supported
4.4.6.3.6. Response Example
No port is bound:
{
"floatingip": {
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-06-06T11:09:54Z",
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"id": "aa51bb63-8873-4dd0-8e21-a86de47f2c5d",
"port_id": null,
"revision_number": 0,
"router_id": null,
"status": "DOWN",
"description": "",
"tags": [],
"updated_at": "2019-06-06T11:09:54Z",
"floating_network_id": "b36cdcbe-6fc6-4cd6-a45a-6ea33b7aef0b",
"fixed_ip_address": null,
"floating_ip_address": "3.3.3.2"
}
}
A port is bound:
{
"floatingip": {
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-06-06T11:09:54Z",
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"id": "aa51bb63-8873-4dd0-8e21-a86de47f2c5d",
"port_id": "f56489e8-3afc-4bc5-9ace-3ba2d470cf49",
"revision_number": 0,
"router_id": "ce1c68d4-043c-412a-9682-73e567bb18f4",
"status": "ACTIVE",
"description": "",
"tags": [],
"updated_at": "2019-06-06T11:09:54Z",
"floating_network_id": "b36cdcbe-6fc6-4cd6-a45a-6ea33b7aef0b",
"fixed_ip_address": "192.168.0.124",
"floating_ip_address": "3.3.3.2"
}
}
4.4.6.4. Query List of Elastic IP Addresses
 Note
Query List of Elastic IP Addresses
4.4.6.4.1. URL
REST VERB PATH Description
GET /v2.0/floatingips Query the list of elastic IP addresses
4.4.6.4.2. Return Value
Success: 200
Error: 401
4.4.6.4.3. Request
Request parameters
Name Location Type Description Required
id query string ID of the elastic IP address No
project_id query string project ID No
tenant_id query string Tenant ID No
description query string Description No
revision_number query integer New API version after revision No
floating_ip_address query string Filtering by elastic IP address No
floating_network_id query string Filtering by network ID of the
elastic IP address pool No
fixed_port_id query string Filtering by ID of the port bound
to the elastic IP address No
fixed_ip_address query string
Filtering by IP address of the
port bound to the elastic IP
address
No
status query string Elastic IP address status No
router_id query string ID of the router where the
elastic IP address is located No
fields query string Fields to be output No
sort_dir query string Sorting order. This parameter is
not supported. No
sort_key query string Key for sorting. This parameter
is not supported. No
tags query string
The tag of elastic IP address is
the same as the tag that is
passed in. This parameter is not
supported.
No
tags-any query string
The tag of elastic IP address is
included in the tags that are
passed in. This parameter is not
supported.
No
not-tags query string
The tag of elastic IP address is
not the same as the tag that is
passed in. This parameter is not
supported.
No
not-tags-any query string
The tag of elastic IP address is
not included in the tags that are
passed in. This parameter is not
supported.
No
4.4.6.4.4. Request Example
None
4.4.6.4.5. Response
Name Type Description
floatingips array None
id string ID of the elastic IP address
tenant_id string Tenant ID
project_id string project ID
created_at string Creation timestamp
updated_at string Update timestamp
revision_number integer Version of configured elastic IP address
description string Description
tags array Tags
floating_ip_address string Elastic IP address (IPv4)
floating_network_id string Network ID of the elastic IP address pool to which the
elastic IP address belongs
router_id string ID of the router associated with the elastic IP address
port_id string ID of the port bound to the elastic IP address. If no port is
bound, the value of this parameter is None.
fixed_ip_address string IP address of the port bound to the elastic IP address. If
no port is bound, the value of this parameter is None.
status string Elastic IP address status
port_details string Not supported
port_forwardings array Not supported
dns_domain string Not supported
dns_name string Not supported
4.4.6.4.6. Response Example
{
"floatingips": [
{
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-06-06T11:09:54Z",
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"id": "aa51bb63-8873-4dd0-8e21-a86de47f2c5d",
"port_id": "f56489e8-3afc-4bc5-9ace-3ba2d470cf49",
"revision_number": 0,
"router_id": "ce1c68d4-043c-412a-9682-73e567bb18f4",
"status": "ACTIVE",
"description": "",
"tags": [],
"updated_at": "2019-06-06T11:09:54Z",
"floating_network_id": "b36cdcbe-6fc6-4cd6-a45a-6ea33b7aef0b",
"fixed_ip_address": "192.168.0.124",
"floating_ip_address": "3.3.3.2"
}
]
}
4.4.6.5. Edit Elastic IP Address
 Note
Edit Elastic IP Address
4.4.6.5.1. URL
REST VERB PATH Description
PUT /v2.0/floatingips/{floatingip_id} Edit an elastic IP
address
4.4.6.5.2. Return Value
Success: 200
Error: 400, 401, 403, 404, 409, 412
4.4.6.5.3. Request
Request parameters
Name Location Type Description Required
floatingip body object Elastic IP address object Yes
floatingip_id path string ID of the elastic IP address Yes
port_id body string
ID of the port bound to the elastic IP
address. If this parameter is not
specified, the port is unbound.
Yes
fixed_ip_address body string IP address of the port bound to the
elastic IP address No
description body string Not supported No
4.4.6.5.4. Request Example
None
4.4.6.5.5. Response
Name Type Description
floatingip object None
id string ID of the elastic IP address
tenant_id string Tenant ID
project_id string project ID
created_at string Creation timestamp
updated_at string Update timestamp
revision_number integer Version of configured elastic IP address
description string Description
tags array Tags
floating_ip_address string Elastic IP address (IPv4)
floating_network_id string Network ID of the elastic IP address pool to which the
elastic IP address belongs
router_id string ID of the router associated with the elastic IP address
port_id string ID of the port bound to the elastic IP address. If no port is
bound, the value of this parameter is None.
fixed_ip_address string IP address of the port bound to the elastic IP address. If
no port is bound, the value of this parameter is None.
status string Elastic IP address status
port_details string Not supported
port_forwardings array Not supported
dns_domain string Not supported
dns_name string Not supported
4.4.6.5.6. Response Example
No port is bound:
{
"floatingip": {
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-06-06T11:09:54Z",
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"id": "aa51bb63-8873-4dd0-8e21-a86de47f2c5d",
"port_id": null,
"revision_number": 0,
"router_id": null,
"status": "ACTIVE",
"description": "",
"tags": [],
"updated_at": "2019-06-06T11:09:54Z",
"floating_network_id": "b36cdcbe-6fc6-4cd6-a45a-6ea33b7aef0b",
"fixed_ip_address": null,
"floating_ip_address": "3.3.3.2"
}
}
A port is bound:
{
"floatingip": {
"project_id": "1d832239a8d44b16ba7b8eddba678362",
"created_at": "2019-06-06T11:09:54Z",
"tenant_id": "1d832239a8d44b16ba7b8eddba678362",
"id": "aa51bb63-8873-4dd0-8e21-a86de47f2c5d",
"port_id": "f56489e8-3afc-4bc5-9ace-3ba2d470cf49",
"revision_number": 0,
"router_id": "ce1c68d4-043c-412a-9682-73e567bb18f4",
"status": "ACTIVE",
"description": "",
"tags": [],
"updated_at": "2019-06-06T11:09:54Z",
"floating_network_id": "b36cdcbe-6fc6-4cd6-a45a-6ea33b7aef0b",
"fixed_ip_address": "192.168.0.124",
"floating_ip_address": "3.3.3.2"
}
}
4.4.7. Security Group
4.4.7.1. Query Security Group Details
 Note
Return security group details.
4.4.7.1.1. URL
REST
VERB PATH Description
GET /v2.0/security-groups/{security_group_id} Return security
group details
4.4.7.1.2. Return Value
Success: 200
Error: 401, 404
4.4.7.1.3. Request
Request parameters
Name Location Type Description Required
security_group_id path string Security group UUID Yes
fields query string
Fields to be output. This parameter
can be specified repeatedly. For
example, if fields=id&fields=name is
specified in the URL, only id and
name will be returned.
No
4.4.7.1.4. Request Example
None
4.4.7.1.5. Response
Name Type Description
security_group object None
id string Security group ID
tenant_id string Tenant ID
project_id string Tenant ID
name string Security group name
description string Description
revision_number integer New API version after
revision
tags array Tags
created_at string Creation time
updated_at string Update time
security_group_rules array Security group rule
4.4.7.1.6. Response Example
{
"security_group": {
"description": "Default security group",
"tags": [],
"tenant_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"created_at": "2019-07-05T06:45:30Z",
"updated_at": "2019-07-05T06:45:31Z",
"security_group_rules": [
{
"remote_group_id": "241a8090-3c21-4f0d-8d4e-4c35fe9be902",
"direction": "ingress",
"protocol": null,
"description": null,
"tags": [],
"ethertype": "IPv6",
"remote_ip_prefix": null,
"port_range_max": null,
"updated_at": "2019-07-05T06:45:31Z",
"security_group_id": "241a8090-3c21-4f0d-8d4e-4c35fe9be902",
"port_range_min": null,
"revision_number": 0,
"tenant_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"created_at": "2019-07-05T06:45:31Z",
"project_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"id": "29f21fd9-2f86-43e4-a8b0-5706091725a6"
},
],
"revision_number": 4,
"project_id": "de1ac29d7d1d460cb6a2bb55e133d2b2",
"id": "241a8090-3c21-4f0d-8d4e-4c35fe9be902",
"name": "default"
}
}
4.4.7.2. Query List of Security Groups
 Note
Return the list of security groups.
4.4.7.2.1. URL
REST VERB PATH Description
GET /v2.0/security-groups Return the list of security
groups
4.4.7.2.2. Return Value
Success: 200
Error: 401
4.4.7.2.3. Request
Request parameters
Name Location Type Description Required
id query string Security group ID No
tenant_id query string Tenant ID No
project_id query string project ID No
name query string Security group name No
description query string Description No
revision_number query integer New API version after revision No
fields query string Fields to be output No
sort_dir query string Sorting order. This parameter is not
supported. No
sort_key query string Key for sorting. This parameter is
not supported. No
tags query string
The tag of elastic IP address is the
same as the tag that is passed in.
This parameter is not supported.
No
tags-any query string
The tag of elastic IP address is
included in the tags that are passed
in. This parameter is not supported.
No
not-tags query string
The tag of elastic IP address is not
the same as the tag that is passed
in. This parameter is not supported.
No
not-tags-any query string
The tag of elastic IP address is not
included in the tags that are passed
in. This parameter is not supported.
No
4.4.7.2.4. Request Example
None
4.4.7.2.5. Response
Name Type Description
security_groups array None
id string Security group ID
tenant_id string Tenant ID
project_id string Tenant ID
name string Security group name
description string Description
revision_number integer New API version after
revision
tags array Tags
created_at string Creation time
updated_at string Update time
security_group_rules array Security group rule
4.4.7.2.6. Response Example
{
"security_groups": [
{
"description": "Default security group",
"tags": [],
"tenant_id": "c97bbefdc6e74299be61b0d3cab4c99d",
"created_at": "2019-09-29T03:26:20Z",
"updated_at": "2019-09-29T03:26:20Z",
"security_group_rules": [
{
"remote_group_id": null,
"direction": "egress",
"protocol": null,
"description": null,
"tags": [],
"ethertype": "IPv6",
"remote_ip_prefix": null,
"port_range_max": null,
"updated_at": "2019-09-29T03:26:20Z",
"security_group_id": "62350ce2-9982-445b-9f31-abbfbcc1d31b",
"port_range_min": null,
"revision_number": 0,
"tenant_id": "c97bbefdc6e74299be61b0d3cab4c99d",
"created_at": "2019-09-29T03:26:20Z",
"project_id": "c97bbefdc6e74299be61b0d3cab4c99d",
"id": "589ddc8d-1f5c-49e0-a056-063a9be08cb2"
}
],
"revision_number": 4,
"project_id": "c97bbefdc6e74299be61b0d3cab4c99d",
"id": "62350ce2-9982-445b-9f31-abbfbcc1d31b",
"name": "default"
}
]
}
4.5. cinder
 Note
Manage block storage.
Endpoint：https://{acmp_ip}/openstack/volume/v2/{project_id}
Sample URL:
URL composition: Endpoint/path Example: Create a datastore (POST)
https://10.132.17.99/openstack/volume/v2/05fdace24e26440a8974fcfff5293157/volumes
4.5.1. Version
4.5.1.1. Obtain Version Details
 Note
Obtain Version Details
Scenario:
N/A
Notes
The URL of the API for obtaining version information is not composed of endpoint and resource-path.
4.5.1.1.1. URI
REST
VERB URL Description
GET https://{acmp_ip}/openstack/volume/{api-version}
Obtain details of API
versions supported by
Cinder.
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.5.1.1.2. Request
Request Parameters: None
Request Example: N/A
4.5.1.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
versions body array List of available API versions Yes
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
min_version body string
The earliest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
status body string
CURRENT: commonly-used version of
APIs in use; SUPPORTED: earlier API
version that is still supported;
DEPRECATED: deprecated API version
Yes
updated body string
The value is a fixed string: “2011-01-
21T11:33:21Z” for v2.0 and “2013-07-
23T11:33:21Z” for v2.1. This parameter
is deprecated and does not provide
useful information. It will be removed in
the future.
Yes
version body string
Other latest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
media-type body array Media type Yes
Response Example: N/A
4.5.1.1.4. Response Code
Success: 200
Error: N/A
4.5.1.2. Obtain Version List
 Note
Obtain the list of API versions supported by Cinder.
Scenario:
N/A
Notes
The URL of the API for obtaining version information is not composed of endpoint and resource-path.
This API does not require authentication.
4.5.1.2.1. URI
REST
VERB URL Description
GET https://{acmp_ip}/openstack/volume Obtain the list of API versions
supported by Cinder.
Parameter Description:
Name Location Type Description Required
acmp_ip path string Platform IP
address Yes
4.5.1.2.2. Request
Request Parameters: None
Request Example: N/A
4.5.1.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
versions body array List of available API versions Yes
id body string Common name of the relevant version Yes
links body array Link to the relevant resource Yes
min_version body string
The earliest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
status body string
CURRENT: commonly-used version of
APIs in use; SUPPORTED: earlier API
version that is still supported;
DEPRECATED: deprecated API version
Yes
updated body string
The value is a fixed string: “2011-01-
21T11:33:21Z” for v2.0 and “2013-07-
23T11:33:21Z” for v2.1. This parameter
is deprecated and does not provide
useful information. It will be removed in
the future.
Yes
version body string
Other latest version of current APIs that
is supported. If minor versions are not
supported, a null string is returned.
Yes
media-type body array Media type Yes
Response Example:
{
"versions": [
{
"status": "CURRENT",
"updated": "2017-02-25T12:00:00Z",
"links": [
{
"href": "https://10.132.17.97/openstack/volume/v2/",
"rel": "self"
}
],
"min_version": "",
"version": "",
"media-types": [
{
"base": "application/json",
"type": "application/vnd.openstack.volume+json;version=2
"
}
],
"id": "v2.0"
}
]
}
4.5.1.2.4. Response Code
Success: 300
Error: N/A
4.5.2. Datastores
4.5.2.1. Create datastore
 Note
Create datastore
Scenario:
The current API version only supports creating blank datastores. Creating datastore using images,
snapshots, or existing datastores is not supported.
By default, when creating a VM, a system disk is also created and synchronized as a datastore through
scheduled tasks. The datastore is named VM name-ide0.
When creating a datastore, you can specify the datastore type you need by specifying volume_type.
There are 3 built-in datastore types: capacity sensitive, performance sensitive, and high performance.
Notes:
OpenStack does not impose strict parameter restrictions when creating a datastore. To ensure that
Cinder client can successfully call Sangfor APIs, parameters other than those described in this document
can also be used, but they have no actual effect.
The maximum capacity of a datastore is 63 TB.
Before you create a datastore, please ensure that the disk quota is sufficient on SCP. If the disk quota is
insufficient, no error will be reported. Instead, if you call the get_volume API, you will find that the status
of the datastore is ‘error’.
4.5.2.1.1. URI
REST VERB PATH Description
POST /volumes Create a datastore
Parameter Description:
N/A
4.5.2.1.2. Request
Request Parameters:
Name Location Type Description Required
volume body object Yes
description body string Optional, description of the datastore No
availability_zone body string Optional for OpenStack APIs but
required for SDK. Yes
name body string This parameter can be left blank. No
volume_type body string
Datastore type. There are 3 built-in
datastore types: capacity sensitive,
performance sensitive, and high
performance. Currently, the value
can only be the type name, type ID,
or null. Other values will result in an
error.
No
size body string The unit is GB. Yes
Request Example:
{ "
volume": {
"size": 10,
"availability_zone": "10.132.17.94",
"description": "create datastore",
"name":"volume_001",
"volume_type": "Capacity sensitive storage"
}}
4.5.2.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
migration_status body string
Migration status, which is
returned when the user is a
super administrator.
No
attachments body array Mounting information Yes
links body array Links to resources Yes
availability_zone body string Availability zone Yes
encrypted body boolean
Whether to encrypt. This
parameter is currently not
supported, and false is
returned by default.
Yes
updated_at body string Update time Yes
replication_status body string
Replication status. This
parameter is currently not
supported, and null is
returned by default.
Yes
snapshot_id body string
Snapshot ID. This parameter
is currently not supported,
and null is returned by
default.
Yes
id body string Datastore UUID Yes
size body integer Datastore capacity (GB) Yes
user_id body string User UUID Yes
metadata body object
Metadata for internal
communication. No result will
be returned.
No
status body string Datastore status Yes
description body string Description Yes
multiattach body string
Whether the datastore can
be mounted to multiple VMs.
This parameter is currently
not supported, and false is
returned by default.
Yes
source_volid body string Source datastore UUID Yes
volume body object Datastore object Yes
consistencygroup_id body string
Consistency group. This
parameter is reserved, and
null is returned by default.
Yes
name body string Datastore name Yes
bootable body string Whether the datastore is
bootable Yes
created_at body string Creation time Yes
volume_type body string Datastore type Yes
Response Example:
{ "
volume": {
"status": "creating",
"user_id": "5106e83772cd48048a79f790222ef496",
"attachments": [],
"links": [
{ "
href": "
http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79ce242402558aa/volumes/73b5
bf1d-8995-4a3b-a95c-4620eed21772",
"rel": "self"
},
{ "
href": "
http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce242402558aa/volumes/73b5bf1
d-8995-4a3b-a95c-4620eed21772",
"rel": "bookmark"
} ],
"availability_zone": "10.132.17.94",
"bootable": "false",
"encrypted": false,
"created_at": "2019-07-25T03:01:06.061736",
"multiattach": false,
"updated_at": null,
"volume_type": "Capacity sensitive storage",
"name": "volume_001",
"description": "create datastore",
"consistencygroup_id": null,
"replication_status": null,
"snapshot_id": null,
"source_volid": null,
"id": "73b5bf1d-8995-4a3b-a95c-4620eed21772",
"size": 10
}}
4.5.2.1.4. Response Code
Success: 200
Error: N/A
4.5.2.2. Delete Datastore
 Note
Delete Datastore
Scenario: None
4.5.2.2.1. URI
REST VERB PATH Description
DELETE /volumes/{volume_id} Delete a datastore
Parameter Description:
Name Location Type Description Required
volume_id path string Datastore
UUID Yes
4.5.2.2.2. Request
Request Parameters: None
Request Example: N/A
4.5.2.2.3. Response
Response Parameters: None
Response Example: N/A
4.5.2.2.4. Response Code
Success: 202
Error: N/A
4.5.2.3. Edit Datastore
 Note
Update the name or description of a datastore.
Scenario:
N/A
Notes:
This version does not support editing datastore metadata, which is used for data transmission during
internal communication.
4.5.2.3.1. URI
REST VERB PATH Description
PUT /volumes/{volume_id} Change the name or description of a
datastore
Parameter Description:
Name Location Type Description Required
volume_id path string Datastore
ID Yes
4.5.2.3.2. Request
Request Parameters:
Name Location Type Description Required
volume body object Yes
description body string No
name body string No
Request Example:
{
"volume": {
"description": "update volume",
"name":"volume_002",
}
}
4.5.2.3.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
migration_status body string
Migration status, which is
returned when the user is a
super administrator.
No
attachments body array Mounting information Yes
links body array Links to resources Yes
availability_zone body string Availability zone Yes
encrypted body boolean
Whether to encrypt. This
parameter is currently not
supported, and false is
returned by default.
Yes
updated_at body string Update time Yes
replication_status body string
Replication status. This
parameter is currently not
supported, and null is
returned by default.
Yes
snapshot_id body string
Snapshot ID. This parameter
is currently not supported,
and null is returned by
default.
Yes
id body string Datastore UUID Yes
size body integer Datastore capacity (GB) Yes
user_id body string User UUID Yes
metadata body object
Metadata for internal
communication. No result will
be returned.
No
status body string Datastore status Yes
description body string Description Yes
multiattach body string
Whether the datastore can
be mounted to multiple VMs.
This parameter is currently
not supported, and false is
returned by default.
Yes
source_volid body string Source datastore UUID Yes
volume body object Datastore object Yes
consistencygroup_id body string
Consistency group. This
parameter is reserved, and
null is returned by default.
Yes
name body string Datastore name Yes
bootable body string Whether the datastore is
bootable Yes
created_at body string Creation time Yes
volume_type body string Datastore type Yes
Response Example:
{
"volume": {
"status": "error_deleting",
"size": 10,
"user_id": "5106e83772cd48048a79f790222ef496",
"attachments": [],
"links": [
{
"href": "http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79ce24
2402558aa/volumes/cb4f3169-717e-449a-aba4-9e52157f56a3",
"rel": "self"
},
{
"href": "http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce24240
2558aa/volumes/cb4f3169-717e-449a-aba4-9e52157f56a3",
"rel": "bookmark"
}
],
"availability_zone": "10.132.17.94",
"bootable": "false",
"encrypted": false,
"created_at": "2019-07-22T11:29:12.000000",
"multiattach": false,
"updated_at": "2019-07-24T11:55:52.000000",
"volume_type": null,
"name": "volume_002",
"consistencygroup_id": null,
"replication_status": null,
"snapshot_id": null,
"source_volid": null,
"id": "cb4f3169-717e-449a-aba4-9e52157f56a3",
"description": "update volume"
}
}
4.5.2.3.4. Response Code
Success: 200
Error: N/A
4.5.2.4. Obtain Datastore Details
 Note
Obtain details about a single datastore.
Scenario: None
4.5.2.4.1. URI
REST VERB PATH Description
GET /volumes/{volume_id} Obtain details about a datastore
Parameter Description:
Name Location Type Description Required
volume_id path string Datastore
UUID Yes
4.5.2.4.2. Request
Request Parameters: None
Request Example: N/A
4.5.2.4.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
migration_status body string
Migration status, which is
returned when the user
is a super administrator.
No
attachmens body array Mounting information Yes
links body array Links to resources Yes
availability_zone body string Availability zone Yes
encrypted body boolean
Whether to encrypt. This
parameter is currently
not supported, and false
is returned by default.
Yes
updated_at body string Update time Yes
replication_status body string
Replication status. This
parameter is currently
not supported, and null is
returned by default.
Yes
snapshot_id body string
Snapshot ID. This
parameter is currently
not supported, and null is
returned by default.
Yes
id body string Datastore ID Yes
size body integer Datastore capacity (GB) Yes
user_id body string User ID Yes
os-vol-tenantattr:
tenant_id body string Tenant ID Yes
os-vol-mig-statusattr:
migstat body string
Migration status.
Migration is not
supported. No result will
be returned.
No
status body string Datastore status Yes
volume_image_metadata body boolean
Datastore image
metadata. Image is not
supported. No result will
be returned.
No
description body string Description Yes
multiattach body string
Whether the datastore
can be mounted to
multiple VMs. This
parameter is currently
not supported, and false
is returned by default.
Yes
source_volid body string
Source datastore ID. This
parameter is currently
not supported, and null is
returned by default.
Yes
consistencygroup_id body string
Consistency group. This
parameter is reserved,
and null is returned by
default.
Yes
os-vol-mig-statusattr:
name_id body string
Name ID of the migrated
datastore. This
parameter is currently
not supported. No result
No
not supported. No result
will be returned.
name body string Datastore name Yes
bootable body string Whether the datastore is
bootable Yes
created_at body string Creation time Yes
volumes body array List of datastores Yes
volume_type body string Datastore type Yes
volumes_links body array Datastore resource links Yes
metadata body object
Datastore metadata for
internal communication.
No result will be
returned.
No
Response Example:
{
"volume": {
"status": "available",
"user_id": "5106e83772cd48048a79f790222ef496",
"attachments": [],
"links": [
{
"href": "http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79ce24
2402558aa/volumes/ba9d385f-9a1d-4586-8cba-6c897d8afdb8",
"rel": "self"
},
{
"href": "http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce24240
2558aa/volumes/ba9d385f-9a1d-4586-8cba-6c897d8afdb8",
"rel": "bookmark"
}
],
"availability_zone": "10.132.17.94",
"bootable": "false",
"encrypted": false,
"created_at": "2019-07-16T11:45:37.000000",
"os-vol-tenant-attr:tenant_id": "3dfc69cd66d54e97b79ce242402558aa",
"updated_at": "2019-07-16T11:45:37.000000",
"volume_type": null,
"name": "wangwei_002",
"description": "volume_003",
"consistencygroup_id": null,
"replication_status": null,
"snapshot_id": null,
"source_volid": null,
"multiattach": false,
"id": "ba9d385f-9a1d-4586-8cba-6c897d8afdb8",
"size": 10
}
}
4.5.2.4.4. Response Code
Success: 200
Error: N/A
4.5.2.5. Obtain list of datastore types
 Note
Obtain the list of datastore types.
Scenario: None
4.5.2.5.1. URI
REST VERB PATH Description
GET /types Obtain list of datastore types
Parameter Description:
N/A
4.5.2.5.2. Request
Request Parameters:
Name Location Type Description Required
project_id body string No
all_tenants body string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
sort body string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
limit body integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
offset body integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
marker body string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
Request Example: N/A
4.5.2.5.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
volume_types body array
List of
datastore
types
Yes
id body string Datastore
type ID Yes
is_public body boolean
Whether it
is visible for
tenant
Yes
name body string Datastore
type name Yes
description body string
Datastore
type
description
Yes
os-volume-type-access:is_public body boolean Yes
Response Example:
{ "
volume_types": [
{ "
os-volume-type-access:is_public": true,
"is_public": true,
"description": null,
"name": "Capacity sensitive storage",
"id": "daeb4e56-f370-4a3c-abd9-286c6a299905"
},
{ "
os-volume-type-access:is_public": true,
"is_public": true,
"description": null,
"name": "Performance sensitive storage",
"id": "6720c718-928f-4c94-8fdc-bf60101b9f8c"
},
{ "
os-volume-type-access:is_public": true,
"is_public": true,
"description": null,
"name": "High performance storage",
"id": "44a80b61-e06b-4e70-b04d-9f7ba6786e88"
}]}
4.5.2.5.4. Response Code
Success: 200
Error: N/A
4.5.2.6. Obtain Datastore List
 Note
Obtain Datastore List
Scenario: None
4.5.2.6.1. URI
REST VERB PATH Description
GET /volumes Obtain Datastore List
Parameter Description:
N/A
4.5.2.6.2. Request
Request Parameters:
Name Location Type Description Required
project_id query string No
all_tenants query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
sort query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
limit query integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
offset query integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
marker query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
Request Example: N/A
4.5.2.6.3. Response
Response Parameters:
Name Location Type Description Value Returned
volumes body array List of datastore
objects Yes
id body string Datastore
UUID Yes
links body array Datastore link Yes
name body string Datastore name Yes
Response Example:
{
"volumes": [
{
"id": "73b5bf1d-8995-4a3b-a95c-4620eed21772",
"links": [
{
"href": "http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79
ce242402558aa/volumes/73b5bf1d-8995-4a3b-a95c-4620eed21772",
"rel": "self"
},
{
"href": "http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce2
42402558aa/volumes/73b5bf1d-8995-4a3b-a95c-4620eed21772",
"rel": "bookmark"
}
],
"name": "volume_001"
},
{
"id": "f279656d-e87b-4056-bd69-0f3fe0525322",
"links": [
{
"href": "http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79
ce242402558aa/volumes/f279656d-e87b-4056-bd69-0f3fe0525322",
"rel": "self"
},
{
"href": "http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce2
42402558aa/volumes/f279656d-e87b-4056-bd69-0f3fe0525322",
"rel": "bookmark"
}
],
"name": "volume_002"
}
]
}
4.5.2.6.4. Response Code
Success: 200
Error: N/A
4.5.2.7. Obtain List of Datastore Details
 Note
Obtain the list of datastore details.
Scenario: None
4.5.2.7.1. URI
REST VERB PATH Description
GET /volumes/detail Obtain List of Datastore Details
Parameter Description:
N/A
4.5.2.7.2. Request
Request Parameters:
Name Location Type Description Required
project_id query string Tenant ID No
all_tenants query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
sort query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
limit query integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
offset query integer
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
marker query string
The filtering parameters provided in the
current API version do not function as
filters but are only for compatibility with
the native OpenStack passed parameters.
No
Request Example: N/A
4.5.2.7.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
migration_status body string
Migration status, which is
returned when the user is
a super administrator.
Yes
attachmens body array Mounting information Yes
links body array Links to resources Yes
availability_zone body string Availability zone Yes
os-vol-host-attr:host body string Yes
encrypted body boolean
Whether to encrypt. This
parameter is currently not
supported, and false is
returned by default.
Yes
updated_at body string Update time Yes
replication_status body string
Replication status. This
parameter is currently not
supported, and null is
returned by default.
Yes
snapshot_id body string
Snapshot ID. This
parameter is currently not
supported, and null is
returned by default.
Yes
id body string Datastore ID Yes
size body integer Datastore capacity (GB) Yes
user_id body string User ID Yes
os-vol-tenantattr:
tenant_id body string Tenant ID Yes
os-vol-mig-statusattr:
migstat body string
Migration status.
Migration is not
supported. No result will
be returned.
No
status body string Datastore status Yes
volume_image_metadata body boolean
Datastore image
metadata. Image is not
supported. No result will
be returned.
No
description body string Description Yes
multiattach body string
Whether the datastore
can be mounted to
multiple VMs. This
parameter is currently not
supported, and false is
returned by default.
Yes
source_volid body string
Datastore ID. This
parameter is currently not
supported, and null is
returned by default.
Yes
consistencygroup_id body string
Consistency group. This
parameter is reserved,
and null is returned by
default.
Yes
os-vol-mig-statusattr:
name_id body string
Name ID of the migrated
datastore. This parameter
is currently not
supported. No result will
be returned.
No
name body string Datastore name Yes
bootable body string Whether the datastore is
bootable Yes
created_at body string Creation time Yes
volumes body array List of datastores Yes
volume_type body string Datastore type Yes
volumes_links body array Datastore resource links Yes
metadata body object
Datastore metadata for
internal communication.
No result will be returned.
No
Response Example:
{
"volumes": [
{
"status": "available",
"user_id": "5106e83772cd48048a79f790222ef496",
"attachments": [],
"links": [
{
"href": "http://api.cloud.vt:8776/v2/3dfc69cd66d54e97b79
ce242402558aa/volumes/f279656d-e87b-4056-bd69-0f3fe0525322",
"rel": "self"
},
{
"href": "http://api.cloud.vt:8776/3dfc69cd66d54e97b79ce2
42402558aa/volumes/f279656d-e87b-4056-bd69-0f3fe0525322",
"rel": "bookmark"
}
],
"availability_zone": "10.132.17.94",
"bootable": "false",
"encrypted": false,
"created_at": "2019-07-23T09:26:48.000000",
"os-vol-tenant-attr:tenant_id": "3dfc69cd66d54e97b79ce242402558a
a",
"updated_at": "2019-07-23T09:26:53.000000",
"volume_type": null,
"name": "adfa",
"description": "volume_003",
"consistencygroup_id": null,
"replication_status": null,
"snapshot_id": null,
"source_volid": null,
"multiattach": false,
"id": "f279656d-e87b-4056-bd69-0f3fe0525322",
"size": 10
},
]
}
4.5.2.7.4. Response Code
Success: 200
Error: N/A
4.5.3. Actions on Datastores
4.5.3.1. Expand Datastore Capacity
 Note
Expand the capacity of a datastore.
Scenario
N/A
Notes
The capacity of the datastore after expansion must not exceed the disk quota. If the quota is insufficient,
the response code returned is still 202, but the capacity of the datastore will not increase.
The datastore capacity after expansion must be greater than the original capacity.
Capacity expansion during VM power-on is supported for datastores that are already mounted to the
VM, provided that the VM has installed vmTools.
Root disk expansion is not supported for VMs created using a built-in image.
4.5.3.1.1. URI
REST VERB PATH Description
POST /volumes/{volume_id}/action Expand the capacity
of a datastore
Parameter Description:
Name Location Type Description Required
project_id path string Tenant UUID Yes
volume_id path string Datastore
UUID Yes
4.5.3.1.2. Request
Request Parameters:
Name Location Type Description Required
osextend
body object Action of expanding the capacity of the
datastore Yes
new_size body integer Capacity (GB) after expansion, which must
be greater than the original capacity Yes
Request Example:
{
"os-extend": {
"new_size": 20
}
}
4.5.3.1.3. Response
Response Parameters: None
Response Example: N/A
4.5.3.1.4. Response Code
Success: 202
Error: N/A
4.6. gnocchi
 Note
Gnocchi monitoring module
Endpoint：https://{acmp_ip}/openstack/metric
Sample URL:
URL composition: Endpoint/path
Example: Obtain VM CPU usage (GET)
https://10.132.17.99/openstack/metric/v1/resource/generic/790fac5b-849a-4760-9f94-
be853e2ed7d8/metric/cpu_util/measures
4.6.1. Version Details
4.6.1.1. Obtain Details About Gnocchi API Versions
 Note
Obtain Details About Gnocchi API Versions
Scenario: None
4.6.1.1.1. URI
REST VERB PATH Description
GET /{api_version} Obtain details about Gnocchi API versions
Parameter Description:
N/A
4.6.1.1.2. Request
Request Parameters: N/A
Request Example: N/A
4.6.1.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
version body string Other latest version of current APIs that is
supported Yes
links body array List of links to related resources Yes
link.href body string Link address Yes
link.rel body string Version link relationship Yes
Response Example:
{
"version": "1.0",
"links": [
{
"href": "https://10.134.43.173/openstack/metric",
"rel": "self"
},
{
"href": "https://10.134.43.173/openstack/metric/v1/resource",
"rel": "resource"
}
]
}
4.6.1.1.4. Response Code
Success: 200
Error:
4.6.1.2. Obtain List of API Versions Supported by Gnocchi
 Note
Obtain List of API Versions Supported by Gnocchi
Scenario: None
4.6.1.2.1. URI
REST VERB PATH Description
GET / Obtain the list of versions supported by Gnocchi
Parameter Description:
N/A
4.6.1.2.2. Request
Request Parameters: N/A
Request Example: N/A
4.6.1.2.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
id body string Common name of the relevant version Yes
link body array Link to the relevant resource Yes
status body string
CURRENT: commonly-used version of APIs
in use; SUPPORTED: earlier API version that
is still supported; DEPRECATED: deprecated
API version
Yes
updated body string Update time Yes
version body string
Other latest version of current APIs that is
supported. If minor versions are not
supported, a null string is returned.
Yes
Response Example:
{
"versions": [
{
"status": "CURRENT",
"updated": "2015-03-19",
"id": "v1.0",
"links": [
{
"href": "https://10.134.43.173/openstack/metric/v1/",
"rel": "self"
}
]
}
]
}
4.6.1.2.4. Response Code
Success: 200
Error: N/A
4.6.2. Monitoring
4.6.2.1. Obtain Monitoring Data of a Resource
 Note
Obtain Monitoring Data of a Resource
Scenario: None
4.6.2.1.1. URI
REST
VERB PATH Description
GET v1/resource/generic/{resource_id}/metric/{metric_name}/measures
Obtain
monitoring
data of a
monitoring
metric related
to a resource
Parameter Description:
Name Location Type Description Required
resource_id path string Resource ID Yes
metric_name path string Monitoring metric
name Yes
Supported Metric Names
metric_name Description (Unit)
cpu_util CPU usage
memory_util Memory usage
disk.read.requests Disk reads (t/s)
disk.write.requests Disk writes (t/s)
disk.read.bytes.rate I/O read speed (B/s)
disk.write.bytes.rate I/O write speed (B/s)
disk_util Disk usage
network.incoming.packets.rate Inbound throughput (pps)
network.outgoing.packets.rate Outbound throughput (pps)
network.incoming.bytes Inbound throughput (bps)
network.outgoing.bytes Outbound throughput (bps)
memory.usage Memory usage (B)
memory Total memory (B)
4.6.2.1.2. Request
Request Parameters:
Name Location Type Description Required
start path string Start time. Example: 2019-01-
01T00:00:00 Yes
stop path string End time. Example: 2019-01-
01T00:00:00 Yes
granularity path integer Expected granularity. Valid values: 60,
300, 1800, and 43200 Yes
aggregation path string Not supported No
refresh path boolean Not supported No
Request Example: N/A
4.6.2.1.3. Response
Response Parameters:
Name Location Type Description
Value
Returned
point body tuple Data point Yes
timestamp body string Time. Example: 2014-10-
06T14:00:00 Yes
granularity body float Granularity Yes
value body float Value Yes
Response Example:
[
[
"2019-07-11T07:10:00",
300,
2.8418920658333335
],
[
"2019-07-11T07:15:00",
300,
6.367398128925806
]
]
4.6.2.1.4. Response Code
Success: 200
Error:
4.7. extensions
 Note
API extension module
4.7.1. Group
4.7.1.1. Obtain List of Groups on SCP
 Note
Obtain List of Groups on SCP
Scenario: - When only the default group exists, an empty list is returned.
4.7.1.1.1. URI
REST VERB PATH Description
GET /groups Obtain List of Groups on SCP
Sample URL:
https://10.132.17.99/openstack/extensions/management/v1/groups
Parameter Description:
N/A
4.7.1.1.2. Request
Request Parameters:
Name Location Type Description Required
parent_id path string Parent group ID (UUID) No
id path string Organization ID (UUID) No
az_name path string Resource pool name No
name path string Group name No
Request Example: N/A
4.7.1.1.3. Response
Response Parameters:
Name Location Type Description Value Returned
parent_id body string Parent group ID
(UUID) Yes
id body string Organization ID
(UUID) Yes
az_name body string Resource pool name Yes
name body string Group name Yes
project_id body string Tenant ID (UUID) Yes
Response Example:
{ "
groups": [
{ "
parent_id": "
b4d05b14-16bd-4804-ada5-a7af11e348c3",
"project_id": "dfc22a8721ec43f4b080d473db4b6d47",
"id": "3fd054f2-ae62-4fa5-8efa-3133c966062d",
"az_name": "Resource pool 1",
"name": "child1"
},
{ "
parent_id": "
3fd054f2-ae62-4fa5-8efa-3133c966062d",
"project_id": "dfc22a8721ec43f4b080d473db4b6d47",
"id": "73e54219-df0c-4d8a-85c2-53153cbed4b6",
"az_name": "Resource pool 1",
"name": "child2"
}]}
4.7.1.1.4. Response Code
Success: 200
Error: 400, 401
4.7.2. Virtual Machines
4.7.2.1. Update VM Groups on SCP
 Note
Update VM Groups on SCP
Scenario: None
4.7.2.1.1. URI
REST
VERB PATH Description
POST /servers/{server_id}/action Edit the VM group on SCP
Sample URL:
https://10.132.17.99/openstack/compute/v2/servers/f97c3d8b-ee6f-41f1-8d5f-19ee0542c0c5/action
Parameter Description:
Name Location Type Description Required
server_id path string VM UUID Yes
4.7.2.1.2. Request
Request Parameters:
Name Location Type Description Required
updateGroup body object Update
information Yes
id body string Group ID Yes
Request Example:
{
"updateGroup": {
"id": "73e54219-df0c-4d8a-85c2-53153cbed4b6"
}
}
4.7.2.1.3. Response
Response Parameters: None
Response Example: N/A
4.7.2.1.4. Response Code
Success: 202
Error: 400, 401, 403, 404, 409
5. Public Parameters
5.1. Return Values of General Requests
5.1.1. Status Codes for Successful Requests
Return
Value Description
200 Request processed successfully.
202 The task is successfully submitted. The system is busy currently, and the tasks that
have been pushed down will be delayed before processing.
204 The task is successfully submitted.
5.1.2. Status Codes Returned for Errors
Return
Value Description
300 multiple choices Multiple responses are available for the requested
resource.
400 Bad Request The server failed to process the request.
401 Unauthorized The username and password are required for the
requested page.
403 Forbidden Access to the requested page is prohibited.
404 Not Found The server cannot find the requested page.
405 Method Not Allowed The specified method in the request is not allowed.
406 Not Acceptable The response generated by the server cannot be
received by the client.
407 Proxy Authentication
Required
The user must be authenticated using a proxy server
so that the request can be processed.
408 Request Timeout Request timeout occurred for the server.
409 Conflict The request cannot be completed due to conflict.
500 Internal Server Error The request is not completed. Service error occurred.
501 Not Implemented The request is not completed. The server does not
support the requested feature.
502 Bad Gateway The request is not completed. The server receives an
invalid response from the upstream server.
503 Service Unavailable The request is not completed. The system
encountered a temporary error.
504 Gateway Timeout Gateway timeout occurred.
5.2. Status Code Used by SCP
Return Value Description
test test
5.3. SCP Error Description
HTTP Return Code Error Message Description Handling Method
test test test test
6. Appendix
6.1. Links to OpenStack API Documents
OpenStack Nova APIs: https://docs.openstack.org/api-ref/compute/ OpenStack Cinder APIs:
https://docs.openstack.org/api-ref/block-storage/ OpenStack Neutron APIs: https://docs.openstack.org/apiref/
network/ OpenStack Glance APIs: https://docs.openstack.org/api-ref/image/ OpenStack Keystone APIs:
https://docs.openstack.org/api-ref/identity/
© Copyright 2025, Sangfor.
Built with Sphinx using a theme provided by Read the Docs.